window.Learn_TutorialArchitectureDetailController=webpackJsonp_name_([8],[,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e){var t=e.split("_");return t&&2===t.length?{type:K[t[0]],id:t[1]}:{}}function s(e){var t=e.itemId,a=e.userMap,n=e.teamMap,r=e.tutorialMap,o=e.projectMap,s=e.badgeMap,l=e.courseMap,u=e.liveSessionMap,c=e.faqMap,d=e.quizMap,f=e.submissionMap,p=e.missionMap,m=e.competencyMap,h=e.pathwayMap,_=i(t),g=_.type,v=_.id,y=void 0;switch(g){case"user":y=a&&a[v];break;case"team":y=n&&n[v];break;case"project":y=o&&o[v];break;case"tutorial":y=r&&r[v];break;case"course":y=l&&l[v];break;case"liveSession":y=u&&u[v];break;case"faq":y=c&&c[v];break;case"quiz":y=d&&d[v];break;case"submission":y=f&&f[v];break;case"badge":y=s&&s[v];break;case"mission":y=p&&p[v];break;case"competency":y=m&&m[v];break;case"pathway":y=h&&h[v]}return y}function l(e,t){return(e=e.toString()).length<t?l("0"+e,t):e}function u(e,t){return e>t?t:e<0?0:e}function c(e,t,a){if(Array.isArray(e)){var n=[],r=e.length-1,i=e[t];return a=u(a,r),(t=u(t,r))===a?n.push.apply(n,o(e)):t>a?(n.push.apply(n,o(e.slice(0,a))),n.push(i),n.push.apply(n,o(e.slice(a,t))),n.push.apply(n,o(e.slice(t+1,e.length)))):(n.push.apply(n,o(e.slice(0,t))),n.push.apply(n,o(e.slice(t+1,a+1))),n.push(i),n.push.apply(n,o(e.slice(a+1,e.length)))),n}return null}function d(e){var t=e||0,a=0;return e>=0?(a=Math.floor(t/60),e=Math.max(0,t-60*a)):(a=Math.ceil(t/60),e=Math.min(0,t-60*a)),{hour:a,minute:e}}function f(e){var t=e||0,a=0,n=0;return e>=0?(a=Math.floor(t/3600),n=Math.max(0,Math.floor((t-3600*a)/60)),e=Math.max(0,t-3600*a-60*n)):(a=Math.ceil(t/3600),n=Math.min(0,Math.floor((t-3600*a)/60)),e=Math.min(0,t-3600*a-60*n)),{hour:a,minute:n,second:e}}function p(e){var t=[];return Object.keys(e).forEach(function(a){t.push(a+"="+e[a])}),t.join("&")}function m(e,t){var a=p(t=t||{});return a?e&&-1!==e.indexOf("?")?e+"&"+a:e+"?"+a:e}function h(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return"";var r=e.type,o=e.slug,i=e.language,s="/"+r+"/"+o;if(!t&&!a)return s;var l={};return i!==(0,b.getLanguageFromLocale)(t)&&(l={language:i}),a&&(l={uv:a}),n&&(l=v({},l,{labelRequired:n})),m(s,l)}function _(e,t){var a=(0,T.get)(e,"type"),n=(0,T.get)(e,"withAll"),r=(0,T.get)(e,"completed"),o=(0,T.get)(e,"completedTime");if((a===w.DataTypeKeys.project||a===w.DataTypeKeys.course)&&!n&&t){var i=(0,T.get)(e,"recordVersions."+t)||{};r=i.completed||!1,o=i.completedTime}return{completed:r,completedTime:o}}function g(e,t){e=e||[];var a=(t=t||[]).reduce(function(e,t){return v({},e,r({},t,!0))},{}),n=e.reduce(function(e,t){return v({},e,r({},t,!0))},{}),o=[],i=[],s={};return t.forEach(function(e){n[e]||o.push(e)}),e.forEach(function(e){a[e]||(i.push(e),s[e]=!0)}),{addIds:o,removedIds:i,removedIdMap:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.GetI18nText=void 0;var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetTypeIdByItemId=i,t.GetTypeByItemId=function(e){return i(e).type},t.GetIdByItemId=function(e){return i(e).id},t.GetItemIdByType=function(e){var t=e.id,a=e.type,n=F[a];return n?n+"_"+t:t},t.GetDataByItemId=s,t.PadNumLeft=l,t.MoveElement=c,t.MoveElementAction=function(e){return function(t){var a=t.props,n=t.state;e=a.statePath||e;var r=n.get(e),o=a.index,i=c(r,o,o+a.step);n.set(e,i)}},t.AddTagAction=function(e,t,a){return function(n){var i=n.props,s=n.state,l=i.value,u=l.id,c=[];"q"===l.type?(c=(0,y.splitTags)(u)).forEach(function(e){s.merge(t,r({},u,{id:e,name:e}))}):c.push(u);var d=s.get([].concat(o(a),[e])).value;return c.forEach(function(e){d=(0,y.arrayInsert)(d,e)}),{fieldName:e,value:d}}},t.DeleteTagAction=function(e,t){return function(a){var n=a.props,r=a.state,i=n.value,s=r.get([].concat(o(t),[e])).value,l=(0,y.arrayRemove)(s,i);return{fieldName:e,value:l}}},t.AddSliceFieldAction=function(e,t){return function(a){var n=a.props,r=a.state,i=(0,T.get)(n,"value"),s=(0,T.get)(n,"prePath")||[],l=[].concat(o(t),o(s),[e]),u=r.get(l)||[];return u=(0,y.arrayInsert)(u,i),r.set(l,u),{path:l,value:u}}},t.DeleteSliceFieldAction=function(e,t){return function(a){var n=a.props,r=a.state,i=(0,T.get)(n,"value"),s=(0,T.get)(n,"prePath")||[],l=[].concat(o(t),o(s),[e]),u=r.get(l)||[];return u=(0,y.arrayRemove)(u,i),r.set(l,u),{path:l,value:u}}},t.ParseMinute=d,t.ParseSecond=f,t.onPublishSuccess=function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=h(a,n.get("locale"));(0,P.default)(m(r,{publish:!0}))}},t.FormatParams=p,t.AppendUrlQuery=m,t.GetUrlByNavIds=function(e,t){if(e&&e.length>0){var a=e.length-1,n=i(e[a]),r=n.type,o=n.id;t=t||"/"+r+"/"+o;var s={};return e.slice(0,a).forEach(function(e){var t=i(e);switch(t.type){case"project":s.projectId=t.id;break;case"course":s.courseId=t.id;break;case"mission":s.missionId=t.id;break;case"pathway":s.pathwayId=t.id}}),m(t,s)}return t},t.GetItemUrlInDetail=function(e){var t=e.parentIds,a=e.data,n=e.item,r=e.locale,o=e.uv;a=a||{},n=n||{},t=t||{};var i=h(n,r,o),s=v({},t);return"course"===a.type&&(s=v({},s,{courseId:a.id})),"project"===a.type&&(s=v({},s,{projectId:a.id})),"pathway"===a.type&&(s=v({},s,{pathwayId:a.id})),m(i,s)},t.GetItemUrlInArchitectureDetail=function(e){var t=e.parentIds,a=e.data,n=e.item,r=e.locale,o=e.uv,i=e.contentId;a=a||{},n=n||{},t=t||{};var s=h(n,r,o),l=v({},t);return a.type===w.DataTypeKeys.pathway&&(l=v({},l,{pathwayId:a.id})),a.type===w.DataTypeKeys.mission&&(l=v({},l,{missionId:a.id})),i&&(l=v({},l,{contentId:i})),m(s,l)},t.GetItemUrlInBreadcrumb=function(e){var t=e.parentIds,a=e.item,n=e.locale,r=e.uv;a=a||{},t=t||{};var o=h(a,n,r),i={};return"project"===a.type&&t.courseId&&(i={courseId:t.courseId}),"tutorial"===a.type&&(i=v({},t)),m(o,i)},t.GetDetailPageURL=h,t.GetCoursePremiumPageUrl=function(){var e;return m("/courses",(e={},r(e,w.CriteriaKeys.orderBy,w.FilterPopularType.starts),r(e,"k",JSON.stringify([w.CriteriaKeys.premium+":"+w.FilterPremiumType.premium])),e))},t.GetSearchMissionsPageUrl=function(){return m("/search",{k:JSON.stringify([w.CriteriaKeys.type+":"+w.DataTypeKeys.mission])})},t.GetPreviewPageURLByLocale=function(e,t){return m(h(e,t),{preview:!0})},t.getUnityUserInfo=function(e){var t=e=e||{},a=t.ownerId,n=t.userMap;return a&&n&&-1!==(O.default.LEARN_AUTHOR_LIST||[]).indexOf(i(a).id)?s({itemId:a,userMap:n}):{name:"Unity Technologies",avatar:q}},t.getLearnUserInfo=function(e,t){e=e||{};var a=(0,T.get)(e,"authorId"),n=(0,T.get)(e,"userMap")||{},r=(0,T.get)(n,a);return r||t||{name:"Unity Technologies",avatar:q}},t.formValidatedError=function(e){return Object.keys(e).some(function(t){var a=e[t];return a.isTouched&&!!a.errorMessage})},t.ParseKeyword=function(e){var t={};e=e||[];var a=Array.isArray(e)?e:JSON.parse(e);if(a&&a.length>0){var n=[],r=[],o=[],i=[];a.forEach(function(e){var a=e.split(":");if(2===a.length){var s=a[0],l=a[1];switch(s){case w.CriteriaKeys.skillLevel:n.push(l);break;case w.CriteriaKeys.query:r.push(l);break;case w.CriteriaKeys.type:o.push(l);break;case w.CriteriaKeys.language:i.push(l);break;default:t[s]=l}}}),t=v({},t,{skillLevels:n,queries:r,types:o,languages:i})}return t},t.ParseKeywordMap=function(e){e=e||[];var t=Array.isArray(e)?e:JSON.parse(e);return t?t.reduce(function(e,t,a){return v({},e,r({},t,a))},{}):{}},t.GetCompletedStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{completed:!!t[e],prevCompleted:!!t[e-1],nextCompleted:!!t[e+1]}},t.onError=function(e){return function(t){var a=t.result,n=t.controller,r=(0,y.getErrorMsg)(e,a);r&&n.getSignal("header.showMessage")({message:r,params:a})}},t.GetMinAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.EducatorSupportAges,a=[].concat(o(t)),n=e.max,r=void 0===n?"":n;if(r+=""){var i=t.findIndex(function(e){return e===r});a.splice(0,i)}return a},t.GetMaxAgeOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w.EducatorSupportAges,a=[].concat(o(t)),n=e.min,r=void 0===n?"":n;if(r+=""){var i=t.findIndex(function(e){return e===r});a.splice(i+1,t.length)}return a},t.GetAgeRangeValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,a=void 0===t?"":t,n=e.max,r=void 0===n?"":n;return a+="",r+="",a||r?a+"_"+r:""},t.GetAgeRangeObject=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("_");return 2===e.length?{min:e[0],max:e[1]}:{}},t.EllipsizeTextBox=function(e){if(e)for(var t=e.innerHTML.split(" ");e.scrollHeight>e.offsetHeight;)t.pop(),e.innerHTML=t.join(" ")+"..."},t.ValidDetailData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,T.get)(e,"packageIds")||[],a=(0,T.get)(e,"tagIds")||[],n=(0,T.get)(e,"properties")||{};if(t.length>0||a.length>0)return!0;if(Object.keys(n).length>0){var r=n.objective,o=n.careerGoals;if(r&&(0,S.getDraftPlainText)(r))return!0;if(o&&(0,S.getDraftPlainText)(o))return!0}return!1},t.GetParentByData=function(e){var t=[],a={},n=e=e||{},r=n.parentIds,o=n.parentMap;return r&&0!==r.length?(r.forEach(function(e){t.push(i(e))}),t.forEach(function(e){o&&!o[(0,T.get)(e,"id")].hidden&&(a=o[(0,T.get)(e,"id")])}),a||null):null},t.GetSendMessageCDPParams=function(e,t,a,n){if(!t||!a)return null;var r=e.get("tutorialData")||{},o=(0,T.get)(r,"sections")||[],i=(0,T.get)(r,"id"),s=(0,T.get)(r,"type"),l=e.get(["learner","parentIds"])||{},u=e.get("userPremium"),c=o.findIndex(function(e){return e.channelId===t}),d=c>-1?c+1:0,f=e.get(["tutorialData","statsMap",i,"commentCount"])||0,p=e.get(["commentData","commentMap",t,"messages","total"])||0,m=e.get(["commentData","commentMap",t,"messages","likeCount"])||0,h=0,_=e.get(["commentData","commentIds"])||[],g=e.get(["commentData","commentMap"])||{};_.forEach(function(e){var t=(0,T.get)(g,e)||{},a=(0,T.get)(t,"messages.likeCount")||0;h+=a});var y=v({id:i,type:s},l,{userPremium:u,stepNumber:d,totalComments:f,stepComments:p,totalLikes:h,stepLikes:m});if(a){var b=void 0;n?(b=(e.get(["commentData","commentMap",t,"replyMap",n,"items"])||[]).find(function(e){return e.id===a}),y.parentMessageId=n):b=(e.get(["commentData","commentMap",t,"messages","items"])||[]).find(function(e){return e.id===a}),y.commentId=a,y.commentText=(0,T.get)(b,"content")||"";var E=e.get(["learner","reportMap",a]);if(E){y.flagged=!0;var k=(0,T.get)(E,"reasons.0");if(k){var S=(0,T.get)(k,"type"),O=(0,T.get)(k,"content");S===w.CommentReportType.other?y.flaggedReason=O:y.flaggedReason=S}}}return y},t.GetPayUrl=function(e){var t={item:e.item,locale:e.locale,currency:"CNY",seats:1,source:"store"};return m(O.default.LEARN_PAYMENT_STORE_FLOW,t)},t.GetFamiliarTabUrl=function(e){var t=e.keywords,a=void 0===t?[]:t;return a.push(w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.beginner,w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.intermediate),"/search?k="+encodeURIComponent(JSON.stringify(a))+"&ob=starts"},t.GetPowerTabUrl=function(e){var t=e.keyword,a=[];return a.push(w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.intermediate,w.CriteriaKeys.skillLevel+":"+w.SkillLevelKeys.advanced),t&&a.push(t),"/search?k="+encodeURIComponent(JSON.stringify(a))+"&ob=recency"},t.GetLearnMessageDirectURL=function(e){var t=e.data,a=e.locale,n=e.sectionId,r=e.messageId,o=m(""+O.default.LEARN_DEFAULT_URL+h(t,a),{messageId:r});return n&&(o=o+"#"+n),o},t.GetLearnSubmissionDirectURL=function(e){var t=e.data,a=e.locale,n=e.submissionId;return m(""+O.default.LEARN_DEFAULT_URL+h(t,a),{submissionId:n})},t.GetLanguageText=function(e,t){return(0,D.i18n)(e,R,"lang_"+t)},t.GetSkillLevelText=function(e,t){return(0,D.i18n)(e,L,"sl_"+t)},t.GetLearnTypeText=function(e,t){return(0,D.i18n)(e,A,"type_"+t)},t.GetTagText=function(e,t){return t=t.toLowerCase().replace(/[^a-z|A-Z]+/g,"_"),{name:(0,D.i18n)(e,I.default,"tag_name_"+t),desc:(0,D.i18n)(e,I.default,"tag_desc_"+t)}},t.GetRecommendTagText=function(e,t){return t=t.toLowerCase().replace(/\W+/g,"_"),{name:z(e,N.default,"tag_name_"+t),desc:z(e,N.default,"tag_desc_"+t)}},t.GetDurationText=function(e,t){var a=d(t),n=a.hour,r=a.minute,o="";return n&&(o+=(0,D.i18n)(e,M.default,"duration_hours",{total:n}),r&&(o+=" ")),n&&!r||(o+=(0,D.i18n)(e,M.default,"duration_mins",{total:r})),o},t.GetVideoDurationText=function(e,t){var a=f(t),n=a.hour,r=a.minute,o=a.second,i="";return n&&(i+=(0,D.i18n)(e,M.default,"duration_hours",{total:n}),r&&(i+=" ")),r&&(i+=(0,D.i18n)(e,M.default,"duration_mins",{total:r}),o&&(i+=" ")),r&&!o||(i+=(0,D.i18n)(e,M.default,"duration_secs",{total:o})),i},t.cleanKeyForEditorBody=function(e){return e?e.replace(/("key\s*":\s*"\s*[a-z | 0-9]*\s*")/g,'"key":""'):e},t.GetManualDuration=function(){for(var e=[],t=0;t<=50;)e.push({text:""+t,value:t}),t+=t<25?1:5;for(var a=[],n=0;n<60;n+=5)a.push({text:""+n,value:n});return{hours:e,minutes:a}},t.GetContentDataByState=function(e){return e.get("tutorialData")||e.get("quizData")||e.get("projectData")||e.get("courseData")},t.GetNextRecordData=function(e){var t=e.data,a=e.record,n=e.versionId;if(!t||!a)return null;var r=t.type;if(!0===(0,T.get)(_(a,n),"completed"))return null;var o=[],s={};switch(r){case w.DataTypeKeys.tutorial:o=((0,T.get)(t,"sections")||[]).map(function(e){return e.id}),s=(0,T.get)(a,"steps")||{};break;case w.DataTypeKeys.quiz:o=((0,T.get)(t,"questions")||[]).map(function(e){return e.id}),s=(0,T.get)(a,"answers")||{};break;case w.DataTypeKeys.project:case w.DataTypeKeys.course:o=(0,T.get)(t,"contentIds")||[],s=(0,T.cloneDeep)((0,T.get)(a,"subItems")||{}),r===w.DataTypeKeys.course&&n&&Object.keys(s).forEach(function(e){var t=s[e];i(t.itemId).type!==w.DataTypeKeys.project||t.withAll||(s[e]=(0,T.get)(t,"recordVersions."+n)||{})})}if(0===o.length)return null;var l=-1,u={};if(o.forEach(function(e,t){var a=(0,T.get)(s,e);if(a){var n=(0,T.get)(u,"updatedTime")||0,o=(0,x.default)(a.updatedTime).isAfter((0,x.default)(n));r===w.DataTypeKeys.quiz&&o&&(o=(0,T.size)(a.questionAnswers)>0),o&&(u=v({},a,{itemId:e}),l=t)}}),-1===l||u.completed||r===w.DataTypeKeys.quiz)for(var c=o.length,d=l,f=0;f<c;f++){var p=o[d=(d+1)%c],m=s[p];if(!m){u={itemId:p};break}if(r===w.DataTypeKeys.quiz||m.completed){if(r===w.DataTypeKeys.quiz&&0===(0,T.size)(m.questionAnswers)){u=v({},m,{itemId:p});break}}else u=v({},m,{itemId:p})}return(0,T.get)(a,"nextRecordData.itemId")===u.itemId?null:u},t.GetRecordSubItems=function(e){var t=e.data,a=e.record,n=e.versionId,r=e.simple,o=e.withCover,l=[],u={};if(!t)return{items:l,completed:u};var c=t.type;if(n||(n=(0,T.get)(a,"versionId")),c===w.DataTypeKeys.tutorial&&(l=((0,T.get)(t,"requiredSections")||[]).map(function(e,t){var n=e.title,o=e.id,i=e.type;return u[t]=(0,T.get)(a,"steps."+o+".completed"),r?{id:o}:{title:n,id:o,type:i}})),c===w.DataTypeKeys.project){var d=t.quizMap,f=t.tutorialMap;l=t.contentIds.map(function(e,t){return u[t]=(0,T.get)(a,"subItems."+e+".completed"),r?{itemId:e}:s({itemId:e,quizMap:d,tutorialMap:f})})}if(c===w.DataTypeKeys.course){var p=t.quizMap,m=t.tutorialMap,h=t.projectMap;l=t.contentIds.map(function(e,t){var o=(0,T.get)(a,"subItems."+e);return u[t]=(0,T.get)(o,"completed"),n&&(i(e).type!==w.DataTypeKeys.project||(0,T.get)(o,"withAll")||(u[t]=(0,T.get)(o,"recordVersions."+n+".completed"))),r?{itemId:e}:s({itemId:e,quizMap:p,tutorialMap:m,projectMap:h})})}return l.length>2&&!0===o&&(l=l.slice(0,2)),{items:l,completed:u}},t.GetRecordStatus=_,t.GetMissionContentSetStatus=function(){function e(t){t.length>0&&t.forEach(function(t){var a=(0,T.get)(t,"status.completed"),n=(0,T.get)(t,"subNodes")||[];a?(i=!0,n.length>0&&e(n)):i=!1})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments[1],n=arguments[2],r=t.filter(function(e){return e.id===a})[0],o=((0,T.get)(r,"subNodes")||[]).filter(function(e){return e.groupId===n}),i=(0,T.get)(r,"status.completed")||!1;return i&&e(o),i},t.GetContentRecordStatus=function(e,t){var a=(0,T.get)(e,"subItems")||{},n=!0,r=0;return t&&t.length>0?t.forEach(function(e){var t=a[e];t&&t.completed?t.completed&&(r+=1):n=!1}):n=!1,{completed:n,completedNum:r}},t.GetUrlQueryObject=function(){return(window.location.search.match(/([^?=&]+)(=([^&]*))/g)||[]).reduce(function(e,t){var a=t.split("=");return 2===a.length&&(e[a[0]]=a[1]),e},{})},t.GetDiffIds=g,t.MergeFormIdsValue=function(e){var t=e.state,a=e.fieldName,n=g(e.resourceIds,e.targetIds),r=n.addIds,i=n.removedIdMap,s=[];[].concat(o(t.get(a)||[]),o(r)).forEach(function(e){i[e]||s.push(e)}),t.set(a,(0,T.uniq)(s))},t.stopPropagation=function(e){"function"==typeof e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.GetListDataFeaturesByListName=function(e,t){var a=(0,T.get)(e,"listMap."+t+".contentIds")||[],n=(0,T.get)(e,"listMap."+t+".contentMap")||{},r=n.quizMap,o=n.tutorialMap,i=n.projectMap,l=n.courseMap,u=n.liveSessionMap,c=n.submissionMap,d=n.missionMap,f=n.pathwayMap;return a.map(function(e){var t=s({itemId:e,tutorialMap:o,projectMap:i,courseMap:l,quizMap:r,liveSessionMap:u,submissionMap:c,missionMap:d,pathwayMap:f}),a=[];return((0,T.get)(t,"liveSessionIds")||[]).forEach(function(e){(0,T.get)(u,e)&&a.push((0,T.get)(u,e))}),t.liveSessions=a,t})},t.GetExperienceLevelDetail=function(e,t){var a={categoryId:t.id,level:1,categoryExperience:(0,E.GetCategoryLevelExperience)(t,1)};if(!e)return a;var n=e.categoryId,r=e.point;a.categoryId=n,a.totalPoint=r;var o=(0,k.default)(t,r);return a.levelPoint=(0,T.get)(o,"levelPoint")||0,a.level=(0,T.get)(o,"level")||1,a.categoryExperience=(0,E.GetCategoryLevelExperience)(t,a.level),a},t.GetProfilePageUrl=function(e,t){if(!e)return"";var a={};return t&&(a.tab=t),m("/u/"+e.id,a)},t.GetLowestDifficultyLevel=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t="",a=0;a<e.length;a++)0!==a?w.SkillLevelTypeRankMap[e[a]]<w.SkillLevelTypeRankMap[t]&&(t=e[a]):t=e[a];return t},t.GetFeaturedMaterialsByListName=function(e,t){var a=(0,T.get)(e,"listMap."+t)||{};return((0,T.get)(a,"ids")||[]).map(function(e){return(0,T.get)(a,"contentMap.materialMap."+e)})};var y=a(12),b=a(70),w=a(8),E=a(125),k=n(E),S=a(21),O=n(a(28)),T=a(4),P=n(a(25)),j=n(a(53)),C=n(a(124)),I=n(a(129)),N=n(a(134)),M=n(a(80)),D=a(7),x=n(a(74)),R=j.default,L=j.default,A=C.default,F={course:"lco",project:"lpr",tutorial:"ltu",liveSession:"lls",badge:"lbg",mission:"lms",pathway:"lpw",user:"u",team:"t",faq:"lfa",quiz:"lqz",submission:"lsu",competency:"lcp"},K={lco:"course",lpr:"project",ltu:"tutorial",lls:"liveSession",lfa:"faq",lqz:"quiz",lsu:"submission",lbg:"badge",lms:"mission",lpw:"pathway",lcp:"competency",u:"user",t:"team"},q=a(140),z=t.GetI18nText=function(e,t,a){var n=(0,D.i18n)(e,t,a);return n===a?"":n}},,,,,function(e,t){e.exports=browser_dll},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(3)),v=n(a(153)),y=(l=(0,g.default)(v.default))((d=c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,_.default),p(t,[{key:"onThisClick",value:function(e){var t=this.props,a=t.onClick,n=t.href;t.loading||(n?this.refs.aTag.click():a&&a(e))}},{key:"renderContent",value:function(){var e=this.props,t=e.label,a=[],n={pointerEvents:"none"};return(e.loading||!1)&&(a.push(h.default.createElement("div",{key:"loading",className:this.ss("raised-btn-loading-wrap")},h.default.createElement("div",{className:this.ss("raised-btn-loading")}))),n.opacity=0,n.cursor="auto"),a.push(h.default.createElement("div",{key:"label",style:n},t)),a}},{key:"render",value:function(){var e=this,t=this.props,a=t.href,n=(t.onClick,t.target),o=t.theme,i=(t.loading,t.size),s=t.gaTag,l=t.widthStyle,u=t.disabled,c=r(t,["href","onClick","target","theme","loading","size","gaTag","widthStyle","disabled"]),d=["raised-btn","raised-btn-"+(o||"default"),s,l,i&&"size-"+i,u&&"disabled"],p=n||"_self",m=void 0;return a&&(m=h.default.createElement("a",{href:a,ref:"aTag",target:p})),h.default.createElement("button",f({},c,{ref:"button",className:this.ss.apply(this,d),onClick:function(t){return e.onThisClick(t)}}),this.renderContent(),m)}}]),t}(),c.propTypes={label:m.default.oneOfType([m.default.string,m.default.node]),gaTag:m.default.string,href:m.default.string,onClick:m.default.func,target:m.default.string,disabled:m.default.bool,loading:m.default.bool,size:m.default.oneOf(["auto","xsmall","small","small-l","medium","large"]),theme:m.default.oneOf(["primary","default","transparent","blue-border","light-gray","hollow-white","thirdly","red","white","grey","dark-grey","blue-border-transparent","dark","primary-dark"]),widthStyle:m.default.oneOf(["auto","full"])},c.defaultProps={theme:"primary",size:"medium"},u=d))||u;t.default=y},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/connect-?\w*\.unity\.com/i;t.default=function(e,t){var a=t||window&&window.location&&window.location.hostname||"";return(e=e||"").startsWith("http")?e:!0===n.test(a)&&0!==e.indexOf("/learn")?"/learn"+e:e}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEditorContent=function(e,t){var a=void 0,o=void 0,i=n.default.getEditorState(e,t);if(i){var s=(0,r.normalizeValidAtomicBlocks)(i.getCurrentContent());a=JSON.stringify((0,r.convertToRaw)(s)),o=s.getPlainText()}return{body:a,text:o}},t.getDraftPlainText=function(e){return e&&r.convertFromRaw?(0,r.convertFromRaw)(JSON.parse(e)).getPlainText():""};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(407)),r=a(11);t.default=function(e,t){var a=void 0,o=void 0,i=n.default.getEditorState(e,"editorTitle_"+t);i&&(a=i.getCurrentContent().getPlainText());var s=n.default.getEditorState(e,"editorBody_"+t);if(s){var l=(0,r.normalizeValidAtomicBlocks)(s.getCurrentContent());o=JSON.stringify((0,r.convertToRaw)(l))}return{title:a,body:o}}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["header.tooltips"],["header.tooltips"]),m=s(["header.tooltipShow"],["header.tooltipShow"]),h=s(["header.tooltipHide"],["header.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(20)),y=n(a(1)),b=a(6),w=a(5),E=a(45),k=0,S=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(k++).toString()},n.tid=null,i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.text,r=this.state.tooltipId,o=e.text;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){var t=this;if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var a=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),n=a.left,r=a.right,o=a.top,i=a.bottom,s=this.props,l=s.delay,u=s.text,c=s.type,d=s.position,f=s.tooltipShow;this.tid=setTimeout(function(){f({id:t.state.tooltipId,text:e||u,type:c,position:d,targetWidth:r-n,targetHeight:i-o,left:n,top:o})},l)}}},{key:"tooltipHide",value:function(){if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var e=this.props.tooltipHide;e({id:this.state.tooltipId})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseOut:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i)}}]),t}(),c.propTypes={text:_.default.oneOfType([_.default.string,_.default.array]).isRequired,delay:_.default.number,type:_.default.oneOf(["normal","success","warning","error","green","blue","dark"]),position:_.default.oneOf(["top","top-width","left","bottom","right","top-left","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,tooltipShow:_.default.func,tooltipHide:_.default.func},c.defaultProps={delay:0,type:"normal",position:"top",isSpan:!1,clickToHide:!0},u=d))||u;t.default=S},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SetPublished=function(e){var t=e.state;t.get("common.published")||t.set("common.published",!0)};var n=a(4);t.default=function(e,t,a){var r=t[e].value,o=a[e].value;return"asset"===e?r===o||!(!r||!o||r.packageIds!==o.packageIds||(0,n.get)(r,"uploads.length")!==(0,n.get)(o,"uploads.length"))&&(0,n.get)(o,"uploads",[]).every(function(e,t){return(0,n.get)(e,"downloadVersion")===(0,n.get)(r,"uploads."+t+".downloadVersion")}):"group"===e?r===o||!!r&&!!o&&r.groupId===o.groupId&&r.url===o.url:"paymentItem"===e?r===o||!!r&&!!o&&r.slug===o.slug&&r.itemId===o.itemId:"hidden"===e||"premium"===e||"offline"===e?r===o:Array.isArray(r)&&Array.isArray(o)?r.length===o.length&&o.every(function(t,a){var n=r[a];if("materials"===e||"documents"===e||"prerequisites"===e){if("link"===t.type)return t.name===n.name&&t.url===n.url;if("file"===t.type)return t.attachmentId===n.attachmentId}return"mediaContents"===e?t.id===n.id:t===n}):r===o}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(19));t.default=function(e){e=(0,n.default)(e),window.location.href=e}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoginToStartLabel=t.LoginLabel=t.PremiumLabel=t.PaymentLabel=t.BreadcrumbLabel=t.AlignExistingCompetencyLabel=t.AlignExistingTopicLabel=t.AlignExistingLabel=t.ConnectGroupLabel=t.AlignExistingMissionsLabel=t.AddAnotherAssetLabel=t.AddPointRewardLabel=t.AddSuggestedSolutionLabel=t.AddEducatorLabel=t.AddContentGroupLabel=t.AddOptionLabel=t.AddQuestionLabel=t.RemoveCompetencyLabel=t.AddCompetencyLabel=t.AddAssessmentLabel=t.AddSubmissionStepLabel=t.AddLabStepLabel=t.AddStepLabel=t.AddTutorialLabel=t.AddSkillLabel=t.AddSubSkillLabel=t.AddNewSetLabel=t.AddNewVersionLabel=t.StreamIconLabelWithHelp2=t.StreamIconLabelWithHelp=t.LiveSessionLabelWithHelp=t.LiveSessionLabel=t.TryPaymentLabel=t.TryPremium30DaysLabel=t.TryPremiumFreeLabel=t.StreamIconLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W,Q,J,Y,X,Z,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,ke,Se,Oe,Te,Pe,je,Ce,Ie,Ne,Me,De,xe,Re,Le,Ae,Fe,Ke,qe,ze,Be,Ue,He,Ve,Ge,We,Qe,Je,Ye,Xe,Ze,$e,et,tt,at,nt,rt,ot,it,st,lt,ut,ct,dt,ft,pt,mt,ht,_t,gt,vt,yt,bt,wt,Et,kt,St,Ot,Tt,Pt,jt,Ct,It,Nt,Mt,Dt,xt,Rt,Lt,At,Ft,Kt,qt,zt,Bt,Ut,Ht,Vt,Gt,Wt,Qt,Jt,Yt,Xt,Zt,$t,ea,ta,aa,na,ra,oa,ia,sa,la,ua,ca,da,fa,pa,ma,ha,_a,ga,va,ya,ba,wa,Ea,ka,Sa,Oa,Ta,Pa,ja,Ca,Ia,Na,Ma,Da,xa,Ra,La,Aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Fa=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Ka=n(a(2)),qa=n(a(0)),za=n(a(1)),Ba=a(4),Ua=n(a(23)),Ha=n(a(110)),Va=n(a(3)),Ga=n(a(211)),Wa=n(a(7)),Qa=n(a(212)),Ja=(l=(0,Va.default)(Ga.default),u=(0,Wa.default)(Qa.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.label,n=e.icon;return qa.default.createElement("div",{className:this.ss("label-icon",t)},qa.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+n)}),qa.default.createElement("div",{className:this.ss("label")},a||""))}}]),t}(),d.propTypes={icon:Ka.default.string,label:Ka.default.string,theme:Ka.default.string},d.defaultProps={},c=f))||c)||c);t.default=Ja;var Ya=(p=(0,Va.default)(Ga.default),m=(0,Wa.default)(Qa.default),p(h=m((g=_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props,t=e.helpText,a=e.helpIcon,n=e.theme,o=r(e,["helpText","helpIcon","theme"]);return qa.default.createElement("div",{className:this.ss("label-with-help",n)},qa.default.createElement(Ja,Aa({},o,{theme:n})),qa.default.createElement(Ua.default,{position:"right",type:"green",text:t},qa.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-"+a)})))}}]),t}(),_.propTypes={helpText:Ka.default.string,helpIcon:Ka.default.string,theme:Ka.default.string},_.defaultProps={helpIcon:"lrn_icon_help_outline"},h=g))||h)||h),Xa=(v=(0,Va.default)(Ga.default),y=(0,Wa.default)(Qa.default),v(b=y((E=w=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props,t=e.helpIcon,a=e.helpType,n=e.helpTheme,o=e.theme,i=r(e,["helpIcon","helpType","helpTheme","theme"]);return qa.default.createElement("div",{className:this.ss("label-with-help",o)},qa.default.createElement(Ja,Aa({},i,{theme:o})),qa.default.createElement(Ha.default,{position:"lower-right",type:a,theme:n},qa.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-"+t)})))}}]),t}(),w.propTypes={helpIcon:Ka.default.string,helpType:Ka.default.string,helpTheme:Ka.default.string,theme:Ka.default.string},w.defaultProps={helpIcon:"icon-info",helpTheme:"stream"},b=E))||b)||b);t.StreamIconLabel=(k=(0,Va.default)(Ga.default),S=(0,Wa.default)(Qa.default),k(O=S((P=T=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props.theme;return qa.default.createElement("div",{className:this.ss("label-wrapper",e)},qa.default.createElement(Ja,{icon:"lrn_icon_streaming_lab",label:this.__("label_stream"),theme:"stream"}))}}]),t}(),T.propTypes={theme:Ka.default.oneOf(["default","inherit"])},T.default={theme:"default"},O=P))||O)||O),t.TryPremiumFreeLabel=(j=(0,Va.default)(Ga.default),C=(0,Wa.default)(Qa.default),j(I=C((M=N=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"lrn_icon_premium",label:this.__("label_try_premium_free"),theme:"try-premium-free"})}}]),t}(),N.propTypes={},I=M))||I)||I),t.TryPremium30DaysLabel=(D=(0,Va.default)(Ga.default),x=(0,Wa.default)(Qa.default),D(R=x((A=L=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"lrn_icon_premium",label:this.__("label_try_premium_30days"),theme:"try-premium-free"})}}]),t}(),L.propTypes={},R=A))||R)||R),t.TryPaymentLabel=(F=(0,Va.default)(Ga.default),K=(0,Wa.default)(Qa.default),F(q=K((B=z=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props.type;return qa.default.createElement("div",{className:this.ss("label")},this.__("label_try_payment_"+e))}}]),t}(),z.propTypes={type:Ka.default.string.isRequired},q=B))||q)||q),t.LiveSessionLabel=(U=(0,Va.default)(Ga.default),H=(0,Wa.default)(Qa.default),U(V=H((W=G=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props.theme,t=this.__("label_live_session");return"upcoming"===e&&(t=this.__("label_learn_live_upcoming")),"latest"===e&&(t=this.__("label_learn_live_latest")),"past"===e&&(t=this.__("label_learn_live_past")),qa.default.createElement(Ja,{icon:"lrn_icon_live",label:t,theme:"live-session"})}}]),t}(),G.propTypes={theme:Ka.default.oneOf(["default","upcoming","latest","past"])},V=W))||V)||V),t.LiveSessionLabelWithHelp=(Q=(0,Va.default)(Ga.default),J=(0,Wa.default)(Qa.default),Q(Y=J((Z=X=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props.type;return qa.default.createElement(Ya,{theme:"live-session",icon:"lrn_icon_live",label:this.__("label_live_session"),helpText:this.__("label_live_session_help_"+e)})}}]),t}(),X.propTypes={type:Ka.default.string},Y=Z))||Y)||Y),t.StreamIconLabelWithHelp=($=(0,Va.default)(Ga.default),ee=(0,Wa.default)(Qa.default),$(te=ee(te=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ya,{icon:"lrn_icon_streaming_lab",theme:"stream",label:this.__("label_stream"),helpText:this.__("label_stream_help")})}}]),t}())||te)||te),t.StreamIconLabelWithHelp2=(ae=(0,Va.default)(Ga.default),ne=(0,Wa.default)(Qa.default),ae(re=ne(re=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Xa,{icon:"lrn_icon_streaming_lab",theme:"stream",label:this.__("label_stream")})}}]),t}())||re)||re),t.AddNewVersionLabel=(oe=(0,Va.default)(Ga.default),ie=(0,Wa.default)(Qa.default),oe(se=ie((ue=le=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_new_version"),theme:"skill"})}}]),t}(),le.propTypes={},se=ue))||se)||se),t.AddNewSetLabel=(ce=(0,Va.default)(Ga.default),de=(0,Wa.default)(Qa.default),ce(fe=de((me=pe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_new_set"),theme:"mission"})}}]),t}(),pe.propTypes={},fe=me))||fe)||fe),t.AddSubSkillLabel=(he=(0,Va.default)(Ga.default),_e=(0,Wa.default)(Qa.default),he(ge=_e((ye=ve=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_sub_skill"),theme:"skill"})}}]),t}(),ve.propTypes={},ge=ye))||ge)||ge),t.AddSkillLabel=(be=(0,Va.default)(Ga.default),we=(0,Wa.default)(Qa.default),be(Ee=we((Se=ke=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_new_skill"),theme:"skill"})}}]),t}(),ke.propTypes={},Ee=Se))||Ee)||Ee),t.AddTutorialLabel=(Oe=(0,Va.default)(Ga.default),Te=(0,Wa.default)(Qa.default),Oe(Pe=Te((Ce=je=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_tutorial"),theme:"tutorial"})}}]),t}(),je.propTypes={},Pe=Ce))||Pe)||Pe),t.AddStepLabel=(Ie=(0,Va.default)(Ga.default),Ne=(0,Wa.default)(Qa.default),Ie(Me=Ne((xe=De=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_step"),theme:"step"})}}]),t}(),De.propTypes={},Me=xe))||Me)||Me),t.AddLabStepLabel=(Re=(0,Va.default)(Ga.default),Le=(0,Wa.default)(Qa.default),Re(Ae=Le((Ke=Fe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_lab_step"),theme:"step"})}}]),t}(),Fe.propTypes={},Ae=Ke))||Ae)||Ae),t.AddSubmissionStepLabel=(qe=(0,Va.default)(Ga.default),ze=(0,Wa.default)(Qa.default),qe(Be=ze((He=Ue=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_submission_step"),theme:"step"})}}]),t}(),Ue.propTypes={},Be=He))||Be)||Be),t.AddAssessmentLabel=(Ve=(0,Va.default)(Ga.default),Ge=(0,Wa.default)(Qa.default),Ve(We=Ge((Je=Qe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_assessment"),theme:"mission"})}}]),t}(),Qe.propTypes={},We=Je))||We)||We),t.AddCompetencyLabel=(Ye=(0,Va.default)(Ga.default),Xe=(0,Wa.default)(Qa.default),Ye(Ze=Xe((et=$e=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_competency"),theme:"mission"})}}]),t}(),$e.propTypes={},Ze=et))||Ze)||Ze),t.RemoveCompetencyLabel=(tt=(0,Va.default)(Ga.default),at=(0,Wa.default)(Qa.default),tt(nt=at((ot=rt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-unfollow",label:this.__("label_remove_competency"),theme:"mission"})}}]),t}(),rt.propTypes={},nt=ot))||nt)||nt),t.AddQuestionLabel=(it=(0,Va.default)(Ga.default),st=(0,Wa.default)(Qa.default),it(lt=st((ct=ut=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_question"),theme:"step"})}}]),t}(),ut.propTypes={},lt=ct))||lt)||lt),t.AddOptionLabel=(dt=(0,Va.default)(Ga.default),ft=(0,Wa.default)(Qa.default),dt(pt=ft((ht=mt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_option"),theme:"step"})}}]),t}(),mt.propTypes={},pt=ht))||pt)||pt),t.AddContentGroupLabel=(_t=(0,Va.default)(Ga.default),gt=(0,Wa.default)(Qa.default),_t(vt=gt((bt=yt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_content_group"),theme:"step"})}}]),t}(),yt.propTypes={},vt=bt))||vt)||vt),t.AddEducatorLabel=(wt=(0,Va.default)(Ga.default),Et=(0,Wa.default)(Qa.default),wt(kt=Et((Ot=St=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_educator"),theme:"step"})}}]),t}(),St.propTypes={},kt=Ot))||kt)||kt),t.AddSuggestedSolutionLabel=(Tt=(0,Va.default)(Ga.default),Pt=(0,Wa.default)(Qa.default),Tt(jt=Pt((It=Ct=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_suggested_solution"),theme:"step"})}}]),t}(),Ct.propTypes={},jt=It))||jt)||jt),t.AddPointRewardLabel=(Nt=(0,Va.default)(Ga.default),Mt=(0,Wa.default)(Qa.default),Nt(Dt=Mt((Rt=xt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_point_reward")})}}]),t}(),xt.propTypes={},Dt=Rt))||Dt)||Dt),t.AddAnotherAssetLabel=(Lt=(0,Va.default)(Ga.default),At=(0,Wa.default)(Qa.default),Lt(Ft=At((qt=Kt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_add_another_asset")})}}]),t}(),Kt.propTypes={},Ft=qt))||Ft)||Ft),t.AlignExistingMissionsLabel=(zt=(0,Va.default)(Ga.default),Bt=(0,Wa.default)(Qa.default),zt(Ut=Bt((Vt=Ht=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_align_existing_missions")})}}]),t}(),Ht.propTypes={},Ut=Vt))||Ut)||Ut),t.ConnectGroupLabel=(Gt=(0,Va.default)(Ga.default),Wt=(0,Wa.default)(Qa.default),Gt(Qt=Wt((Yt=Jt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"lrn_icon_group",label:this.__("label_connect_group"),theme:"connect-group"})}}]),t}(),Jt.propTypes={},Qt=Yt))||Qt)||Qt),t.AlignExistingLabel=(Xt=(0,Va.default)(Ga.default),Zt=(0,Wa.default)(Qa.default),Xt($t=Zt((ta=ea=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_align_existing"),theme:"align-existing"})}}]),t}(),ea.propTypes={},$t=ta))||$t)||$t),t.AlignExistingTopicLabel=(aa=(0,Va.default)(Ga.default),na=(0,Wa.default)(Qa.default),aa(ra=na((ia=oa=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_existing_topic"),theme:"align-existing_topic"})}}]),t}(),oa.propTypes={},ra=ia))||ra)||ra),t.AlignExistingCompetencyLabel=(sa=(0,Va.default)(Ga.default),la=(0,Wa.default)(Qa.default),sa(ua=la((da=ca=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"icons-add",label:this.__("label_existing_competency")})}}]),t}(),ca.propTypes={},ua=da))||ua)||ua),t.BreadcrumbLabel=(fa=(0,Va.default)(Ga.default),pa=(0,Wa.default)(Qa.default),fa(ma=pa((_a=ha=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{theme:"breadcrumb",icon:"lrn_icon_whereami",label:this.__("breadcrumb_tip_label")})}}]),t}(),ha.propTypes={},ma=_a))||ma)||ma),t.PaymentLabel=(ga=(0,Va.default)(Ga.default),va=(0,Wa.default)(Qa.default),ga(ya=va((wa=ba=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props.theme;return qa.default.createElement("div",{className:this.ss("label-wrapper",e)},qa.default.createElement(Ja,{theme:"payment",icon:"lrn_icon_ring",label:this.__("label_payment")}))}}]),t}(),ba.propTypes={theme:Ka.default.oneOf(["default","inherit","dark"])},ba.default={theme:"default"},ya=wa))||ya)||ya),t.PremiumLabel=(Ea=(0,Va.default)(Ga.default),ka=(0,Wa.default)(Qa.default),Ea(Sa=ka((Ta=Oa=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme;return(0,Ba.get)(t,"premium")?qa.default.createElement("div",{className:this.ss("label-wrapper",a)},qa.default.createElement(Ja,{theme:"premium",icon:"lrn_icon_premium",label:this.__("label_premium")})):null}}]),t}(),Oa.propTypes={data:Ka.default.object,theme:Ka.default.oneOf(["default","inherit","dark"])},Oa.defaultProps={theme:"default"},Sa=Ta))||Sa)||Sa),t.LoginLabel=(Pa=(0,Va.default)(Ga.default),ja=(0,Wa.default)(Qa.default),Pa(Ca=ja((Na=Ia=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"lrn_icon_premium",label:this.__("label_login"),theme:"login"})}}]),t}(),Ia.propTypes={},Ca=Na))||Ca)||Ca),t.LoginToStartLabel=(Ma=(0,Va.default)(Ga.default),Da=(0,Wa.default)(Qa.default),Ma(xa=Da((La=Ra=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,za.default),Fa(t,[{key:"render",value:function(){return qa.default.createElement(Ja,{icon:"lrn_icon_premium",label:this.__("label_login_to_start_learning"),theme:"login"})}}]),t}(),Ra.propTypes={},xa=La))||xa)||xa)},function(e,t){e.exports={NAME:"production",APP_NAME:"view_server",APP_VERSION:"1.0",SERVER_PORT:18088,IS_ONEBOX:!1,HOT_RELOAD:!1,LAZY_BUILD:!1,DISPLAY_TIME_IN_MESSENGER:!0,DEVTOOLS:!1,RELEASE_BUILD:!0,UGLIFY_JS:!0,CSS_LOCAL_IDENTIFIER:!0,LONG_TERM_CACHE:!0,WITH_CONSOLE_LOG:!0,CONSOLE_LOG_FORMAT:"json",STORYBOOK:!1,PUBLIC_PATH:"https://connect-prd-cdn.unity.com/cdn-origin/",LOG_FOLDER:"/var/silkcloud/logs/mp_view",PUBLIC_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/public/assets",BUILD_ASSETS_FOLDER:"/gopath/src/gitlab.internal.unity3d.com/unity-connect/connect/view_server/build/assets",BUILD_TARGET_SERVER_NAMESPACE:"server",REQUEST_BASE_URL:"",REQUEST_BASE_URL_INTERNAL:"http://localhost:8080",REQUEST_TIMEOUT:3e4,DEFAULT_URL:"https://connect.unity.com",DEFAULT_TITLE:"Unity Connect",DEFAULT_META_KEYWORDS:"Unity Connect",DEFAULT_META_DESCRIPTION:{en_US:"The first talent marketplace dedicated to the full spectrum of Unity creators — game developers, artists, programmers, VR/AR developers, and more. Find game dev jobs, source Unity talent, and post tasks to get help on your Unity projects.",zh_CN:"首个致力于Unity创作者（游戏开发、美术师、VR／AR从业者）的人才圈。找工作，招人才，获得帮助，取得成功。"},LOCALES:["en_US","zh_CN","ko_KR","ja_JP","ru_RU","es_ES","fr_FR","de_DE","pt_PT"],MIN_LOCALES:["en_US","zh_CN","ko_KR","ja_JP"],MOMENT_LOCALE:{en_US:"",zh_CN:"zh-cn",ko_KR:"ko",ja_JP:"ja",ru_RU:"ru",es_ES:"es",fr_FR:"fr",de_DE:"de",pt_PT:"pt"},NUMBRO_LOCALE:{en_US:"",zh_CN:"zh-CN",ko_KR:"ko-KR",ja_JP:"ja-JP",ru_RU:"ru-RU",es_ES:"es-ES",fr_FR:"fr-FR",de_DE:"de-DE",pt_PT:"pt-PT"},BASE_ID_URL:"https://id.unity.com",STORE_URL:"https://store.unity.com",LOGIN_POPUP:!0,CDN_URLS:["https://dzamqefpotdvf.cloudfront.net/","https://connect-cdn-china.unity.com/","https://connect-cdn-china.unitychina.cn/","https://connect.unity.com/message-attachments","https://connect-prd-cdn.unity.com/","https://connect-cdn-public-prd.unitychina.cn/","https://connect-cdn-private-prd.unitychina.cn/"],REGIONS:[{refId:"region.01",i18n_key:"region_01"},{refId:"region.02",i18n_key:"region_02"},{refId:"region.03",i18n_key:"region_03"},{refId:"region.04",i18n_key:"region_04"},{refId:"region.05",i18n_key:"region_05"},{refId:"region.06",i18n_key:"region_06"},{refId:"region.07",i18n_key:"region_07"},{refId:"region.08",i18n_key:"region_08"},{refId:"region.09",i18n_key:"region_09"}],PROJECT_ENABLED:!0,TFA_ENABLED:!0,PACKAGE_DOWNLOAD_LINKS:{mac:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.dmg",windows:"https://d2ll4ywgl9x1oi.cloudfront.net/Connect-latest.exe"},PROXY_HOST:"",PROXY_PORT:"",REGION_AUTO_LOCATED_NOTE_ENABLED:!1,CLUSTERING:!0,LEARN_DEFAULT_URL:"https://learn.unity.com",LEARN_PREMIUM_MARKETING:"https://unity.com/learn-premium",LEARN_PREMIUM_STORE_FLOW:"https://store.unity.com/configure-plan/unity-learn-premium-30-day-trial",LEARN_PAYMENT_STORE_FLOW:"https://pay.unity.com/os2/orders/new",LEARN_AUTHOR_LIST:["5a95d5ef32b306001856489e","59fd0498090915002713b5c3","5abb2fec32b306001fbe91a8","5d74318eedbc2a56f0a6fe48","5db006f7edbc2a0020d998ec","5af69e9f090915001c83c1bb","584dba1f0909150027e1c7f5","5e305e98edbc2a67d6f1c4de","58b51db309091559199d4738","5846efae0909150024700562","5fb712aaedbc2a00209498e1"],CAPTCHA_CLIENT_KEY:"6Lcz1bMUAAAAACxsmcalX_VZlmLh7Kb-e-re0KKn",STORE_STATUS_MAP:{aptoide:"published",cloudmoolah:"published",onestore:"published",apptutti:"published",htc:"published",xiaomistore:"beta",huawei:"published"},APP_ID:"431669861070518",WEBGL_PLAYER_BASE_URL:"https://connect.unity3dusercontent.com/webgl",RECAPTCHA_ENABLE:!0,ASSET_UNLOCK_FPS_FIRST:"162774",ASSET_UNLOCK_KARTING_FIRST:"164043",ASSET_UNLOCK_KARTING_SECOND:"164146",ASSET_UNLOCK_KARTING_THIRD:"164147",AMPLITUDE_API_KEY:"a23922745183aa6e30250a7be015618c",ASSETSTORE_PAGE_BASEURL:"https://assetstore.unity.com",ASSETSTORE_ID:"1101ld9wQ",LIVE_HELP_SITE:"https://livehelp.unity.com",COUNTRY_API:"https://api.unity.com/v1/countries",PLAY_BASE_URL:"https://play.unity.com",ONE_TRUST_JS_SRC:"https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",ONE_TRUST_JS_DATA_DOMAIN_SCRIPT:"a9f5fcb3-4c7f-4bb7-93bf-7607ffbdabe0",AIRBRAKE:{projectId:313870,projectKey:"0dc7db610abb1107234c4bdc727e3867"},GSTORE_WEBSITE:"https://developer.gplay.io/sign_up"}},function(e,t,a){"use strict";(function(e){function a(e,t){return function(a){var n=a.props;a.state.set(s,{open:!0,signalPath:e,actionProps:n,type:t})}}function n(e){e.state.set(s,{open:!1,signalPath:"",actionProps:{},type:"default",loadingStatus:""})}function r(e){return function(t){var a=t.state,n=t.controller,r=a.get(s),o=r.signalPath,l=r.actionProps,u=n.getSignal(o);u&&u(i({},l,{translated:e}))}}function o(e){var t=e.props,a=e.path;return!0!==t.isSaved?a.yes(t):a.no(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s="common.saveConfirmDialog";t.default={name:e,depends:[],signals:{openSaveConfirm:[a],closeSaveConfirm:[n],doConfirmTranslate:[r(!0),n],skipConfirmTranslate:[r(!1),n]},getServices:function(){},getState:function(){return{saveConfirmDialog:{open:!1,type:"default",signalPath:"",actionProps:{}}}},SaveRequired:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return[o,{yes:[a(e,t)],no:[function(t){var a=t.props,n=t.controller.getSignal(e);n&&n(a)}]}]}}}).call(t,"views/learn/modules/common/SaveConfirmStore.js")},,function(e,t,a){"use strict";function n(e){return(e.get("common.pointReward.points")||[]).filter(function(e){return e.categoryId})}Object.defineProperty(t,"__esModule",{value:!0}),t.PointRewardSaveStatus=function(e,t){var a=(0,r.get)(t,"points")||[],o=n(e);return!(a.length===o.length&&a.every(function(e){return o.find(function(t){return t.categoryId===e.categoryId&&t.point===e.point&&t.index===e.index})}))},t.GetCurrentPointReward=n,t.GetEstimationPoints=function(e){var t=e.contentIds,a=e.tutorialMap,n=e.quizMap,r=e.projectMap,i={},s=[];return t&&t.length>0&&t.forEach(function(e){var t=(0,o.GetDataByItemId)({itemId:e,tutorialMap:a,quizMap:n,projectMap:r});t&&!0===t.published&&!0===t.public&&(t.points&&t.points.length>0&&t.points.forEach(function(e){i[e.categoryId]=(i[e.categoryId]||0)+e.point}),t.estimationPoints&&t.estimationPoints.length>0&&t.estimationPoints.forEach(function(e){i[e.categoryId]=(i[e.categoryId]||0)+e.point}))}),Object.keys(i).forEach(function(e){s.push({categoryId:e,index:0,point:i[e]})}),s},t.ValidPoints=function(e){var t=e.get("common.pointReward");if(t){var a=t.maxTotal;return t.totalPoints<=a}return!0},t.GetPointTotal=function(e){var t=0;return e&&e.length>0&&e.forEach(function(e){t+=e.point}),t};var r=a(4),o=a(9)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=n(a(2)),_=n(a(0)),g=a(6),v=a(5),y=n(a(1)),b=a(46),w=n(a(30)),E=n(a(3)),k=n(a(152)),S=b.presets.stiff,O=(s=(0,g.decorator)({windowHeight:(0,v.state)(m)}),l=(0,E.default)(k.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.open&&n.props.onCloseModal&&n.props.onCloseModal()},n.onKeyDown=function(e){switch(e.keyCode){case 27:n.onClose()}},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"renderDialog",value:function(e){var t=e.backDropOpacity,a=e.modalScale,n=e.modalOpacity,r=this.props,o=r.windowHeight,i=r.noScroller,s=r.position;if(t<.1||n<.1)return null;var l={transform:"scale3d("+a+", "+a+", 1)",opacity:n},u=f({},l),c={},d={};if(o>0){var p=Math.max(o-128,128);l.maxHeight=p,c.maxHeight=p;var m=Math.max(o-88,88);u.maxHeight=m,d.maxHeight=m}var h=this.props.children,g={opacity:t},v=_.default.createElement(w.default,{position:s},_.default.createElement("div",{className:this.ss("modal-content"),style:c},h)),y=_.default.createElement(w.default,{position:s},_.default.createElement("div",{className:this.ss("modal-content"),style:d},h));return i&&(v=_.default.createElement("div",{className:this.ss("modal-content"),style:c},h),y=_.default.createElement("div",{className:this.ss("modal-content"),style:d},h)),_.default.createElement("div",null,_.default.createElement("div",{className:this.ss("backdrop"),style:g,onClick:this.onClose}),_.default.createElement("div",{className:this.ss("modal","pc")},_.default.createElement("div",{className:this.ss("modal-inner",s),style:l},v)),_.default.createElement("div",{className:this.ss("modal","mobile")},_.default.createElement("div",{className:this.ss("modal-inner",s),style:u},y)))}},{key:"render",value:function(){var e=this,t=this.props.noAnimation;if(!0===(void 0!==t&&t)){var a=!0===this.props.open?{backDropOpacity:.8,modalScale:1,modalOpacity:1}:{backDropOpacity:0,modalScale:.75,modalOpacity:0};return this.renderDialog(a)}var n={backDropOpacity:0,modalScale:.75,modalOpacity:0},r=this.props.open?{backDropOpacity:(0,b.spring)(.8,S),modalScale:(0,b.spring)(1,S),modalOpacity:(0,b.spring)(1,S)}:{backDropOpacity:(0,b.spring)(0,S),modalScale:(0,b.spring)(.75,S),modalOpacity:(0,b.spring)(0,S)};return _.default.createElement(b.Motion,{defaultStyle:n,style:r},function(t){return e.renderDialog(t)})}}]),t}(),c.propTypes={onCloseModal:h.default.func,open:h.default.bool,children:h.default.any,windowHeight:h.default.number,noScroller:h.default.bool,noAnimation:h.default.bool,position:h.default.oneOf(["center","top"])},c.defaultProps={noScroller:!0},u=d))||u)||u);t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubTitleV2=t.default=void 0;var s,l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=a(4),v=n(a(43)),y=a(9),b=a(8),w=n(a(37)),E=n(a(3)),k=n(a(148)),S=n(a(7)),O=n(a(149)),T=(s=(0,E.default)(k.default),l=(0,S.default)(O.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPoints=function(){var e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){e+=(0,g.get)(t,"point",0)}),e},i=a,o(n,i)}return i(t,_.default),p(t,[{key:"renderSkillLevel",value:function(){var e=this.props.data,t=(0,g.get)(e,"skillLevel");return t?h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),(0,y.GetSkillLevelText)(this.context,t)):null}},{key:"renderDuration",value:function(){var e=this.props,t=e.hideDuration,a=e.data,n=e.durationTheme;if(t)return null;var r=a;if((0,g.get)(r,"type")===b.DataTypeKeys.mission){var o=(0,g.get)(r,"defaultSet")||"";((0,g.get)(r,"customContents")||[]).forEach(function(e){var t=(0,g.get)(e,"id")||"";o===t&&(r=e)})}var i=(0,g.get)(r,"withManual")?(0,g.get)(r,"manualDuration"):(0,g.get)(r,"duration");return h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement(v.default,{duration:i,theme:n}))}},{key:"renderPoints",value:function(){var e=this.props,t=e.showPoint,a=e.data;if(!t)return null;var n=(0,g.get)(a,"points")||[];return 0===n.length?null:h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("tag tag-points")},this.__("point",{point:this.getPoints(n)})))}},{key:"renderCollect",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.statsPath;if(!e.showCollect)return null;var r=t.id,o=t.type;return h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement(w.default,{id:r,type:o,theme:"no-tip",size:"large",disabled:a,statsPath:n}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.size,n=e.theme,r=e.showLanguage,o=(0,g.get)(t,"type"),i=(0,g.get)(t,"withEducator"),s=(0,g.get)(t,"language");return o===b.DataTypeKeys.submission?h.default.createElement("div",{className:this.ss("content-subtitle",a,n)},h.default.createElement("div",{className:this.ss("subtitle-item")},this.__("type_"+o))):h.default.createElement("div",{className:this.ss("content-subtitle",a,n)},h.default.createElement("div",{className:this.ss("subtitle-item")},this.__("type_"+o)),this.renderSkillLevel(),this.renderPoints(),this.renderDuration(),o===b.DataTypeKeys.quiz&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),this.__("questions_count",{count:(0,g.get)(t,"questionsCount",0)})),i&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("ifont","ifont-lrn_icon_school")})),r&&h.default.createElement("div",{className:this.ss("subtitle-item")},h.default.createElement("div",{className:this.ss("dot")}),(0,y.GetLanguageText)(this.context,s)),this.renderCollect())}}]),t}(),c.propTypes={data:m.default.object,theme:m.default.oneOf(["default","dark","gray"]),durationTheme:m.default.string,size:m.default.oneOf(["default","small","large"]),showLanguage:m.default.bool,showPoint:m.default.bool,showCollect:m.default.bool,hideDuration:m.default.bool,disabled:m.default.bool,statsPath:m.default.string},c.defaultProps={theme:"default",durationTheme:"default",size:"default"},u=d))||u)||u);t.default=T;t.SubTitleV2=function(e){return h.default.createElement(T,f({showPoint:!0},e))}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(3)),y=n(a(150)),b=n(a(7)),w=n(a(151)),E=(l=(0,v.default)(y.default),u=(0,b.default)(w.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={value:n.props.value||""},n.onFocus=function(e){n.props.onFocus&&n.props.onFocus(e)},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setInputValue(t)}},{key:"onSave",value:function(){this.props.onSave&&this.props.onSave(this.state.value),this.props.autoClear&&this.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e),this.props.onChange&&this.props.onChange(null,""),this.props.onSave&&this.props.onSave(""),this.onClearInput()}},{key:"onBlur",value:function(e){this.props.onBlur?this.props.onBlur(e):this.onSave()}},{key:"onChange",value:function(e){var t=e.target.value,a="";if("number"===this.props.type&&t){var n=this.__("numberOutput",{value:t});a=(n||0===n)&&n.toString()||""}else a=t;this.setState({value:a}),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){e&&e.stopPropagation();var t=e.keyCode;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onClearInput",value:function(){this.setInputValue("")}},{key:"setInputValue",value:function(e){this.setState({value:e})}},{key:"renderSymbol",value:function(){var e=this.props,t=e.symbol,a=e.symbolPosition;return t?_.default.createElement("div",{className:this.ss("symbol",a)},t):null}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.iconName,o=t.disabled,i=(t.autoFocus,t.autoClear,t.onSave,t.onClear,t.theme),s=t.size,l=t.readOnly,u=t.errorText,c=t.symbol,d=t.symbolPosition,f=t.inputStyle,m=t.placeholderTheme,h=t.hideCloseBtn,g=t.className,v=r(t,["type","iconName","disabled","autoFocus","autoClear","onSave","onClear","theme","size","readOnly","errorText","symbol","symbolPosition","inputStyle","placeholderTheme","hideCloseBtn","className"]),y=this.state.value,b="number"===a&&y?this.__("numberInput",{value:y}):y||"",w=_.default.createElement("div",{className:this.ss("icon","ifont","ifont-"+n)}),E=(_.default.createElement("div",{className:this.ss("symbol")},c),_.default.createElement("div",{className:this.ss("close","ifont","ifont-udp-close"),onClick:function(t){return e.onClear(t)}})),k=["input-wrap",o&&"disabled"],S=_.default.createElement("div",{key:"input",className:this.ss.apply(this,k)},n&&w,"BEFORE"===d&&this.renderSymbol(),_.default.createElement("input",p({},v,{style:f,className:this.ss("input"),type:"number"!==a&&a||"text",value:b,disabled:o,readOnly:l,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onBlur:function(t){return e.onBlur(t)},onFocus:this.onFocus,size:10,ref:"input"})),"AFTER"===d&&this.renderSymbol(),!h&&!o&&!l&&y&&E);return _.default.createElement("div",{className:this.ss(g,"text-input",i,s,"placeholder-"+m)},S,u&&_.default.createElement("div",{className:this.ss("text-error")},this.__(u)))}}]),t}(),d.propTypes={type:h.default.string,inputStyle:h.default.object,value:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),iconName:h.default.string,autoFocus:h.default.bool,autoClear:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onSave:h.default.func,onChange:h.default.func,onClear:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onKeyDown:h.default.func,theme:h.default.oneOf(["default","transparent","box","error","featured","header-search","transparent-inherit","border-gray","grey"]),placeholderTheme:h.default.oneOf(["default","color-a6a6a6"]),size:h.default.oneOf(["small","medium","large","xlarge","xxxxlarge"]),errorText:h.default.any,symbol:h.default.string,symbolPosition:h.default.string,hideCloseBtn:h.default.bool,className:h.default.string},d.defaultProps={theme:"default",placeholderTheme:"default",inputStyle:{}},c=f))||c)||c);t.default=E},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.props,a=e.state,n=t.url||a.get("currentUrl"),r=t.isReg||!1,o=a.get("loginUser"),i=(window&&window.location||{}).pathname,s=n||i;null===o?r?(0,c.default)("/auth/signup?redirect_to="+encodeURIComponent(s)):(0,c.default)("/auth/login?redirect_to="+encodeURIComponent(s)):(0,c.default)(s)}function o(e){var t=e.state,a=e.path;return t.get("loginUser")?a.yes():a.no()}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.login"],["header.login"]),l=a(22),u=a(5),c=function(e){return e&&e.__esModule?e:{default:e}}(a(48)),d=["common","login"],f={open:!1};t.default={name:e,depends:[],signals:{loginTo:[r],openLoginWindow:[function(e){var t=e.props,a=e.state,n=e.http,r=e.path,o=t.url,i=t.isReg,s={redirect_to:o||a.get("currentUrl"),locale:a.get("locale")};return i&&(s.is_reg=!0),n.get("/api/authUrl",s).then(r.success).catch(r.error)},{success:[function(e){var t=e.props,a=e.state,n=t.result;if(200===t.status&&n){var r=n.url;a.set([].concat(d),i({},f,{open:!0,url:r}))}}],error:[]}],closeLoginWindow:[(0,l.set)((0,u.state)(s),f)]},getServices:function(){},getState:function(){return{login:f}},LoginRequired:function(e){var t=[];return t=Array.isArray(e)?[].concat(n(e)):[e],[o,{yes:[t],no:[r]}]}}}).call(t,"views/learn/modules/common/LoginStore.js")},function(e,t,a){e.exports=a(14)(794)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["",".statsMap.",".collectCount"],["",".statsMap.",".collectCount"]),_=s(["statsPath"],["statsPath"]),g=s(["id"],["id"]),v=s(["learner.collectMap.",""],["learner.collectMap.",""]),y=s(["learner.toggleCollect"],["learner.toggleCollect"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),k=a(6),S=a(5),O=n(a(23)),T=a(12),P=n(a(3)),j=n(a(146)),C=n(a(7)),I=n(a(147)),N=(l=(0,k.decorator)({collectCount:(0,S.state)(h,(0,S.props)(_),(0,S.props)(g)),collected:(0,S.state)(v,(0,S.props)(g)),toggleCollect:(0,S.signal)(y)}),u=(0,P.default)(j.default),c=(0,C.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onClick=function(e){e&&(0,T.pauseEvent)(e);var t=n.props,a=t.id,r=t.type,o=t.toggleCollect,i=t.statsPath;t.disabled||o&&o({id:a,type:r,statsPath:i})},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"renderInner",value:function(){var e=this.props,t=e.collectCount,a=e.collected,n=e.theme,r=e.size,o=a?"lrn_icon_collect_filled":"lrn_icon_collect";return w.default.createElement("button",{className:this.ss("collect-button","theme-"+n,"size-"+r),onClick:this.onClick},w.default.createElement("div",{className:this.ss("icon",a&&"collected","ifont","ifont-"+o)}),w.default.createElement("div",{className:this.ss("collect-count")},t))}},{key:"renderLabel",value:function(){var e=this.props,t=e.collected,a=e.theme,n=e.size,r=e.label,o=t?"lrn_icon_collect_filled":"lrn_icon_collect";return w.default.createElement("button",{className:this.ss("collect-button","theme-"+a,"size-"+n),onClick:this.onClick},w.default.createElement("div",{className:this.ss("icon",t&&"collected","ifont","ifont-"+o)}),w.default.createElement("div",{className:this.ss("collect-label")},r))}},{key:"render",value:function(){var e=this.props.theme;return"label"===e?this.renderLabel():"no-tip"===e?this.renderInner():w.default.createElement(O.default,{text:this.__("button_collect"),position:"right"},this.renderInner())}}]),t}(),f.propTypes={id:b.default.string,type:b.default.string,collected:b.default.bool,collectCount:b.default.number,size:b.default.oneOf(["small","medium","large"]),theme:b.default.oneOf(["default","no-tip","label"]),statsPath:b.default.string.isRequired,disabled:b.default.bool,label:b.default.string,toggleCollect:b.default.func},d=p))||d)||d)||d);t.default=N},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(19));t.default=function(e,t,a){e=(0,n.default)(e),a=a||{};var r=Object.keys(a).map(function(e){return e+"="+a[e]}).join(",");return window.open(e,t,r)}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(12),y=n(a(103)),b=n(a(15)),w=n(a(3)),E=n(a(141)),k=n(a(7)),S=n(a(142)),O=(l=(0,w.default)(E.default),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,g.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.typing,n=e.size,o=e.status,i=e.shape,s=e.className,l=e.statusClassName,u=e.isFollowed,c=e.nameClassName,d=r(e,["user","typing","size","status","shape","className","statusClassName","isFollowed","nameClassName"]),f=t||{},m=f.avatar,h=f.name,g=f.fullName,w=f.fullname,E=f.username,k=f.anonymous,S=m&&0===m.indexOf("data:image"),O=m&&S?{backgroundImage:'url("'+m+'")'}:null,T=null;if(!m){if((0,v.isUserDeleted)(E,g)||(0,v.isUserDeleted)(E,w))T=_.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-user")});else if(k)T=_.default.createElement("div",{className:this.ss("anonymous","ifont","ifont-icons-anonymous")});else{var P=h||g||w;T=_.default.createElement("div",{className:this.ss("name",c)},(0,v.extractName)(P))}"company-card"===n&&(T=_.default.createElement("div",{className:this.ss("name","ifont","ifont-icons-company")}))}var j=_.default.createElement("div",{className:this.ss("status","status-"+o,a&&"status-typing",l)},a&&_.default.createElement("div",{className:this.ss("ellipsis")},_.default.createElement("div",null),_.default.createElement("div",null),_.default.createElement("div",null))),C=m&&!S&&_.default.createElement("div",{key:m,className:this.ss("image-wrap")},_.default.createElement(b.default,{src:m,sizes:"100px"}));return _.default.createElement("div",p({},d,{className:this.ss("avatar","avatar-"+n,i,!m&&!k&&"default-bg",s),style:O}),C,T,o&&j,u&&_.default.createElement(y.default,{text:this.__("followed"),position:"bottom"},_.default.createElement("div",{className:this.ss("followed")},_.default.createElement("div",{className:this.ss("check","ifont","ifont-check")}))))}}]),t}(),d.propTypes={user:h.default.object.isRequired,typing:h.default.bool,size:h.default.oneOf(["xxxxxsmall","xxxxsmall","xxxsmall","xxsmall","xsmall","small","medium","large","xlarge","xxlarge","xxxlarge","xxxxlarge","message-card","company-card","user-card","unified-profile","profile","learn-profile","group","group-small"]),status:h.default.oneOf(["online","offline","idle"]),shape:h.default.oneOf(["circle","square"]),className:h.default.string,nameClassName:h.default.string,statusClassName:h.default.string,isFollowed:h.default.bool},d.defaultProps={typing:!1,size:"small",shape:"circle"},c=f))||c)||c);t.default=O},function(e,t){e.exports={"side-toolbar":"side-toolbar_30eUIXZg",show:"show_33xIHxw1","header-one":"header-one_Wrg7DexY","header-two":"header-two_p11ukxpz","unordered-list-item":"unordered-list-item_qog8jFhj","ordered-list-item":"ordered-list-item_30kE7otd",blockquote:"blockquote_36UpjBup","code-block":"code-block_1i6M5O8-",plus:"plus_36E4AeNx",open:"open_1uAnQX23","menu-icons":"menu-icons_37umzz-o",button:"button_1VqsHpmD",icon:"icon_1DXYEuTu",photo:"photo_10l0QWDt",video:"video_2qrrshsN",upload:"upload_2br734zo",html:"html_3V2M6TFw",tip:"tip_1e0GQaj_",hide:"hide_26W0v_jC","paragraph-icon-wrapper":"paragraph-icon-wrapper_3izAzfzo","paragraph-icon":"paragraph-icon_2x5WZD-d","block-toolbar-wrapper":"block-toolbar-wrapper_19Sn_p8T","block-toolbar":"block-toolbar_26x1HB_O","toolbar-button-wrapper":"toolbar-button-wrapper_2TmjObJn","toolbar-button":"toolbar-button_YZsQ04p-",active:"active_VUF0TW81"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionAuthorLabel=t.CreatedByLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=r(["currentHost"],["currentHost"]),T=r(["loginUser"],["loginUser"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=n(a(28)),D=n(a(39)),x=a(9),R=a(12),L=n(a(48)),A=n(a(19)),F=n(a(38)),K=n(a(3)),q=n(a(284)),z=n(a(7)),B=n(a(285)),U=(l=(0,K.default)(q.default),u=(0,z.default)(B.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),e.altKey||e.metaKey||e.ctrlKey||e.shiftKey?(0,F.default)(t):(0,L.default)(t))},r=a,i(n,r)}return s(t,C.default),S(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=(0,x.getUnityUserInfo)(a),o="";return r.id&&(o=M.default.DEFAULT_URL+"/u/"+r.id),j.default.createElement("div",{className:this.ss("author-wrap")},j.default.createElement("button",{className:this.ss("author",n,!o&&"label"),onClick:function(t){return e.onClick(t,o)}},j.default.createElement(D.default,{user:r,size:"xxxsmall"}),j.default.createElement("div",{className:this.ss("author-name")},r.name)))}}]),t}(),d.propTypes={data:P.default.object,theme:P.default.string},d.defaultProps={},c=f))||c)||c);t.default=U;t.CreatedByLabel=(p=(0,K.default)(q.default),m=(0,z.default)(B.default),p(h=m((g=_=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),(0,L.default)(t))},r=a,i(n,r)}return s(t,C.default),S(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=(0,x.getUnityUserInfo)(a),o="";return r.id&&(o=M.default.DEFAULT_URL+"/u/"+r.id),j.default.createElement("div",{className:this.ss("author-wrap")},j.default.createElement("button",{className:this.ss("creator",n,!o&&"label"),onClick:function(t){return e.onClick(t,o)}},j.default.createElement(D.default,{user:r,size:"xsmall"}),j.default.createElement("div",{className:this.ss("creator-des")},this.__("created_by",{name:r.name}))))}}]),t}(),_.propTypes={data:P.default.object,theme:P.default.string},_.defaultProps={},h=g))||h)||h),t.SubmissionAuthorLabel=(v=(0,I.decorator)({currentHost:(0,N.state)(O),loginUser:(0,N.state)(T)}),y=(0,K.default)(q.default),b=(0,z.default)(B.default),v(w=y(w=b((k=E=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){t&&(e&&(0,R.pauseEvent)(e),(0,L.default)(t))},r=a,i(n,r)}return s(t,C.default),S(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.theme,r=t.currentHost,o=t.showLoginUser,i=t.hideUserName,s=t.loginUser,l=o?s:void 0,u=(0,x.getLearnUserInfo)(a,l),c="";return u.id&&(c=(0,A.default)("/u/"+u.id,r)),j.default.createElement("div",{className:this.ss("author-wrap")},j.default.createElement("button",{className:this.ss("author",n,!c&&"label"),onClick:function(t){return e.onClick(t,c)}},j.default.createElement(D.default,{user:u,size:"xxxsmall"}),!i&&j.default.createElement("div",{className:this.ss("author-name")},u.name||u.username)))}}]),t}(),E.propTypes={currentHost:P.default.string,loginUser:P.default.object,showLoginUser:P.default.bool,hideUserName:P.default.bool,data:P.default.object,theme:P.default.string},E.defaultProps={},w=k))||w)||w)||w)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoDuration=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(9),E=n(a(3)),k=n(a(145)),S=n(a(7)),O=n(a(80)),T=(s=(0,E.default)(k.default),l=(0,S.default)(O.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.duration,a=e.theme;if("week"===a)return y.default.createElement("div",{className:this.ss("duration-label")},this.__("duration_weeks",{total:t}));if("minute"===a)return y.default.createElement("div",{className:this.ss("duration-label")},this.__("duration_mins",{total:t}));var n=(0,w.ParseMinute)(t),r=n.hour,o=n.minute;if("hour"===a)return y.default.createElement("div",{className:this.ss("duration-label")},this.__("duration_hours",{total:r}));var i=0!==r&&0===o;return y.default.createElement("div",{className:this.ss("duration-label")},0!==r&&y.default.createElement("span",{className:this.ss("hour")},this.__("duration_hours",{total:r})),!i&&y.default.createElement("span",{className:this.ss("minute")},this.__("duration_mins",{total:o})))}}]),t}(),c.propTypes={duration:v.default.number,theme:v.default.oneOf(["default","minute","hour","week"])},c.defaultProps={theme:"default",duration:0},u=d))||u)||u);t.default=T;t.VideoDuration=(f=(0,E.default)(k.default),p=(0,S.default)(O.default),f(m=p((_=h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),g(t,[{key:"render",value:function(){var e=this.props.duration,t=(0,w.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second;return 0===e?y.default.createElement("span",{className:this.ss("second")},this.__("duration_secs",{total:0})):y.default.createElement("div",{className:this.ss("duration-label")},0!==a&&y.default.createElement("span",{className:this.ss("hour")},this.__("duration_hours",{total:a})),0!==n&&y.default.createElement("span",{className:this.ss("minute")},this.__("duration_mins",{total:n})),0!==r&&y.default.createElement("span",{className:this.ss("second")},this.__("duration_secs",{total:r})))}}]),t}(),h.propTypes={duration:v.default.number},h.defaultProps={duration:0},m=_))||m)||m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.LearnEmbed=t.LearnVideoPlayIcon=t.LearnPlayerPreview=t.LearnLivePreviousVideoWidget=t.LearnOverviewVideoWidget=t.LearnOverviewVideoPlayer=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),G=s(["locale"],["locale"]),W=s(["option.supportedLanguages"],["option.supportedLanguages"]),Q=s(["loginUser"],["loginUser"]),J=s(["common.updatePlayerState"],["common.updatePlayerState"]),Y=s(["editor.openSubtitleDialog"],["editor.openSubtitleDialog"]),X=s(["common.loginTo"],["common.loginTo"]),Z=s(["common.sendLearnVideoStartCDPRequest"],["common.sendLearnVideoStartCDPRequest"]),$=s(["common.sendLearnVideoStopCDPRequest"],["common.sendLearnVideoStopCDPRequest"]),ee=s(["common.sendLearnVideoEngagementCDPRequest"],["common.sendLearnVideoEngagementCDPRequest"]),te=s(["common.openPlayerDialog"],["common.openPlayerDialog"]),ae=s(["countryByIp"],["countryByIp"]),ne=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),re=n(a(2)),oe=n(a(0)),ie=n(a(1)),se=a(6),le=a(4),ue=n(a(15)),ce=n(a(190)),de=a(5),fe=a(70),pe=a(8),me=a(210),he=a(12),_e=n(a(77)),ge=a(27),ve=n(a(116)),ye=n(a(117)),be=n(a(3)),we=n(a(217)),Ee=n(a(7)),ke=n(a(218)),Se=["video/mp4"],Oe=a(104),Te=pe.MediaCommonSize.width,Pe=pe.MediaCommonSize.height,je=(l=(0,se.decorator)({locale:(0,de.state)(G),supportedLanguages:(0,de.state)(W),loginUser:(0,de.state)(Q),updatePlayerState:(0,de.signal)(J),openSubtitleDialog:(0,de.signal)(Y),loginTo:(0,de.signal)(X),sendLearnVideoStartCDPRequest:(0,de.signal)(Z),sendLearnVideoStopCDPRequest:(0,de.signal)($),sendLearnVideoEngagementCDPRequest:(0,de.signal)(ee)}),u=(0,be.default)(we.default),c=(0,Ee.default)(ke.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPlayerReady=function(e){var t=n.props.onReady;e&&(n.player=e,n.playerId=e.id(),n.language=e.language(),(0,n.props.updatePlayerState)({playerId:n.playerId,payload:{player:e}}),n.player.on("dblclick",n.onPlayerDblclick),t&&t(e))},n.onPlayerDblclick=function(){n.sendPlayingCDPTid&&clearTimeout(n.sendPlayingCDPTid),n.sendPauseCDPTid&&clearTimeout(n.sendPauseCDPTid)},n.onPlaying=function(){var e=n.props.sendLearnVideoStartCDPRequest;n.updatePlayerState({playing:!0}),n.sendPlayingCDPTid=setTimeout(function(){clearTimeout(n.sendPlayingCDPTid),n.sendCDP(e)},500)},n.onPause=function(){var e=n.props.sendLearnVideoStopCDPRequest;n.updatePlayerState({playing:!1}),n.sendPauseCDPTid=setTimeout(function(){clearTimeout(n.sendPauseCDPTid),n.sendCDP(e)},500)},n.onUseractive=function(){n.updatePlayerState({userActive:!0})},n.onUserinactive=function(){n.props.inactivityTimeout<=0||n.updatePlayerState({userActive:!1})},n.onDurationchange=function(e){n.updatePlayerState({duration:e})},n.onFullScreenChange=function(e){n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.full_screen,fullScreen:e})},n.onRateChange=function(e){n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.playback_speed,playbackSpeed:e})},n.onSubtitleChange=function(e){e&&n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.language,language:e}),(!n.language&&e||n.language&&!e)&&n.sendEngagementCDP({engagementType:pe.CDPLearnVideoEngagementTypes.caption,caption:!!e}),n.language=e},n.player=null,n.playerId=null,n.language=null,n.sendPlayingCDPTid=null,n.sendPauseCDPTid=null,n.updatePlayerState=function(e){var t=n.props.updatePlayerState;t&&t({playerId:n.playerId,payload:e})},n.sendCDP=function(e){var t=n.props.videoContent,a=(0,le.get)(t,"id"),r=(0,le.get)(t,"playlist.url");e&&e({id:a,videoUrl:r,playerId:n.playerId})},n.sendEngagementCDP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props,a=t.sendLearnVideoEngagementCDPRequest,r=t.videoContent,o=(0,le.get)(r,"id"),i=(0,le.get)(r,"playlist.url");a&&a(H({id:o,videoUrl:i,playerId:n.playerId},e))},n.convertSubtitles=function(e){var t=n.props,a=t.locale,r=t.supportedLanguages,o=(0,le.get)(e,"subtitleMap")||{};return(r||[]).map(function(e){return o[e]?H({},o[e],{default:(0,fe.getLanguageFromLocale)(a)===e}):null}).filter(function(e){return null!==e})},n.handleSubtitles=function(){var e=n.props;(0,e.openSubtitleDialog)({content:e.videoContent})},n.checkEmbed=function(){var e=n.props.videoContent,t=(0,le.get)(e,"oembed"),a=(0,le.get)(e,"type");return!(!t&&"webgl"!==a&&"img"!==a)},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"renderVideoCover",value:function(){var e=this.props,t=e.theme,a=e.renderOnly,n=e.videoContent;if(!e.mustPlayList)return null;if((0,le.get)(n,"playlist.url",""))return null;var r=oe.default.createElement("div",{className:this.ss("video-cover-text")},oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint_1")),oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint_2")));return a||(r=oe.default.createElement("div",{className:this.ss("video-cover-text")},oe.default.createElement("div",{className:this.ss("text-line")},this.__("label_video_process_hint")))),oe.default.createElement("div",{className:this.ss("video-cover",t,!a&&"creator")},r)}},{key:"renderSubtitleButton",value:function(){var e=this.props,t=e.theme;return e.renderOnly||"media"===t?null:oe.default.createElement("div",{className:this.ss("subtitles",t)},oe.default.createElement("button",{className:this.ss("button"),onClick:this.handleSubtitles},this.__("open_subtitles_button")))}},{key:"renderPrivatePlayer",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.width,r=e.height;return oe.default.createElement("div",{className:this.ss("learn-private-player")},oe.default.createElement("div",{className:this.ss("player-wrap",!t&&"no-login"),onClick:function(){return!t&&a()}},oe.default.createElement("div",{className:this.ss("player-img")},oe.default.createElement(ue.default,{src:Oe,sizes:n+"px",width:n,height:r})),oe.default.createElement("span",null,this.__(t?"label_private_player":"label_private_player_no_login"))))}},{key:"renderPlayer",value:function(){var e=this.props,t=e.theme,a=e.renderOnly,n=e.locale,r=e.onClose,o=e.height,i=e.width,s=e.maxHeight,l=e.inactivityTimeout,u=e.playbackRates,c=e.disabled,d=e.mustPlayList,f=(0,le.get)(this.props,"videoContent")||{},p=(0,le.get)(f,"title")||"",m=(0,le.get)(f,"downloadUrl"),h=(0,le.get)(f,"contentType"),_=(0,le.get)(f,"thumbnail.url",""),g=(0,le.get)(f,"playlist.url",""),v=(0,le.get)(f,"playlist.contentType","");return oe.default.createElement("div",{className:this.ss("learn-player",!a||"popup"!==t&&"hide-control-bar")},oe.default.createElement(ce.default,{theme:t,src:g||m,contentType:v||h,poster:_,size:"auto",maxHeight:s,width:i,height:o,inactivityTimeout:l,locale:n,subtitles:this.convertSubtitles(f),title:p,renderOnly:a,disabled:c,playbackRates:u,mustPlayList:d,onClose:r,onReady:this.onPlayerReady,onPlaying:this.onPlaying,onPause:this.onPause,onUseractive:this.onUseractive,onUserinactive:this.onUserinactive,onDurationchange:this.onDurationchange,onFullScreenChange:this.onFullScreenChange,onRateChange:this.onRateChange,onSubtitleChange:this.onSubtitleChange}),this.renderVideoCover(),this.renderSubtitleButton())}},{key:"render",value:function(){var e=this.props.onClose,t=(0,le.get)(this.props,"videoContent"),a=(0,le.get)(this.props,"renderOnly");if(!t)return null;var n=t.contentType;return t.isPrivate?this.renderPrivatePlayer():this.checkEmbed()?oe.default.createElement(De,{videoContent:t,onClose:e,renderOnly:a}):Se.indexOf(n)>-1?this.renderPlayer():null}}]),t}(),f.propTypes={theme:re.default.string,locale:re.default.string,supportedLanguages:re.default.array,loginUser:re.default.object,renderOnly:re.default.bool,disabled:re.default.bool,videoContent:re.default.object,inactivityTimeout:re.default.number,maxHeight:re.default.number,height:re.default.number,width:re.default.number,playbackRates:re.default.array,onReady:re.default.func,mustPlayList:re.default.bool,onClose:re.default.func,updatePlayerState:re.default.func,openSubtitleDialog:re.default.func,loginTo:re.default.func,sendLearnVideoStartCDPRequest:re.default.func,sendLearnVideoStopCDPRequest:re.default.func,sendLearnVideoEngagementCDPRequest:re.default.func},f.defaultProps={renderOnly:!0,width:Te,height:Pe,mustPlayList:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,1.75,2]},d=p))||d)||d)||d);t.default=je;t.LearnOverviewVideoPlayer=(m=(0,be.default)(we.default),h=(0,Ee.default)(ke.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.show;return(0,le.get)(t,"overviewVideo")?oe.default.createElement("div",{className:this.ss("over-video-wrapper")},oe.default.createElement("div",{className:this.ss("over-video-wrap")},oe.default.createElement("div",{className:this.ss("title")},this.__("over_video_title")),oe.default.createElement("div",{className:this.ss("over-video-player")},oe.default.createElement(Ce,{data:t,disabled:a}))),oe.default.createElement("div",{className:this.ss("step-sep",!!n&&"show")})):null}}]),t}(),g.propTypes={data:re.default.object,show:re.default.bool,disabled:re.default.bool},_=v))||_)||_);var Ce=t.LearnOverviewVideoWidget=(y=(0,be.default)(we.default),b=(0,Ee.default)(ke.default),y(w=b((k=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=(0,le.get)(t,"overviewVideo");return n?oe.default.createElement("div",{className:this.ss("section-wrap","learn-video-widget")},oe.default.createElement(je,{theme:"overview",videoContent:n,disabled:a})):null}}]),t}(),E.propTypes={data:re.default.object,disabled:re.default.bool},w=k))||w)||w),Ie=(t.LearnLivePreviousVideoWidget=(S=(0,be.default)(we.default),O=(0,Ee.default)(ke.default),S(T=O((j=P=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPreviousLiveSession=function(){var e=n.props.data;return((0,le.get)(e,"liveSessions")||[]).find(function(e){if(e.period===pe.CalendarTabs.previous){var t=(0,le.get)(e,"previousVideo");if(!t)return!1;var a=(0,le.get)(t,"type");if("videoattachment"===a){var n=(0,le.get)(t,"playlist.url");if(t&&n)return!0}if("video"===a&&(0,le.get)(t,"oembed"))return!0}return!1})},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props.disabled,t=this.getPreviousLiveSession()||{},a=(0,le.get)(t,"previousVideo");return a?oe.default.createElement("div",{className:this.ss("section-wrap","live-session-video-widget")},oe.default.createElement("div",{className:this.ss("top")},oe.default.createElement(ge.LiveSessionLabel,{theme:"latest"})),oe.default.createElement(je,{theme:"learn-live-previous",videoContent:a,disabled:e})):null}}]),t}(),P.propTypes={data:re.default.object,disabled:re.default.bool},T=j))||T)||T),pe.MediaCommonSize.width),Ne=pe.MediaCommonSize.height,Me=(t.LearnPlayerPreview=(C=(0,se.decorator)({openPlayerDialog:(0,de.signal)(te)}),I=(0,be.default)(we.default),N=(0,Ee.default)(ke.default),C(M=I(M=N((x=D=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handlePlayer=function(){var e=n.props,t=e.videoContent,a=e.openPlayerDialog,r=e.loginRequired;t&&a&&a({videoContent:t,loginRequired:r})},i=a,o(n,i)}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this,t=this.props.videoContent,a=(0,le.get)(t,"thumbnail.url");return a?oe.default.createElement("div",{className:this.ss("learn-video-preview"),onClick:function(){return e.handlePlayer()}},oe.default.createElement(ue.default,{src:a,width:Ie,height:Ne,sizes:Ie+"px"}),oe.default.createElement("div",{className:this.ss("play-icon")},oe.default.createElement(Me,null))):null}}]),t}(),D.propTypes={videoContent:re.default.object,openPlayerDialog:re.default.func,loginRequired:re.default.bool},D.defaultProps={loginRequired:!0},M=x))||M)||M)||M),t.LearnVideoPlayIcon=(R=(0,be.default)(we.default))((F=A=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"render",value:function(){var e=this.props.size;return oe.default.createElement("div",{className:this.ss("icon-play",e)})}}]),t}(),A.propTypes={size:re.default.oneOf(["default","small","medium","large"])},A.defaultProps={size:"default"},L=F))||L),De=t.LearnEmbed=(K=(0,se.decorator)({countryByIp:(0,de.state)(ae),windowWidth:(0,de.state)(ne)}),q=(0,be.default)(we.default),K(z=q((U=B=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),V(t,[{key:"onThumbClick",value:function(e){(0,_e.default)(e)}},{key:"renderEmbed",value:function(e,t){var a=this.props.renderOnly;return oe.default.createElement("div",{className:this.ss("embed-wrap")},oe.default.createElement("div",{style:{paddingBottom:e+"%"}}),!a&&oe.default.createElement("div",{className:this.ss("mark-wrap")}),oe.default.createElement("div",{className:this.ss("iframe-wrap")},oe.default.createElement(ye.default,{html:t})))}},{key:"renderAssetStore",value:function(e){if(!e)return null;var t=this.props,a=t.renderOnly,n=t.windowWidth,r=e.originalImage,o=r.url,i=r.width,s=r.height,l=r.gif,u=i<(n?Math.min(n,772):772)?{width:i,height:s,margin:"0 auto",display:"block"}:{};return oe.default.createElement("div",{className:this.ss("image-wrap")},oe.default.createElement("div",{className:this.ss("image"),style:u},oe.default.createElement(ue.default,{src:o,sizes:"100vw",width:i,height:s,gif:!!l}),oe.default.createElement(ve.default,{contentId:e.id,renderOnly:a})))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var a=this.props,n=a.renderOnly,r=a.windowWidth,o=e.thumbnail,i=o.url,s=o.width,l=o.height,u=s<(r?Math.min(r,772):772)?{width:s,height:l,margin:"0 auto",display:"block"}:{};return oe.default.createElement("div",{className:this.ss("image-wrap","content")},oe.default.createElement("div",{className:this.ss("image"),style:u,onClick:n?function(){return t.onThumbClick(e.url)}:void 0},oe.default.createElement(ue.default,{src:i,sizes:"100vw",width:s,height:l}),oe.default.createElement("div",{className:this.ss("video-icon-wrap")},oe.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")}))))}},{key:"renderCloseButton",value:function(){var e=this.props.onClose;return e?oe.default.createElement("button",{className:this.ss("close-button"),onClick:function(){return e()}},oe.default.createElement("div",{className:this.ss("icon","ifont","ifont-udp-close")})):null}},{key:"render",value:function(){var e=this.props,t=e.renderOnly,a=e.countryByIp,n=e.videoContent,r=void 0;if(n.oembed)if("CN"!==a||!n.oembed||"YouTube"!==n.oembed.provider_name&&"Vimeo"!==n.oembed.provider_name){var o=n.oembed,i=o.html,s=o.height,l=o.width,u=l?Math.round(100*s/l):1;r=this.renderEmbed(u,(0,me.normalizeHtml)({html:i}))}else r=this.renderEmbedThumbnail(n);else if(n&&"webgl"===n.type){var c='<iframe width="100%" height="100%" src="'+(0,he.securedURL)(n.url)+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>';r=this.renderEmbed(66,c)}else n&&"img"===n.type&&(r=this.renderAssetStore(n));return oe.default.createElement("div",{className:this.ss("learn-video-embed",t&&"render-only")},r,this.renderCloseButton())}}]),t}(),B.propTypes={countryByIp:re.default.string,windowWidth:re.default.number,videoContent:re.default.object,renderOnly:re.default.bool,onClose:re.default.func},z=U))||z)||z)},,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(26),y=n(a(30)),b=n(a(3)),w=n(a(186)),E=n(a(7)),k=n(a(187)),S=(l=(0,b.default)(w.default),u=(0,E.default)(k.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showSelects:!1,timeoutEventId:null,periodInput:"",lastHint:-1,selectedIndex:0},n.onKeyDown=function(e){if(n.props.disabled){var t=e.keyCode,a=n.props,r=a.selects,o=a.onChange,i=n.state,s=i.showSelects,l=i.selectedIndex,u=r.length;switch(t){case 40:e.preventDefault(),s||n.onTextClick(),n.setState({selectedIndex:(l+1)%u});break;case 38:e.preventDefault(),s||n.onTextClick(),n.setState({selectedIndex:(l+u-1)%u});break;case 13:e.preventDefault(),s?l>=0&&l<u&&(n.setState({showSelects:!1}),o(e,l,r[l].value)):n.onTextClick();break;case 27:n.setState({showSelects:!1})}}},n.onTextClick=function(){if(!n.props.disabled){var e={showSelects:!0,lastHint:Number.MAX_SAFE_INTEGER};n.setState(e)}},n.handleKeyPress=function(e){if(n.state.showSelects&&n.refs.scroller){var t=e.keyCode,a=e.charCode;n._timeoutEventId&&(window.clearTimeout(n._timeoutEventId),n._timeoutEventId=null);var r=String.fromCharCode(t||a).toLowerCase(),o=n.props.selects,i=!1,s=-1;if(r===n.state.periodInput||""===n.state.periodInput)o.every(function(e,t){return!(e.text.toLowerCase().startsWith(r)&&t>n.state.lastHint)||(s=t,!1)}),-1===s&&o.every(function(e,t){return!e.text.toLowerCase().startsWith(r)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:r,lastHint:s}),i=!0);else{var l=n.state.periodInput+r;o.every(function(e,t){return!e.text.toLowerCase().startsWith(l)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:l}),i=!0)}if(n._timeoutEventId=window.setTimeout(function(){n.setState({periodInput:"",timeoutEventId:null})},500),i){var u=n.refs.selects.children[0].offsetHeight;n.refs.scroller.scrollTo(s*u,!0),n.setState({selectedIndex:s})}}},n.handleSelectItemClick=function(e,t,a){var r=n.props,o=r.value,i=r.onChange,s=r.theme;!0!==t.disabled&&(n.setState({showSelects:!1,selectedIndex:a}),"footer"===s?i(e,a,t.value):o!==t.value&&i(e,a,t.value))},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypress",this.handleKeyPress)}},{key:"renderSelects",value:function(){var e=this,t=this.props,a=t.selects,n=t.renderItem,r=this.state.selectedIndex;return a.map(function(t,a){var o=t.text;n&&(o=n(t,!0));var i=["active"];return _.default.createElement("div",{className:e.ss("selectItem",a===r&&!t.disabled&&e.ss.apply(e,i),t.disabled&&"disabled"),value:t.value,key:t.value,onClick:function(n){return e.handleSelectItemClick(n,t,a)}},o)})}},{key:"renderCaseScroller",value:function(){var e=this.props,t=e.selects,a=e.theme,n=5;return"grizzly"===a&&(n=3),t.length>n?_.default.createElement(y.default,{theme:"light",fade:!1,className:this.ss("scroller","scroll-"+a),ref:"scroller"},_.default.createElement("div",{className:this.ss("selects"),ref:"selects"},this.renderSelects())):_.default.createElement("div",{className:this.ss("selects")},this.renderSelects())}},{key:"renderDescription",value:function(){var e=this.props.description;return e?_.default.createElement("div",{className:this.ss("description")},e):null}},{key:"renderErrorText",value:function(){var e=this.props.errorText;return e?_.default.createElement("div",{className:this.ss("errorText")},this.__(e)):null}},{key:"renderIcon",value:function(){var e=this.state.showSelects,t=this.props.renderIcon;return t?t(e):_.default.createElement("div",{className:this.ss("triangle","ifont","ifont-udp-arrow-drop-down")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.hintText,n=t.selects,o=t.value,i=(t.errorText,t.disabled),s=t.renderItem,l=(t.renderIcon,t.size),u=t.theme,c=t.align,d=r(t,["hintText","selects","value","errorText","disabled","renderItem","renderIcon","size","theme","align"]),f=this.state.showSelects,m={transform:f?"scaleY(1)":"scaleY(0)",opacity:f?1:0},h=n.find(function(e){return e.value===o}),g=h?h.text:a;return s&&h&&(g=s(h,!1)),_.default.createElement("div",p({},d,{className:this.ss("container",u,l)}),_.default.createElement(v.ClickOutsideWrap,{onClickOutside:function(){return e.setState({showSelects:!1})}},_.default.createElement("div",{className:this.ss("container-inner")},_.default.createElement("button",{className:this.ss("currentText",i&&"disabled"),onClick:this.onTextClick,onKeyDown:this.onKeyDown},_.default.createElement("div",{className:this.ss("innerCurrentText")},_.default.createElement("div",{className:this.ss("text",c)},g),this.renderIcon())),_.default.createElement("div",{className:this.ss("selectsWrapContainer"),style:m},this.renderCaseScroller()),this.renderDescription(),this.renderErrorText())))}}]),t}(),d.propTypes={selects:h.default.arrayOf(h.default.shape({text:h.default.string.isRequired,value:h.default.oneOfType([h.default.number.isRequired,h.default.string.isRequired])})).isRequired,hintText:h.default.string,value:h.default.oneOfType([h.default.number.isRequired,h.default.string.isRequired]),onChange:h.default.func,disabled:h.default.bool,errorText:h.default.any,description:h.default.string,renderItem:h.default.func,renderIcon:h.default.func,size:h.default.oneOf(["xxsmall","small","medium","large"]),align:h.default.oneOf(["center"]),theme:h.default.oneOf(["default","transparent","error","gray","grizzly","footer","underline","dark"])},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=S},,function(e,t){e.exports={account:"account_38qO",profile_completeness:"profile_completeness_1aD8",edit:"edit_3oQ9",unity_id:"unity_id_3brB",login_desc:"login_desc_CkRI",new_account:"new_account_2dd8",sign_out:"sign_out_1EBT",sign_in:"sign_in_2fq6",delete_confirm_default_title:"delete_confirm_default_title_1Hx0",delete_confirm_default_text:"delete_confirm_default_text_ogwn",delete_confirm_submission_step_title:"delete_confirm_submission_step_title_3p3d",delete_confirm_submission_step_text:"delete_confirm_submission_step_text_1v0m",delete_confirm_exercise_title:"delete_confirm_exercise_title_2mBC",delete_confirm_exercise_text:"delete_confirm_exercise_text_3nE2",delete_confirm_competency_skill_title:"delete_confirm_competency_skill_title_1ARb",delete_confirm_competency_skill_text:"delete_confirm_competency_skill_text_t_V_",save_confirm_publish_title:"save_confirm_publish_title_AS-J",save_confirm_publish_text:"save_confirm_publish_text_3wqL",tooltip_app_switcher:"tooltip_app_switcher_1bue",dashboard:"dashboard_3pix",menu_tutorials:"menu_tutorials_2E0J",menu_projects:"menu_projects_3sb0",menu_courses:"menu_courses_2csd",menu_live_session_calendar:"menu_live_session_calendar_3WQ8",menu_live_calendar:"menu_live_calendar_1EdB",menu_topics:"menu_topics_2An-",menu_pathways:"menu_pathways_3QQM",menu_browses:"menu_browses_2Sdi",menu_avatar_settings:"menu_avatar_settings_1UZq",menu_admin_tool:"menu_admin_tool_1DND",menu_uaa_portal:"menu_uaa_portal_3zKK",menu_try_premium:"menu_try_premium_2YY5",browse_all_topics:"browse_all_topics_2LDO",browse_all_authors:"browse_all_authors_18AT",search_placeholder:"search_placeholder_21sy",type_quiz:"type_quiz_134X",type_tutorial:"type_tutorial_2Pid",type_project:"type_project_LxnA",type_course:"type_course_1U6_",type_mission:"type_mission_3OLA",type_pathway:"type_pathway_1psi",popular_type_all:"popular_type_all_2V9z",popular_type_project:"popular_type_project_2FvT",popular_type_tutorial:"popular_type_tutorial_13Jv",popular_type_course:"popular_type_course_FAAh",popular_type_pathway:"popular_type_pathway_2fJN",popular_type_mission:"popular_type_mission_3GJ3",browse_type_pathway:"browse_type_pathway_3fim",browse_type_mission:"browse_type_mission_3X32",browse_type_course:"browse_type_course_g85e",browse_type_project:"browse_type_project_2Q3W",browse_type_tutorial:"browse_type_tutorial_3Y_j",browse_sub_pathway:"browse_sub_pathway_EUP-",browse_sub_mission:"browse_sub_mission_1h3h",browse_sub_course:"browse_sub_course_2Plr",browse_sub_project:"browse_sub_project_1sNb",browse_sub_tutorial:"browse_sub_tutorial_Pam_",browse_all_pathway:"browse_all_pathway_1bHI",browse_all_mission:"browse_all_mission_2dvb",browse_all_course:"browse_all_course_bVNb",browse_all_project:"browse_all_project_38Gp",browse_all_tutorial:"browse_all_tutorial_2nRZ",button_more:"button_more_12Hn",button_less:"button_less_3Soy",content_creator:"content_creator_3GJA",content_learner_architecture:"content_learner_architecture_31kS",community_moderator:"community_moderator_1KhI",my_learning:"my_learning_1FTI",faq:"faq_1TxZ",topics_title:"topics_title_3HH2",authors_title:"authors_title_38N-",point:"point_2SrR",result_title:"result_title_3D0b",result_explaining:"result_explaining_1Qo3",search_result_hint:"search_result_hint_2tEO",search_result_hint_text:"search_result_hint_text_2hBV",tfa_confirm_title:"tfa_confirm_title_2Tl5",tfa_confirm_text:"tfa_confirm_text_2kPS",delete_confirm_comment_title:"delete_confirm_comment_title_2XZ5",delete_confirm_comment_text:"delete_confirm_comment_text_3wr5",delete_confirm_post_title:"delete_confirm_post_title_3GU4",delete_confirm_post_text:"delete_confirm_post_text_3N2K",delete_confirm_transfer_owner_title:"delete_confirm_transfer_owner_title_ZtEQ",delete_confirm_transfer_owner_text:"delete_confirm_transfer_owner_text_2wDB",delete_confirm_group_kick_title:"delete_confirm_group_kick_title_UTdh",delete_confirm_group_kick_text:"delete_confirm_group_kick_text_1gsH",delete_confirm_announcement_title:"delete_confirm_announcement_title_3GE-",delete_confirm_announcement_text:"delete_confirm_announcement_text_18d5",delete_confirm_reject_refund_title:"delete_confirm_reject_refund_title_N-PR",delete_confirm_reject_refund_text:"delete_confirm_reject_refund_text_2n6X",delete_confirm_accept_refund_title:"delete_confirm_accept_refund_title_8MQ6",delete_confirm_accept_refund_text:"delete_confirm_accept_refund_text_1O9V",delete_confirm_reject_dispute_title:"delete_confirm_reject_dispute_title_jMbi",delete_confirm_reject_dispute_text:"delete_confirm_reject_dispute_text_1RHF",delete_confirm_accept_dispute_title:"delete_confirm_accept_dispute_title_1tVD",delete_confirm_accept_dispute_text:"delete_confirm_accept_dispute_text_3hnR"}},function(e,t,a){e.exports=a(14)(74)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),m=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=s(["common.tourTips.status.scrollTop"],["common.tourTips.status.scrollTop"]),_=s(["common.tourTips.",""],["common.tourTips.",""]),g=s(["tourTipId"],["tourTipId"]),v=s(["common.addTourTip"],["common.addTourTip"]),y=s(["common.removeTourTip"],["common.removeTourTip"]),b=n(a(2)),w=n(a(0)),E=n(a(20)),k=n(a(1)),S=a(6),O=a(5),T=a(45),P=a(8),j=(l=(0,S.decorator)({windowWidth:(0,O.state)(p),windowHeight:(0,O.state)(m),scrollTop:(0,O.state)(h),tourTip:(0,O.state)(_,(0,O.props)(g)),addTourTip:(0,O.signal)(v),removeTourTip:(0,O.signal)(y)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,k.default),f(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.addTourTip()},0),window.addEventListener("load",function(){return e.addTourTip()})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.addTourTip()},0)}},{key:"componentWillUnmount",value:function(){this.removeTourTip()}},{key:"addTourTip",value:function(){if(!(0,T.isDevice)()){var e=E.default.findDOMNode(this.refs.child).getBoundingClientRect(),t=e.left,a=e.right,n=e.top,r=e.bottom,o=this.props,i=o.type,s=o.position,l=o.tourTipId,u=o.tourTip,c=o.windowHeight,d=o.scrollTop,f=o.addTourTip,p=a-t,m=r-n;if(p>0&&m>0&&n>=0){var h={id:l,type:i,position:s,targetWidth:p,targetHeight:m,left:t,top:n};u&&u.top>c&&d>0&&(h.top=n+d),f(h)}}}},{key:"removeTourTip",value:function(){if(!(0,T.isDevice)()){var e=this.props,t=e.removeTourTip;t({id:e.tourTipId})}}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isSpan;if(!t)return null;var n=w.default.Children.only(t);n=w.default.cloneElement(n,{ref:"child"});var r=a?"span":"div";return w.default.createElement(r,null,n)}}]),t}(),c.propTypes={windowWidth:b.default.number,windowHeight:b.default.number,scrollTop:b.default.number,type:b.default.oneOf(["normal","success","warning","error","green"]),position:b.default.oneOf(P.PositionAllKeys),isSpan:b.default.bool,children:b.default.any,tourTipId:b.default.string.isRequired,tourTip:b.default.object,addTourTip:b.default.func,removeTourTip:b.default.func},c.defaultProps={type:"normal",position:P.PositionKey.bottomRight,isSpan:!1},u=d))||u;t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["value"],["value"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=n(a(301)),E=a(11),k=n(a(3)),S=n(a(121)),O=(l=(0,y.decorator)({defaultEditorState:(0,E.$editorStateFromJSON)((0,b.props)(h))}),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,v.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.renderOnly,o=e.placeholder,i=e.theme,s=r(e,["editorKey","defaultEditorState","renderOnly","placeholder","theme"]);return _.default.createElement(w.default,p({},s,{renderOnly:n,editorKey:t,placeholder:o,theme:i,defaultEditorState:a}))}}]),t}(),d.propTypes={editorKey:g.default.string.isRequired,defaultEditorState:g.default.object,renderOnly:g.default.bool,theme:g.default.string,placeholder:g.default.string},d.defaultProps={renderOnly:!1,editorKey:"editorTextArea"},c=f))||c)||c);t.default=O},function(e,t){e.exports={search_placeholder:"search_placeholder_1dmP",sl_none:"sl_none_15yL",sl_all:"sl_all_2t78",sl_foundational:"sl_foundational_2CeB",sl_beginner:"sl_beginner_EyW4",sl_intermediate:"sl_intermediate_19Do",sl_advanced:"sl_advanced_QOIm",sl_expert:"sl_expert_b9lL",t_all:"t_all_KfPC",t_project:"t_project_3IFs",t_course:"t_course_2ZSx",t_tutorial:"t_tutorial_1ksw",t_liveSession:"t_liveSession_3o0e",t_quiz:"t_quiz_1Rgf",t_skill:"t_skill_38AP",t_competency:"t_competency_vEkz",t_mission:"t_mission_2qcW",t_pathway:"t_pathway_3Bds",t_badge:"t_badge_x31k",d_boundless_15:"d_boundless_15_Zmgp",d_15_30:"d_15_30_2nK4",d_30_60:"d_30_60_3_sj",d_60_boundless:"d_60_boundless_21ao",d_15_60:"d_15_60_3xKR",d_60_120:"d_60_120_18kT",d_120_boundless:"d_120_boundless_3QuG",ins_boundless_45:"ins_boundless_45_3mhL",ins_45_60:"ins_45_60_ytDD",ins_60_120:"ins_60_120_1fId",ins_120_300:"ins_120_300_3mV-",ins_300_boundless:"ins_300_boundless_Kp8k",age_13_14:"age_13_14_sAcw",age_15_17:"age_15_17_2OJk",age_18_boundless:"age_18_boundless_3VAY",select_sl:"select_sl_206O",select_t:"select_t_YVog",select_xp:"select_xp_1OpH",select_d:"select_d_BUNj",select_tag:"select_tag_3Ouv",select_ind:"select_ind_7OX2",select_uv:"select_uv_3jU_",select_lang:"select_lang_29OV",select_prm:"select_prm_2bIL",select_hidden:"select_hidden_1xLJ",select_status:"select_status_ckDR",select_ins:"select_ins_2-Ne",select_age:"select_age_1IPj",selected_tag:"selected_tag_3dFY",selected_ind:"selected_ind_2Tah",selected_uv:"selected_uv_2IM3",selected_xp:"selected_xp_1TZx",filters_show:"filters_show_1BWy",filters_hide:"filters_hide_Jx9V",prm_all:"prm_all_1f_p",prm_premium:"prm_premium_9FLz",prm_none_premium:"prm_none_premium_Ft3l",lang_all:"lang_all_dnSm",lang_en:"lang_en_32-r",lang_ja:"lang_ja_37KM",lang_zh:"lang_zh_2hJu",lang_ko:"lang_ko_WDrp",lang_ru:"lang_ru_VtmK",lang_de:"lang_de_x35U",lang_es:"lang_es_2olN",lang_pt:"lang_pt_36vR",lang_fr:"lang_fr_sY3z",hidden_all:"hidden_all_3oIS",hidden_hidden:"hidden_hidden_2yHc",hidden_none_hidden:"hidden_none_hidden_c-Ft",status_all:"status_all_3Rn6",status_draft:"status_draft_1rYl",status_published:"status_published_1mr3",owner_placeholder:"owner_placeholder_26M7",ob_none:"ob_none_1jXx",ob_starts:"ob_starts_Lu8f",ob_views:"ob_views_12Wd",ob_collects:"ob_collects_hWEB",ob_recency:"ob_recency_3mj2",ob_titleasc:"ob_titleasc_16bH",ob_titledes:"ob_titledes_3NAD",search_input_placeholder:"search_input_placeholder_13Tn",filters_checkbox_label:"filters_checkbox_label_259Y",checkbox_premium:"checkbox_premium_LkVF",checkbox_none_premium:"checkbox_none_premium_xBWD",checkbox_hidden:"checkbox_hidden_3AYL",checkbox_none_hidden:"checkbox_none_hidden_LZcV",checkbox_published:"checkbox_published_2SiP",checkbox_draft:"checkbox_draft_3srq",checkbox_singles:"checkbox_singles_YC8_",create_new:"create_new_2IDo",create_title_course:"create_title_course_kPt4",create_title_project:"create_title_project_3L6D",create_title_tutorial:"create_title_tutorial_2hZh",create_title_liveSession:"create_title_liveSession_2T7i",create_title_quiz:"create_title_quiz_1sy-",create_title_skill:"create_title_skill_1fYi",create_title_competency:"create_title_competency_11Cl",create_title_mission:"create_title_mission_2gSn",create_title_pathway:"create_title_pathway_3QG3",create_title_badge:"create_title_badge_aKhd",create_introduction_course:"create_introduction_course_ndfO",create_introduction_project:"create_introduction_project_1uGI",create_introduction_tutorial:"create_introduction_tutorial_1gDp",create_introduction_liveSession:"create_introduction_liveSession_3YGD",create_introduction_quiz:"create_introduction_quiz_3KiA",create_introduction_skill:"create_introduction_skill_2rgz",create_introduction_competency:"create_introduction_competency_3L6P",create_introduction_mission:"create_introduction_mission_BZ_f",create_introduction_pathway:"create_introduction_pathway_1wsP",create_introduction_badge:"create_introduction_badge_rbBq",submission_ob_collects:"submission_ob_collects_pXxA",all_exercises:"all_exercises_2nG1"}},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(w);return{assessmentItem:t.assessmentItem&&t.assessmentItem.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(m.chains.fieldChanged),[m.chains.validate])}function s(e){var t=e.state,a=l(e.missionData);t.set(w,a)}function l(e){var t=(0,h.get)(e,"draftAssessmentItem")||[];return(0,m.Form)({assessmentItem:{value:t}})}function u(e){var t=c({state:e,sid:["t:tutorial","t:quiz"]});e.set("search",{criteria:{k:JSON.stringify(t),exercise:"true"}})}function c(e){var t=e.state,a=e.sid,n=[],o=(t.get("mission.generalForm")||{}).competencyIds.value||[],i=t.get("missionData.competencyMap")||{};return o.forEach(function(e){var t=(0,h.get)(i,""+e),a=(0,h.get)(t,"skillIds")||[];n=Array.from(new Set([].concat(r(n),r(a))))}),n.forEach(function(e){a.push("sid:"+e)}),a}function d(e){var t=l(e.get("missionData")),a=e.get(w);return Object.keys(a).every(function(e){return"assessmentItem"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=a.op,o=a.value,i=t[e].value[n],s=i.op,l=i.value;return r===s&&o===l}):t[e].value===a[e].value})}function f(e){var t=e.state,a=e.props.value;t.set("mission.assessmentIds",p(a))}function p(e){return e.map(function(e){return e.value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertAssessmentsParams=o,t.getAssessmentsForm=l,t.assessmentsFormSave=function(e,t){t.getSignal("mission.saveAssessments")()},t.assessmentResetSearch=u,t.getSkillIdsByMission=c,t.isValidAssessmentsForm=function(e){return(0,m.isValidForm)(e.get(w))},t.assessmentsFormSaveStatus=d;var m=a(13),h=a(4),_=a(10),g=a(8),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),b=["common","AddSimpleContentDialog"],w=["mission","assessmentsForm"],E={message:"changes_saved_successfully",type:"info2"},k={schema:g.POST_MISSION_ASSESSMENTS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/assessments",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(E),s({state:n,missionData:a}))},onError:(0,v.onError)("mission")};t.default={name:e,depends:[],signals:{changeAssessmentsFormField:i(),addAssessmentContent:[function(e){var t=e.state,a=e.props,r=a.value.id,o=a.type,i=(0,v.GetItemIdByType)({id:r,type:o});"tutorial"===o&&(t.merge("missionData.tutorialMap",n({},r,a.value)),t.merge("tutorialMap",n({},r,a.value))),"quiz"===o&&(t.merge("missionData.quizMap",n({},r,a.value)),t.merge("quizMap",n({},r,a.value)));var s=t.get("mission.assessmentContent"),l=s.index,u=s.assessmentType,c=t.get([].concat(w,["assessmentItem"])).value;if(c.map(function(e){return e.value}).findIndex(function(e){return e===i})<0&&i){var d={op:u,value:i};c.splice(l+1,0,d)}return t.merge(b,{open:!1}),{fieldName:"assessmentItem",value:c}},f],deleteAssessmentConfirm:[y.default.DeleteConfirmed("mission.deleteAssessmentContent")],deleteAssessmentContent:[function(e){var t=e.props,a=e.state,n=t.index,r=a.get([].concat(w,["assessmentItem"])).value;return n>=0&&(r.splice(n,1),r.length>0&&0===n&&r[n].op===g.LevelSelectsType.Or&&(r[n].op=g.LevelSelectsType.And)),{fieldName:"assessmentItem",value:r}},f].concat(r(i())),saveAssessmentIndex:[function(e){var t=e.state,a=e.props.assessmentContent;t.set("mission.assessmentContent",a)}],changeAssessmentType:[function(e){var t=e.state,a=e.props,n=a.index,r=a.value,o=t.get([].concat(w,["assessmentItem"])).value;return o[n].op=r,t.set([].concat(w,["assessmentItem","value"]),o),{fieldName:"assessmentItem",value:o}}],assessmentResetSearch:[function(e){return u(e.state)}],saveAssessments:[function(){return{formPath:w}}].concat(r(m.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,_.CallHTTP)(k),no:[]}])},getState:function(e){var t=e.missionData,a=(0,h.get)(t,"assessmentItem")||[];return{assessmentsForm:l(t),assessmentContent:{},assessmentIds:p(a)}}}}).call(t,"views/learn/modules/mission/CreateAssessmentsStore.js")},function(e,t){e.exports={"inline-toolbar":"inline-toolbar_DOpC5ElV",show:"show_l-L8-Ch8","toolbar-button-wrapper":"toolbar-button-wrapper_2me48-00","toolbar-button":"toolbar-button_zYj3mdfN",active:"active_12FUn66S","link-input-wrapper":"link-input-wrapper_3-ZO4OqV","link-input":"link-input_1CG0d0kd","close-button":"close-button_bC5ol1p1"}},function(e,t){e.exports={image_tooltip:"image_tooltip_1WNe",video_tooltip:"video_tooltip_XBqY",attachment_tooltip:"attachment_tooltip_31jw",video_attachment_tooltip:"video_attachment_tooltip_3__3",html_tooltip:"html_tooltip_U8D1",tip_tooltip:"tip_tooltip_30QV"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(3)),v=n(a(135)),y=(l=(0,g.default)(v.default))((d=c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,_.default),p(t,[{key:"onThisClick",value:function(e){var t=this.props,a=t.onClick,n=t.href;t.loading||(n?this.refs.aTag.click():a&&a(e))}},{key:"renderContent",value:function(){var e=this.props,t=e.label,a=e.loading,n=e.loadingClassName,r=[],o={pointerEvents:"none"};return(a||!1)&&(r.push(h.default.createElement("div",{key:"loading",className:this.ss("raised-btn-loading-wrap")},h.default.createElement("div",{className:this.ss("raised-btn-loading",n)}))),o.opacity=0,o.cursor="auto"),r.push(h.default.createElement("div",{key:"label",style:o},t)),r}},{key:"render",value:function(){var e=this,t=this.props,a=t.href,n=(t.onClick,t.className),o=t.target,i=t.theme,s=(t.loading,t.loadingClassName,t.size),l=t.widthType,u=t.gaTag,c=r(t,["href","onClick","className","target","theme","loading","loadingClassName","size","widthType","gaTag"]),d=["raised-btn","raised-btn-"+(i||"default"),n,u,s&&"size-"+s,l&&"width-"+l],p=o||"_self",m=void 0;return a&&(m=h.default.createElement("a",{href:a,ref:"aTag",target:p})),h.default.createElement("button",f({},c,{ref:"button",className:this.ss.apply(this,d),onClick:function(t){return e.onThisClick(t)}}),this.renderContent(),m)}}]),t}(),c.propTypes={label:m.default.string,className:m.default.string,loadingClassName:m.default.string,gaTag:m.default.string,href:m.default.string,onClick:m.default.func,disabled:m.default.bool,target:m.default.string,loading:m.default.bool,size:m.default.oneOf(["xxsmall","xsmall","small","medium","large","xlarge","xxlarge","new-small","new-medium","new-large","new-xlarge","new-xxlarge"]),theme:m.default.oneOf(["primary","default","secondary","black","thirdly","fourthly","fifthly","red","blue","white","transparent","link","pink","link-border","white-link-border","blue-link-border","gray","purple","header-default","primary-blue","webgl","violet","new-default"]),widthType:m.default.oneOf(["full","auto"])},u=d))||u;t.default=y},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){for(var t=[],a=Math.round(1e4/e)/100,n=1;n<=e;n++)n===e?t.push({left:"100%"}):t.push({right:Math.round(100*a*(e-n))/100+"%"});return t}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[],n=Math.round(1e4/e)/100,r=0;r<e;r++)t[r]?a.push({width:n+"%",left:Math.round(100*n*r)/100+"%"}):a.push({width:0,left:0});return a}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDot=t.Outline=t.StickerOutline=t.ProgressBar=t.default=void 0;var c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),K=s(["breadcrumb"],["breadcrumb"]),q=s(["common.setting.stickerExpanded"],["common.setting.stickerExpanded"]),z=s(["common.expandSticker"],["common.expandSticker"]),B=s(["common.collapseSticker"],["common.collapseSticker"]),U=s(["common.openShareDialog"],["common.openShareDialog"]),H=s(["learner.recordMap.",""],["learner.recordMap.",""]),V=s(["data.id"],["data.id"]),G=s(["common.setting.scrollTop"],["common.setting.scrollTop"]),W=s(["common.shareDialog.show"],["common.shareDialog.show"]),Q=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),J=s(["common.uv"],["common.uv"]),Y=s(["common.setting.overviewExpanded"],["common.setting.overviewExpanded"]),X=s(["common.setting.overviewScrolled"],["common.setting.overviewScrolled"]),Z=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),$=s(["common.expandOverview"],["common.expandOverview"]),ee=s(["common.collapseOverview"],["common.collapseOverview"]),te=s(["common.setOverviewScrolled"],["common.setOverviewScrolled"]),ae=s(["currentHost"],["currentHost"]),ne=s(["locale"],["locale"]),re=n(a(2)),oe=n(a(0)),ie=n(a(1)),se=n(a(20)),le=a(6),ue=a(5),ce=a(4),de=n(a(15)),fe=n(a(30)),pe=n(a(161)),me=n(a(118)),he=n(a(43)),_e=a(27),ge=n(a(138)),ve=a(26),ye=a(9),be=n(a(19)),we=a(8),Ee=a(12),ke=n(a(3)),Se=n(a(354)),Oe=n(a(7)),Te=n(a(355)),Pe=(c=(0,le.decorator)({breadcrumb:(0,ue.state)(K),expanded:(0,ue.state)(q),expandSticker:(0,ue.signal)(z),collapseSticker:(0,ue.signal)(B),openShareDialog:(0,ue.signal)(U),record:(0,ue.state)(H,(0,ue.props)(V)),scrollTop:(0,ue.state)(G),isShareShow:(0,ue.state)(W),openCommentDrawer:(0,ue.signal)(Q)}),d=(0,ke.default)(Se.default),f=(0,Oe.default)(Te.default),c(p=d(p=f((h=m=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.scrollTop,a=e.expanded,r=e.collapseSticker;document.getElementById("pageBody").parentNode.scrollTop>t&&a&&r()},n.onClick=function(e){var t=n.props,a=t.expanded,r=t.expandSticker,o=t.collapseSticker;(0,ve.getClickOutside)([n.refs.recordButton,n.refs.shareButton,n.refs.commentButton],function(){a?o():r()})(e)},i=a,o(n,i)}return i(t,ie.default),F(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.expanded,n=e.breadcrumb,r=e.scrollToStep,o=e.openShareDialog,i=e.collapseSticker,s=e.record,l=e.theme,u=e.openCommentDrawer,c=e.versionId,d=t.id,f=t.type,p=t.title,m=(0,ce.get)(t,"thumbnail.url"),h=(0,ce.get)(t,"statsMap."+d),_=(0,Ee.formatNumber)((0,ce.get)(h,"commentCount")||0),g=(0,ce.get)(n,"root")||{},v=!n||!g.subNodes,y=f===we.DataTypeKeys.tutorial;return oe.default.createElement(ve.ClickOutsideWrap,{onClickOutside:function(){return i()}},oe.default.createElement("div",{className:this.ss("sticker-head-wrap")},oe.default.createElement("div",{className:this.ss("sticker-head",!v&&"breadcrumb"),onClick:v?void 0:this.onClick},oe.default.createElement("div",{className:this.ss("center","sticker-head-body")},oe.default.createElement("div",{className:this.ss("breadcrumb-tip")},!v&&oe.default.createElement("div",{className:this.ss("breadcrumb-tip-content")},oe.default.createElement(_e.BreadcrumbLabel,null),oe.default.createElement("div",{className:this.ss(a?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")}))),oe.default.createElement("div",{className:this.ss("thumbnail-wrap")},oe.default.createElement("div",{className:this.ss("thumbnail")},oe.default.createElement(de.default,{src:m,sizes:"89px",width:89,height:50}))),oe.default.createElement("div",{className:this.ss("content-wrap")},oe.default.createElement("div",{className:this.ss("title-wrap")},oe.default.createElement("div",{className:this.ss("type")},this.__("type_"+f)),oe.default.createElement("div",{className:this.ss("dot")}),oe.default.createElement("div",{className:this.ss("title")},p),!v&&oe.default.createElement("div",{className:this.ss(a?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")}))),oe.default.createElement("div",{className:this.ss("button-group")},y&&oe.default.createElement("a",{ref:"commentButton",className:this.ss("button-comment"),onClick:function(){return u()}},oe.default.createElement("div",{className:this.ss("comment-icon","ifont","ifont-lrn_icon_comment")}),oe.default.createElement("div",{className:this.ss("comment-count")},_)),oe.default.createElement("a",{ref:"shareButton",className:this.ss("button-share"),onClick:function(){return o()}},oe.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})),"quiz"===l?oe.default.createElement(me.default,{ref:"recordButton",versionId:c,theme:"sticker-head",scrollToStep:r}):oe.default.createElement(pe.default,{ref:"recordButton",versionId:c,theme:"sticker-head",data:t,scrollToStep:r}))),oe.default.createElement(je,{data:t,record:s,versionId:c})),!v&&oe.default.createElement(Ce,{root:g})))}}]),t}(),m.propTypes={breadcrumb:re.default.object,data:re.default.object,expanded:re.default.bool,scrollTop:re.default.number,isShareShow:re.default.bool,record:re.default.object,versionId:re.default.string,expandSticker:re.default.func,collapseSticker:re.default.func,scrollToStep:re.default.func,openShareDialog:re.default.func,openCommentDrawer:re.default.func,theme:re.default.oneOf(["quiz"])},p=h))||p)||p)||p);t.default=Pe;var je=t.ProgressBar=(_=(0,ke.default)(Se.default),g=(0,Oe.default)(Te.default),_(v=g((b=y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),F(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.record,r=t.versionId,o=(0,ye.GetRecordSubItems)({data:a,record:n,versionId:r,simple:!0}),i=o.items,s=o.completed,c=i.length,d=u(c,s),f=i.map(function(t,a){return oe.default.createElement("div",{key:"c_"+a,className:e.ss("bar"),style:d[a]})}),p=l(c),m=i.map(function(t,a){return oe.default.createElement("div",{key:"d_"+a,className:e.ss("dot"),style:p[a]})});return oe.default.createElement("div",{className:this.ss("progress-bar")},oe.default.createElement("div",{className:this.ss("dots")},m),oe.default.createElement("div",{className:this.ss("bars")},f))}}]),t}(),y.propTypes={data:re.default.object,record:re.default.object,versionId:re.default.string},v=b))||v)||v),Ce=t.StickerOutline=(w=(0,le.decorator)({uv:(0,ue.state)(J),expanded:(0,ue.state)(q),overviewExpanded:(0,ue.state)(Y),overviewScrolled:(0,ue.state)(X),windowHeight:(0,ue.state)(Z),expandOverview:(0,ue.signal)($),collapseOverview:(0,ue.signal)(ee),collapseSticker:(0,ue.signal)(B),setOverviewScrolled:(0,ue.signal)(te)}),E=(0,ke.default)(Se.default),k=(0,Oe.default)(Te.default),w(S=E(S=k((T=O=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={offsetHeight:0,scrolled:!1},n.onClick=function(){var e=n.props,t=e.overviewExpanded,a=e.expandOverview,r=e.collapseOverview;t?r():a()},i=a,o(n,i)}return i(t,ie.default),F(t,[{key:"componentDidMount",value:function(){this.setOutlineHeight(),this.setDefaultPosition()}},{key:"componentDidUpdate",value:function(){this.setOutlineHeight(),this.setDefaultPosition()}},{key:"getMaxHeight",value:function(){var e=this.props,t=e.overviewExpanded,a=e.windowHeight-88;return t||(a=Math.min(a,480)),a}},{key:"setOutlineHeight",value:function(){var e=se.default.findDOMNode(this.refs.outline);if(e&&0===this.state.offsetHeight){var t=e&&e.offsetHeight||0;t!==this.state.offsetHeight&&this.setState({offsetHeight:t})}}},{key:"setDefaultPosition",value:function(){var e=this,t=this.props,a=t.overviewScrolled,n=t.setOverviewScrolled,r=t.root,o=(0,ce.get)(r,"status.hasNext"),i=(0,ce.get)(r,"subNodes")||[];if(this.refs.scroller&&!a&&i.length>0){var s=0;s=!0===o?i.findIndex(function(e){return!0===(0,ce.get)(e,"status.hasNext")||!0===(0,ce.get)(e,"status.isNext")}):i.findIndex(function(e){return!0===e.active});var l=0;i.slice(0,s).forEach(function(e){e.subNodes&&(l+=e.subNodes.length)});var u=50*s+30*l;setTimeout(function(){e.refs.scroller.scrollTo(u,!1),n()})}}},{key:"render",value:function(){var e=this.props,t=e.root,a=e.expanded,n=e.overviewExpanded,r=e.collapseSticker,o=e.uv;if(!a)return null;var i=t.type,s=(0,ce.get)(t,"status.completed"),l=this.getMaxHeight(),u=this.state.offsetHeight>480,c=[];n||c.push(oe.default.createElement("div",{key:"top-cover",className:this.ss("top-cover","outline-middle","center")}),oe.default.createElement("div",{key:"bottom-cover",className:this.ss("bottom-cover","outline-middle","center")}));var d=u&&!n;return oe.default.createElement("div",{className:this.ss("outline-wrap"),style:{maxHeight:l}},oe.default.createElement("div",{className:this.ss("center","breadcrumb-tree")},oe.default.createElement("div",{className:this.ss("breadcrumb-tree-content")},oe.default.createElement(ge.default,{theme:"sticker-head",uv:o}))),oe.default.createElement("div",{className:this.ss("close-banner","outline-middle","center")},oe.default.createElement("div",{className:this.ss("close-icon","ifont","ifont-icon-close"),onClick:function(){return r()}})),oe.default.createElement(fe.default,{ref:"scroller"},oe.default.createElement("div",{className:this.ss("outline-middle","center",d&&"overview-hidden")},oe.default.createElement(Ie,{ref:"outline",data:t,allDone:s,uv:o}))),u&&c,u&&oe.default.createElement("div",{className:this.ss("button-group","outline-middle","center")},oe.default.createElement("button",{className:this.ss("button-overview"),onClick:this.onClick},this.__(n?"button_hide_"+i:"button_show_"+i))))}}]),t}(),O.propTypes={uv:re.default.string,root:re.default.object,expanded:re.default.bool,overviewExpanded:re.default.bool,overviewScrolled:re.default.bool,windowHeight:re.default.number,expandOverview:re.default.func,collapseOverview:re.default.func,collapseSticker:re.default.func,setOverviewScrolled:re.default.func},S=T))||S)||S)||S),Ie=t.Outline=(P=(0,le.decorator)({currentHost:(0,ue.state)(ae),locale:(0,ue.state)(ne)}),j=(0,ke.default)(Se.default),C=(0,Oe.default)(Te.default),P(I=j(I=C((M=N=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,ie.default),F(t,[{key:"render",value:function(){var e=this,a=this.props,n=a.data,r=a.theme,o=a.allDone,i=a.parent,s=a.currentHost,l=a.locale,u=a.uv,c=n.type,d=n.subNodes;if(!d||0===d.length)return null;var f=!!i,p=d.map(function(a,n){var p=0===n,m=n===d.length-1,h=a.status,_={isFirst:p,isLast:m},g=a.type===we.DataTypeKeys.tutorial||a.type===we.DataTypeKeys.quiz,v=(0,ce.get)(a,"withManual")?(0,ce.get)(a,"manualDuration"):(0,ce.get)(a,"duration");f?(p&&(p=!1),m&&(m=i.isLast&&m)):m=g&&m;var y=(0,be.default)((0,ye.GetUrlByNavIds)(a.navIds,(0,ye.GetDetailPageURL)(a,l,u)),s);return oe.default.createElement("div",{key:"item_"+n,className:e.ss("item-wrap")},oe.default.createElement("a",{className:e.ss("item-link"),href:y},oe.default.createElement("div",{className:e.ss("item")},oe.default.createElement(Ne,{theme:r,isFirst:p,isLast:m,status:h,allDone:o}),oe.default.createElement("div",{className:e.ss("item-title","text",a.active&&"active")},oe.default.createElement("div",{className:e.ss("item-index")},n+1+"."),oe.default.createElement("div",{className:e.ss("item-title-wrap")},a.type&&e.__("type_"+a.type),a.type&&oe.default.createElement("div",{className:e.ss("dot")}),a.title,g&&oe.default.createElement("div",{className:e.ss("dot")}),g&&oe.default.createElement(he.default,{duration:v}),!0===(0,ce.get)(a,"withLab")&&oe.default.createElement("div",{className:e.ss("icon","ifont","ifont-lrn_icon_streaming_lab")}))))),c!==we.DataTypeKeys.tutorial&&c!==we.DataTypeKeys.quiz&&oe.default.createElement(t,{data:a,theme:"secondary",parent:_,uv:u}))});return oe.default.createElement("div",{className:this.ss("outline-items",r)},p)}}]),t}(),N.propTypes={data:re.default.object,currentHost:re.default.string,locale:re.default.string,theme:re.default.oneOf(["primary","secondary"]),parent:re.default.object,allDone:re.default.bool,uv:re.default.string},N.defaultProps={theme:"primary"},I=M))||I)||I)||I),Ne=t.StatusDot=(D=(0,ke.default)(Se.default),x=(0,Oe.default)(Te.default),D(R=x((A=L=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ie.default),F(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.isFirst,n=e.isLast,r=e.allDone,o=e.status||{},i=o.prevCompleted,s=o.nextCompleted,l=o.completed,u=o.isNext,c=o.hasNext,d="primary"===t?oe.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}):oe.default.createElement("div",{className:this.ss("dot","completed")}),f=a&&!u&&!c&&!r&&!l,p=a&&r&&l;return oe.default.createElement("div",{className:this.ss("status",t)},!a&&oe.default.createElement("div",{className:this.ss("status-bg-up",l&&i&&"completed")},oe.default.createElement("div",{className:this.ss("vertical-line")})),!n&&oe.default.createElement("div",{className:this.ss("status-bg-down",l&&s&&"completed")},oe.default.createElement("div",{className:this.ss("vertical-line")})),oe.default.createElement("div",{className:this.ss("dot-wrap")},l?d:oe.default.createElement("div",{className:this.ss("dot")}),u&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("continue")),f&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("start_here")),p&&oe.default.createElement("div",{className:this.ss("dot-label")},this.__("start_again"))))}}]),t}(),L.propTypes={theme:re.default.oneOf(["primary","secondary"]),isFirst:re.default.bool,isLast:re.default.bool,status:re.default.object,allDone:re.default.bool},R=A))||R)||R)},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get("common.unityVersion.withAll");return t?{withAll:t}:e.get("common.unityVersion.defaultVersionRange")||null}Object.defineProperty(t,"__esModule",{value:!0}),t.MarshallUnityVersionRange=void 0,t.GetMinUnityVersions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(n(t)),i=(0,o.get)(e,"maxVersionId");if(i){var s=r.findIndex(function(e){return e.id===i});if(-1!==s&&r.splice(0,s),!0===a){var l=r.findIndex(function(e){return!0===(0,o.get)(e,"disabled")});-1!==l&&r.splice(l,r.length-l)}}return r},t.GetMaxUnityVersions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[].concat(n(t)),i=(0,o.get)(e,"minVersionId");if(i){var s=r.findIndex(function(e){return e.id===i});if(-1!==s&&r.splice(s+1,r.length-s+1),!0===a){var l=(0,o.findLastIndex)(r,function(e){return!0===(0,o.get)(e,"disabled")});-1!==l&&r.splice(0,l+1)}}return r},t.UnityVersionSaveStatus=function(e,t){var a=(0,o.get)(t,"unityVersionRange"),n=r(e),i=(0,o.get)(a,"minVersionId")||"",s=(0,o.get)(n,"minVersionId")||"",l=(0,o.get)(a,"maxVersionId")||"",u=(0,o.get)(n,"maxVersionId")||"";return i!==s||l!==u},t.GetCurrentUnityVersionRange=r;var o=a(4);t.MarshallUnityVersionRange=function(e){var t=[(0,o.get)(e,"minVersionId")||"",(0,o.get)(e,"maxVersionId")||""].filter(function(e){return!!e});return 0===t.length?"":t.join("_")}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StudyMethod=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["learner.recordMap.",""],["learner.recordMap.",""]),w=s(["project.id"],["project.id"]),E=s(["locale"],["locale"]),k=s(["currentHost"],["currentHost"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(15)),N=n(a(37)),M=n(a(41)),D=n(a(33)),x=a(58),R=a(27),L=n(a(19)),A=a(9),F=n(a(3)),K=n(a(356)),q=n(a(7)),z=n(a(357)),B=(l=(0,P.decorator)({record:(0,j.state)(b,(0,j.props)(w)),locale:(0,j.state)(E),currentHost:(0,j.state)(k)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,T.default),y(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.project,n=t.record,r=t.statsPath,o=t.showProgress,i=t.theme,s=t.navIds,l=t.uv,u=t.locale,c=t.currentHost,d=t.url,f=a||{},p=f.id,m=f.title,h=f.type,_=(0,C.get)(n,"completed"),g=(0,C.get)(a,"withPay"),v=d||(0,L.default)((0,A.GetUrlByNavIds)(s,(0,A.GetDetailPageURL)(a,u,l)),c);return O.default.createElement("div",{className:this.ss("project-wrapper",i)},O.default.createElement("div",{className:this.ss("premium-wrapper")},g&&O.default.createElement(R.PaymentLabel,null)),O.default.createElement("div",{className:this.ss("project-card")},O.default.createElement("a",{className:this.ss("card-link"),href:v},O.default.createElement("div",{className:this.ss("card-img")},O.default.createElement(I.default,{src:(0,C.get)(a,"thumbnail.url"),sizes:"390px",height:220,width:390}),O.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},O.default.createElement(N.default,{id:p,type:h,statsPath:r})),o&&!!n&&O.default.createElement(x.ProgressBar,{data:a,record:n})),O.default.createElement("div",{className:this.ss("card-content")},O.default.createElement("div",{className:this.ss("content-des")},O.default.createElement(U,{data:a}),O.default.createElement("div",{className:this.ss("title")},m),O.default.createElement("div",{className:this.ss("info")},O.default.createElement(D.default,{data:a,theme:i}))),O.default.createElement("div",{className:this.ss("author")},O.default.createElement(M.default,{data:a,theme:i}))))),o&&_&&O.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:S.default.string.isRequired,project:S.default.object,navIds:S.default.array,record:S.default.object,url:S.default.string,theme:S.default.oneOf(["default","dark"]),showProgress:S.default.bool,currentHost:S.default.string,locale:S.default.string,uv:S.default.string},f.defaultProps={navIds:[],theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=B;var U=t.StudyMethod=(m=(0,F.default)(K.default),h=(0,q.default)(z.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,T.default),y(t,[{key:"renderLiveSession",value:function(){var e=this.props.data,t=(0,C.get)(e,"type");return 0===((0,C.get)(e,"liveSessionIds")||[]).length?null:O.default.createElement(R.LiveSessionLabelWithHelp,{type:t})}},{key:"renderStream",value:function(){return(this.props.data||{}).withLab?O.default.createElement(R.StreamIconLabelWithHelp,null):null}},{key:"render",value:function(){var e=this.props.theme,t=this.renderLiveSession(),a=this.renderStream();return t||a?O.default.createElement("div",{className:this.ss("study-method-wrapper",e)},this.renderLiveSession(),O.default.createElement("div",{className:this.ss("dot")}),this.renderStream()):null}}]),t}(),g.propTypes={data:S.default.object,theme:S.default.oneOf(["default","dark"])},g.defaultProps={theme:"default"},_=v))||_)||_)},,function(e,t,a){e.exports=a(14)(880)},function(e,t,a){e.exports=a(14)(885)},function(e,t,a){e.exports=a(14)(886)},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(k);return{customContents:t.customContents&&t.customContents.value,defaultSet:t.defaultSet&&t.defaultSet.value}}function i(e){var t=e.state,a=s(e.missionData);t.set(k,a)}function s(e){return(0,f.Form)({customContents:{value:(0,p.get)(e,"draftCustomContents")||[]},defaultSet:{value:(0,p.get)(e,"defaultSet")||null}})}function l(e){e.state.set([].concat(w),[])}function u(e){var t=e.state,a=e.contentIds,n=t.get("mission.contentMap")||{},r={},o={},i={};a.forEach(function(e){var t=(0,g.GetIdByItemId)(e),a=(0,p.get)(n,""+t),s=a.value,l=a.type;s&&("tutorial"===l&&(r[t]=s),"project"===l&&(o[t]=s),"course"===l&&(i[t]=s))}),t.merge("missionData.tutorialMap",r),t.merge("missionData.projectMap",o),t.merge("missionData.courseMap",i)}function c(e){var t=s(e.get("missionData")),a=e.get(k);return Object.keys(a).every(function(e){switch(e){case"defaultSet":return t[e].value===a[e].value;case"customContents":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=t[e].value[n];return a.title.trim()===r.title.trim()&&(a.description.trim()===r.description.trim()&&(a.contentIds.length===r.contentIds.length&&a.contentIds.every(function(e,t){return e===r.contentIds[t]})))})}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertRecommendationsParams=o,t.getRecommendationsForm=s,t.recommendationsFormSave=function(e,t){t.getSignal("mission.saveRecommendations")()},t.recommendResetSearch=function(e,t){var a=e.get("mission.limitedCheck");t.getSignal("mission.limitedOnlyCheck")({checked:a})},t.isValidRecommendationsForm=function(e){return(0,f.isValidForm)(e.get(k))},t.recommendationsFormSaveStatus=c;var f=a(13),p=a(4),m=a(10),h=a(8),_=a(12),g=a(9),v=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),y=a(54),b=["common","createNewSetDialog"],w=["mission","contentIds"],E=["mission","contentMap"],k=["mission","recommendationsForm"],S=[].concat(k,["customContents","value"]),O={message:"changes_saved_successfully",type:"info2"},T={schema:h.POST_MISSION_RECOMMENDATIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/recommendations",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(O),i({state:n,missionData:a}))},onError:(0,g.onError)("mission")},P={schema:h.POST_MISSION_ADD_SET,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n="/api/learn/mission/"+t.get("missionData.id")+"/addSet",r=a.title,i=a.description,s=a.contentIds,l=o(t);return{endpoint:n,params:d({},l,{setTitle:r,setDescription:i,setContentIds:s})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),i({state:n,missionData:a}),l({state:n}),r.getSignal("header.showMessage")(O),r.getSignal("common.closeCreateNewSetModal")())},onError:(0,g.onError)("mission")},j={schema:h.GET_MISSION_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("missionData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{};return{endpoint:"/api/learn/mission/"+a+"/extends",params:d({edit:n},r)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,p.get)(a,"checkpoint")||{},o=a.breadcrumb||{},i=a.collectMap||{};n.set("checkpoint",r),n.set("breadcrumb",o),n.merge("learner.collectMap",i)}}};t.default={name:e,depends:[],signals:{getMissionExtends:(0,m.CallHTTP)(j),changeRecommendationsFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(f.chains.fieldChanged),[f.chains.validate])}(),createMissionSet:[function(e){var t=e.state,a=e.path,n=t.get(b),r=n.title,o=n.description,i=t.get("mission.contentIds")||[];return!r||i.length<=0?a.no():(u({state:t,contentIds:i}),a.yes({title:r,description:o,contentIds:i}))},{yes:(0,m.CallHTTP)(P),no:[]}],saveRecommendations:[function(){return{formPath:k}}].concat(r(f.chains.formValidated),[function(e){var t=e.state,a=e.path;return c(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(T),no:[]}]),deleteCustomContentConfirm:[v.default.DeleteConfirmed("mission.deleteCustomContent")],limitedOnlyCheck:[function(e){var t=e.state,a=e.props,n=e.controller,r=a.checked;t.set("mission.limitedCheck",r);var o=["t:tutorial","t:project","t:course"];if(!0===r){var i=(0,y.getSkillIdsByMission)({state:t,sid:o});t.set("search.criteria",{k:JSON.stringify(i)})}t.set("search.criteria",{k:JSON.stringify(o)}),n.getSignal("search.doSearch")()}],addSetContent:[function(e){var t=e.state,a=e.props.idx,n=t.get([].concat(w))||[],o=t.get([].concat(r(S)))[a];n.forEach(function(e){if(o){var i=o.contentIds||[],s=(0,_.arrayInsert)(i,e);o.contentIds=s,u({state:t,contentIds:n}),t.set([].concat(r(S),[a]),d({},o))}}),t.set([].concat(w),[])}],toggleContentIds:[function(e){var t=e.state,a=e.props,r=a.value.id,o=a.type,i=a.checked,s=(0,g.GetItemIdByType)({id:r,type:o}),l=t.get(w),u=void 0;!0===i?u=(0,_.arrayInsert)(l,s):!1===i&&(u=(0,_.arrayRemove)(l,s));var c=t.get(E)||{};t.set(E,d({},c,n({},r,a))),t.set(w,u)}],deleteCustomContent:[function(e){var t=e.state,a=e.props,n=a.index,o=a.defaultSet,i=t.get([].concat(r(S)))||[],s=(0,p.get)(i,n+".id");if(i.splice(n,1),s===o||!o){var l=(0,p.get)(i,"0.id")||null;t.set([].concat(k,["defaultSet","value"]),l)}t.set([].concat(r(S)),i)}]},getState:function(e){return{show:!1,limitedCheck:!1,contentIds:[],contentMap:{},recommendationsForm:s(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateRecommendationsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){var t=e.get(b);return{prerequisiteIds:t.prerequisiteIds&&t.prerequisiteIds.value||[]}}function i(e){var t=e.props,a=e.state,n=e.controller,o=t.value,i=t.missionType,s=o.id,l=i+"Ids";a.merge("missionData.missionMap",r({},s,o)),n.getSignal("common.closeSimpleContentModal")();var u=a.get([].concat(b,[l])).value;return{fieldName:l,value:(0,g.arrayInsert)(u,s)}}function s(e){var t=e.props,a=e.state,n=t.data,r=t.missionType,o=n.id,i=r+"Ids",s=a.get([].concat(b,[i])).value;return{fieldName:i,value:(0,g.arrayRemove)(s,o)}}function l(e){return e.map(function(e){return(0,v.GetItemIdByType)({id:e,type:_.DataTypeKeys.mission})})}function u(e){var t=e.props,a=e.state,r=t.value,o=a.get("missionData"),i=(0,m.get)(o,"dependentIds")||[],s=(0,m.get)(o,"id");a.set("mission.mapMissions",l([s].concat(n(r),n(i))))}function c(e){return[function(t){var a=t.props;return{field:[].concat(b,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(p.chains.fieldChanged),[p.chains.validate])}function d(e){return(0,p.Form)({prerequisiteIds:{value:(0,m.get)(e,"prerequisiteIds")||[]},dependentIds:{value:(0,m.get)(e,"dependentIds")||[]}})}function f(e){var t=d(e.get("missionData")),a=e.get(b);return Object.keys(a).every(function(e){return"prerequisiteIds"===e||"dependentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMapParams=o,t.addMissionNode=i,t.removeMissionNode=s,t.getMapForm=d,t.mapFormSave=function(e,t){t.getSignal("mission.saveMissionMap")()},t.isValidMapForm=function(e){return(0,p.isValidForm)(e.get(b))},t.mapFormSaveStatus=f,t.mapResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:mission"])}})};var p=a(13),m=a(4),h=a(10),_=a(8),g=a(12),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),b=["mission","mapForm"],w={message:"changes_saved_successfully",type:"info2"},E={schema:_.POST_MISSION_MAP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/map",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(w))},onError:(0,v.onError)("mission")};t.default={name:e,depends:[],signals:{changeMapFormField:c(),addMissionNode:[i,u].concat(n(c())),removeMissionNodeConfirm:[y.default.DeleteConfirmed("mission.removeMissionNode")],removeMissionNode:[s,u].concat(n(c())),saveMissionMap:[function(){return{formPath:b}}].concat(n(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return f(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(E),no:[]}])},getState:function(e){var t=e.missionData,a=t.prerequisiteIds,r=t.dependentIds,o=t.id;return{mapForm:d(t),mapMissions:l([o].concat(n(a),n(r)))}}}}).call(t,"views/learn/modules/mission/CreateMapStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(S);return{duration:(0,v.get)(t,"duration.value")||0,missionIds:t.missionIds&&t.missionIds.value||[],missionPosition:e.get("pathway.pathwayMap.missionPosition")}}function i(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(g.chains.fieldChanged),[g.chains.validate])}function s(e){return(0,g.Form)({missionIds:{value:(0,v.get)(e,"missionIds")||[]},duration:{value:(0,v.get)(e,"duration")||0,validations:["isValue","minInt:1"],errorMessages:["error_isRequired","error_isRequired"],isRequired:!0}})}function l(e){var t=s(e.get("pathwayData")),a=e.get(S);return Object.keys(a).every(function(e){return"missionIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}function u(e){var t=e.get("pathwayData.missionPosition")||{},a=e.get("pathway.pathwayMap.missionPosition")||{};return t.length===a.length&&Object.keys(a).every(function(e){var n=a[e],r=t[e];return!(!n||!r||n.length!==r.length)&&Object.keys(n).every(function(e){return n[e]===r[e]})})}function c(e){return e.map(function(e){return(0,E.GetItemIdByType)({id:e,type:b.DataTypeKeys.mission})})}function d(e,t,a){function n(e,t,r){if(o[e]&&!i[e]){var f=o[e],p=a[e]?_({},a[e]):{};i[e]=p,c[t]||(c[t]=[]);var m=c[t];m[r]||(m[r]={missionIds:[]});var h=m[r].missionIds;if(!p.top&&0!==p.top&&!p.left&&0!==p.left)if(p.left=r,h.length>0){var g=h[h.length-1],v=i[g];p.top=v.top+1}else p.top=u;p.top+1>l&&(l=p.top+1),p.left+1>s&&(s=p.left+1),h.push(e),(f.dependentIds||[]).forEach(function(e){!0===d[e]&&n(e,t,r+1)})}}var r=(0,v.get)(e,"missionIds.value")||[],o=(0,v.get)(t,"missionMap")||{};a||(a=(0,v.get)(t,"missionPosition")||{});var i={},s=0,l=0,u=0,c=[],d={};r.forEach(function(e){d[e]=!0});var f=0;return r.forEach(function(e){var t=o[e];if(t){var a=(0,v.get)(t,"prerequisiteIds")||[];(0===a.length||a.every(function(e){return!d[e]}))&&(u=l,n(e,f,0),f++)}}),{missionPosition:i,maxHeight:l,maxWidth:s}}function f(e){var t=e.props,a=e.state,n=t.value;a.set("pathway.missionItemIds",c(n))}function p(e){var t=e.props,a=e.state,n=t.value,r=void 0===n?[]:n,o=a.get("pathwayData.missionMap"),i=[];r.forEach(function(e){var t=(0,v.get)(o,e)||{},a=(0,v.get)(t,"skillLevel");a&&i.push(a)});var s=(0,E.GetLowestDifficultyLevel)(i);a.set("pathwayData.skillLevel",s)}function m(e){var t=e.props,a=e.state,n=t.value,r=void 0===n?[]:n,o=a.get("pathwayData.missionMap"),i=0;r.forEach(function(e){var t=(0,v.get)(o,e)||{},a=j(t);i+=(0,v.get)(a,"duration",0)}),a.set("pathwayData.estimatedDuration",i)}function h(e){var t=e.state,a=t.get(S),n=t.get("pathwayData")||{},r=t.get("pathway.pathwayMap.missionPosition");t.set("pathway.pathwayMap",d(a,n,r))}Object.defineProperty(t,"__esModule",{value:!0});var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertMissionsParams=o,t.getMissionsForm=s,t.missionsFormSave=function(e,t){t.getSignal("pathway.saveMissions")()},t.missionsResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:mission"])}})},t.isValidMissionsForm=function(e){return(0,g.isValidForm)(e.get(S))},t.missionsFormSaveStatus=l;var g=a(13),v=a(4),y=a(10),b=a(8),w=a(12),E=a(9),k=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),S=["pathway","missionsForm"],O={message:"changes_saved_successfully",type:"info2"},T={schema:b.POST_PATHWAY_MISSIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/missions",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(O),r.getSignal("pathway.assessmentReset")())},onError:(0,E.onError)("pathway")},P={schema:b.GET_PATHWAY_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/extends",params:{edit:!0===t.get("edit")}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,v.get)(a,"checkpoint")||{},o=a.breadcrumb||{},i=a.collectMap||{};n.set("checkpoint",r),n.set("breadcrumb",o),n.merge("learner.collectMap",i);var s=a.pathwayData||{},l=s.missionIds||[],u=s.statsMap||{},c=s.missionMap||{},d=s.courseMap||{},f=s.tutorialMap||{},p=s.quizMap||{},m=s.projectMap||{},h=_({},n.get("pathwayData"));h.statsMap=_({},h.statsMap,u),h.missionMap=_({},h.missionMap,c),h.tutorialMap=_({},h.courseMap,d),h.missionIds=l,h.tutorialMap=_({},h.tutorialMap,f),h.quizMap=_({},h.quizMap,p),h.projectMap=_({},h.projectMap,m),n.set("pathwayData",h)}}},j=function(e){var t=(0,v.get)(e,"defaultSet");return((0,v.get)(e,"customContents")||[]).find(function(e){return(0,v.get)(e,"id")===t})};t.default={name:e,depends:[],signals:{getPathwayExtends:(0,y.CallHTTP)(P),changeMissionsFormField:i(),addMission:[function(e){var t=e.props,a=e.state,r=e.controller,o=t.value,i=o.id;a.merge("pathwayData.missionMap",n({},i,o)),r.getSignal("common.closeSimpleContentModal")();var s=a.get([].concat(S,["missionIds"])).value;return{fieldName:"missionIds",value:(0,w.arrayInsert)(s,i)}},f,p,m].concat(r(i()),[h]),removeMissionConfirm:[k.default.DeleteConfirmed("pathway.removeMission")],removeMission:[function(e){var t=e.props,a=e.state,n=t.data.id,r=a.get([].concat(S,["missionIds"])).value;return{fieldName:"missionIds",value:(0,w.arrayRemove)(r,n)}},f,p,m].concat(r(i()),[h]),saveMissions:[function(){return{formPath:S}}].concat(r(g.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)&&u(t)?a.no():a.yes()},{yes:(0,y.CallHTTP)(T),no:[]}]),moveMissionPosition:[function(e){var t=e.props,a=e.state,n=t.missionId,r=t.position;a.set("pathway.pathwayMap.missionPosition."+n,_({},r))}],addPathwayMapGrid:[function(e){var t=e.props,a=e.state,n=t.line,r=void 0===n?0:n,o=t.column,i=void 0===o?0:o,s=a.get("pathway.pathwayMap"),l=s.maxWidth,u=s.maxHeight;a.set("pathway.pathwayMap.maxWidth",l+i),a.set("pathway.pathwayMap.maxHeight",u+r)}]},getState:function(e){var t=e.pathwayData,a=(0,v.get)(t,"missionIds")||[],n=s(t);return{missionsForm:n,missionItemIds:c(a),pathwayMap:d(n,t)}}}}).call(t,"views/learn/modules/pathway/CreateMissionsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(E);return{assessmentItems:t.assessmentItems&&t.assessmentItems.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function s(e){var t=e.state,a=l(e.pathwayData);t.set(E,a)}function l(e){return(0,_.Form)({assessmentItems:{value:(0,g.get)(e,"assessmentItems")||[]}})}function u(e){var t=(e.get("pathwayData.missionIds")||[]).map(function(e){return"mid:"+e});e.set("search",{criteria:{k:JSON.stringify(["t:quiz","t:tutorial"].concat(r(t))),exercise:"true"}})}function c(e){var t=l(e.get("pathwayData")),a=e.get(E);return Object.keys(a).every(function(e){return"assessmentItems"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){var r=a.op,o=a.value,i=t[e].value[n],s=i.op,l=i.value;return r===s&&o===l}):t[e].value===a[e].value})}function d(e){var t=e.state,a=e.props,r=e.controller,o=a.value,i=a.type,s=a.assessmentIndex,l=a.assessmentType,u=o.id,c=(0,b.GetItemIdByType)({id:u,type:i});"tutorial"===i&&t.merge("pathwayData.tutorialMap",n({},u,o)),"quiz"===i&&t.merge("pathwayData.quizMap",n({},u,o)),r.getSignal("common.closeSimpleContentModal")();var d=t.get([].concat(E,["assessmentItems"])).value;return d.map(function(e){return e.value}).findIndex(function(e){return e===c})<0&&c&&d.splice(s+1,0,{op:l,value:c}),{fieldName:"assessmentItems",value:d}}function f(e){var t=e.state,a=e.props.index,n=t.get([].concat(E,["assessmentItems"])).value;return a>=0&&(n.splice(a,1),n.length>0&&0===a&&n[a].op===y.LevelSelectsType.Or&&(n[a].op=y.LevelSelectsType.And)),{fieldName:"assessmentItems",value:n}}function p(e){var t=e.state,a=e.props,n=a.value,r=a.index,o=t.get([].concat(E,["assessmentItems"])).value;return o[r].op=n,{fieldName:"assessmentItems",value:o}}function m(e){var t=e.state,a=t.get([].concat(E,["assessmentItems"])).value,n=t.get("pathwayData"),r=n.missionIds,o=n.missionMap;t.set("pathway.assessmentIds",h({assessmentItems:a,missionIds:r,missionMap:o}))}function h(e){var t=e.assessmentItems,a=void 0===t?[]:t,n=e.missionIds,o=void 0===n?[]:n,i=e.missionMap,s=void 0===i?{}:i,l=a.map(function(e){return e.value});return o.forEach(function(e){var t=s[e],a=(0,g.get)(t,"assessmentItem")||[];l=[].concat(r(l),r(a.map(function(e){return e.value})))}),l}Object.defineProperty(t,"__esModule",{value:!0}),t.convertAssessmentsParams=o,t.getAssessmentsForm=l,t.assessmentsFormSave=function(e,t){t.getSignal("pathway.saveAssessments")()},t.assessmentResetSearch=u,t.isValidAssessmentsForm=function(e){return(0,_.isValidForm)(e.get(E))},t.assessmentsFormSaveStatus=c,t.addAssessment=d,t.deleteAssessment=f,t.changeAssessment=p;var _=a(13),g=a(4),v=a(10),y=a(8),b=a(9),w=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),E=["pathway","assessmentsForm"],k={message:"changes_saved_successfully",type:"info2"},S={schema:y.POST_PATHWAY_ASSESSMENTS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/assessments",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(k),s({state:n,pathwayData:a}))},onError:(0,b.onError)("pathway")};t.default={name:e,depends:[],signals:{changeAssessmentsFormField:i(),addAssessment:[d].concat(r(i()),[m]),deleteAssessmentConfirm:[w.default.DeleteConfirmed("pathway.deleteAssessment")],deleteAssessment:[f].concat(r(i()),[m]),changeAssessment:[p].concat(r(i())),assessmentReset:[function(e){var t=e.state,a=e.path;return"a"===t.get("common.tab")?a.yes():a.no()},{yes:[function(e){u(e.state)},m],no:[]}],saveAssessments:[function(){return{formPath:E}}].concat(r(_.chains.formValidated),[function(e){var t=e.state,a=e.path,n=e.controller;return c(t)?a.no():(n.getSignal("common.openVersionModal")({versionStatus:"change"}),a.yes())},{yes:(0,v.CallHTTP)(S),no:[]}])},getState:function(e){var t=e.pathwayData,a=t.assessmentItems,n=t.missionIds,r=t.missionMap;return{assessmentsForm:l(t),assessmentIds:h({assessmentItems:a,missionIds:n,missionMap:r})}}}}).call(t,"views/learn/modules/pathway/CreateAssessmentsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(g);return{points:(0,_.GetCurrentPointReward)(e),skillLevel:t.skillLevel&&t.skillLevel.value,estimationInHour:t.estimationInHour&&t.estimationInHour.value,estimationInMinute:t.estimationInMinute&&t.estimationInMinute.value,topicIds:t.topicIds&&t.topicIds.value||[],materials:t.materials&&t.materials.value||[],prerequisites:t.prerequisites&&t.prerequisites.value||[],group:t.group&&t.group.value||{},hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{},quizSetting:{passNumber:(0,c.get)(t,"passNumber.value",0),freezingTimeInHours:(0,c.get)(t,"freezingTime.value",0)}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(g,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(u.chains.fieldChanged),[u.chains.validate])}function s(e){var t=e.get("quizData"),a=l(t),n=e.get(g);return!(0,_.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,h.default)(e,a,n)})}function l(e,t,a){var n=(0,c.get)(e,"duration")||0,r=(0,p.ParseMinute)(n),o=r.hour,i=r.minute,s={skillLevel:(0,c.get)(e,"skillLevel")||"",estimationInHour:o,estimationInMinute:i,topicIds:(0,c.get)(e,"topicIds")||[],passNumber:(0,c.get)(e,"quizSetting.passNumber",0),freezingTime:(0,c.get)(e,"quizSetting.freezingTimeInHours",0),materials:(0,c.get)(e,"materials")||[],prerequisites:(0,c.get)(e,"prerequisites")||[],group:(0,c.get)(e,"group")||{},hidden:(0,c.get)(e,"hidden")||!1,premium:(0,c.get)(e,"premium")||!1,offline:(0,c.get)(e,"offline")||!1,paymentItem:(0,c.get)(e,"paymentItem")||{}},l=void 0;return l=t&&a?a.get(g):{skillLevel:{validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},estimationInHour:{},estimationInMinute:{},topicIds:{},passNumber:{validations:["isValue","lessOne"],errorMessages:["error_isRequired","error_lessOne"],isRequired:!0},freezingTime:{},materials:{},prerequisites:{},group:{},hidden:{},premium:{},offline:{},paymentItem:{}},Object.keys(s).forEach(function(e){(0,c.set)(l,e+".value",s[e])}),(0,u.Form)(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.isValidDetailsForm=function(e){return(0,u.isValidForm)(e.get(g))},t.detailsFormSave=function(e,t){t.getSignal("quiz.saveQuizDetails")()},t.detailsFormSaveStatus=s,t.getDetailsForm=l;var u=a(13),c=a(4),d=a(10),f=a(8),p=a(9),m=n(a(18)),h=n(a(24)),_=a(31),g=["quiz","detailsForm"],v={message:"changes_saved_successfully",type:"info2"},y={schema:f.POST_QUIZ_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("quizData",a),n.set(g,l(a)),r.getSignal("header.showMessage")(v))},onError:(0,p.onError)("quiz")};t.default={name:e,depends:[],signals:{addQuizTopic:[function(e,t){return(0,p.AddTagAction)(e,t,g)}("topicIds","quizData.topicMap")].concat(r(i())),deleteQuizTopic:[function(e){return(0,p.DeleteTagAction)(e,g)}("topicIds")].concat(r(i())),changeDetailsFormField:i(),saveQuizDetails:[function(){return{formPath:g}}].concat(r(u.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,d.CallHTTP)(y),no:[]}]),moveMaterial:[(0,p.MoveElementAction)(g.join(".")+".materials.value")],movePrerequisites:[(0,p.MoveElementAction)(g.join(".")+".prerequisites.value")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[m.default.DeleteConfirmed("quiz.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[m.default.DeleteConfirmed("quiz.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:l(e.quizData)}}}}).call(t,"views/learn/modules/quiz/CreateDetailsStore.js")},,function(e,t,a){"use strict";function n(e){var t=e.currentUser,a=e.cookieKey,n=e.path,r=(0,s.get)(t,"id","noneUser"),o=f.getItem(a)||"";n=n||(0,s.get)(window,"location.pathname")||"/";var i=new Date;i.setFullYear(i.getFullYear()+1),0!==o.indexOf(""+r)&&(o=""+r,f.setItem(a,o,{path:n,expires:i}))}function r(e){return""!==(f.getItem(e)||"")}function o(e,t){var a=(0,s.get)(e,"id","noneUser");return f.getItem(t)===a}Object.defineProperty(t,"__esModule",{value:!0}),t.checkUAAWelcomeStatus=t.closeUAAWelcome=t.checkWelcomeHeroStatus=t.closeWelcomeHero=t.checkPremiumTourStatus=t.closePremiumTour=t.checkWelcomeStatus=t.closeWelcome=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(a(61)),s=a(4),l="CLOSE_LEARN_HOME_WELCOME_COVID",u="CLOSE_PREMIUM_TOUR",c="CLOSE_LEARN_WELCOME_HERO",d="CLOSE_UAA_PORTAL_WELCOME",f=new i.default;t.closeWelcome=function(e){n({currentUser:e,cookieKey:l,path:"/"})},t.checkWelcomeStatus=function(){return r(l)},t.closePremiumTour=function(e){n({currentUser:e,cookieKey:u,path:"/"})},t.checkPremiumTourStatus=function(e){return o(e,u)},t.closeWelcomeHero=function(e){n({currentUser:e,cookieKey:c,path:"/"})},t.checkWelcomeHeroStatus=function(e){return o(e,c)},t.closeUAAWelcome=function(e){n({currentUser:e,cookieKey:d})},t.checkUAAWelcomeStatus=function(){return r(d)}},,,function(e,t){e.exports=window.moment},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLProjectCardInternal=t.WebGLProjectCard=t.AddWebGLProject=t.SubmissionFeatured=t.SubmissionCard=t.SubmitSection=t.SubmissionDetail=t.SubmissionWebGLForm=t.SubmissionMediaForm=void 0;var r=a(637),o=n(r),i=n(a(643)),s=n(a(658)),l=n(a(559)),u=a(679),c=n(u),d=n(a(682)),f=n(a(685));t.default=o.default,t.SubmissionMediaForm=o.default,t.SubmissionWebGLForm=r.SubmissionWebGLForm,t.SubmissionDetail=i.default,t.SubmitSection=s.default,t.SubmissionCard=l.default,t.SubmissionFeatured=d.default,t.AddWebGLProject=f.default,t.WebGLProjectCard=c.default,t.WebGLProjectCardInternal=u.WebGLProjectCardInternal},,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e=e||{},n=a.date,r=a.hour,o=void 0===r?0:r,i=a.minute,s=void 0===i?0:i;if(!n)return null;var u=o<10?"0"+o:o,c=s<10?"0"+s:s;return(0,l.default)(n+" "+u+":"+c).utcOffset(t,!0)}function o(e,t){var a=(0,l.default)(),n={date:"",year:a.year(),month:a.month(),day:a.date(),hour:0,minute:0};if(e){var r=0===t?(0,l.default)(e).utc():(0,l.default)(e).utcOffset(t);n.date=r.format(s.DateFormat.date),n.year=r.year(),n.month=r.month(),n.day=r.date(),n.hour=r.hour(),n.minute=r.minute()}return n}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a={dayOfYear:0,timeOfDay:"",suffix:0};if(e){var n=0===t?(0,l.default)(e).utc():(0,l.default)(e).utcOffset(t);a.dayOfYear=n.dayOfYear(),a.timeOfDay=n.format("h:mm"),a.suffix=n.format("a")}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.GetRangeTimeValue=function(e){var t=e=e||{},a=t.startTime,n=void 0===a?"":a,r=t.endTime,o=void 0===r?"":r;return n||o?n+"#"+o:""},t.GetRangeTimeObject=function(e){var t=(e=e||"").split("#");return 2===t.length?{startTime:t[0],endTime:t[1]}:null},t.GetMomentTime=r,t.GetMomentNow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0===e?(0,l.default)().utc():(0,l.default)().utcOffset(e)},t.GetMomentTimeByValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(o(e,t),t)},t.GetTimeValue=function(e){var t=r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);return t?t.format():""},t.ParseTime=o,t.OmitUndefined=function(e){return e=e||{},Object.keys(e).forEach(function(t){void 0===e[t]&&delete e[t]}),e},t.ParseTimeOfDay=function(e,t){t=parseInt(t||0,10);var a={start:0,end:0};if(e){var n=e.split("_");2===n.length&&(a.start=parseInt(n[0],10)-t,a.end=parseInt(n[1],10)-t)}return a.start+"_"+a.end},t.UnParseTimeOfDay=function(e,t){t=parseInt(t||0,10);var a={start:0,end:0};if(e){var n=e.split("_");2===n.length&&(a.start=parseInt(n[0],10)+t,a.end=parseInt(n[1],10)+t)}return a.start+"_"+a.end},t.GetDayAndTime=i,t.GetLiveSessionTime=function(e){var t=e.startTime,a=e.endTime,n=e.sep,r=void 0===n?"-":n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=i(t,o),l=s.dayOfYear,c=s.timeOfDay,d=s.suffix,f=i(a,o),p=f.dayOfYear,m=f.timeOfDay,h=f.suffix;return{sessionTime:d===h?c+" "+r+" "+m+" "+d:c+" "+d+" "+r+" "+m+" "+h,timeZone:(0,u.default)().tz(u.default.tz.guess()).format("z"),daysDiff:p-l}};var s=a(8),l=n(a(74)),u=n(a(513))},function(e,t,a){"use strict";function n(e){return f.UserGroups.learnAdmin+"_"+e}function r(e){return f.UserGroups.learnEditor+"_"+e}function o(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!(a&&a.length>0)&&a.some(function(t){return e&&-1!==e.indexOf(t)})}function i(e){return o(e,f.UserGroups.learnAdmin)}function s(e){return o.apply(void 0,[e].concat(p))}function l(e,t){var a=[f.UserGroups.learnAdmin];return t&&a.push(n(t)),o.apply(void 0,[e].concat(a))}function u(e){return o(e,f.UserGroups.learnEditor)}function c(e){return o.apply(void 0,[e].concat(m))}function d(e,t){var a=[f.UserGroups.learnEditor];return t&&a.push(r(t)),o.apply(void 0,[e].concat(a))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o,t.isSuperAdmin=function(e){return o(e,f.UserGroups.superAdmin)},t.isAdmin=function(e){return o(e,f.UserGroups.superAdmin,f.UserGroups.admin)},t.isLearnAdmin=i,t.isLearnAdminAll=s,t.isLearnAdminLocal=l,t.isLearnCreatorAll=function(e){return o(e,f.UserGroups.learnCreator)||s(e)||c(e)},t.isLearnModeratorAll=function(e){return o(e,f.UserGroups.learnModerator)||i(e)||u(e)},t.isLearnEditor=u,t.isLearnEditorAll=c,t.isLearnEditorLocal=d,t.isLearnAdminEditor=function(e){return i(e)||u(e)},t.isLearnAdminEditorAll=function(e){return s(e)||c(e)},t.isLearnAdminEditorLocal=function(e,t){return l(e,t)||d(e,t)};var f=a(8),p=[f.UserGroups.learnAdmin,f.UserGroups.learnAdminEN,f.UserGroups.learnAdminZH,f.UserGroups.learnAdminJA,f.UserGroups.learnAdminKO,f.UserGroups.learnAdminRU,f.UserGroups.learnAdminES,f.UserGroups.learnAdminFR,f.UserGroups.learnAdminDE,f.UserGroups.learnAdminPT],m=[f.UserGroups.learnEditor,f.UserGroups.learnEditorEN,f.UserGroups.learnEditorZH,f.UserGroups.learnEditorJA,f.UserGroups.learnEditorKO,f.UserGroups.learnEditorRU,f.UserGroups.learnEditorES,f.UserGroups.learnEditorFR,f.UserGroups.learnEditorDE,f.UserGroups.learnEditorPT]},function(e,t){e.exports={duration_weeks:"duration_weeks_1CNY",duration_hours:"duration_hours__ngJ",duration_mins:"duration_mins_Q4OM",duration_secs:"duration_secs_1BTI"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(111)),g=n(a(16)),v=n(a(15)),y=a(17),b=n(a(3)),w=n(a(174)),E=n(a(7)),k=n(a(175)),S=a(120),O=(s=(0,b.default)(w.default),l=(0,E.default)(k.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onConfirm=function(){n.props.onConfirm&&n.props.onConfirm()},n.onClose=function(){n.props.onClose&&n.props.onClose()},i=a,o(n,i)}return i(t,h.default),f(t,[{key:"getDialogOptions",value:function(e){var t={confirm:{text:this.__("button_ok"),theme:"thirdly"},cancel:{text:this.__("button_cancel"),theme:""}},a=this.__("title");switch(e){case"tfa":case"delete":t={confirm:{text:this.__("button_yes"),theme:"red"},cancel:{text:this.__("button_no"),theme:""}};break;case"featured":t={confirm:{text:this.__("button_featured_ok"),theme:"primary"},cancel:{text:this.__("button_cancel"),theme:"blue-border"}};break;case"publish":t={confirm:{text:this.__("button_yes"),theme:"primary"},cancel:{text:this.__("button_no"),theme:"blue-border"}}}return{button:t,title:a,description:""}}},{key:"renderIcon",value:function(){var e=this.props.theme;return"delete"===e?m.default.createElement("div",{className:this.ss("icon-wrapper")},m.default.createElement("div",{className:this.ss("icon-bg")},m.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-trash")}))):"tfa"===e?m.default.createElement("div",{className:this.ss("icon-wrapper")},m.default.createElement("div",{className:this.ss("tfa-icon")},m.default.createElement(v.default,{src:S,width:100,height:100,sizes:"200px"}))):null}},{key:"renderButtons",value:function(){var e=this.props,t=e.confirmText,a=e.negateText,n=e.confirmStatus,r=e.theme,o=e.hideCancel,i=e.hideConfirm,s=(0,y.isLoadingOrSucceeded)(n),l=[];if(!o){var u=this.getDialogOptions(r).button.cancel,c=u.text,d=u.theme;l.push(m.default.createElement(g.default,{key:"cancel",disabled:s,theme:d||"default",className:this.ss("button-cancel"),label:a||c,onClick:this.onClose}))}if(!i){var f=this.getDialogOptions(r).button.confirm,p=f.text,h=f.theme;l.push(m.default.createElement(g.default,{key:"ok",loading:s,theme:h||"default",className:this.ss("button-ok"),label:t||p,onClick:this.onConfirm}))}return"delete"===r?l.reverse():l}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.title,n=e.description,r=e.theme,o=this.getDialogOptions(r),i=o.title,s=o.description;return m.default.createElement(_.default,{open:t,position:"center",width:640,title:a||i,onCloseModal:this.onClose},m.default.createElement("div",{className:this.ss("content-wrap",r)},this.renderIcon(),m.default.createElement("div",{className:this.ss("description")},n||s),m.default.createElement("div",{className:this.ss("button-wrap")},this.renderButtons())))}}]),t}(),c.propTypes={open:p.default.bool,title:p.default.string,description:p.default.string,theme:p.default.oneOf(["default","delete","tfa","featured","publish"]),confirmText:p.default.string,negateText:p.default.string,confirmStatus:p.default.string,hideConfirm:p.default.bool,hideCancel:p.default.bool,onConfirm:p.default.func,onClose:p.default.func},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(3)),_=n(a(343)),g=(s=(0,h.default)(_.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n._handleCheck=function(e){!n.props.disable&&n.props.onCheck&&n.props.onCheck(e,!n.props.checked)},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.checked,n=e.disable,r=e.reverse,o=e.label,i=e.theme,s=a?["checked"]:["check"],l=o;return p.default.isValidElement(o)&&(l=""),p.default.createElement("div",{key:t,className:this.ss(r&&"reverse")},p.default.createElement("div",{className:this.ss("container",n&&"disable",""+i),onClick:this._handleCheck},p.default.createElement("button",{className:this.ss.apply(this,s),type:"button"},p.default.createElement("div",{className:this.ss("inner","ifont","ifont-lrn_icon_finish")})),o&&p.default.createElement("div",{className:this.ss("label"),title:l},o)))}}]),t}(),u.propTypes={id:f.default.string,label:f.default.oneOfType([f.default.string,f.default.array,f.default.node]),checked:f.default.bool,onCheck:f.default.func,reverse:f.default.bool,disable:f.default.bool,theme:f.default.string},u.defaultProps={disable:!1},l=c))||l;t.default=g},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ItemCard=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["currentHost"],["currentHost"]),E=s(["browseData.landingPathwayData"],["browseData.landingPathwayData"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(6),P=a(5),j=a(4),C=n(a(15)),I=n(a(19)),N=n(a(51)),M=n(a(37)),D=a(8),x=a(9),R=a(26),L=a(33),A=n(a(3)),F=n(a(182)),K=n(a(7)),q=n(a(49)),z=(l=(0,T.decorator)({currentHost:(0,P.state)(w),landingPathwayData:(0,P.state)(E)}),u=(0,A.default)(F.default),c=(0,K.default)(q.default),l(d=u(d=c((p=f=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.onHandelHeaderSearch=function(){var e=n.state.showPathways;n.setState({showPathways:!e})},n.state={showPathways:!0},n}return i(t,O.default),b(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,R.addClickOutside)([this.refs.pathways,this.refs.pathwaysPopup],function(){e.setState({showPathways:!0})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderPathwaysInner",value:function(){var e=this,t=this.props.landingPathwayData,a=(0,x.GetListDataFeaturesByListName)(t,"page_landing_pathway_featured"),n=this.state.showPathways,r=a.map(function(t,a){return a>1?null:S.default.createElement("div",{key:t.id,className:e.ss("result-item-card")},S.default.createElement(B,{item:t}))});return S.default.createElement("div",{className:this.ss("results-wrapper",n&&"hide")},S.default.createElement("div",{ref:"pathwaysPopup",className:this.ss("results-wrap")},S.default.createElement("div",{className:this.ss("result-title")},this.__("result_title")),S.default.createElement("div",{className:this.ss("result-explaining")},this.__("result_explaining")),S.default.createElement("div",{className:this.ss("result-content")},r)))}},{key:"render",value:function(){var e=this,t=this.state.showPathways;return S.default.createElement("div",{className:this.ss("pathways")},S.default.createElement("div",{ref:"pathways",className:this.ss("pathways-wrap")},S.default.createElement(N.default,{tourTipId:D.TourStepKey.menu_pathways},S.default.createElement("div",{className:this.ss("pathways-label"),onClick:function(){return e.onHandelHeaderSearch()}},this.__("menu_pathways"),S.default.createElement("div",{className:this.ss(t?"unfold":"fold","icon","ifont","ifont-lrn_icon_unfold")})))),this.renderPathwaysInner())}}]),t}(),f.propTypes={currentHost:k.default.string,landingPathwayData:k.default.object},d=p))||d)||d)||d);t.default=z;var B=t.ItemCard=(m=(0,T.decorator)({currentHost:(0,P.state)(w)}),h=(0,A.default)(F.default),_=(0,K.default)(q.default),m(g=h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,O.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.currentHost;if(!t)return null;var n=t.id,r=t.type,o=t.thumbnail,i=t.title,s=t.descPlain,l=(0,j.get)(o,"url"),u="browseData.landing"+this.__("type_"+r)+"Data",c="default";r===D.DataTypeKeys.pathway&&(c="week");var d=(0,I.default)((0,x.GetDetailPageURL)(t),a);return S.default.createElement("a",{className:this.ss("item-card"),href:d},S.default.createElement("div",{className:this.ss("item-card-inner")},S.default.createElement("div",{className:this.ss("card-img")},S.default.createElement(C.default,{sizes:"100vw",src:l})),S.default.createElement("div",{className:this.ss("collect-wrap")},S.default.createElement(M.default,{id:n,type:r,statsPath:u})),S.default.createElement("div",{className:this.ss("card-content")},S.default.createElement("div",{className:this.ss("title")},i),S.default.createElement("div",{className:this.ss("subtitle-wrapper")},S.default.createElement(L.SubTitleV2,{data:t,theme:"dark",durationTheme:c})),S.default.createElement("div",{className:this.ss("description")},s))))}}]),t}(),v.propTypes={currentHost:k.default.string,item:k.default.object},g=y))||g)||g)||g)},function(e,t){e.exports={quality:"quality_3BiY",subtitles_off:"subtitles_off_3XZN",subtitles_settings:"subtitles_settings_3jDF",captions_off:"captions_off_2ocY",captions_settings:"captions_settings_nTq0",show_transcript:"show_transcript_2dwe",hide_transcript:"hide_transcript_3cKj",expand_video:"expand_video_2D7f"}},function(e,t,a){"use strict";function n(e){return void 0!==e&&null!==e&&"function"==typeof e.then}Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=n,t.silencePromise=function(e){n(e)&&e.then(null,function(){})}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(T).map(function(t,a){var n=(0,k.default)(e,a),r=t||{},o=r.id,i=r.type,s=r.labForm,l=r.submissionForm;return h({},t,{title:(0,g.get)(n,"title",t.title),body:(0,g.get)(n,"body",t.body),id:o,type:i,labUrl:(0,g.get)(s,"labUrl.value",""),submissionType:(0,g.get)(l,"submissionType.value")||""})}),a=(0,w.GetCurrentUnityVersionRange)(e),n=e.get(O);return{unityVersionRange:a,skillLevel:n.skillLevel&&n.skillLevel.value,estimationInHour:n.estimationInHour&&n.estimationInHour.value,estimationInMinute:n.estimationInMinute&&n.estimationInMinute.value,sections:t}}function i(e,t,a){return[function(n){var o=n.props;return{field:[].concat(r(j(a||o.index,e||o.form)),[t||o.fieldName]),value:o.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function s(e){var t=(0,g.get)(e,"duration")||0,a=(0,b.ParseMinute)(t),n=a.hour,r=a.minute;return(0,_.Form)({skillLevel:{value:(0,g.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},estimationInHour:{value:n},estimationInMinute:{value:r}})}function l(e){return e=e||{},(0,_.Form)({labUrl:{value:(0,g.get)(e,"labUrl")||"",validations:["isValue","isUrl"],errorMessages:["error_isRequired","error_URL"],isRequired:!0}})}function u(e){return e=e||{},(0,_.Form)({submissionType:{value:(0,g.get)(e,"submissionType")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function c(e){var t=e.state,a=t.get(T).map(function(e,a){var n=(0,k.default)(t,a),r=n.title,o=n.body;return h({},e,{title:r,body:o})});t.set(T,a)}function d(e,t){var a={};(e.get(T)||[]).forEach(function(e){a[e.id]=e});var n=(0,g.get)(t,"sections")||[];e.set("tutorialData.sections",n),e.set(T,n.map(function(e,t){return D(a,e,t)}))}function f(e){return(e.get(T)||[]).every(function(e){return e.type===y.StepTypes.lab?(0,_.isValidForm)(e.labForm):e.type!==y.StepTypes.submission||(0,_.isValidForm)(e.submissionForm)})}function p(e,t){return!!t&&(e.type===t.type&&(e.type===y.StepTypes.lab?((0,g.get)(e,"labForm.labUrl.value")||"")===t.labUrl:e.type!==y.StepTypes.submission||((0,g.get)(e,"submissionForm.submissionType.value")||"")===t.submissionType))}function m(e){var t=e.get("tutorialData"),a=e.get("tutorial"),n=s(t),r=e.get(O);if((0,w.UnityVersionSaveStatus)(e,t))return!1;var o=Object.keys(r).every(function(e){return n[e].value===r[e].value});if(o){var i=(0,g.get)(t,"sections"),l=(0,g.get)(a,"sections");o=i.length===l.length&&i.every(function(t,a){var n=(0,k.default)(e,a),r=(0,b.cleanKeyForEditorBody)(n.body),o=(0,b.cleanKeyForEditorBody)(t.body);if(t.optionType===(0,g.get)(l,a+".optionType")){if(o===r)return t.title===n.title&&p(l[a],t);if(!(0,E.getDraftPlainText)(t.body))return t.title===n.title&&!(0,E.getDraftPlainText)(n.body)&&p(l[a],t)}return!1})}return o}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertStepsParams=o,t.getStepsForm=s,t.getStepLabForm=l,t.syncStepsSections=d,t.isValidStepsForm=function(e){return(0,_.isValidForm)(e.get(O))&&f(e)},t.stepsFormSave=function(e,t){t.getSignal("tutorial.saveTutorialSteps")()},t.stepsFormSaveStatus=m;var _=a(13),g=a(4),v=a(10),y=a(8),b=a(9),w=a(59),E=a(21),k=n(E),S=n(a(18)),O=["tutorial","stepsForm"],T="tutorial.sections",P="tutorial.collapseMap",j=function(e,t){return["tutorial","sections",e,t]},C={message:"changes_saved_successfully",type:"info2"},I={schema:y.POST_TUTORIAL_STEPS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/steps",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),d(n,a),r.getSignal("common.syncPoint")({tutorialData:a}),r.getSignal("header.showMessage")(C))},onError:(0,b.onError)("tutorial")},N={schema:y.GET_TUTORIAL_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("tutorialData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/tutorial/"+a+"/extends",i=h({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=(0,g.get)(a,"tutorialData"),i=(0,g.get)(o,"solutionPlan"),s=(0,g.get)(o,"contentMap")||{},l=(0,g.get)(o,"tipMap")||{},u=(0,g.get)(o,"statsMap")||{},c=(0,g.get)(a,"commentData")||{},f=(0,g.get)(a,"collectMap")||{},p=(0,g.get)(a,"likeMap")||{},m=(0,g.get)(a,"reportMap")||{},_=(0,g.get)(a,"breadcrumb")||{},v=(0,g.get)(a,"checkpoint")||{};n.set("breadcrumb",_),n.set("checkpoint",v),d(n,o),n.set("tutorialData.contentMap",s),n.merge("tutorialData.statsMap",u),n.set("editor.contentMap",s),n.set("editor.tipDialog.tipMap",l),n.set("learner.collectMap",f),n.set("learner.likeMap",p),n.set("learner.reportMap",m),n.set("commentData",c),i&&(n.set("tutorialData.solutionPlan",i),n.set("tutorial.solutionPlan",h({},i))),r.getSignal("comment.jumpToMessage")()}}},M={schema:y.POST_TUTORIAL_ADD_STEP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/addStep/"+(a.type||""),params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),d(n,a),r.getSignal("common.syncPoint")({tutorialData:a}),r.getSignal("header.showMessage")(C))},onError:(0,b.onError)("tutorial")},D=function(e,t){t=t||{};var a=(0,g.get)(e,t.id);return t.type===y.StepTypes.lab?h({},t,{labForm:(0,g.get)(a,"labForm")||l(t)}):t.type===y.StepTypes.submission?h({},t,{submissionForm:(0,g.get)(a,"submissionForm")||u(t)}):t};t.default={name:e,depends:[],signals:{getTutorialExtends:(0,v.CallHTTP)(N),changeStepsFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(O,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}(),createTutorialSection:[c,function(e){var t=e.state,a=e.props,n=e.path,r=t.get(T)||[];if(r.length>0){if(a.type===y.StepTypes.lab&&r.some(function(e){return e.type===y.StepTypes.lab}))return n.no({message:"tutorial_exceed_lab_limit_1"});if(a.type===y.StepTypes.submission&&r.some(function(e){return e.type===y.StepTypes.submission}))return n.no({message:"tutorial_exercise_exceed_submission_limit_1"})}return n.yes()},{yes:(0,v.CallHTTP)(M),no:[function(e){var t=e.controller,a=e.props;t.getSignal("header.showMessage")({message:a.message})}]}],saveTutorialSteps:[c,function(e){var t=_.chains.formValidated[0];e.props.formPath=O,t(e),(e.state.get(T)||[]).forEach(function(a,n){a.type===y.StepTypes.lab&&(e.props.formPath=j(n,"labForm"),t(e)),a.type===y.StepTypes.submission&&(e.props.formPath=j(n,"submissionForm"),t(e))})},function(e){var t=e.state,a=e.path;return m(t)?a.no():a.yes()},{yes:(0,v.CallHTTP)(I),no:[]}],moveSection:[c,(0,b.MoveElementAction)(T)],deleteSection:[c,function(e){var t=e.state,a=e.props.index,n=t.get(T);n.splice(a,1),t.set(T,n)}],deleteSectionConfirm:[S.default.DeleteConfirmed("tutorial.deleteSection")],deleteSubmissionSectionConfirm:[S.default.DeleteConfirmed("tutorial.deleteSection","submission_step")],changeLabUrl:[c].concat(r(i("labForm","labUrl"))),changeSubmissionType:[c].concat(r(i("submissionForm","submissionType"))),changeCollapseStatus:[function(e){var t=e.state,a=e.props.id,n=t.get(P),r={};r[a]=!(0,g.get)(n,""+a),t.merge(P,r)}],changeAllCollapseStatus:[function(e){var t=e.state,a=e.props.value,n=t.get(P),r={};t.get(T).forEach(function(e){n[e.id]!==a&&(r[e.id]=a)}),t.merge(P,r)}],changeSectionOption:[c,function(e){var t=e.state,a=e.props,n=[].concat(r(t.get(T)||[])),o=a.index,i=a.value;o<n.length&&(n[o].optionType=i,t.set(T,n))}]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=(0,g.get)(t,"sections")||[];return{stepsForm:s(t),sections:a.map(function(e,t){return D({},e,t)}),collapseMap:{}}}}}).call(t,"views/learn/modules/tutorial/CreateStepsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{},skillIds:t.skillIds&&t.skillIds.value||[]}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,h.AddTagAction)(e,t,y)}function l(e){return(0,h.DeleteTagAction)(e,y)}function u(e){var t=e.get("tutorialData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})},skillIds:{value:(0,f.get)(e,"skillIds")||[]}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("tutorial.saveTutorialDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(4),p=a(10),m=a(8),h=a(9),_=n(a(18)),g=n(a(24)),v=a(31),y=["tutorial","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:m.POST_TUTORIAL_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,h.onError)("tutorial")},E={schema:m.GET_TUTORIAL_SYNC,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state.get("tutorialData");return{endpoint:"/api/learn/tutorial/"+(0,f.get)(t,"id")+"/sync"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,f.get)(a,"skillIds")||[];(0,h.MergeFormIdsValue)({state:n,fieldName:[].concat(y,["skillIds","value"]),resourceIds:n.get("tutorialData.skillIds")||[],targetIds:r}),n.set("tutorialData.skillIds",r),n.merge("tutorialData.learnSkillMap",(0,f.get)(a,"learnSkillMap")||{})}},onError:(0,h.onError)("tutorial")};t.default={name:e,depends:[],signals:{addTutorialTag:[s("tagIds","tutorialData.skillMap")].concat(r(i())),addTutorialPackage:[s("packageIds","tutorialData.packageMap")].concat(r(i())),addTutorialTopic:[s("topicIds","tutorialData.topicMap")].concat(r(i())),addTutorialIndustry:[s("industryIds","tutorialData.industryMap")].concat(r(i())),deleteTutorialTag:[l("tagIds")].concat(r(i())),deleteTutorialPackage:[l("packageIds")].concat(r(i())),deleteTutorialTopic:[l("topicIds")].concat(r(i())),deleteTutorialIndustry:[l("industryIds")].concat(r(i())),addTutorialSkill:[s("skillIds")].concat(r(i())),deleteTutorialSkill:[l("skillIds")].concat(r(i())),moveSkillContent:[(0,h.MoveElementAction)(y.join(".")+".skillIds.value")],changeDetailsFormField:i(),saveTutorialDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(w),no:[]}],moveMaterial:[(0,h.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,h.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[_.default.DeleteConfirmed("tutorial.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[_.default.DeleteConfirmed("tutorial.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[_.default.DeleteConfirmed("tutorial.changeDetailsFormField")],resourceUpdated:[function(e){var t=e.state,a=e.props,n=e.controller;t.get("tutorialData").id===a.id&&n.getSignal("common.openForceResourceDialog")()}],syncTutorial:(0,p.CallHTTP)(E)},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.tutorialData)}}}}).call(t,"views/learn/modules/tutorial/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=e.projectData,n=l(a),r=_(a);t.set(T,n),t.set(P,r)}function i(e){var t=e.get(T),a=t.contentIds&&t.contentIds.value||[],n=e.get("projectData"),r=n.tutorialMap,o=n.quizMap,i=function(e){return!!(0,k.GetDataByItemId)({itemId:e,tutorialMap:r,quizMap:o})},s=t.isChallenge&&t.isChallenge.value,l=(e.get(P)||[]).map(function(e){var t=e.groupForm,a=t.contentIds&&t.contentIds.value||[];return{title:t.title&&t.title.value,contentIds:a.filter(i)}}),u=(0,y.get)(t,"estimationInHour.value")||0,c=(0,y.get)(t,"estimationInMinute.value")||0,d=(0,y.get)(t,"withManual.value"),f=d?60*u+c:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(i),isChallenge:s,tutorialGroups:l,withManual:d,manualDuration:f}}function s(e){return[function(t){var a=t.props;return{field:[].concat(T,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(v.chains.fieldChanged),[v.chains.validate])}function l(e){var t=(0,y.get)(e,"withManual"),a=t?(0,y.get)(e,"manualDuration"):(0,y.get)(e,"duration"),n=(0,k.ParseMinute)(a),r=n.hour,o=n.minute;return(0,v.Form)({skillLevel:{value:(0,y.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,y.get)(e,"draftContentIds")||[]},isChallenge:{value:(0,y.get)(e,"isChallenge",!1)},estimationInHour:{value:r},estimationInMinute:{value:o},withManual:{value:t}})}function u(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("projectData"),o=r.tutorialMap,i=r.quizMap,s=n.reduce(function(e,t){var a=(0,k.GetDataByItemId)({itemId:t,tutorialMap:o,quizMap:i});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("projectData.duration",s)}function c(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("projectData"),o=r.tutorialMap,i=r.quizMap,s=(0,O.GetEstimationPoints)({contentIds:n,tutorialMap:o,quizMap:i});a.set("projectData.estimationPoints",s)}function d(e){var t=e.get("projectData"),a=l(t),n=e.get(T),r=Object.keys(n).every(function(e){return"contentIds"===e?a[e].value.length===n[e].value.length&&n[e].value.every(function(t,n){return t===a[e].value[n]}):a[e].value===n[e].value});if(r&&!0===n.isChallenge.value){var o=e.get(P),i=_(t);if(o.length!==i.length)return!1;r=o.every(function(e,t){if(!o[t]||!i[t])return!1;var a=o[t].groupForm,n=i[t].groupForm;return["title","contentIds"].every(function(e){return"contentIds"===e?n[e].value.length===a[e].value.length&&a[e].value.every(function(t,a){return t===n[e].value[a]}):a[e].value===n[e].value})})}return r}function f(e){return e=e||{},(0,v.Form)({title:{value:(0,y.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,y.get)(e,"draftContentIds")||[]}})}function p(e){return[function(t){var a=t.props;return{field:[].concat(r(D(a.groupIndex)),[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(v.chains.fieldChanged),[v.chains.validate])}function m(e){var t=e.props,a=e.path;return"groupIndex"in t&&t.groupIndex>=0?a.yes(g({},t,{statePath:D(t.groupIndex).join(".")+".contentIds.value"})):a.no()}function h(e){var t=[];return(e.state.get("project.contentGroups")||[]).forEach(function(e){var a=e.groupForm,n=a.contentIds&&a.contentIds.value;t.push.apply(t,r(n))}),{value:(0,y.uniq)(t)}}function _(e){var t=(0,y.get)(e,"tutorialGroups")||[];return 0===t.length&&t.push(M),t.map(N)}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=i,t.getContentForm=l,t.isValidContentForm=function(e){return(0,v.isValidForm)(e.get(T))},t.contentFormSave=function(e,t){t.getSignal("project.saveProjectContent")()},t.contentFormSaveStatus=d,t.getContentGroupForm=f;var v=a(13),y=a(4),b=a(10),w=a(8),E=a(12),k=a(9),S=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),O=a(31),T=["project","contentForm"],P=["project","contentGroups"],j={message:"changes_saved_successfully",type:"info2"},C={schema:w.POST_PROJECT_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/content",params:i(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),r.getSignal("header.showMessage")(j),o({state:n,projectData:a}))},onError:(0,k.onError)("project")},I={schema:w.GET_PROJECT_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("projectData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/project/"+a+"/extends",i=g({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.breadcrumb||{},i=a.checkpoint||{},s=a.collectMap||{};n.set("breadcrumb",r),n.set("checkpoint",i),n.merge("learner.collectMap",s);var l=a.projectData||{},u=l.contentIds||[],c=l.draftContentIds||[],d=l.tutorialGroups||[],f=l.statsMap||{},p=l.tutorialMap||{},m=l.quizMap||{},h=g({},n.get("projectData"));h.contentIds=u,h.draftContentIds=c,h.tutorialGroups=d,h.statsMap=g({},h.statsMap,f),h.tutorialMap=g({},h.tutorialMap,p),h.quizMap=g({},h.quizMap,m),n.set("projectData",h),o({state:n,projectData:h})}}},N=function(e){return e=e||{},g({},e,{groupForm:f(e)})},M={title:"",contentIds:[]},D=function(e){return[].concat(P,[e,"groupForm"])};t.default={name:e,depends:[],signals:{getProjectExtends:(0,b.CallHTTP)(I),changeContentFormField:s(),changeContentGroupFormField:p(),saveProjectContent:[function(){return{formPath:T}},[].concat(r(v.chains.formValidated)),function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,b.CallHTTP)(C),no:[]}],deleteContentConfirm:[S.default.DeleteConfirmed("project.deleteContent")],addContent:[m,{yes:[function(e){var t=e.props,a=e.state,o=t.groupIndex,i=t.value.id,s=t.type;"tutorial"===s&&a.merge("projectData.tutorialMap",n({},i,t.value)),"quiz"===s&&a.merge("projectData.quizMap",n({},i,t.value));var l=(0,k.GetItemIdByType)({id:i,type:s}),u=a.get([].concat(r(D(o)),["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayInsert)(u,l),groupIndex:o}}].concat(r(p()),[h,u,c],r(s("contentIds"))),no:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type;"tutorial"===o&&a.merge("projectData.tutorialMap",n({},r,t.value)),"quiz"===o&&a.merge("projectData.quizMap",n({},r,t.value));var i=(0,k.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(T,["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayInsert)(s,i)}},u,c].concat(r(s()))}],deleteContent:[m,{yes:[function(e){var t=e.props,a=e.state,n=t.groupIndex,o=t.value.id,i=t.type,s=(0,k.GetItemIdByType)({id:o,type:i}),l=a.get([].concat(r(D(n)),["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayRemove)(l,s)}}].concat(r(p()),[h,u,c],r(s("contentIds"))),no:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,k.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(T,["contentIds"])).value;return{fieldName:"contentIds",value:(0,E.arrayRemove)(i,o)}},u,c].concat(r(s()))}],moveContent:[m,{yes:[(0,k.MoveElementAction)()],no:[(0,k.MoveElementAction)(T.join(".")+".contentIds.value")]}],createContentGroup:[function(e){var t=e.state,a=g({},M,{groupForm:f(M)}),n=t.get(P);n.push(a),t.set(P,n)}],removeContentGroupInternal:[function(e){var t=e.props,a=e.state,n=t.groupIndex,r=a.get(P);r.splice(n,1),a.set(P,r)}],removeContentGroup:[S.default.DeleteConfirmed("project.removeContentGroupInternal")]},getServices:function(){return{}},getState:function(e){var t=e.projectData;return{contentForm:l(t),contentGroups:_(t)}}}}).call(t,"views/learn/modules/project/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,_.AddTagAction)(e,t,y)}function l(e){return(0,_.DeleteTagAction)(e,y)}function u(e){var t=e.get("projectData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("project.saveProjectDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(4),p=n(a(18)),m=a(10),h=a(8),_=a(9),g=n(a(24)),v=a(31),y=["project","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:h.POST_PROJECT_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,_.onError)("project")};t.default={name:e,depends:[],signals:{addProjectTag:[s("tagIds","projectData.skillMap")].concat(r(i())),addProjectPackage:[s("packageIds","projectData.packageMap")].concat(r(i())),addProjectTopic:[s("topicIds","projectData.topicMap")].concat(r(i())),addProjectIndustry:[s("industryIds","projectData.industryMap")].concat(r(i())),deleteProjectTag:[l("tagIds")].concat(r(i())),deleteProjectPackage:[l("packageIds")].concat(r(i())),deleteProjectTopic:[l("topicIds")].concat(r(i())),deleteProjectIndustry:[l("industryIds")].concat(r(i())),changeDetailsFormField:i(),saveProjectDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(w),no:[]}],moveMaterial:[(0,_.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,_.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[p.default.DeleteConfirmed("project.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[p.default.DeleteConfirmed("project.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[p.default.DeleteConfirmed("project.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.projectData)}}}}).call(t,"views/learn/modules/project/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return{questions:s(e),unityVersionRange:(0,y.GetCurrentUnityVersionRange)(e)}}function r(e){return[i,function(t){var a=t.state,n=t.props.index,r=a.get(E);r.length>n&&(0,m.get)(r,n+".quizFeedback")&&(delete r[n].quizFeedback[e],a.set(E,r))}]}function o(e){return[i,function(t){var a=t.state,n=t.props.index,r=a.get(E)||[],o=r[n].quizFeedback||{};(0,m.set)(o,e,JSON.stringify(T)),r[n].quizFeedback=p({},o),a.set(E,r)}]}function i(e){var t=e.state,a=s(t);t.set(E,a)}function s(e){return e.get(E).map(function(t,a){var n=(0,m.get)(t,"quizFeedback.correct");n=n&&((0,v.parseEditorContent)(e,"editorQuestionCorrect_"+a).body||n);var r=(0,m.get)(t,"quizFeedback.wrong");r=r&&((0,v.parseEditorContent)(e,"editorQuestionWrong_"+a).body||r);var o=(0,m.get)(t,"body"),i=(0,v.parseEditorContent)(e,"editor_quiz_question_"+a).body||o,s=p({},t);i&&(s.body=i);var u=l(t,a,e);return u&&u.length>0&&(s.options=u),(n||r)&&(s.quizFeedback={correct:n,wrong:r}),s})}function l(e,t,a){return((0,m.get)(e,"options")||[]).map(function(e,n){var r=(0,m.get)(e,"body"),o=(0,v.parseEditorContent)(a,"editor_quiz_question_"+t+"_option_"+n).body||r,i=p({},e);return o&&(i.body=o),i})}function u(e){var t=e.get("quizData"),a=e.get("quiz"),n=(0,m.get)(t,"questions"),r=(0,m.get)(a,"questions");if((0,y.UnityVersionSaveStatus)(e,t))return!1;return r.length===n.length&&r.every(function(e,t){var a=n[t],r=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"body")),o=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"body")),i=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"quizFeedback.correct")||""),s=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"quizFeedback.correct")||""),l=(0,g.cleanKeyForEditorBody)((0,m.get)(a,"quizFeedback.wrong")||""),u=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"quizFeedback.wrong")||""),p=(0,m.get)(a,"shuffleOptions"),h=(0,m.get)(e,"shuffleOptions");return!!(f(r,o)&&f(i,s)&&f(l,u)&&p===h)&&(d(a,e)&&c(a,e))})}function c(e,t){var a=(0,m.get)(e,"options")||[],n=(0,m.get)(t,"options")||[];return a.length===n.length&&n.every(function(e,t){var n=a[t],r=(0,g.cleanKeyForEditorBody)((0,m.get)(n,"body")),o=(0,g.cleanKeyForEditorBody)((0,m.get)(e,"body")),i=(0,m.get)(n,"correct")||!1,s=(0,m.get)(e,"correct")||!1;return!(!f(r,o)||i!==s)})}function d(e,t){var a=(0,m.get)(e,"skillIds")||[],n=(0,m.get)(t,"skillIds")||[];return a.length===n.length&&n.every(function(e,t){return e===a[t]})}function f(e,t){return e===t||!(!e||(0,v.getDraftPlainText)(e)||!t||(0,v.getDraftPlainText)(t))}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertQuestionsParams=n,t.questionsFormSave=function(e,t){t.getSignal("quiz.saveQuizQuestions")()};var m=a(4),h=a(10),_=a(8),g=a(9),v=a(21),y=a(59),b=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),w=a(69),E="quiz.questions",k={message:"changes_saved_successfully",type:"info2"},S={schema:_.POST_QUIZ_QUESTIONS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/questions",params:n(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){n.merge("quizData",a),n.set("quiz.detailsForm",(0,w.getDetailsForm)(a,!0,n));var o=(0,m.get)(a,"questions");n.set(E,JSON.parse(JSON.stringify(o))),r.getSignal("header.showMessage")(k)}},onError:(0,g.onError)("quiz")},O={schema:_.GET_QUIZ_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=a.get("quizData.id"),r=!0===a.get("edit"),o=!0===t.detail,i=a.get("learner.parentIds")||{},s="/api/learn/quiz/"+n+"/extends",l=p({edit:r,detail:o},i),u=a.get("common.uv");return u&&(l.uv=u),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,m.get)(a,"quizData"),o=(0,m.get)(r,"questions"),i=(0,m.get)(r,"contentMap"),s=(0,m.get)(r,"recommendMap"),l=(0,m.get)(r,"statsMap"),u=(0,m.get)(a,"breadcrumb")||{},c=(0,m.get)(a,"checkpoint")||{},d=(0,m.get)(a,"collectMap")||{};n.set("breadcrumb",u),n.set("checkpoint",c),n.set(E,JSON.parse(JSON.stringify(o))),n.set("quizData.questions",o),n.set("quizData.contentMap",i),n.set("quizData.recommendMap",s),n.merge("quizData.statsMap",l),n.set("editor.contentMap",i),n.merge("learner.collectMap",d)}}},T={blocks:[{key:"b0000",text:"",type:"unstyled",depth:0,entityRanges:null,inlineStyleRanges:null}],entityMap:{}};t.default={name:e,depends:[],signals:{getQuizExtends:(0,h.CallHTTP)(O),createQuizQuestion:[i,function(e){var t=e.state,a={body:JSON.stringify(T),contentIds:[],skillIds:[],shuffleOptions:!1,options:[{body:JSON.stringify(T),correct:!1},{body:JSON.stringify(T),correct:!1}]},n=t.get(E);n.push(a),t.set(E,n)}],createQuizOption:[i,function(e){var t=e.props,a=e.state,n=t.index,r=a.get(E);if(n<r.length){var o={body:JSON.stringify(T)},i=(0,m.get)(r,n+".options")||[];i.push(o),r[n].options=i,a.set(E,r)}}],saveQuizQuestions:[i,function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(S),no:[]}],moveQuestion:[i,(0,g.MoveElementAction)(E)],deleteQuestion:[i,function(e){var t=e.state,a=e.props.index,n=t.get(E);n.length>a&&(n.splice(a,1),t.set(E,n))}],deleteOption:[i,function(e){var t=e.state,a=e.props,n=a.parentIndex,r=a.index,o=t.get(E);if(o.length>n){var i=(0,m.get)(o,n+".options")||[];i.length>r&&(i.splice(r,1),t.set(E,o))}}],deleteCorrectFeedback:r("correct"),deleteWrongFeedback:r("wrong"),changeShuffleOptions:[i,function(e){var t=e.state,a=e.props.index,n=t.get(E);if(n.length>a){var r=n[a].shuffleOptions;n[a].shuffleOptions=!r,t.set(E,n)}}],changeOptionCorrect:[i,function(e){var t=e.state,a=e.props,n=a.parentIndex,r=a.index,o=t.get(E);if(o.length>n){var i=o[n].options||[];if(i.length>r){var s=i[r],l=s.correct;s.correct=!l,t.set(E,o)}}}],createCorrectFeedback:o("correct"),createWrongFeedback:o("wrong"),deleteQuestionConfirm:[b.default.DeleteConfirmed("quiz.deleteQuestion")],deleteOptionConfirm:[b.default.DeleteConfirmed("quiz.deleteOption")],deleteCorrectFeedbackConfirm:[b.default.DeleteConfirmed("quiz.deleteCorrectFeedback")],deleteWrongFeedbackConfirm:[b.default.DeleteConfirmed("quiz.deleteWrongFeedback")],addQuestionSkill:[(0,g.AddSliceFieldAction)("skillIds",E.split("."))],deleteQuestionSkill:[(0,g.DeleteSliceFieldAction)("skillIds",E.split("."))],moveQuestionSkill:[function(e){var t=e.props;return{statePath:E+"."+t.questionIndex+".skillIds"}},(0,g.MoveElementAction)()]},getServices:function(){return{}},getState:function(e){var t=e.quizData;return{questions:(0,m.get)(t,"questions")||[]}}}}).call(t,"views/learn/modules/quiz/CreateQuestionsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=l(e.courseData);t.set(w,a)}function i(e){var t=e.get(w),a=t.contentIds&&t.contentIds.value||[],n=e.get("courseData"),r=n.tutorialMap,o=n.projectMap,i=n.quizMap,s=(0,m.get)(t,"estimationInHour.value")||0,l=(0,m.get)(t,"estimationInMinute.value")||0,u=(0,m.get)(t,"withManual.value"),c=u?60*s+l:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(function(e){return!!(0,v.GetDataByItemId)({itemId:e,tutorialMap:r,projectMap:o,quizMap:i})}),withManual:u,manualDuration:c}}function s(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(p.chains.fieldChanged),[p.chains.validate])}function l(e){var t=(0,m.get)(e,"withManual"),a=t?(0,m.get)(e,"manualDuration"):(0,m.get)(e,"duration"),n=(0,v.ParseMinute)(a),r=n.hour,o=n.minute;return(0,p.Form)({skillLevel:{value:(0,m.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},contentIds:{value:(0,m.get)(e,"draftContentIds")||[]},estimationInHour:{value:r},estimationInMinute:{value:o},withManual:{value:t}})}function u(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("courseData"),o=r.tutorialMap,i=r.projectMap,s=r.quizMap,l=n.reduce(function(e,t){var a=(0,v.GetDataByItemId)({itemId:t,tutorialMap:o,projectMap:i,quizMap:s});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("courseData.duration",l)}function c(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("courseData"),o=r.tutorialMap,i=r.projectMap,s=r.quizMap,l=(0,b.GetEstimationPoints)({contentIds:n,tutorialMap:o,quizMap:s,projectMap:i});a.set("courseData.estimationPoints",l)}function d(e){var t=l(e.get("courseData")),a=e.get(w);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=i,t.getContentForm=l,t.contentFormSave=function(e,t){t.getSignal("course.saveCourseContent")()},t.isValidContentForm=function(e){return(0,p.isValidForm)(e.get(w))},t.contentFormSaveStatus=d;var p=a(13),m=a(4),h=a(10),_=a(8),g=a(12),v=a(9),y=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),b=a(31),w=["course","contentForm"],E={message:"changes_saved_successfully",type:"info2"},k={schema:_.POST_COURSE_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/content",params:i(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),r.getSignal("header.showMessage")(E),o({state:n,courseData:a}))},onError:(0,v.onError)("course")},S={schema:_.GET_COURSE_EXTENDS,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("courseData.id"),n=!0===t.get("edit"),r=t.get("learner.parentIds")||{},o="/api/learn/course/"+a+"/extends",i=f({edit:n},r),s=t.get("common.uv");return s&&(i.uv=s),{endpoint:o,params:i}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.breadcrumb||{},i=a.checkpoint||{},s=a.collectMap||{};n.set("breadcrumb",r),n.set("checkpoint",i),n.merge("learner.collectMap",s);var l=a.courseData||{},u=l.contentIds||[],c=l.draftContentIds||[],d=l.statsMap||{},p=l.tutorialMap||{},m=l.quizMap||{},h=l.projectMap||{},_=f({},n.get("courseData"));_.contentIds=u,_.draftContentIds=c,_.statsMap=f({},_.statsMap,d),_.tutorialMap=f({},_.tutorialMap,p),_.quizMap=f({},_.quizMap,m),_.projectMap=f({},_.projectMap,h),n.set("courseData",_),o({state:n,courseData:_})}}};t.default={name:e,depends:[],signals:{getCourseExtends:(0,h.CallHTTP)(S),changeContentFormField:s(),saveCourseContent:[function(){return{formPath:w}}].concat(r(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(k),no:[]}]),deleteContentConfirm:[y.default.DeleteConfirmed("course.deleteContent")],addContent:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type;o===_.DataTypeKeys.tutorial&&a.merge("courseData.tutorialMap",n({},r,t.value)),o===_.DataTypeKeys.project&&a.merge("courseData.projectMap",n({},r,t.value)),o===_.DataTypeKeys.quiz&&a.merge("courseData.quizMap",n({},r,t.value));var i=(0,v.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(w,["contentIds"])).value;return{fieldName:"contentIds",value:(0,g.arrayInsert)(s,i)}},u,c].concat(r(s())),deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,v.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(w,["contentIds"])).value;return{fieldName:"contentIds",value:(0,g.arrayRemove)(i,o)}},u,c].concat(r(s())),moveContent:[(0,v.MoveElementAction)(w.join(".")+".contentIds.value")]},getServices:function(){return{}},getState:function(e){return{contentForm:l(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(y);return{points:(0,v.GetCurrentPointReward)(e),tagIds:t.tagIds&&t.tagIds.value||[],packageIds:t.packageIds&&t.packageIds.value||[],topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],materials:t.materials&&t.materials.value||[],documents:t.documents&&t.documents.value||[],asset:t.asset&&t.asset.value||{},group:t.group&&t.group.value||{},authorId:(0,f.get)(t,"authorId.value",""),hidden:t.hidden.value,premium:t.premium.value,offline:t.offline.value,paymentItem:t.paymentItem.value||{}}}function i(e){return[function(t){var a=t.props;return{field:[].concat(y,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e,t){return(0,h.AddTagAction)(e,t,y)}function l(e){return(0,h.DeleteTagAction)(e,y)}function u(e){var t=e.get("courseData"),a=c(t),n=e.get(y);return!(0,v.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return(0,g.default)(e,a,n)})}function c(e){return(0,d.Form)({tagIds:{value:(0,f.get)(e,"tagIds")||[]},packageIds:{value:(0,f.get)(e,"packageIds")||[]},topicIds:{value:(0,f.get)(e,"topicIds")||[]},industryIds:{value:(0,f.get)(e,"industryIds")||[]},materials:{value:(0,f.get)(e,"materials")||[]},documents:{value:(0,f.get)(e,"documents")||[]},asset:{value:(0,f.get)(e,"asset",{})},group:{value:(0,f.get)(e,"group",{})},authorId:{value:(0,f.get)(e,"authorId","")},hidden:{value:(0,f.get)(e,"hidden",!1)},premium:{value:(0,f.get)(e,"premium",!1)},offline:{value:(0,f.get)(e,"offline",!1)},paymentItem:{value:(0,f.get)(e,"paymentItem",{})}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.detailsFormSave=function(e,t){u(e)||t.getSignal("course.saveCourseDetails")()},t.detailsFormSaveStatus=u,t.getDetailsForm=c;var d=a(13),f=a(4),p=a(10),m=a(8),h=a(9),_=n(a(18)),g=n(a(24)),v=a(31),y=["course","detailsForm"],b={message:"changes_saved_successfully",type:"info2"},w={schema:m.POST_COURSE_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),n.set(y,c(a)),r.getSignal("header.showMessage")(b))},onError:(0,h.onError)("course")};t.default={name:e,depends:[],signals:{addCourseTag:[s("tagIds","courseData.skillMap")].concat(r(i())),addCoursePackage:[s("packageIds","courseData.packageMap")].concat(r(i())),addCourseTopic:[s("topicIds","courseData.topicMap")].concat(r(i())),addCourseIndustry:[s("industryIds","courseData.industryMap")].concat(r(i())),deleteCourseTag:[l("tagIds")].concat(r(i())),deleteCoursePackage:[l("packageIds")].concat(r(i())),deleteCourseTopic:[l("topicIds")].concat(r(i())),deleteCourseIndustry:[l("industryIds")].concat(r(i())),changeDetailsFormField:i(),saveCourseDetails:[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(w),no:[]}],moveMaterial:[(0,h.MoveElementAction)(y.join(".")+".materials.value")],moveDocument:[(0,h.MoveElementAction)(y.join(".")+".documents.value")],removeAssetFieldInternal:[function(){return{value:{}}}].concat(r(i("asset"))),removeAssetField:[_.default.DeleteConfirmed("course.removeAssetFieldInternal")],removeGroupFieldInternal:[function(){return{value:{}}}].concat(r(i("group"))),removeGroupField:[_.default.DeleteConfirmed("course.removeGroupFieldInternal")],deleteDetailFormFieldItemConfirm:[_.default.DeleteConfirmed("course.changeDetailsFormField")]},getServices:function(){return{}},getState:function(e){return{detailsForm:c(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(S),a={title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,badgeThumbnailId:t.badgeThumbnail&&t.badgeThumbnail.value&&t.badgeThumbnail.value.id,competencyIds:t.competencyIds&&t.competencyIds.value||[],overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("missionData"),r=(0,m.parseEditorContent)(e,O).body;return r||(r=(0,d.get)(n,"description")),r&&(a.description=r),u({},a)}function o(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){return(0,c.isValidForm)(e.get(S))}function s(e){var t=l(e.get("missionData")),a=e.get(S);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"badgeThumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim();case"competencyIds":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]})}return t[e].value===a[e].value})}function l(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},badgeThumbnail:{value:(0,d.get)(e,"badgeThumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},competencyIds:{value:(0,d.get)(e,"draftCompetencyIds")||[]},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:a}})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("mission.saveGeneralInfo")()},t.generalResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:competency"])}})},t.generalFormSaveStatus=s;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(21),h=a(11),_=a(9),g=a(54),v=a(65),y=a(66),b=a(95),w=function(e){return e&&e.__esModule?e:{default:e}}(a(29)),E=a(24),k=a(12),S=["mission","generalForm"],O="editorMissionDescription",T={message:"changes_saved_successfully",type:"info2"},P={schema:p.POST_MISSION_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),"a"===n.get("common.tab")&&r.getSignal("mission.assessmentResetSearch")(),r.getSignal("header.showMessage")(T))},onError:(0,_.onError)("mission")},j={schema:p.POST_MISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/validate",params:u({},r(t),(0,g.convertAssessmentsParams)(t),(0,v.convertRecommendationsParams)(t),(0,y.convertMapParams)(t),(0,b.convertDetailsParams)(t))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=n.get("learnMissionVersion")||[];a.isChangeVersion?(o.length<1&&(r.getSignal("mission.saveCreateVersion")(),r.getSignal("mission.publishMissionStatus")()),r.getSignal("mission.currentChangeIds")(),r.getSignal("common.openVersionModal")({versionStatus:"change"})):r.getSignal("mission.publishMissionStatus")()}},onError:(0,_.onError)("mission")},C={schema:p.PUBLISH_MISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("missionData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/mission/"+o+"/publish",l=u({},r(t),(0,g.convertAssessmentsParams)(t),(0,v.convertRecommendationsParams)(t),(0,y.convertMapParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("mission")},I=[function(){return{formPath:S}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(P),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),saveGeneralInfo:I,publishMissionInternal:(0,f.CallHTTP)(j),publishMissionStatus:[E.SetPublished].concat(n((0,f.CallHTTP)(C))),publishMission:[w.default.SaveRequired("mission.publishMissionInternal","publish")],checkFormStatus:[function(e){var t=e.state;i(t)&&(0,g.isValidAssessmentsForm)(t)&&(0,v.isValidRecommendationsForm)(t)&&(0,y.isValidMapForm)(t)&&(0,b.isValidDetailsForm)(t)?t.set("mission.isPublishDisabled",!0):t.set("mission.isPublishDisabled",!1)}],removeGeneralFormCompetencyId:[function(e){var t=e.state,a=e.props.competencyId,n=t.get([].concat(S,["competencyIds","value"]))||[];return{value:(0,k.arrayRemove)(n,a),fieldName:"competencyIds"}}].concat(n(o())),addGeneralFormCompetencyId:[function(e){var t=e.state,a=e.props.competencyIds,r=t.get([].concat(S,["competencyIds","value"]))||[];return{value:Array.from(new Set([].concat(n(r),n(a)))),fieldName:"competencyIds"}}].concat(n(o()))},getServices:function(){return{}},getState:function(e){return{generalForm:l(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(_),a=t.freeAssets&&t.freeAssets.value||[];return{points:(0,h.GetCurrentPointReward)(e),freeAssets:a}}function o(e){return[function(t){var a=t.props;return{field:[].concat(_,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function i(e){return(0,l.Form)({freeAssets:{value:(0,u.get)(e,"freeAssets")||[]}})}function s(e){var t=e.get("missionData"),a=i(t),n=e.get(_);return!(0,h.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){return"freeAssets"===e?a[e].value.length===n[e].value.length&&n[e].value.every(function(t,n){var r=a[e].value[n];return t.note===r.note&&t.packageId===r.packageId}):a[e].value===n[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=r,t.getDetailsForm=i,t.detailsFormSave=function(e,t){t.getSignal("mission.saveMissionDetails")()},t.isValidDetailsForm=function(e){return(0,l.isValidForm)(e.get(_))&&(0,h.ValidPoints)(e)},t.detailsFormSaveStatus=s;var l=a(13),u=a(4),c=a(10),d=a(8),f=a(12),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),h=a(31),_=["mission","detailsForm"],g={message:"changes_saved_successfully",type:"info2"},v={schema:d.POST_MISSION_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/mission/"+t.get("missionData.id")+"/details",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("missionData",a),r.getSignal("header.showMessage")(g))},onError:(0,p.onError)("mission")};t.default={name:e,depends:[],signals:{changeDetailsFormField:o(),addAsset:[function(e){var t=e.props,a=e.state,r=t.value,o=a.get([].concat(_,["freeAssets"])).value,i=[].concat(n(o));return o.findIndex(function(e){return e.packageId===r.packageId})<0&&(r.note="",i.push(r)),{fieldName:"freeAssets",value:i}}].concat(n(o())),deleteAssetConfirm:[m.default.DeleteConfirmed("mission.deleteAsset")],deleteAsset:[function(e){var t=e.props,a=e.state,n=t.value,r=a.get([].concat(_,["freeAssets"])).value;return{fieldName:"freeAssets",value:(0,f.arrayRemove)(r,n)}}].concat(n(o())),changeAssetFormNote:[function(e){var t=e.props,a=e.state,n=t.value,r=t.index,o=a.get([].concat(_,["freeAssets"])).value;return o[r].note=n,{fieldName:"freeAssets",value:o}}].concat(n(o())),saveMissionDetails:[function(){return{formPath:_}}].concat(n(l.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,c.CallHTTP)(v),no:[]}])},getState:function(e){return{detailsForm:i(e.missionData)}}}}).call(t,"views/learn/modules/mission/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(b);return{points:(0,y.GetCurrentPointReward)(e),group:t.group&&t.group.value||{},highlightIds:t.highlightIds&&t.highlightIds.value||[],completeVideoId:(0,p.get)(t,"completeVideo.value.id",""),completeVideoTitle:(0,p.get)(t,"completeVideoTitle.value","")}}function i(e){return[function(t){var a=t.props;return{field:[].concat(b,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(f.chains.fieldChanged),[f.chains.validate])}function s(e){var t=e.state,a=l(e.pathwayData);t.set(b,a)}function l(e){var t=(0,p.get)(e,"completeVideo.title")||(0,p.get)(e,"title")||"";return(0,f.Form)({group:{value:(0,p.get)(e,"group",null)},highlightIds:{value:(0,p.get)(e,"highlightIds")||[]},completeVideo:{value:(0,p.get)(e,"completeVideo")},completeVideoTitle:{value:t}})}function u(e){var t=e.get("pathwayData"),a=l(t),n=e.get(b);return!(0,y.PointRewardSaveStatus)(e,t)&&Object.keys(n).every(function(e){var t=a[e].value,r=n[e].value;return"group"===e?t===r||!!t&&!!r&&t.groupId===r.groupId&&t.url===r.url:"highlightIds"===e?t.length===r.length&&r.every(function(e,a){return e===t[a]}):"completeVideo"===e?(0,p.get)(t,"id")===(0,p.get)(r,"id"):t===r})}function c(e){var t=e.props,a=e.state,r=t.value,o=r.id,i=r.type,s=(0,v.GetItemIdByType)({id:o,type:i});a.merge("pathwayData."+i+"Map",n({},o,r));var l=a.get([].concat(b,["highlightIds"])).value;return{fieldName:"highlightIds",value:(0,g.arrayInsert)(l,s)}}function d(e){var t=e.props,a=e.state,n=t.value,r=n.id,o=n.type,i=(0,v.GetItemIdByType)({id:r,type:o}),s=a.get([].concat(b,["highlightIds"])).value;return{fieldName:"highlightIds",value:(0,g.arrayRemove)(s,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=o,t.getDetailsForm=l,t.detailsFormSave=function(e,t){t.getSignal("pathway.savePathwayDetails")()},t.isValidDetailsForm=function(e){return(0,f.isValidForm)(e.get(b))&&(0,y.ValidPoints)(e)},t.detailsFormSaveStatus=u,t.addHighlight=c,t.deleteHighlight=d;var f=a(13),p=a(4),m=a(10),h=a(8),_=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),g=a(12),v=a(9),y=a(31),b=["pathway","detailsForm"],w={message:"changes_saved_successfully",type:"info2"},E={schema:h.POST_PATHWAY_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/details",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(w),s({state:n,pathwayData:a}))},onError:(0,v.onError)("pathway")};t.default={name:e,depends:[],signals:{changeDetailsFormField:i(),addHighlight:[c].concat(r(i())),deleteHighlightConfirm:[_.default.DeleteConfirmed("pathway.deleteHighlight")],deleteHighlight:[d].concat(r(i())),deleteGroupConfirm:[_.default.DeleteConfirmed("pathway.deleteGroup")],deleteGroup:[function(){return{value:null}}].concat(r(i("group"))),savePathwayDetails:[function(){return{formPath:b}}].concat(r(f.chains.formValidated),[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,m.CallHTTP)(E),no:[]}])},getState:function(e){return{detailsForm:l(e.pathwayData)}}}}).call(t,"views/learn/modules/pathway/CreateDetailsStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.Language=t.Assets=t.Resources=t.UnityVersionDropDown=t.UnityVersion=t.ProjectObjective=t.CareerGoal=t.Tags=t.Summary=t.ParentList=t.ConnectGroup=t.Downloads=t.OutlineForPreview=t.Outline=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W,Q,J,Y,X,Z,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,ke,Se,Oe,Te,Pe,je,Ce,Ie,Ne,Me,De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Re=l(["loginUser"],["loginUser"]),Le=l(["common.loginTo"],["common.loginTo"]),Ae=l(["userPremium"],["userPremium"]),Fe=l(["learner.parentIds"],["learner.parentIds"]),Ke=l(["currentHost"],["currentHost"]),qe=l(["header.sendCDPRequest"],["header.sendCDPRequest"]),ze=l(["breadcrumb"],["breadcrumb"]),Be=l(["unityVersions.versionMap"],["unityVersions.versionMap"]),Ue=l(["common.uv"],["common.uv"]),He=l(["option.supportUnityVersions"],["option.supportUnityVersions"]),Ve=l(["common.changeContentUnityVersion"],["common.changeContentUnityVersion"]),Ge=n(a(2)),We=n(a(0)),Qe=n(a(1)),Je=a(6),Ye=a(5),Xe=a(4),Ze=n(a(23)),$e=n(a(16)),et=n(a(52)),tt=n(a(19)),at=n(a(47)),nt=a(114),rt=a(365),ot=n(a(403)),it=a(12),st=a(9),lt=a(8),ut=n(a(3)),ct=n(a(405)),dt=n(a(7)),ft=n(a(261)),pt=function(){},mt=(t.Outline=(u=(0,Je.decorator)({loginUser:(0,Ye.state)(Re),loginTo:(0,Ye.signal)(Le)}),c=(0,ut.default)(ct.default),d=(0,dt.default)(ft.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.loginUser,n=e.loginTo,r=e.scrollToStep,o=e.disabled,i=e.uv,s=e.versionId;return We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_progress")),!a&&We.default.createElement("div",{className:this.ss("buton-sign-in")},We.default.createElement($e.default,{widthStyle:"full",label:this.__("button_sign_in"),onClick:function(){return n()}})),We.default.createElement(nt.BreadcrumbTip,{uv:i}),We.default.createElement(ot.default,{data:t,scrollToStep:r,disabled:o,uv:i,versionId:s}))}}]),t}(),p.propTypes={loginUser:Ge.default.object,disabled:Ge.default.bool,data:Ge.default.object,uv:Ge.default.string,versionId:Ge.default.string,loginTo:Ge.default.func,scrollToStep:Ge.default.func},f=m))||f)||f)||f),t.OutlineForPreview=(h=(0,ut.default)(ct.default),_=(0,dt.default)(ft.default),h(g=_((y=v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.scrollToStep,n=e.disabled;return We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_progress")),We.default.createElement(ot.default,{data:t,scrollToStep:a,disabled:n}))}}]),t}(),v.propTypes={disabled:Ge.default.bool,data:Ge.default.object,scrollToStep:Ge.default.func},g=y))||g)||g),t.Downloads=(b=(0,Je.decorator)({userPremium:(0,Ye.state)(Ae),parentIds:(0,Ye.state)(Fe),currentHost:(0,Ye.state)(Ke),sendCDPRequest:(0,Ye.signal)(qe)}),w=(0,ut.default)(ct.default),E=(0,dt.default)(ft.default),b(k=w(k=E((O=S=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"onMenuClick",value:function(e){var t=this.props,a=t.userPremium,n=t.parentIds,r=void 0===n?{}:n,o=(0,Xe.get)(this.props.data,"id"),i=(0,Xe.get)(this.props.data,"type"),s=De({},r,{id:o,type:i,fileName:e,userPremium:a});this.props.sendCDPRequest({type:lt.CDPLearnType.download,eventType:lt.EventType.learn,data:s})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.theme,o=t.statsPath,i=t.currentHost,s=(0,Xe.get)(a,o),l=(0,Xe.get)(a,"type"),u=!s||0===s.length;if(u)return null;var c=!u&&s.map(function(t,a){return We.default.createElement("a",{key:"ma_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,tt.default)((0,it.securedURL)(t.url),i),onClick:n?pt():function(){return e.onMenuClick(_t(t))}},We.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-"+lt.MaterialTypeIconMap[t.type])}),t.name)});return We.default.createElement("div",{className:this.ss("section-wrap","download-wrap",r)},We.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_"+o+"_"+l)),We.default.createElement("div",{className:this.ss("links-wrap","downloads")},c))}}]),t}(),S.propTypes={parentIds:Ge.default.object,userPremium:Ge.default.bool,data:Ge.default.object,disabled:Ge.default.bool,currentHost:Ge.default.string,sendCDPRequest:Ge.default.func,theme:Ge.default.oneOf(["default","educator","quiz","solution"]),statsPath:Ge.default.oneOf(["materials","prerequisites"])},S.defaultProps={theme:"default",statsPath:"materials"},k=O))||k)||k)||k),t.ConnectGroup=(T=(0,ut.default)(ct.default),P=(0,dt.default)(ft.default),T(j=P((I=C=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=t.id,r=t.group;return n&&r?We.default.createElement("div",{className:this.ss("section-wrap","connect-group-wrap")},We.default.createElement(rt.ConnectGroupCard,{data:r,disabled:a})):null}}]),t}(),C.propTypes={disabled:Ge.default.bool,data:Ge.default.object},j=I))||j)||j),t.ParentList=(N=(0,Je.decorator)({breadcrumb:(0,Ye.state)(ze),currentHost:(0,Ye.state)(Ke)}),M=(0,ut.default)(ct.default),D=(0,dt.default)(ft.default),N(x=M(x=D((L=R=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"getCleanParentIds",value:function(e){var t=((0,Xe.get)(this.props,"breadcrumb.selectedIds")||[]).reduce(function(e,t){var a=(0,st.GetTypeIdByItemId)(t),n=a.id,r=a.type;return r===lt.DataTypeKeys.project&&(e.projectId=n),r===lt.DataTypeKeys.course&&(e.courseId=n),e},{});return 0===Object.keys(t||{}).length?e:e.filter(function(e){var a=(0,st.GetTypeIdByItemId)(e),n=a.id,r=a.type;if(n&&r){if(r===lt.DataTypeKeys.project&&n===t.projectId)return!1;if(r===lt.DataTypeKeys.course&&n===t.courseId)return!1}return!0})}},{key:"renderItem",value:function(e){var t=this.props,a=t.data,n=t.currentHost,r=(0,Xe.get)(a,"parentMap"),o=(0,st.GetDataByItemId)({itemId:e,courseMap:r,projectMap:r});if(!o)return null;var i=o.id,s=o.type,l=o.title;return We.default.createElement("div",{key:"parent-list-"+i,className:this.ss("parent-list-item")},We.default.createElement("div",{className:this.ss("type")},this.__("type_"+s)),We.default.createElement("div",{className:this.ss("dot")}),We.default.createElement("a",{className:this.ss("title"),href:(0,tt.default)("/"+s+"/"+i,n)},l))}},{key:"render",value:function(){var e=this,t=this.props.data,a=(0,Xe.get)(t,"parentIds")||[];if(0===a.length)return null;var n=(this.getCleanParentIds(a)||[]).map(function(t){return e.renderItem(t)}).filter(function(e){return!!e});return 0===n.length?null:We.default.createElement("div",{className:this.ss("section-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_included_in")),We.default.createElement("div",{className:this.ss("parent-list-wrap")},n))}}]),t}(),R.propTypes={data:Ge.default.object,breadcrumb:Ge.default.object,currentHost:Ge.default.string},x=L))||x)||x)||x),t.Summary=(A=(0,ut.default)(ct.default),F=(0,dt.default)(ft.default),A(K=F((z=q=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=e.description,a=e.descPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","summary-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_summary")),We.default.createElement("div",{className:this.ss("summary")},We.default.createElement(et.default,{editorKey:"editorDescription",value:t,renderOnly:!0}))):null}}]),t}(),q.propTypes={data:Ge.default.object},K=z))||K)||K),t.Tags=(B=(0,Je.decorator)({currentHost:(0,Ye.state)(Ke)}),U=(0,ut.default)(ct.default),H=(0,dt.default)(ft.default),B(V=U(V=H((W=G=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.type,o=t.theme,i=t.currentHost,s=[],l={},u="";switch(r){case"topic":s=(0,Xe.get)(a,"topicIds"),l=(0,Xe.get)(a,"topicMap"),u=lt.CriteriaKeys.tag;break;case"tag":s=(0,Xe.get)(a,"tagIds"),l=(0,Xe.get)(a,"skillMap");break;case"package":s=(0,Xe.get)(a,"packageIds"),l=(0,Xe.get)(a,"packageMap");break;case"industry":s=(0,Xe.get)(a,"industryIds"),l=(0,Xe.get)(a,"industryMap"),u=lt.CriteriaKeys.industry}if(!s||0===s.length)return null;var c=s.map(function(t,a){var r="/search?k="+encodeURIComponent(JSON.stringify([u+":"+t]));return We.default.createElement("a",{key:"tpc_"+a,className:e.ss("tag-item",!n&&"active"),href:n?"#":(0,tt.default)(r,i)},We.default.createElement("div",{className:e.ss("tag")},l&&l[t].name))});return We.default.createElement("div",{className:this.ss("section-wrap","tags-wrap",o)},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_tag_"+r)),We.default.createElement("div",{className:this.ss("tags")},c))}}]),t}(),G.propTypes={data:Ge.default.object,disabled:Ge.default.bool,type:Ge.default.oneOf(["topic","tag","package","industry"]),theme:Ge.default.oneOf(["default","keep-learn"]),currentHost:Ge.default.string},G.defaultProps={theme:"default",type:"topic"},V=W))||V)||V)||V),t.CareerGoal=(Q=(0,ut.default)(ct.default),J=(0,dt.default)(ft.default),Q(Y=J((Z=X=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Xe.get)(e,"properties.careerGoals"),a=e.goalPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","careerGoal-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_career_goal")),We.default.createElement("div",{className:this.ss("careerGoal")},We.default.createElement(et.default,{value:t,editorKey:"editorCourseCareerGoals",renderOnly:!0}))):null}}]),t}(),X.propTypes={data:Ge.default.object},Y=Z))||Y)||Y),t.ProjectObjective=($=(0,ut.default)(ct.default),ee=(0,dt.default)(ft.default),$(te=ee((ne=ae=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Xe.get)(e,"properties.objective"),a=e.objPlain;return a&&a.trim()?We.default.createElement("div",{className:this.ss("section-wrap","projectObjective-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_project_objective")),We.default.createElement("div",{className:this.ss("projectObjective")},We.default.createElement(et.default,{value:t,editorKey:"editorProjectObjective",renderOnly:!0}))):null}}]),t}(),ae.propTypes={data:Ge.default.object},te=ne))||te)||te),t.UnityVersion=(re=(0,Je.decorator)({versionMap:(0,Ye.state)(Be)}),oe=(0,ut.default)(ct.default),ie=(0,dt.default)(ft.default),re(se=oe(se=ie((ue=le=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"renderRangeTitle",value:function(){var e=this.props,t=e.data,a=e.versionMap,n=(0,Xe.get)(t,"unityVersionRange"),r=(0,Xe.get)(n,"minVersionId"),o=(0,Xe.get)(n,"maxVersionId"),i=(0,Xe.get)(n,"minVersion")||(0,Xe.get)(a,[r]),s=(0,Xe.get)(n,"maxVersion")||(0,Xe.get)(a,[o]),l=(0,Xe.get)(i,"name"),u=(0,Xe.get)(s,"name");if(!l&&!u)return null;var c="";return c=l?u?u===l?l:this.__("unity_version_range",{min:l,max:u}):this.__("unity_version_range_above",{value:l}):this.__("unity_version_range_below",{value:u}),We.default.createElement("div",{className:this.ss("tag")},c)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,Xe.get)(t,"unityVersionRange"),r=(0,Xe.get)(n,"withAll");return We.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap",a)},We.default.createElement("div",{className:this.ss("section-title","unityVersion-title")},this.__("title_unity_version_range")),We.default.createElement("div",{className:this.ss("unityVersion")},r&&"preview"===a&&We.default.createElement("div",{className:this.ss("with-all")},this.__("support_all_unity_version")),this.renderRangeTitle()))}}]),t}(),le.propTypes={data:Ge.default.object,versionMap:Ge.default.object,theme:Ge.default.string},se=ue))||se)||se)||se)),ht=(ce={},r(ce,lt.DataTypeKeys.project,!0),r(ce,lt.DataTypeKeys.course,!0),r(ce,lt.DataTypeKeys.tutorial,!0),r(ce,lt.DataTypeKeys.quiz,!0),ce),_t=(t.UnityVersionDropDown=(de=(0,Je.decorator)({uv:(0,Ye.state)(Ue),supportUnityVersions:(0,Ye.state)(He),changeContentUnityVersion:(0,Ye.signal)(Ve)}),fe=(0,ut.default)(ct.default),pe=(0,dt.default)(ft.default),de(me=fe(me=pe((_e=he=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"onChangedVersion",value:function(e){this.props.changeContentUnityVersion({uv:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.uv,n=t.data,r=t.supportUnityVersions;if(!(0,Xe.get)(n,"published"))return(0,Xe.get)(n,"unityVersionRange")?We.default.createElement(mt,{data:n}):null;if(!r||!(0,Xe.get)(r,"length"))return null;var o=(0,Xe.get)(n,"type"),i=(r||[]).map(function(e){return{text:e.name,value:e.value}});return ht[o]?We.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap")},We.default.createElement("div",{className:this.ss("section-title","detailVersion-title")},this.__("title_detail_version_range"),We.default.createElement("div",{className:this.ss("version_tooltip")},We.default.createElement(Ze.default,{position:"top-width",type:"blue",text:this.__("notification_action_"+o)},We.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-lrn_icon_help_outline")})))),We.default.createElement("div",{className:this.ss("title")},this.__("last_updated",{time:(0,Xe.get)(n,"lastPublishedTime")})),We.default.createElement("div",{className:this.ss("select")},We.default.createElement(at.default,{selects:i,value:a,size:"medium",theme:"grizzly",onChange:function(t,a,n){return e.onChangedVersion(n)}}))):null}}]),t}(),he.propTypes={uv:Ge.default.string,data:Ge.default.object,supportUnityVersions:Ge.default.array,changeContentUnityVersion:Ge.default.func},me=_e))||me)||me)||me),function(e){var t=(0,Xe.get)(e,"name","");if(!t){var a=(t=(0,Xe.get)(e,"url","")).lastIndexOf("/");-1!==a&&(t=t.substring(a+1))}return t});t.Resources=(ge=(0,Je.decorator)({currentHost:(0,Ye.state)(Ke)}),ve=(0,ut.default)(ct.default),ye=(0,dt.default)(ft.default),ge(be=ve(be=ye((Ee=we=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.currentHost,o=(0,Xe.get)(a,"documents"),i=!o||0===o.length;if(i)return null;var s=!i&&o.map(function(t,a){return We.default.createElement("a",{key:"res_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,tt.default)((0,it.securedURL)(t.url),r)},We.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-icons_link")}),t.name)});return We.default.createElement("div",{className:this.ss("section-wrap","resource-wrap")},We.default.createElement("div",{className:this.ss("section-title","resource-title")},this.__("title_document")),We.default.createElement("div",{className:this.ss("links-wrap","resources")},s))}}]),t}(),we.propTypes={data:Ge.default.object,disabled:Ge.default.bool,currentHost:Ge.default.string},be=Ee))||be)||be)||be),t.Assets=(ke=(0,ut.default)(ct.default),Se=(0,dt.default)(ft.default),ke(Oe=Se((Pe=Te=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Xe.get)(e,"asset"),a=(0,Xe.get)(t,"url");if(!a)return null;var n=We.default.createElement("a",{className:this.ss("material"),href:a,target:"_blank"},We.default.createElement("div",{className:this.ss("material-icon","ifont","ifont-icons_link")}),t.name);return We.default.createElement("div",{className:this.ss("section-wrap","asset-wrap")},We.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_assets")),We.default.createElement("div",{className:this.ss("links-wrap","assets")},n))}}]),t}(),Te.propTypes={data:Ge.default.object,disabled:Ge.default.bool},Oe=Pe))||Oe)||Oe),t.Language=(je=(0,ut.default)(ct.default),Ce=(0,dt.default)(ft.default),je(Ie=Ce((Me=Ne=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Qe.default),xe(t,[{key:"render",value:function(){var e=this.props.data,t=(0,Xe.get)(e,"language","en");return"und"===t&&(t="en"),We.default.createElement("div",{className:this.ss("section-wrap","language-wrap")},We.default.createElement("div",{className:this.ss("section-title")},this.__("title_language")),We.default.createElement("div",{className:this.ss("language","text")},(0,st.GetLanguageText)(this.context,t)))}}]),t}(),Ne.propTypes={data:Ge.default.object},Ie=Me))||Ie)||Ie);t.default=null},function(e,t,a){"use strict";(function(e){function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(v),a=(0,d.get)(t,"contentIds.value")||[],n=(0,d.get)(t,"utcOffset.value"),r=(0,d.get)(t,"skillLevel.value"),o=(0,d.get)(t,"registerUrl.value"),i=(0,d.get)(t,"previousVideo.value.id",""),s=(0,d.get)(t,"previousVideoTitle.value",""),l=e.get("liveSessionData"),u=l.tutorialMap,c=l.projectMap,f=l.courseMap;return{skillLevel:r,utcOffset:n,registerUrl:o,begin:(0,_.GetRangeTimeObject)((0,d.get)(t,"rangeTime.value")),contentIds:a.filter(function(e){return!!(0,g.GetDataByItemId)({itemId:e,tutorialMap:u,projectMap:c,courseMap:f})}),previousVideoId:i,previousVideoTitle:s}}function i(e){return[function(t){var a=t.props;return{field:[].concat(v,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(c.chains.fieldChanged),[c.chains.validate])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=parseInt(t,10);var a=(0,d.get)(e,"utcOffset",t);0===a&&(a=t);var n=(0,d.get)(e,"previousVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({skillLevel:{value:(0,d.get)(e,"skillLevel")||"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},rangeTime:{value:(0,_.GetRangeTimeValue)(e.rangeTime),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},utcOffset:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},registerUrl:{value:(0,d.get)(e,"registerUrl"),validations:["isValue","isUrl"],errorMessages:["error_isRequired","error_URL"],isRequired:!0},duration:{value:(0,d.get)(e,"duration"),validations:["isValue","lessZero"],errorMessages:["error_isRequired","error_lessZero"],isRequired:!0},contentIds:{value:(0,d.get)(e,"draftContentIds")||[]},previousVideo:{value:(0,d.get)(e,"previousVideo")},previousVideoTitle:{value:n}})}function l(e){var t=s(e.get("liveSessionData"),e.get("utcOffset")),a=e.get(v);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):"previousVideo"===e?(0,d.get)(t,e+".value.id")===(0,d.get)(a,e+".value.id"):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.convertContentParams=o,t.getContentForm=s,t.contentFormSave=function(e,t){t.getSignal("liveSession.saveLiveSessionContent")()},t.isValidContentForm=function(e){return(0,c.isValidForm)(e.get(v))},t.contentFormSaveStatus=l;var c=a(13),d=a(4),f=a(10),p=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),m=a(8),h=a(12),_=a(78),g=a(9),v=["liveSession","contentForm"],y={message:"changes_saved_successfully",type:"info2"},b={schema:m.POST_LIVE_SESSION_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/content",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),r.getSignal("header.showMessage")(y))},onError:(0,g.onError)("liveSession")};t.default={name:e,depends:[],signals:{changeContentFormField:i(),saveLiveSessionContent:[function(){return{formPath:v}}].concat(r(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(b),no:[]}]),deleteContentConfirm:[p.default.DeleteConfirmed("liveSession.deleteContent")],addContent:[function(e){var t=e.state,a=e.controller,n=e.path;return t.get([].concat(v,["contentIds"])).value.length>0?(a.getSignal("header.showMessage")({message:"liveSession_contentIds_max_1"}),n.no()):n.yes()},{yes:[function(e){var t=e.props,a=e.state,r=t.value.id,o=t.type,i=["liveSessionData"];o===m.DataTypeKeys.tutorial?i.push("tutorialMap"):o===m.DataTypeKeys.project?i.push("projectMap"):o===m.DataTypeKeys.course&&i.push("courseMap"),a.merge(i,n({},r,t.value));var s=(0,g.GetItemIdByType)({id:r,type:o}),l=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,h.arrayInsert)(l,s)}}].concat(r(i())),no:[]}],deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,g.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,h.arrayRemove)(i,o)}}].concat(r(i())),changeRangeTime:[function(e){var t=e.props,a=e.state,n=e.path,r=t.beginStartDate,o=t.beginEndDate,i=t.beginStartHour,s=t.beginEndHour,l=t.beginStartMinute,c=t.beginEndMinute,f=(0,_.OmitUndefined)({date:r,hour:i,minute:l}),p=(0,_.OmitUndefined)({date:o,hour:s,minute:c}),h=a.get(v),g=(0,_.GetRangeTimeObject)((0,d.get)(h,"rangeTime.value")),y=(0,d.get)(h,"utcOffset.value"),b=(0,_.ParseTime)((0,d.get)(g,"startTime"),y),w=(0,_.ParseTime)((0,d.get)(g,"endTime"),y);if(Object.keys(f).length>0){(b=u({},b,f)).date||(b.date=(0,_.GetMomentNow)(y).format(m.DateFormat.date));var E=(0,_.GetRangeTimeValue)({startTime:(0,_.GetTimeValue)(b,y),endTime:(0,_.GetTimeValue)(w,y)});return n.yes({value:E})}if(Object.keys(p).length>0){(w=u({},w,p)).date||(w.date=(0,_.GetMomentNow)(y).format(m.DateFormat.date));var k=(0,_.GetRangeTimeValue)({startTime:(0,_.GetTimeValue)(b,y),endTime:(0,_.GetTimeValue)(w,y)});return n.yes({value:k})}return n.no()},{yes:[].concat(r(i("rangeTime")),[function(e){var t=e.state.get(v),a=(0,_.GetRangeTimeObject)((0,d.get)(t,"rangeTime.value")),n=(0,d.get)(t,"utcOffset.value"),r=(0,_.GetMomentTimeByValue)((0,d.get)(a,"startTime"),n),o=(0,_.GetMomentTimeByValue)((0,d.get)(a,"endTime"),n);return r&&o?{fieldName:"duration",value:o.diff(r,"minute")}:{fieldName:"duration",value:0}}],r(i())),no:[]}]},getServices:function(){return{}},getState:function(e){return{contentForm:s(e.liveSessionData,e.utcOffset)}}}}).call(t,"views/learn/modules/liveSession/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(h);return{topicIds:t.topicIds&&t.topicIds.value||[],industryIds:t.industryIds&&t.industryIds.value||[],hidden:t.hidden.value,premium:t.premium.value}}function o(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e,t){return(0,m.AddTagAction)(e,t,h)}function s(e){return(0,m.DeleteTagAction)(e,h)}function l(e){var t=u(e.get("liveSessionData")),a=e.get(h);return Object.keys(a).every(function(e){return t[e].value.length===a[e].value.length&&("hidden"===e||"premium"===e?t[e].value===a[e].value:a[e].value.every(function(a,n){return a===t[e].value[n]}))})}function u(e){return(0,c.Form)({topicIds:{value:(0,d.get)(e,"topicIds")||[]},industryIds:{value:(0,d.get)(e,"industryIds")||[]},hidden:{value:(0,d.get)(e,"hidden",!1)},premium:{value:(0,d.get)(e,"premium",!1)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertDetailsParams=r,t.detailsFormSave=function(e,t){l(e)||t.getSignal("liveSession.saveLiveSessionDetails")()},t.detailsFormSaveStatus=l;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(9),h=["liveSession","detailsForm"],_={message:"changes_saved_successfully",type:"info2"},g={schema:p.POST_LIVE_SESSION_DETAILS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/details",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),n.set(h,u(a)),r.getSignal("header.showMessage")(_))},onError:(0,m.onError)("liveSession")};t.default={name:e,depends:[],signals:{addLiveSessionTopic:[i("topicIds","liveSessionData.topicMap")].concat(n(o())),addLiveSessionIndustry:[i("industryIds","liveSessionData.industryMap")].concat(n(o())),deleteLiveSessionTopic:[s("topicIds")].concat(n(o())),deleteLiveSessionIndustry:[s("industryIds")].concat(n(o())),changeDetailsFormField:o(),saveLiveSessionDetails:[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(g),no:[]}]},getServices:function(){return{}},getState:function(e){return{detailsForm:u(e.liveSessionData)}}}}).call(t,"views/learn/modules/liveSession/CreateDetailsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=s(t.get("skillData"));t.set(v,a)}function o(e){var t=e.get(v),a=t.contentIds&&t.contentIds.value||[],n=e.get("skillData"),r=n.tutorialMap,o=n.projectMap,i=n.quizMap,s=(0,d.get)(t,"estimationInHour.value")||0,l=(0,d.get)(t,"estimationInMinute.value")||0,u=(0,d.get)(t,"withManual.value"),c=u?60*s+l:0;return{skillLevel:t.skillLevel&&t.skillLevel.value,contentIds:a.filter(function(e){return!!(0,h.GetDataByItemId)({itemId:e,tutorialMap:r,projectMap:o,quizMap:i})}),withManual:u,manualDuration:c}}function i(e){return[function(t){var a=t.props;return{field:[].concat(v,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function s(e){return(0,c.Form)({contentIds:{value:(0,d.get)(e,"draftContentIds")||[]}})}function l(e){var t=e.props,a=e.state,n=t.value||[],r=a.get("skillData").tutorialMap,o=n.reduce(function(e,t){var a=(0,h.GetDataByItemId)({itemId:t,tutorialMap:r});return a&&!0===a.published&&!0===a.public&&(e+=a.duration),e},0);a.set("skillData.duration",o)}function u(e){var t=s(e.get("skillData")),a=e.get(v);return Object.keys(a).every(function(e){return"contentIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertContentParams=o,t.getContentForm=s,t.contentFormSave=function(e,t){t.getSignal("skill.saveSkillContent")()},t.isValidContentForm=function(e){return(0,c.isValidForm)(e.get(v))},t.contentFormSaveStatus=u;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(12),h=a(9),_=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),g=["common","AddContentDialog"],v=["skill","contentForm"],y={message:"changes_saved_successfully",type:"info2"},b={schema:p.POST_SKILL_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/skill/"+t.get("skillData.id")+"/content",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,o=e.controller;200===t&&a&&(n.merge("skillData",a),o.getSignal("header.showMessage")(y),r({state:n}))},onError:(0,h.onError)("skill")},w={schema:p.GET_SKILL_SYNC,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.state.get("skillData");return{endpoint:"/api/learn/skill/"+(0,d.get)(t,"id")+"/sync"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,d.get)(a,"draftContentIds")||[];(0,h.MergeFormIdsValue)({state:n,fieldName:[].concat(v,["contentIds","value"]),resourceIds:n.get("skillData.draftContentIds")||[],targetIds:r}),n.set("skillData.draftContentIds",r),n.set("skillData.contentIds",(0,d.get)(a,"contentIds")||[]),n.merge("skillData.tutorialMap",(0,d.get)(a,"tutorialMap")||{})}},onError:(0,h.onError)("skill")};t.default={name:e,depends:[],signals:{changeContentFormField:i(),saveSkillContent:[function(){return{formPath:v}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return u(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(b),no:[]}]),deleteContentConfirm:[_.default.DeleteConfirmed("skill.deleteContent")],addContentIds:[function(e){var t=e.state,a=t.get("common.AddContentDialog.contentIds")||[],n=t.get("common.AddContentDialog.contentMap")||{},r={};return a.forEach(function(e){var t=(0,h.GetIdByItemId)(e),a=(0,d.get)(n,""+t),o=a.value,i=a.type;o&&"tutorial"===i&&(r[t]=o)}),t.merge("skillData.tutorialMap",r),t.set([].concat(g,["open"]),!1),{fieldName:"contentIds",value:a}},l].concat(n(i())),deleteContent:[function(e){var t=e.props,a=e.state,n=t.value.id,r=t.type,o=(0,h.GetItemIdByType)({id:n,type:r}),i=a.get([].concat(v,["contentIds"])).value;return{fieldName:"contentIds",value:(0,m.arrayRemove)(i,o)}},l].concat(n(i())),resourceUpdated:[function(e){var t=e.state,a=e.props,n=e.controller;t.get("skillData").id===a.id&&n.getSignal("common.openForceResourceDialog")()}],syncSkill:(0,f.CallHTTP)(w),moveContent:[(0,h.MoveElementAction)(v.join(".")+".contentIds.value")]},getServices:function(){return{}},getState:function(e){return{contentForm:s(e.skillData)}}}}).call(t,"views/learn/modules/skill/CreateContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(p);return{topicIds:t.topicIds&&t.topicIds.value||[]}}function o(e){return[function(t){var a=t.props;return{field:[].concat(p,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function i(e){return(0,l.Form)({topicIds:{value:(0,u.get)(e,"topicIds")||[]}})}function s(e){var t=i(e.get("competencyData")),a=e.get(p);return Object.keys(a).every(function(e){return"topicIds"===e?t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]}):t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertContentParams=r,t.getContentForm=i,t.contentFormSave=function(e,t){t.getSignal("competency.saveCompetencyContent")()},t.isValidContentForm=function(e){return(0,l.isValidForm)(e.get(p))},t.contentFormSaveStatus=s;var l=a(13),u=a(4),c=a(10),d=a(8),f=a(9),p=["competency","contentForm"],m={message:"changes_saved_successfully",type:"info2"},h={schema:d.POST_PROJECT_CONTENT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/competency/"+t.get("competencyData.id")+"/content",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("competencyData",a),r.getSignal("header.showMessage")(m))},onError:(0,f.onError)("competency")};t.default={name:e,depends:[],signals:{changeContentFormField:o(),saveCompetencyContent:[function(){return{formPath:p}}].concat(n(l.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,c.CallHTTP)(h),no:[]}]),addCompetencyTopic:[function(e,t){return(0,f.AddTagAction)(e,t,p)}("topicIds","competencyData.topicMap")].concat(n(o())),deleteCompetencyTopic:[function(e){return(0,f.DeleteTagAction)(e,p)}("topicIds")].concat(n(o()))},getServices:function(){return{}},getState:function(e){return{show:!1,contentForm:i(e.competencyData)}}}}).call(t,"views/learn/modules/competency/CreateContentStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){return[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("video/")}).map(function(e){return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"videoattachment"}})}function i(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===d},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.getFiles=o,t.getSubtitleFile=function(e){var t=(e||[])[0];return t?{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:t,uploadType:"videosubtitle"}:null},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;return e.decorator&&(n=e.decorator(n)),n=(0,s.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,i=(0,a.getProps)().controller,s=i.getState("editor.dragOverBlockKey");if(!s)return"not-handled";var l=o(t),c=0!==l.length,f=n();return l.forEach(function(e){f=(0,u.addAtomicBlockBefore)(f,s,d,{uploadId:e.id}),i.getSignal("upload.uploadRecord")({upload:e})}),c&&r(f),c?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,i=a(),s=i.getSelection().getStartKey(),l=o(e),c=0!==l.length;return l.forEach(function(e){i=(0,u.addAtomicBlockBefore)(i,s,d,{uploadId:e.id}),r.getSignal("upload.uploadRecord")({upload:e})}),c&&n(i),c?"handled":"not-handled"},decorators:[{strategy:i,component:n}],SubtitleDialog:a?function(){return null}:c.default}};var s=n(a(36)),l=n(a(322)),u=a(11),c=n(a(276)),d="VIDEOATTACHMENT"},,function(e,t,a){e.exports=a.p+"../styles/i/player@2x.21e68022b8d193174dd7c86aaf615a32.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=l(["draft.editorStates.",""],["draft.editorStates.",""]),g=l(["parentEditorKey"],["parentEditorKey"]),v=l(["editorKey"],["editorKey"]),y=l(["draft.editorEditable.",""],["draft.editorEditable.",""]),b=l(["draft.editorDirty.",""],["draft.editorDirty.",""]),w=l(["project.contentMap"],["project.contentMap"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),k=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),S=l(["draft.setEditorDirty"],["draft.setEditorDirty"]),O=n(a(0)),T=n(a(2)),P=n(a(1)),j=a(6),C=a(5),I=a(11),N=n(a(3)),M=n(a(317)),D=(u=(0,j.decorator)({parentEditorState:(0,C.state)(_,(0,C.props)(g)),editorState:(0,C.state)(_,(0,C.props)(v)),editable:(0,C.state)(y,(0,C.props)(v)),dirty:(0,C.state)(b,(0,C.props)(v)),contentMap:(0,C.state)(w),setEditorState:(0,C.signal)(E),setEditorEditable:(0,C.signal)(k),setEditorDirty:(0,C.signal)(S)}),c=(0,N.default)(M.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onEscape=function(){n.syncToEditor(!0)},n.onBlur=function(){n.syncToEntity()},n.onDownArrow=function(e){e.shiftKey||(0,I.isFocusAtLastLine)()&&(n.moveToNextBlock(),e.preventDefault())},n.onUpArrow=function(e){e.shiftKey||(0,I.isFocusAtFirstLine)()&&(n.moveToPrevBlock(),e.preventDefault())},n.keyBindingFn=function(e){if(!e.shiftKey){if(37===e.keyCode){var t=n.props.editorState;if((0,I.isSelectionAtBlockStart)(t))return n.moveToPrevBlock(),""}if(39===e.keyCode){var a=n.props.editorState;if((0,I.isSelectionAtBlockEnd)(a))return n.moveToNextBlock(),""}}},n.handleReturn=function(){var e=n.syncToEntity();return n.moveToNextBlock(e),"handled"},r=a,i(n,r)}return s(t,P.default),h(t,[{key:"componentWillMount",value:function(){var e=this.getEntityTitle();this.defaultEditorState=(0,I.createEditorStateWithText)(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getEntityTitle(e);t!==this.getEntityTitle()&&(this.defaultEditorState=(0,I.createEditorStateWithText)(t));var a=e.editable;this.props.editable&&!a&&this.syncToEntity(e);var n=e.dirty,r=e.editorKey,o=e.setEditorDirty;if(!n){var i=e.editorState,s=this.props.editorState;if(s&&i){var l=i.getCurrentContent();s.getCurrentContent()!==l&&o({editorKey:r})}}}},{key:"getEntityData",value:function(e){var t=e||this.props,a=t.entityKey;return t.parentEditorState.getCurrentContent().getEntity(a).getData()}},{key:"getEntityTitle",value:function(e){var t=void 0;switch((e=e||this.props).type){case"single":t=this.getEntityData(e).title;break;case"gallery":if("itemPos"in e){var a=e.itemPos,n=this.getEntityData(e).contents,r=void 0===n?[]:n;t=r[a]&&r[a].title}}return t||""}},{key:"mergeEntityTitle",value:function(e,t,a){var n=void 0;switch(this.props.type){case"single":n=(0,I.mergeAtomicEntityData)(e,t,{title:a});break;case"gallery":if("itemPos"in this.props){var o=this.props.itemPos,i=this.getEntityData().contents,s=void 0===i?[]:i,l=s[o]||{},u=[].concat(r(s));u.splice(o,1,m({},l,{title:a})),n=(0,I.mergeAtomicEntityData)(e,t,{contents:u})}}return n||e}},{key:"syncToEntity",value:function(e){var t=e||this.props,a=t.dirty,n=t.parentEditorKey,r=t.parentEditorState,o=t.entityKey,i=t.editorKey,s=t.editorState,l=t.setEditorDirty,u=t.setEditorState;if(a){var c=s.getCurrentContent().getPlainText(),d=r.getCurrentContent();d=this.mergeEntityTitle(d,o,c);var f=I.EditorState.push(r,d,"apply-entity");return u({editorKey:n,editorState:f}),l({editorKey:i,dirty:!1}),f}return null}},{key:"syncToEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEntityTitle(),a=this.props,n=a.dirty,r=a.editorState,o=a.editorKey,i=a.setEditorState,s=a.setEditorDirty;n&&!e||((r&&r.getCurrentContent().getPlainText()||"")!==t&&i({editorKey:o,editorState:(0,I.createEditorStateWithText)(t)}),n&&s({editorKey:o,dirty:!1}))}},{key:"moveToNextBlock",value:function(e){var t=this.props,a=t.parentEditorKey,n=t.parentEditorState,r=t.parentOffsetKey,o=t.setEditorEditable,i=t.setEditorState,s=(e=e||n).getCurrentContent(),l=I.DraftOffsetKey.decode(r).blockKey,u=s.getKeyAfter(l);if(u){o({editorKey:a});var c=new I.SelectionState({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0});i({editorKey:a,editorState:I.EditorState.forceSelection(I.EditorState.set(e,{currentContent:s.merge({selectionAfter:c})}),c)})}}},{key:"moveToPrevBlock",value:function(){var e=this.props,t=e.parentEditorKey,a=e.parentEditorState,n=e.parentOffsetKey,r=e.setEditorEditable,o=e.setEditorState,i=a.getCurrentContent(),s=I.DraftOffsetKey.decode(n).blockKey,l=i.getBlockBefore(s);if(l){r({editorKey:t});var u=new I.SelectionState({anchorKey:l.getKey(),anchorOffset:"atomic"===l.getType()?0:l.getLength(),focusKey:l.getKey(),focusOffset:"atomic"===l.getType()?0:l.getLength()});o({editorKey:t,editorState:I.EditorState.forceSelection(I.EditorState.set(a,{currentContent:i.merge({selectionAfter:u})}),u)})}}},{key:"handlePastedText",value:function(e){return e.startsWith("CONNECT_ATOMIC_ENTITY:")?"handled":"not-handled"}},{key:"render",value:function(){var e=this.props,t=e.parentIsFocused,a=e.parentOffsetKey,n=e.editorKey,r=e.editorState,o=e.editable,i=e.dirty,s=e.placeholder,l=e.renderOnly,u=!(i&&r.getCurrentContent().getPlainText()||this.getEntityTitle()||"")&&!t&&!o;return O.default.createElement("div",{className:this.ss("caption",u&&"hide")},O.default.createElement(I.Editor,{offsetKey:a,editorKey:n,defaultEditorState:this.defaultEditorState,renderOnly:l,textAlignment:"center",placeholder:s,keyBindingFn:l?void 0:this.keyBindingFn,onDownArrow:l?void 0:this.onDownArrow,onUpArrow:l?void 0:this.onUpArrow,handleReturn:l?void 0:this.handleReturn,onEscape:l?void 0:this.onEscape,onBlur:l?void 0:this.onBlur,handlePastedText:l?void 0:this.handlePastedText}))}}]),t}(),f.propTypes={parentEditorKey:T.default.string.isRequired,parentEditorState:T.default.object,parentIsFocused:T.default.bool,parentOffsetKey:T.default.string.isRequired,editorKey:T.default.string.isRequired,editorState:T.default.object,editable:T.default.bool,dirty:T.default.bool,entityKey:T.default.string,renderOnly:T.default.bool,placeholder:T.default.any,setEditorState:T.default.func,setEditorEditable:T.default.func,setEditorDirty:T.default.func,itemPos:T.default.number,type:T.default.oneOf(["single","gallery"])},f.defaultProps={type:"single"},d=p))||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ParentLabel=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["learner.recordMap.",""],["learner.recordMap.",""]),E=s(["tutorial.id"],["tutorial.id"]),k=s(["locale"],["locale"]),S=s(["currentHost"],["currentHost"]),O=n(a(2)),T=n(a(0)),P=n(a(1)),j=a(6),C=a(5),I=a(4),N=n(a(15)),M=n(a(41)),D=n(a(37)),x=a(58),R=n(a(33)),L=a(60),A=a(27),F=n(a(19)),K=a(9),q=n(a(48)),z=a(12),B=n(a(3)),U=n(a(358)),H=n(a(7)),V=n(a(359)),G={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:285,thumbnailHeight:160}},W=(l=(0,j.decorator)({record:(0,C.state)(w,(0,C.props)(E)),locale:(0,C.state)(k),currentHost:(0,C.state)(S)}),u=(0,B.default)(U.default),c=(0,H.default)(V.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),b(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.tutorial,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.navIds,u=t.uv,c=t.locale,d=t.currentHost,f=t.url,p=a||{},m=p.id,h=p.title,_=p.type,g=(0,I.get)(n,"completed"),v=(0,I.get)(a,"withPay"),y=f||(0,F.default)((0,K.GetUrlByNavIds)(l,(0,K.GetDetailPageURL)(a,c,u)),d),b=G[i].thumbnailHeight,w=G[i].thumbnailWidth;return T.default.createElement("div",{className:this.ss("tutorial-wrapper",s,i)},T.default.createElement("div",{className:this.ss("eyebrow-wrapper")},v&&T.default.createElement(A.PaymentLabel,null)),T.default.createElement("div",{className:this.ss("tutorial-card")},T.default.createElement("a",{className:this.ss("card-link"),href:y},T.default.createElement("div",{className:this.ss("card-img")},T.default.createElement(N.default,{src:(0,I.get)(a,"thumbnail.url"),sizes:w+"px",height:b,width:w}),T.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},T.default.createElement(D.default,{id:m,type:_,statsPath:r})),o&&!!n&&T.default.createElement(x.ProgressBar,{data:a,record:n})),T.default.createElement("div",{className:this.ss("card-content")},T.default.createElement("div",{className:this.ss("content-des")},T.default.createElement(L.StudyMethod,{data:a}),T.default.createElement("div",{className:this.ss("title")},h),T.default.createElement("div",{className:this.ss("info")},T.default.createElement(R.default,{data:a,theme:s,durationTheme:"minute"}))),T.default.createElement("div",{className:this.ss("author")},T.default.createElement(M.default,{data:a,theme:s})),T.default.createElement(Q,{ref:function(t){e.parentRef=t},data:a})))),o&&g&&T.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:O.default.string.isRequired,tutorial:O.default.object,navIds:O.default.array,record:O.default.object,url:O.default.string,theme:O.default.oneOf(["default","dark"]),size:O.default.oneOf(["normal","medium"]),showProgress:O.default.bool,currentHost:O.default.string,locale:O.default.string,uv:O.default.string},f.defaultProps={navIds:[],size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=W;var Q=t.ParentLabel=(m=(0,j.decorator)({currentHost:(0,C.state)(S)}),h=(0,B.default)(U.default),_=(0,H.default)(V.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(e,t){e&&(0,z.pauseEvent)(e),(0,q.default)(t)},i=a,o(n,i)}return i(t,P.default),b(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.currentHost,r=(0,K.GetParentByData)(a);if(!r)return null;var o=(0,I.get)(r,"title"),i=(0,I.get)(r,"id"),s=(0,I.get)(r,"type"),l=(0,F.default)("/"+s+"/"+i,n);return T.default.createElement("div",{className:this.ss("parent",!o&&"hidden")},T.default.createElement("div",{className:this.ss("part-of")},this.__("part_of")),T.default.createElement("div",{className:this.ss("parent-link")},T.default.createElement("button",{className:this.ss("link-text"),onClick:function(t){return e.onClick(t,l)}},o)))}}]),t}(),v.propTypes={data:O.default.object,currentHost:O.default.string},g=y))||g)||g)||g)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DefaultLearnerLayoutOnly=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setWindowSize"],["header.setWindowSize"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=n(a(126)),w=n(a(160)),E=n(a(188)),k=n(a(30)),S=n(a(189)),O=n(a(219)),T=n(a(237)),P=n(a(268)),j=n(a(76)),C=n(a(3)),I=n(a(167)),N=t.DefaultLearnerLayoutOnly=(s=(0,C.default)(I.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refs.scroller&&this.refs.scroller.scrollTo(e,t)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.onScroll,n=e.onScrollEnd,r=(0,j.default)(this.props,"children","setWindowSize");return _.default.createElement("div",{id:"pageContent"},_.default.createElement(k.default,{ref:"scroller",onScroll:a,onScrollEnd:n},_.default.createElement("div",{className:this.ss("top-bar-layout")},_.default.createElement(P.default,null)),_.default.createElement(E.default,null),_.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},_.default.createElement(b.default,r),t,_.default.createElement(w.default,null))),_.default.createElement(S.default,null),_.default.createElement(T.default,null),_.default.createElement(O.default,null))}}]),t}(),u.propTypes={children:h.default.node,setWindowSize:h.default.func,onScroll:h.default.func,onScrollEnd:h.default.func},l=c))||l,M=(d=(0,v.decorator)({setWindowSize:(0,y.signal)(m)}))(f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N),t}())||f;t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(20)),y=a(4),b=n(a(367)),w=n(a(3)),E=n(a(516)),k=n(a(7)),S=n(a(517)),O=(l=(0,w.default)(E.default),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"onSave",value:function(){var e=v.default.findDOMNode(this.refs.textarea);if(e){var t=e.value;this.props.onSave&&this.props.onSave(t)}}},{key:"onClear",value:function(){this.props.onClear&&this.props.onClear()}},{key:"onChange",value:function(e){var t=this.props.limit,a=e.target.value||"";a.length>t&&(a=a.slice(0,t)),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onBlur",value:function(){this.onSave()}},{key:"renderLimitCounter",value:function(){var e=this.props,t=e.limit,a=e.disabled;if(!t)return null;var n=((0,y.get)(this.props,"value")||"").length,r=n>0?n+"/":null;return _.default.createElement("div",{className:this.ss("limit",a&&"disabled")},r,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.value,n=(t.onSave,t.onClear,t.errorText),o=t.disabled,i=t.theme,s=r(t,["value","onSave","onClear","errorText","disabled","theme"]);return _.default.createElement("div",{className:this.ss("text-area-wrap",i)},_.default.createElement("div",{className:this.ss("text-area",o&&"disabled")},!o&&_.default.createElement(b.default,p({},s,{ref:"textarea",value:a,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onBlur:function(t){return e.onBlur(t)}})),o&&_.default.createElement("div",{className:this.ss("textarea-disabled")},a),this.renderLimitCounter()),n&&_.default.createElement("div",{className:this.ss("text-error")},this.__(n)))}}]),t}(),d.propTypes={value:h.default.string,disabled:h.default.bool,errorText:h.default.any,limit:h.default.number,onSave:h.default.func,onClear:h.default.func,onChange:h.default.func,theme:h.default.oneOf(["default","transparent","error","comment","submission","post"])},d.defaultProps={},c=f))||c)||c);t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.supportThemes=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["common.tooltips"],["common.tooltips"]),m=s(["common.tooltipShow"],["common.tooltipShow"]),h=s(["common.tooltipHide"],["common.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(20)),y=n(a(1)),b=a(6),w=a(5),E=a(45),k=0,S=t.supportThemes=["stream","flagCount"],O=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(k++).toString()},i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.theme,r=this.state.tooltipId,o=e.theme;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){if(!(0,E.isDevice)()){var t=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),a=t.left,n=t.right,r=t.top,o=t.bottom,i=this.props,s=i.theme,l=i.type,u=i.position,c=i.tooltipShow,d=i.contentData;c({id:this.state.tooltipId,type:l,theme:e||s,position:u,targetWidth:n-a,targetHeight:o-r,left:a,top:r,contentData:d})}}},{key:"tooltipHide",value:function(){if(!(0,E.isDevice)()){var e=this.props.tooltipHide;e({id:this.state.tooltipId})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseOut:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i)}}]),t}(),c.propTypes={type:_.default.oneOf(["normal","success","warning","error","green"]),position:_.default.oneOf(["top","left","bottom","right","lower-right","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,contentData:_.default.object,tooltipShow:_.default.func,tooltipHide:_.default.func,theme:_.default.oneOf(S).isRequired},c.defaultProps={type:"normal",position:"top",isSpan:!1,clickToHide:!0,contentData:{}},u=d))||u;t.default=O},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(81)),v=n(a(3)),y=n(a(137)),b=(l=(0,v.default)(y.default))((d=c=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onClose=function(){n.props.onCloseModal&&n.props.onCloseModal()},r=a,i(n,r)}return s(t,_.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.error,n=e.children,o=e.width,i=e.onCloseModal,s=e.disableBgClick,l=e.titleClassName,u=r(e,["title","error","children","width","onCloseModal","disableBgClick","titleClassName"]),c=h.default.createElement("span",{className:this.ss("error")},a),d=o?{width:o}:{};return h.default.createElement(g.default,f({},u,{onCloseModal:s?null:i}),h.default.createElement("div",{ref:"contents",className:this.ss("dialog-contents"),style:d},h.default.createElement("div",{className:this.ss("title-wrap")},h.default.createElement("div",{className:this.ss("title",l)},t||"",a&&c),h.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},h.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),n))}}]),t}(),c.propTypes={title:m.default.string,error:m.default.string,children:m.default.any,onCloseModal:m.default.func,width:m.default.number,disableBgClick:m.default.bool,titleClassName:m.default.string},u=d))||u;t.default=b},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EndBarComponent=t.default=void 0;var s,l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=n(a(2)),g=n(a(0)),v=n(a(1)),y=n(a(16)),b=a(17),w=n(a(76)),E=n(a(3)),k=n(a(290)),S=n(a(7)),O=n(a(291)),T=(l=s=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.searchStatus,a=e.loadMoreStatus;!((0,b.isLoading)(t)||(0,b.isLoading)(a))&&n.hasMoreResult()&&n.isScrollToEnd()&&n.hasMoreResult()&&n.onPage()},i=a,o(n,i)}return i(t,v.default),h(t,[{key:"componentDidMount",value:function(){this.props.autoLoad&&document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){this.props.autoLoad&&document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"onPage",value:function(){var e=this.props,t=e.searchStatus,a=e.loadMoreStatus;!((0,b.isLoading)(t)||(0,b.isLoading)(a))&&this.hasMoreResult()&&this.props.onPage&&this.props.onPage()}},{key:"isScrollToEnd",value:function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop,a=e.scrollHeight;return t+e.clientHeight>=a}},{key:"hasMoreResult",value:function(){var e=this.props,t=e.hasMore,a=e.page,n=e.pageSize,r=!1;if(t)r=t();else if("number"==typeof a&&"number"==typeof n)return(a+1)*n<this.props.total;return r}},{key:"render",value:function(){var e=this,t=(0,w.default)(this.props,"hasMore","onPage");return g.default.createElement(P,m({},t,{hasMore:this.hasMoreResult(),onPage:function(){return e.onPage()}}))}}]),t}(),s.propTypes={theme:_.default.string,page:_.default.number,pageSize:_.default.number,total:_.default.number,searchStatus:_.default.string,loadMoreStatus:_.default.string,style:_.default.object,onPage:_.default.func,hasMore:_.default.func,autoLoad:_.default.bool},l);t.default=T;var P=t.EndBarComponent=(u=(0,E.default)(k.default),c=(0,S.default)(O.default),u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),h(t,[{key:"renderLoadMoreButton",value:function(){var e=this.props,t=e.theme,a=e.onPage;return"comment"===t?g.default.createElement("div",{className:"link-load-more"},g.default.createElement("a",{onClick:function(){return a()},className:this.ss("btn-link")},this.__("more"))):g.default.createElement("div",{className:this.ss("button-more")},g.default.createElement(y.default,{widthStyle:"full",label:this.__("more"),onClick:function(){return a()}}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.style,n=e.loadMoreStatus,r=e.hasMore,o=null;return(0,b.isLoading)(n)?o=g.default.createElement("div",{className:this.ss("searchInProgress")},g.default.createElement("div",{className:this.ss("loading")})):r&&(o=this.renderLoadMoreButton()),g.default.createElement("div",{key:"status",className:this.ss("statusBar","theme-"+t),style:m({},a)},o)}}]),t}(),f.propTypes={theme:_.default.oneOf("default","comment"),loadMoreStatus:_.default.string,hasMore:_.default.bool,style:_.default.object,onPage:_.default.func},f.defaultProps={style:{}},d=p))||d)||d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){var a=e.getState("draft.editorStates."+t);if(a){var r=a.getCurrentContent().getFirstBlock();r&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:n.EditorState.forceSelection(a,new n.SelectionState({anchorKey:r.getKey(),anchorOffset:0,focusKey:r.getKey(),focusOffset:0}))}))}}function t(e,t){var a=e.getState("draft.editorStates."+t);if(a){var r=a.getCurrentContent().getLastBlock();r&&(e.getSignal("draft.setEditorEditable")({editorKey:t}),e.getSignal("draft.setEditorState")({editorKey:t,editorState:n.EditorState.forceSelection(a,new n.SelectionState({anchorKey:r.getKey(),anchorOffset:"atomic"===r.getType()?0:r.getLength(),focusKey:r.getKey(),focusOffset:"atomic"===r.getType()?0:r.getLength()}))}))}}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=a.editorKey,o=a.nextEditorKey,i=a.prevEditorKey,s=a.renderOnly,l=a.returnToNextEditor,u=void 0!==l&&l;if(!r)throw new Error("editorKey is empty");return{keyBindingFn:s?void 0:function(a,r){var s=r.getEditorState,l=r.getProps;if(!a.shiftKey){var u=s();return 37===a.keyCode&&i&&(0,n.isSelectionAtBlockStart)(u)&&(0,n.isSelectionAtFirstBlock)(u)?(t(l().controller,i),""):39===a.keyCode&&o&&(0,n.isSelectionAtBlockEnd)(u)&&(0,n.isSelectionAtLastBlock)(u)?(e(l().controller,o),""):void 0}},onDownArrow:s?void 0:function(t,a){var r=a.getEditorState,i=a.getProps;if(!t.shiftKey){var s=r();o&&((0,n.isAtomicBlockSelected)(s)||(0,n.isFocusAtLastLine)())&&(0,n.isSelectionAtLastBlock)(s)&&(t.preventDefault(),e(i().controller,o))}},onUpArrow:s?void 0:function(e,a){var r=a.getEditorState,o=a.getProps;if(!e.shiftKey){var s=r();i&&((0,n.isAtomicBlockSelected)(s)||(0,n.isFocusAtFirstLine)())&&(0,n.isSelectionAtFirstBlock)(s)&&(e.preventDefault(),t(o().controller,i))}},handleReturn:s?void 0:u&&function(t,a,n){var r=n.getProps;return o?(e(r().controller,o),"handled"):"not-handled"}}};var n=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbTip=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["locale"],["locale"]),k=l(["breadcrumb"],["breadcrumb"]),S=l(["learner.parentIds"],["learner.parentIds"]),O=l(["currentHost"],["currentHost"]),T=n(a(2)),P=n(a(0)),j=n(a(1)),C=a(6),I=a(5),N=a(4),M=a(9),D=n(a(19)),x=a(27),R=n(a(397)),L=n(a(3)),A=n(a(400)),F=n(a(7)),K=n(a(133)),q=(u=(0,C.decorator)({locale:(0,I.state)(E),breadcrumb:(0,I.state)(k),parentIds:(0,I.state)(S),currentHost:(0,I.state)(O)}),c=(0,L.default)(A.default),d=(0,F.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),w(t,[{key:"getUrl",value:function(e){var t=this.props,a=t.parentIds,n=t.currentHost,r=t.locale,o=t.uv;return(0,D.default)((0,M.GetItemUrlInBreadcrumb)({parentIds:a,item:e,locale:r,uv:o}),n)}},{key:"getActiveItem",value:function(e){var t=[];if(e&&e.length>0){var a=e.filter(function(e){return!0===e.active})[0];if(a&&(t.push(a),a.subNodes&&a.subNodes.length>0)){var n=this.getActiveItem(a.subNodes);n&&n.length>0&&t.push.apply(t,r(n))}}return t}},{key:"getBreadcrumbItems",value:function(){var e=this.props.breadcrumb,t=(0,N.get)(e,"root"),a=this.getActiveItem([t]),n=(0,N.get)(e,"selectedIds"),r=Math.max(n.length-1,0);return a.length>r&&(a=a.slice(0,r)),a}},{key:"renderItem",value:function(e){var t=e.itemData,a=e.last;if(!t)return null;var n=t.id,r=t.title,o=t.type;return P.default.createElement("div",{key:n,className:this.ss("breadcrumb-item",a&&"last")},P.default.createElement("a",{className:this.ss("link"),href:this.getUrl(t)},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+o)),P.default.createElement("div",{className:this.ss("title")},r)),!a&&P.default.createElement("div",{className:this.ss("breadcrumb-arrow","ifont","ifont-icon-arrow-right-bold")}))}},{key:"renderBreadcrumbItems",value:function(){var e=this,t=this.getBreadcrumbItems();return t.map(function(a,n){var r=n===t.length-1;return e.renderItem({itemData:a,last:r})})}},{key:"render",value:function(){var e=this.props.breadcrumb;return(0,N.get)(e,"root")?P.default.createElement("div",{className:this.ss("breadcrumb-head")},this.renderBreadcrumbItems()):null}}]),t}(),p.propTypes={locale:T.default.string,breadcrumb:T.default.object,parentIds:T.default.object,currentHost:T.default.string,uv:T.default.string},p.defaultProps={},f=m))||f)||f)||f);t.default=q;t.BreadcrumbTip=(h=(0,C.decorator)({breadcrumb:(0,I.state)(k)}),_=(0,L.default)(A.default),g=(0,F.default)(K.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),w(t,[{key:"renderContent",value:function(){var e=this.props.breadcrumb;return(0,N.get)(e,"current")?P.default.createElement(R.default,{position:"right",theme:"breadcrumb",uv:this.props.uv},P.default.createElement(x.BreadcrumbLabel,null)):P.default.createElement(x.BreadcrumbLabel,null)}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("breadcrumb-tip")},this.renderContent())}}]),t}(),y.propTypes={breadcrumb:T.default.object,uv:T.default.string},y.defaultProps={},v=b))||v)||v)||v)},function(e,t){e.exports={"alignment-toolbar":"alignment-toolbar_2yGN3pJK",show:"show_1kQEf-F9","toolbar-button-wrapper":"toolbar-button-wrapper_3QFX3xQk","toolbar-button":"toolbar-button_26arqPCL",active:"active_7iqbI0Ym","alignment-default":"alignment-default_3YBOBbDE","alignment-left":"alignment-left_VHo_ogyY","alignment-right":"alignment-right_22KYS0k-","alignment-center":"alignment-center_1f_SbV7n","alignment-fullscreen":"alignment-fullscreen_2PVtMKkA",popup:"popup_S8z-aizc",openSettings:"openSettings_27-ymsLH","input-wrapper":"input-wrapper_94qLfpzl","link-input":"link-input_1Fe-91mg","text-area":"text-area_sLYvGzKD","close-button":"close-button_Yp9nH4Wg"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e&&e.endsWith(".00")?e.slice(0,e.length-3):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["editor.contentMap"],["editor.contentMap"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=n(a(57)),E=a(12),k=n(a(3)),S=n(a(213)),O=n(a(7)),T=n(a(214)),P=(l=(0,y.decorator)({contentMap:(0,b.state)(h)}),u=(0,k.default)(S.default),c=(0,O.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,v.default),m(t,[{key:"renderPriceNode",value:function(e){var t=[],a=e&&e.package||{},n=a.originalPrice,r=a.finalPrice,o=a.isFree,i=a.isOnSale;return o?t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},this.__("asset_free"))):(n!==r&&t.push(_.default.createElement("div",{key:"origin",className:this.ss("asset-price-origin")},n&&this.__("asset_price",{price:s(n)}))),t.push(_.default.createElement("div",{key:"final",className:this.ss("asset-price-final")},r&&this.__("asset_price",{price:s(r)})))),i&&t.push(_.default.createElement("div",{key:"onsale",className:this.ss("asset-sale")},_.default.createElement("div",{className:this.ss("asset-sale-icon","ifont","ifont-icons-on-sale")}),_.default.createElement("div",{className:this.ss("asset-sale-text")},this.__("tag_sale")))),t}},{key:"render",value:function(){var e=this.props,t=e.contentId,a=e.contentMap,n=e.theme,r=e.renderOnly,o=t&&a&&a[t],i=o||{},s=i.externalRef,l=i.externalType,u=i.url;if(!(s&&"asset_store"===l))return null;var c=o&&o.package||{},d=c.name,f=c.publisherName,p=this.renderPriceNode(o),m=u||(0,E.buildAssetStorePackageUrl)(s);return _.default.createElement("div",{className:this.ss("asset-wrap",n),onClick:r?function(e){return e.stopPropagation()}:void 0},_.default.createElement("div",{className:this.ss("asset-info")},_.default.createElement("div",{className:this.ss("asset-publisher")},f),_.default.createElement("div",{className:this.ss("asset-name")},d),_.default.createElement("div",{className:this.ss("asset-price-wrap")},p)),_.default.createElement("div",{className:this.ss("asset-button"),onClick:r?void 0:function(e){return e.stopPropagation()}},_.default.createElement(w.default,{theme:"pink",size:"medium",href:m,target:"_blank",label:this.__("button_buy")})))}}]),t}(),f.propTypes={renderOnly:g.default.bool,contentId:g.default.string,contentMap:g.default.object,theme:g.default.oneOf(["normal","gallery"])},f.defaultProps={theme:"normal"},d=p))||d)||d)||d);t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=n(a(0)),g=n(a(1)),v=n(a(2)),y=n(a(61)),b=n(a(16)),w=a(4),E=n(a(3)),k=n(a(215)),S=n(a(7)),O=n(a(216)),T=new y.default({path:"/"}),P={functional:"C0003",targeting:"C0004"},j={functional:{vimeo:{src:"player.vimeo.com/video"}},targeting:{youtube_iframe:{src:"youtube.com/embed"},sketchfab_iframe:{src:"sketchfab.com"},soundcloud_iframe:{src:"soundcloud.com/player"}}},C=(l=(0,E.default)(k.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.getOptanonConsent=function(){var e=decodeURIComponent(T.getItem("OptanonConsent")||""),t={};return e&&e.split("&").forEach(function(e){var a=e.split("="),n=m(a,2),r=n[0],o=n[1];t[r]=o}),t},n.getOneTrustActiveGroups=function(){return window&&window.OnetrustActiveGroups?window.OnetrustActiveGroups:n.getOptanonConsent().groups||""},n.handleCookieSettingClick=function(e){window&&window.OneTrust?window.OneTrust.ToggleInfoDisplay():document.getElementById("ot-sdk-btn").click(),e&&document.getElementById("ot-header-id-"+(0,w.get)(P,e)).click()},n.refreshConsent=function(){var e=n.getOneTrustActiveGroups(),t=Object.entries(P).reduce(function(t,a){var n=m(a,2),r=n[0],o=n[1];return t[r]=null!==e.match(o),t},{});n.setState(function(e){return p({},e,t)})},n.shouldBlockNode=function(){var e=n.props,t=e.src,a=e.html,r=t||a,o={};return{shouldBlockNode:Object.entries(j).some(function(e){var t=m(e,2),a=t[0],i=t[1];return!(0,w.get)(n.state,a)&&(o.category=a,(0,w.some)(i,function(e,t){var a=null!==r.match((0,w.get)(e,"src"));return a&&(o[t]=e),a}))}),reasons:o}},r=a,i(n,r)}return s(t,g.default),h(t,[{key:"componentDidMount",value:function(){this.refreshConsent()}},{key:"render",value:function(){var e=this,t=this.shouldBlockNode(),a=t.shouldBlockNode,n=t.reasons;if(a){var o=(0,w.get)(n,"category");return _.default.createElement("div",{className:this.ss("blocked-video__overlay",o)},_.default.createElement("div",{className:this.ss("blocked-video__message")},this.__("blocked_message_"+o)),_.default.createElement("div",{className:this.ss("blocked-video__button")},_.default.createElement(b.default,{label:this.__("cookie_settings"),size:"small",onClick:function(){return e.handleCookieSettingClick(o)}})))}var i=this.props,s=i.src,l=i.html,u=r(i,["src","html"]);return s?_.default.createElement("iframe",p({src:s},u)):_.default.createElement("div",{className:this.ss("consent-iframe"),dangerouslySetInnerHTML:{__html:l}})}}]),t}(),d.propTypes={src:v.default.string,html:v.default.string},d.defaultProps={src:"",html:""},c=f))||c)||c);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.QuizRetakeButton=t.QuizSubmitButton=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=s(["quizData"],["quizData"]),j=s(["learner.recordMap"],["learner.recordMap"]),C=s(["learner.quizMap"],["learner.quizMap"]),I=s(["learner.parentIds"],["learner.parentIds"]),N=s(["httpAPI.",""],["httpAPI.",""]),M=s(["learner.postRecord"],["learner.postRecord"]),D=s(["learner.setQuizRecord"],["learner.setQuizRecord"]),x=s(["learner.recordMap.",""],["learner.recordMap.",""]),R=s(["quizData.id"],["quizData.id"]),L=s(["completion.closeSummaryDialog"],["completion.closeSummaryDialog"]),A=n(a(2)),F=n(a(0)),K=n(a(1)),q=a(6),z=a(5),B=a(4),U=n(a(16)),H=n(a(292)),V=a(17),G=a(127),W=a(8),Q=n(a(3)),J=n(a(353)),Y=n(a(7)),X=n(a(128)),Z=(l=(0,q.decorator)({data:(0,z.state)(P),recordMap:(0,z.state)(j),quizMap:(0,z.state)(C),parentIds:(0,z.state)(I),postRecordData:(0,z.state)(N,W.POST_RECORD),postRecord:(0,z.signal)(M)}),u=(0,Q.default)(J.default),c=(0,Y.default)(X.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPostRecord=function(){var e=n.props,t=e.data,a=e.postRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onContinueRecord=function(){var e=n.props,t=e.data,a=e.recordMap,r=e.disabled,o=e.scrollToStep,i=(0,B.get)(t,"id"),s=(0,B.get)(a,i+".nextRecordData");!r&&s&&o&&o(s)},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.quizMap,r=e.postRecordData,o=e.versionId,i=(0,B.get)(a,"id"),s=(0,B.get)(n,""+i),l=null;if((0,G.isUndefined)(s)){var u=(0,V.isLoading)((0,B.get)(r,"updateStatus"));l=F.default.createElement("div",{className:this.ss("record-item")},F.default.createElement("div",{className:this.ss("tip")},this.__("begin_quiz_tip")),F.default.createElement(U.default,{key:"quiz-begin",loading:u,label:this.__("begin_quiz"),onClick:this.onPostRecord}))}return(0,G.isDraft)(s)&&(l=F.default.createElement("div",{className:this.ss("record-item")},F.default.createElement("div",{className:this.ss("tip")},this.__("begin_quiz_tip")),F.default.createElement(U.default,{key:"quiz_continue",label:this.__("continue_quiz"),onClick:this.onContinueRecord}))),(0,G.isFreezing)(s)&&(l=F.default.createElement("div",{className:this.ss("record-item","retake-quiz-tip")},F.default.createElement("div",{className:this.ss("retake-tip")},this.__("retake_quiz_tip")),F.default.createElement(H.default,null))),(0,G.allowRetake)(s)&&(l=F.default.createElement("div",{className:this.ss("record-item")},F.default.createElement($,{versionId:o}))),F.default.createElement("div",{className:this.ss("record-button",t)},l)}}]),t}(),f.propTypes={data:A.default.object,recordMap:A.default.object,quizMap:A.default.object,parentIds:A.default.object,size:A.default.oneOf(["small","medium","large"]),theme:A.default.oneOf(["default","sticker-head"]),postRecordData:A.default.object,disabled:A.default.bool,versionId:A.default.string,postRecord:A.default.func,scrollToStep:A.default.func},d=p))||d)||d)||d);t.default=Z;t.QuizSubmitButton=(m=(0,q.decorator)({quizData:(0,z.state)(P),quizMap:(0,z.state)(C),setQuizRecordData:(0,z.state)(N,W.SET_QUIZ_RECORD),setQuizRecord:(0,z.signal)(D)}),h=(0,Q.default)(J.default),_=(0,Y.default)(X.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onSubmit=function(){var e=n.props,t=e.quizData,a=e.setQuizRecord,r=e.disabled,o=e.versionId;if(!r){var i=(0,B.get)(t,"id"),s=(0,B.get)(t,"type");i&&s&&a&&a({id:i,type:s,versionId:o,completed:!0})}},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.quizMap,n=e.setQuizRecordData,r=e.disabled,o=(0,B.get)(t,"id"),i=(0,B.get)(a,""+o),s=(0,G.isSubmitted)(i),l=(0,V.isLoading)((0,B.get)(n,"updateStatus"));return s?F.default.createElement("div",{className:this.ss("record-button")},F.default.createElement("div",{className:this.ss("submitted-hold")},this.__("quiz_submitted"))):F.default.createElement("div",{className:this.ss("record-button")},F.default.createElement(U.default,{key:"quiz-submit",theme:"primary",widthStyle:"full",loading:l,disabled:r,label:this.__("quiz_submit"),onClick:s?null:this.onSubmit}))}}]),t}(),v.propTypes={quizData:A.default.object,quizMap:A.default.object,setQuizRecordData:A.default.object,setQuizRecord:A.default.func,disabled:A.default.bool,versionId:A.default.string},g=y))||g)||g)||g);var $=t.QuizRetakeButton=(b=(0,q.decorator)({data:(0,z.state)(P),record:(0,z.state)(x,(0,z.state)(R)),setQuizRecordData:(0,z.state)(N,W.SET_QUIZ_RECORD),setQuizRecord:(0,z.signal)(D),closeDialog:(0,z.signal)(L)}),w=(0,Q.default)(J.default),E=(0,Y.default)(X.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onRetakeRecord=function(){var e=n.props,t=e.data,a=e.setQuizRecord,r=e.disabled,o=e.versionId,i=e.closeDialog;if(!r){var s=(0,B.get)(t,"id"),l=(0,B.get)(t,"type");s&&l&&(a&&a({id:s,type:l,versionId:o,completed:!1}),i&&i())}},i=a,o(n,i)}return i(t,K.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.widthStyle,a=e.setQuizRecordData,n=e.theme,r=(0,V.isLoading)((0,B.get)(a,"updateStatus")),o="tooltip"===n?"transparent":"primary",i="tooltip"===n?"small":"medium";return F.default.createElement("div",{className:this.ss("retake-button",n)},F.default.createElement(U.default,{theme:o,size:i,widthStyle:t,key:"quiz-retake",loading:r,label:this.__("retake_quiz"),onClick:this.onRetakeRecord}))}}]),t}(),S.propTypes={data:A.default.object,widthStyle:A.default.oneOf(["auto","full"]),record:A.default.object,disabled:A.default.bool,setQuizRecord:A.default.func,setQuizRecordData:A.default.object,theme:A.default.string,versionId:A.default.string,closeDialog:A.default.func},k=O))||k)||k)||k)},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){var a=[],n=(0,b.get)(e,"root")||{},r=(0,b.get)(n,"type"),o=(0,b.get)(n,"status.completed");if(r!==E.DataTypeKeys.pathway||o)return a;var i=h(n),s=(0,b.get)(i,t);return((0,b.get)(s,"dependentIds")||[]).forEach(function(e){var n=(0,b.get)(i,e),r=(0,b.get)(n,"status.completed"),o=p({mission:n,missionMap:i,currentId:t,nextMissions:a});n&&o.length<=0&&!r&&a.push(n)}),a.length<=0&&((0,b.get)(e,"pathwayRoots")||[]).forEach(function(e){m({mission:(0,b.get)(i,e),missionMap:i,currentId:t,nextMissions:a})}),a}function o(e,t){var a=(0,b.get)(e,"root",{}),n=(0,w.GetTypeIdByItemId)(t);return l(a,n.id,n.type)}function i(e,t){var a=[];if(t.length>0){var r=t[t.length-1],o=(0,w.GetTypeIdByItemId)(r),i=o.id,s=o.type,l=(0,b.get)(e,i)||{};if((l.type===E.DataTypeKeys.project||l.type===E.DataTypeKeys.course)&&s===l.type&&l.nextRecordData){a.push.apply(a,n(t));var u=l.nextRecordData;a.push((0,w.GetItemIdByType)({id:u.itemId,type:u.type}))}}return a}function s(e,t){if(t||(t=[]),0!==t.length&&e){e.status||(e.status={});var a=e.navIds||[],n=e.subNodes||[],r=t.length,o=a.length;r>o?e.status.hasNext=(0,b.isEqual)(a,t.slice(0,o)):r===o&&(e.status.isNext=(0,b.isEqual)(a,t)),!0!==e.status.isNext&&n.length>0&&n.forEach(function(e){s(e,t)})}}function l(e,t,a){if(null===e)return null;if(e.id===t&&e.type===a)return e;if(e.subNodes&&e.subNodes.length>0)for(var n=0;n<e.subNodes.length;n++){var r=l(e.subNodes[n],t,a);if(r)return r}if(e.checkpointMap)for(var o=Object.keys(e.checkpointMap),i=0;i<o.length;i++)for(var s=o[i],u=(0,b.get)(e.checkpointMap,s+".groupNodes"),c=0;c<u.length;c++){var d=l(u[c],t,a);if(d)return d}return null}function u(e){var t=e.root,a=e.checkpointRequired,n=e.current,r=e.contentId,o=[];if(d({node:t,checkpointRequired:a,list:o,current:n,contentId:r}),o.length<=0)return null;var i=o.findIndex(function(e){return g(e,n)});if(1===o.length&&i>=0)return null;var s=i+1;return s<o.length?o[s]:o[0]}function c(e,t){var a=[];if(f({node:e,list:a,current:t}),a.length<=0)return null;var n=a.findIndex(function(e){return g(e,t)});if(1===a.length&&n>=0)return null;var r=n+1;return r<a.length?a[r]:a[0]}function d(e){var t=e.node,a=e.checkpointRequired,n=e.list,r=e.current,o=e.contentId;t.status||(t.status={});var i=t.subNodes||[];t.type===E.DataTypeKeys.tutorial||t.type===E.DataTypeKeys.quiz?t.status.completed&&!g(t,r)||n.push(t):i.forEach(function(e){var t=(0,b.get)(e,"groupId");t&&t!==o||d({node:e,checkpointRequired:a,list:n,current:r,contentId:o})}),!a||t.type!==E.DataTypeKeys.mission&&t.type!==E.DataTypeKeys.pathway||f({node:t,list:n,current:r})}function f(e){var t=e.node,a=e.list,n=e.current,r=(0,b.get)(t,"checkpointMap")||{},o=(0,b.get)(t,"checkpointIds")||[];o.length>0&&o.forEach(function(e){var t=r[e];if(t){var o=(0,b.get)(t,"status.completed"),i=(0,b.get)(t,"groupNodes.0");!o&&i&&a.push(i),g(i,n)||((0,b.get)(t,"groupNodes")||[]).find(function(e){return g(e,n)})&&a.push(n)}})}function p(e){var t=e.mission,a=e.missionMap,n=e.currentId,r=e.nextMissions,o=[];return((0,b.get)(t,"prerequisiteIds")||[]).forEach(function(e){if(e!==n){var t=(0,b.get)(a,e),i=(0,b.get)(t,"status.completed");t&&!i&&(o.push(t),p({mission:t,missionMap:a,currentId:n,nextMissions:r}).length<=0&&r.push(t))}}),o}function m(e){var t=e.mission,a=e.missionMap,n=e.currentId,r=e.nextMissions,o=(0,b.get)(t,"status.completed"),i=(0,b.get)(t,"id");t&&!o&&n!==i?r.push(t):((0,b.get)(t,"dependentIds")||[]).forEach(function(e){m({mission:(0,b.get)(a,e),missionMap:a,currentId:n,nextMissions:r})})}function h(e){var t={};return e&&e.type===E.DataTypeKeys.pathway&&(e.subNodes||[]).forEach(function(e){t[e.id]=e}),t}function _(e){var t=null;if(e&&e.subNodes.length>0&&e.type===E.DataTypeKeys.pathway)for(var a=0;a<e.subNodes.length;a++){var n=e.subNodes[a];if(((0,b.get)(n,"prerequisiteIds")||[]).filter(function(t){return e.subNodes.find(function(e){return e.id===t})}).length<=0){t=n,n.isRoot=!0;break}}return t}function g(e,t){var a=(0,b.get)(e,"navIds")||[],n=(0,b.get)(t,"navIds")||[];return!(a.length<=0)&&(0,b.isEqual)(a,n)}function v(e,t){var a=(0,b.get)(e,"dependentIds"),n=(0,b.get)(e,"status.completed"),r=a.filter(function(e){return t.find(function(t){return t.id===e})});if(r.length<=0||!n)return n;for(var o=0;o<r.length;o++){var i=function(e){var a=r[e],n=t.find(function(e){return e.id===a});if((0,b.get)(n,"status.completed")&&v(n,t))return{v:!0}}(o);if("object"===(void 0===i?"undefined":y(i)))return i.v}return!1}Object.defineProperty(t,"__esModule",{value:!0});var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var a=(0,b.get)(e,"selectedIds")||[];if(t&&0!==a.length){var n=i(t,a);e.nextIds=n,s(e.root,n)}},t.CheckUncompletedNextNode=function(e,t,a,n){var r=(0,b.get)(e,"root")||{};a&&(r=o(e,a)||{});var i=(0,b.get)(e,"current")||{};e.nextUncompleted=t?c(r,i):u({root:r,checkpointRequired:t,current:i,contentId:n})},t.ValidatePathwayMissionsCompleted=function(e){var t=(0,b.get)(e,"root")||{},a=(0,b.get)(e,"pathwayRoots")||[],n=(0,b.get)(t,"subNodes")||[];if(n.length<=0)return!0;if(a.length>0)for(var r=0;r<a.length;r++){var o=function(e){var t=a[e];if(v(n.find(function(e){return e.id===t}),n))return{v:!0}}(r);if("object"===(void 0===o?"undefined":y(o)))return o.v}return!1},t.GetMissionNextContent=function(e,t,a,n){return u({root:o(e,(0,w.GetItemIdByType)({id:t,type:E.DataTypeKeys.mission}))||{},checkpointRequired:!0,current:n,contentId:a})},t.GetCurrentVisit=function(e,t){if(!t)return null;var a=void 0;return t.tutorialId?a=(0,w.GetItemIdByType)({id:t.tutorialId,type:E.DataTypeKeys.tutorial}):t.quizId?a=(0,w.GetItemIdByType)({id:t.quizId,type:E.DataTypeKeys.quiz}):t.missionId&&(a=(0,w.GetItemIdByType)({id:t.missionId,type:E.DataTypeKeys.mission})),a?o(e,a):null},t.GetNextMissions=r,t.GetPathwayCurrentMission=function(e,t){var a=(0,b.get)(e,"root")||{},n=null;if(a.type===E.DataTypeKeys.pathway&&(t&&(n=l(a,t,E.DataTypeKeys.mission)),null===n&&(n=_(a))),(0,b.get)(n,"status.completed")){var o=r(e,(0,b.get)(n,"id"));o.length>0&&(n=o[0])}return n},t.GetNodeByItemId=o;var b=a(4),w=a(9),E=a(8)},function(e,t,a){e.exports=a.p+"../styles/i/two-factor-auth.07af3d696c7c0e9f5541ee18daa55e87.png"},function(e,t){e.exports={"body-wrap":"body-wrap_176taP6A",error:"error_3MmisBjF",transparent:"transparent_27-crzp1","render-only":"render-only_3LFn_jOO","transparent-live-session":"transparent-live-session_FDsb72Wi","transparent-submission":"transparent-submission_3faNcpaa",popup:"popup_1Uw2fExW","question-title":"question-title_Fu0i3gu-","question-option":"question-option_1sgoRpe2","normal-content-summary":"normal-content-summary_3OLjalz3",architecture:"architecture_37OsW6cu"}},function(e,t){e.exports={"mention-toolbar":"mention-toolbar_1X1_y4rJ",show:"show_1SYxF7VC",candidates:"candidates_33UUdFZb",candidate:"candidate_3x4qzq8d",active:"active_16lUScbR",avatar:"avatar_1V9-Yasc",name:"name_upVL0YZP","mention-wrapper":"mention-wrapper_2jdPEUTb",link:"link_DEGzivHA"}},function(e,t){e.exports={"mention-toolbar":"mention-toolbar_2vJ6vece",show:"show_G3YZJ-0w",candidates:"candidates_3JinurMc",candidate:"candidate_2yizZwWB",active:"active_2x2aInLC",avatar:"avatar_zcOJ_wAI",name:"name_hHrvrEin","mention-wrapper":"mention-wrapper_3X-uyP4W",link:"link_1a7muOk2"}},function(e,t){e.exports={type_project:"type_project_3YrB",type_course:"type_course_3Ha9",type_tutorial:"type_tutorial_1E3V",type_liveSession:"type_liveSession_13NM",type_quiz:"type_quiz_FEHC",type_skill:"type_skill_3n0D",type_competency:"type_competency_19aq",type_badge:"type_badge_33Eu",type_mission:"type_mission_3yQ5",type_pathway:"type_pathway_3XiU",type_free_asset:"type_free_asset_Sakt",type_premium_asset:"type_premium_asset_2vXN",type_group:"type_group_3BqD",questions_count:"questions_count_1Y6d",time_format:"time_format_1czt",sub_skills_count:"sub_skills_count_2y3Z",skills_count:"skills_count_3ZNv",competencies_count:"competencies_count_35n-",group_online:"group_online_yx4P",group_members:"group_members_1--s"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=s(e);return i(a,t)},t.GetCategoryLevelExperience=function(e,t){var a=s(e);return o(a,t)};var n=a(4),r=function(e){return e%5==0?e:5*Math.ceil(e/5)},o=function(e,t){if(1===t||e<=0)return e;for(var a=2;a<=t;a++)e=r(1.5*e);return e},i=function(e,t){var a=1;if(0===e)return{level:a,levelPoint:t};for(;t>=o(e,a);)t-=o(e,a),a++;return{level:a,levelPoint:t}},s=function(e){var t=(0,n.get)(e,"name");return"Audio"===t||"Systems Design"===t||"Professional Skills"===t?250:"Unity Essentials"===t||"Art & Animation"===t||"Programming"===t?500:0}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TfaConfirmDialog=t.TranslateConfirmDialog=t.DeleteConfirmDialog=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W,Q,J,Y,X,Z,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,ke,Se,Oe,Te,Pe,je,Ce,Ie,Ne,Me,De,xe,Re,Le,Ae,Fe,Ke,qe,ze,Be,Ue,He,Ve,Ge,We,Qe,Je,Ye,Xe,Ze,$e,et,tt,at,nt=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),rt=l(["header.setting.appSwitcherOpen"],["header.setting.appSwitcherOpen"]),ot=l(["header.appSwitcherOpen"],["header.appSwitcherOpen"]),it=l(["header.appSwitcherClose"],["header.appSwitcherClose"]),st=l(["common.setting.avatarExpanded"],["common.setting.avatarExpanded"]),lt=l(["loginUser"],["loginUser"]),ut=l(["userGroups"],["userGroups"]),ct=l(["currentHost"],["currentHost"]),dt=l(["common.loginTo"],["common.loginTo"]),ft=l(["common.openAvatar"],["common.openAvatar"]),pt=l(["common.closeAvatar"],["common.closeAvatar"]),mt=l(["currentPath"],["currentPath"]),ht=l(["common.setting.searchBoxOpen"],["common.setting.searchBoxOpen"]),_t=l(["common.openSearchBox"],["common.openSearchBox"]),gt=l(["common.closeSearchBox"],["common.closeSearchBox"]),vt=l(["userPremium"],["userPremium"]),yt=l(["header.setting.appHamburgerOpen"],["header.setting.appHamburgerOpen"]),bt=l(["header.appHamburgerOpen"],["header.appHamburgerOpen"]),wt=l(["header.appHamburgerClose"],["header.appHamburgerClose"]),Et=l(["browseData.landingPathwayData"],["browseData.landingPathwayData"]),kt=l(["pageUser"],["pageUser"]),St=l(["uaaMember"],["uaaMember"]),Ot=l(["header.deleteConfirmDialog.open"],["header.deleteConfirmDialog.open"]),Tt=l(["header.deleteConfirmDialog.type"],["header.deleteConfirmDialog.type"]),Pt=l(["header.closeDeleteConfirm"],["header.closeDeleteConfirm"]),jt=l(["header.doConfirmDelete"],["header.doConfirmDelete"]),Ct=l(["common.saveConfirmDialog.open"],["common.saveConfirmDialog.open"]),It=l(["common.saveConfirmDialog.type"],["common.saveConfirmDialog.type"]),Nt=l(["common.doConfirmTranslate"],["common.doConfirmTranslate"]),Mt=l(["common.skipConfirmTranslate"],["common.skipConfirmTranslate"]),Dt=l(["header.tfaConfirmDialog.open"],["header.tfaConfirmDialog.open"]),xt=l(["header.doTfaStatus"],["header.doTfaStatus"]),Rt=l(["header.doTfa"],["header.doTfa"]),Lt=l(["header.closeTfaConfirmDialog"],["header.closeTfaConfirmDialog"]),At=n(a(2)),Ft=n(a(0)),Kt=n(a(1)),qt=a(6),zt=a(5),Bt=a(4),Ut=n(a(23)),Ht=n(a(162)),Vt=n(a(51)),Gt=n(a(170)),Wt=n(a(39)),Qt=(n(a(172)),n(a(164))),Jt=n(a(82)),Yt=n(a(176)),Xt=(n(a(178)),n(a(180))),Zt=n(a(84)),$t=n(a(183)),ea=a(26),ta=n(a(19)),aa=a(79),na=a(8),ra=a(9),oa=n(a(25)),ia=n(a(28)),sa=(n(a(76)),n(a(3))),la=n(a(185)),ua=n(a(7)),ca=n(a(49)),da=(u=(0,qt.decorator)({isAppSwitcherOpen:(0,zt.state)(rt),appSwitcherOpen:(0,zt.signal)(ot),appSwitcherClose:(0,zt.signal)(it)}),c=(0,sa.default)(la.default),d=(0,ua.default)(ca.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"onClick",value:function(){var e=this.props,t=e.isAppSwitcherOpen,a=e.appSwitcherOpen,n=e.appSwitcherClose;t?n():a()}},{key:"render",value:function(){var e=this,t=this.props.isAppSwitcherOpen;return Ft.default.createElement("div",{className:this.ss("app-switcher-wrap")},Ft.default.createElement(Ut.default,{text:this.__("tooltip_app_switcher"),position:"bottom"},Ft.default.createElement("div",{className:this.ss("app-switcher-action",t&&"open"),id:"app-switcher-action"},Ft.default.createElement("button",{className:this.ss("app-switcher-icon","ifont","ifont-lrn_icon_switcher"),onClick:function(){return e.onClick()}}))),t&&Ft.default.createElement(fa,null))}}]),t}(),p.propTypes={isAppSwitcherOpen:At.default.bool.isRequired,appSwitcherOpen:At.default.func,appSwitcherClose:At.default.func},f=m))||f)||f)||f),fa=(h=(0,qt.decorator)({isAppSwitcherOpen:(0,zt.state)(rt),appSwitcherClose:(0,zt.signal)(it)}),_=(0,sa.default)(la.default),g=(0,ua.default)(ca.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,ea.addClickOutside)([this,"app-switcher-action"],function(){e.props.appSwitcherClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this,t=[{name:"Asset Store",icon:"icons-app-assetstore",href:"https://assetstore.unity.com/"},{name:"Dashboard",icon:"icons-app-dashboard",href:"https://dashboard.unity3d.com"},{name:"Distribute",icon:"UDP-Icon",href:"https://distribute.dashboard.unity.com/"},{name:"Forum",icon:"icons-app-forum",href:"https://forum.unity.com/"}].map(function(t){return Ft.default.createElement("a",{className:e.ss("app-item"),href:t.href,key:t.name},Ft.default.createElement("div",{className:e.ss("app-icon","ifont","ifont-"+t.icon)}),Ft.default.createElement("div",{className:e.ss("app-name")},t.name))});return Ft.default.createElement("div",{className:this.ss("app-switcher")},Ft.default.createElement("div",{className:this.ss("switcher-wrap")},t))}}]),t}(),y.propTypes={isAppSwitcherOpen:At.default.bool.isRequired,appSwitcherClose:At.default.func},v=b))||v)||v)||v),pa=(w=(0,qt.decorator)({expanded:(0,zt.state)(st),loginUser:(0,zt.state)(lt),userGroups:(0,zt.state)(ut),currentHost:(0,zt.state)(ct),loginTo:(0,zt.signal)(dt),openAvatar:(0,zt.signal)(ft),closeAvatar:(0,zt.signal)(pt)}),E=(0,sa.default)(la.default),k=(0,ua.default)(ca.default),w(S=E(S=k((T=O=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickAvatar=function(){var e=n.props,t=e.expanded,a=e.openAvatar,r=e.closeAvatar;return!0===t?r():a()},r=a,i(n,r)}return s(t,Kt.default),nt(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,ea.addClickOutside)([this],function(){e.props.closeAvatar()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderUnifiedProfile",value:function(){var e=this.props.loginUser;ia.default.DEFAULT_URL,e.id;return Ft.default.createElement("div",{className:this.ss("profile-wrap")},Ft.default.createElement("div",{className:this.ss("profile-avatar-wrap")},Ft.default.createElement(Wt.default,{user:e,size:"unified-profile",status:"online"}),Ft.default.createElement("div",{className:this.ss("profile-account")},Ft.default.createElement("div",{className:this.ss("profile-name")},e.name),Ft.default.createElement("div",{className:this.ss("profile-email")},e.email),Ft.default.createElement(Vt.default,{tourTipId:na.TourStepKey.menu_my_account},Ft.default.createElement("a",{className:this.ss("profile-link"),href:ia.default.BASE_ID_URL},this.__("account"))))))}},{key:"renderLoginAction",value:function(){var e=this.props,t=e.loginTo,a=e.currentHost;return Ft.default.createElement("div",{className:this.ss("right")},Ft.default.createElement("div",{className:this.ss("other-items")},Ft.default.createElement("a",{href:(0,ta.default)("/faq",a),className:this.ss("menu-item")},Ft.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-lrn_icon_help_outline")}),Ft.default.createElement("div",{className:this.ss("item-name")},this.__("faq"))),Ft.default.createElement("a",{className:this.ss("menu-item"),onClick:function(){return t({isReg:!0})}},Ft.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-anonymous")}),Ft.default.createElement("div",{className:this.ss("item-name")},this.__("new_account"))),Ft.default.createElement("a",{className:this.ss("menu-item"),onClick:function(){return t()}},Ft.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-sign-out")}),Ft.default.createElement("div",{className:this.ss("item-name")},this.__("sign_in")))))}},{key:"renderOtherItems",value:function(){var e=this.props,t=e.loginUser,a=e.currentHost,n=(0,Bt.get)(t,"id"),r=(0,ra.AppendUrlQuery)((0,ta.default)("/u/"+n,a),{tab:"settings"});return Ft.default.createElement("div",{className:this.ss("other-items")},Ft.default.createElement("a",{className:this.ss("menu-item"),href:r},Ft.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-settings")}),Ft.default.createElement("div",{className:this.ss("item-name")},this.__("menu_avatar_settings"))),Ft.default.createElement("a",{className:this.ss("menu-item"),href:"/auth/logout"},Ft.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icons-sign-out")}),Ft.default.createElement("div",{className:this.ss("item-name")},this.__("sign_out"))))}},{key:"renderRight",value:function(){var e=this.props,t=e.userGroups,a=(e.loginUser,e.currentHost),n=ia.default.DEFAULT_URL+"/admin/learn/report-stats";return Ft.default.createElement("div",{className:this.ss("right")},this.renderUnifiedProfile(),(0,aa.isLearnCreatorAll)(t)&&Ft.default.createElement("a",{href:(0,ta.default)("/creator/dashboard",a),className:this.ss("item")},this.__("content_creator")),(0,aa.isLearnAdminAll)(t)&&Ft.default.createElement("a",{href:(0,ta.default)("/creator/dashboard/architecture",a),className:this.ss("item")},this.__("content_learner_architecture")),(0,aa.isLearnModeratorAll)(t)&&Ft.default.createElement("a",{href:n,className:this.ss("item")},this.__("community_moderator")),Ft.default.createElement("a",{href:(0,ta.default)("/faq",a),className:this.ss("item")},this.__("faq")),this.renderOtherItems())}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.expanded;return Ft.default.createElement("div",{className:this.ss("avatar-action",a&&"hover")},Ft.default.createElement("button",{className:this.ss("button"),onClick:this.onClickAvatar},Ft.default.createElement("div",{className:this.ss("button-inner")},Ft.default.createElement(Wt.default,{user:t||{anonymous:!0},className:this.ss("avatar"),nameClassName:this.ss("avatar-name")}))),Ft.default.createElement("div",{className:this.ss("popout")},t?this.renderRight():this.renderLoginAction()))}}]),t}(),O.propTypes={expanded:At.default.bool,loginUser:At.default.object,userGroups:At.default.array,currentHost:At.default.string,loginTo:At.default.func,openAvatar:At.default.func,closeAvatar:At.default.func},S=T))||S)||S)||S),ma=(P=(0,qt.decorator)({currentPath:(0,zt.state)(mt),searchBoxOpen:(0,zt.state)(ht),openSearchBox:(0,zt.signal)(_t),closeSearchBox:(0,zt.signal)(gt)}),j=(0,sa.default)(la.default),C=(0,ua.default)(ca.default),P(I=j(I=C((M=N=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props,t=(e.openSearchBox,e.closeSearchBox,e.currentPath,e.searchBoxOpen),a=r(e,["openSearchBox","closeSearchBox","currentPath","searchBoxOpen"]),n=t;return Ft.default.createElement("div",{className:this.ss("search-wrap")},Ft.default.createElement("div",{ref:"search",className:this.ss("search")},n&&Ft.default.createElement("div",{ref:"searchBox",className:this.ss("search-box",n&&"show")},Ft.default.createElement(Xt.default,a))))}}]),t}(),N.propTypes={currentPath:At.default.string,searchBoxOpen:At.default.bool,openSearchBox:At.default.func,closeSearchBox:At.default.func},I=M))||I)||I)||I),ha=(D=(0,qt.decorator)({userPremium:(0,zt.state)(vt),currentHost:(0,zt.state)(ct)}),x=(0,sa.default)(la.default),R=(0,ua.default)(ca.default),D(L=x(L=R((F=A=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},r=a,i(n,r)}return s(t,Kt.default),nt(t,[{key:"renderUserActions",value:function(){return Ft.default.createElement("div",{className:this.ss("user-actions")},Ft.default.createElement(da,null),Ft.default.createElement(pa,null))}},{key:"renderMenuItems",value:function(){var e=this.props.theme;return Ft.default.createElement("div",{className:this.ss("main-menu-wrapper")},Ft.default.createElement("div",{className:this.ss("main-menu")},Ft.default.createElement(va,null),Ft.default.createElement(Zt.default,null),Ft.default.createElement($t.default,null),Ft.default.createElement(ya,null),Ft.default.createElement(ba,null),Ft.default.createElement(wa,null)),Ft.default.createElement(ma,{theme:e}))}},{key:"renderMenuMain",value:function(){return Ft.default.createElement("div",{className:this.ss("hamburger-wrapper")},Ft.default.createElement(_a,null))}},{key:"renderLogo",value:function(){var e=this.props.currentHost;return Ft.default.createElement("div",{className:this.ss("logo")},Ft.default.createElement("a",{href:(0,ta.default)("/",e)},Ft.default.createElement("div",{className:this.ss("logo-icon","ifont","ifont-lrn_logo_unity_learn")})))}},{key:"render",value:function(){var e=this.props.theme;return Ft.default.createElement("div",null,Ft.default.createElement(Ht.default,null),Ft.default.createElement(Qt.default,null),Ft.default.createElement("div",{className:this.ss("header-wrap",e)},Ft.default.createElement("div",{className:this.ss("header")},this.renderLogo(),this.renderMenuMain(),this.renderMenuItems(),this.renderUserActions())),Ft.default.createElement(Gt.default,null),Ft.default.createElement(Ea,null),Ft.default.createElement(ka,null),Ft.default.createElement(Yt.default,null),Ft.default.createElement(Sa,null))}}]),t}(),A.propTypes={userPremium:At.default.bool,currentHost:At.default.string,theme:At.default.oneOf(["default","hidden","architecture","transparent"])},L=F))||L)||L)||L);t.default=ha;var _a=(K=(0,qt.decorator)({isAppHamburgerOpen:(0,zt.state)(yt),appHamburgerOpen:(0,zt.signal)(bt),appHamburgerClose:(0,zt.signal)(wt)}),q=(0,sa.default)(la.default),z=(0,ua.default)(ca.default),K(B=q(B=z((H=U=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"onClick",value:function(){var e=this.props,t=e.isAppHamburgerOpen,a=e.appHamburgerOpen,n=e.appHamburgerClose;t?n():a()}},{key:"render",value:function(){var e=this,t=this.props.isAppHamburgerOpen;return Ft.default.createElement("div",{className:this.ss("app-hamburger-wrap")},Ft.default.createElement("div",{className:this.ss("hamburger-wrap"),id:"hamburger-wrap"},Ft.default.createElement("button",{className:this.ss("menu-icon","ifont","ifont-bars"),onClick:function(){return e.onClick()}})),t&&Ft.default.createElement(ga,null))}}]),t}(),U.propTypes={isAppHamburgerOpen:At.default.bool.isRequired,appHamburgerOpen:At.default.func,appHamburgerClose:At.default.func},B=H))||B)||B)||B),ga=(V=(0,qt.decorator)({currentHost:(0,zt.state)(ct),landingPathwayData:(0,zt.state)(Et),appHamburgerClose:(0,zt.signal)(wt)}),G=(0,sa.default)(la.default),W=(0,ua.default)(ca.default),V(Q=G(Q=W((Y=J=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,ea.addClickOutside)([this,"hamburger-wrap"],function(){e.props.appHamburgerClose()})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderPathwaysContent",value:function(){var e=this,t=this.props,a=t.landingPathwayData,n=t.currentHost,r=(0,ra.GetListDataFeaturesByListName)(a,"page_landing_pathway_featured")||[];return 0===r.length?null:r.map(function(t,a){if(a>1)return null;var r=t.title,o=(0,ta.default)((0,ra.GetDetailPageURL)(t),n);return Ft.default.createElement("a",{className:e.ss("title"),key:t.id,href:o},r)})}},{key:"renderBrowseContent",value:function(){var e=this,t=this.props.currentHost;return na.BrowseDataTypes.map(function(a,n){var r=[na.CriteriaKeys.type+":"+a],o=encodeURIComponent(JSON.stringify(r)),i=(0,ta.default)("/search?k="+o,t);return Ft.default.createElement("a",{key:n,className:e.ss("title"),href:i},e.__(""+na.TypeLadingUrl[a]))})}},{key:"renderContent",value:function(){return Ft.default.createElement("div",{className:this.ss("hamburger-box")},Ft.default.createElement("div",{className:this.ss("pathways-title")},this.__("menu_pathways"),this.renderPathwaysContent()),Ft.default.createElement("div",{className:this.ss("menu-title")},this.__("menu_browses"),this.renderBrowseContent()))}},{key:"render",value:function(){return Ft.default.createElement("div",{className:this.ss("hamburger-menu")},Ft.default.createElement(va,null),Ft.default.createElement("div",{className:this.ss("hamburger-content")},this.renderContent()),Ft.default.createElement(ya,null))}}]),t}(),J.propTypes={currentHost:At.default.string,landingPathwayData:At.default.object,appHamburgerClose:At.default.func},J.defaultProps={},Q=Y))||Q)||Q)||Q),va=(X=(0,qt.decorator)({pageUser:(0,zt.state)(kt),loginUser:(0,zt.state)(lt),currentHost:(0,zt.state)(ct),loginTo:(0,zt.signal)(dt)}),Z=(0,sa.default)(la.default),$=(0,ua.default)(ca.default),X(ee=Z(ee=$((ae=te=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(){var e=n.props,t=e.loginUser,a=e.loginTo,r=e.currentHost,o=(0,Bt.get)(t,"id")||"";if(o){var i=(0,ra.AppendUrlQuery)((0,ta.default)("/u/"+o,r));(0,oa.default)(""+i)}else a()},r=a,i(n,r)}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.pageUser,n=(0,Bt.get)(t,"id")||"",r=(0,Bt.get)(a,"id")||"",o=!!n&&!!r&&n===r;return Ft.default.createElement("div",{className:this.ss("my-learning",o&&"active")},Ft.default.createElement(Vt.default,{tourTipId:na.TourStepKey.menu_my_learning},Ft.default.createElement("a",{className:this.ss("link"),onClick:this.onClick},this.__("my_learning"))))}}]),t}(),te.propTypes={pageUser:At.default.object,loginUser:At.default.object,currentHost:At.default.string,loginTo:At.default.func},ee=ae))||ee)||ee)||ee),ya=(ne=(0,qt.decorator)({currentPath:(0,zt.state)(mt),currentHost:(0,zt.state)(ct)}),re=(0,sa.default)(la.default),oe=(0,ua.default)(ca.default),ne(ie=re(ie=oe((le=se=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/tutorials");return Ft.default.createElement("div",{className:this.ss("tutorials",n&&"active")},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)("/tutorials",a)},this.__("menu_tutorials")))}}]),t}(),se.propTypes={currentPath:At.default.string,currentHost:At.default.string},ie=le))||ie)||ie),ue=(0,qt.decorator)({currentPath:(0,zt.state)(mt),currentHost:(0,zt.state)(ct)}),ce=(0,sa.default)(la.default),de=(0,ua.default)(ca.default),ue(fe=ce(fe=de((me=pe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/projects");return Ft.default.createElement("div",{className:this.ss("projects",n&&"active")},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)("/projects",a)},this.__("menu_projects")))}}]),t}(),pe.propTypes={currentPath:At.default.string,currentHost:At.default.string},fe=me))||fe)||fe),he=(0,qt.decorator)({currentPath:(0,zt.state)(mt),currentHost:(0,zt.state)(ct)}),_e=(0,sa.default)(la.default),ge=(0,ua.default)(ca.default),he(ve=_e(ve=ge((be=ye=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n=t&&t.endsWith("/courses");return Ft.default.createElement("div",{className:this.ss("courses",n&&"active")},Ft.default.createElement(Vt.default,{tourTipId:na.TourStepKey.menu_courses},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)("/courses",a)},this.__("menu_courses"))))}}]),t}(),ye.propTypes={currentPath:At.default.string,currentHost:At.default.string},ve=be))||ve)||ve),we=(0,qt.decorator)({currentPath:(0,zt.state)(mt),userGroups:(0,zt.state)(ut),userPremium:(0,zt.state)(vt),currentHost:(0,zt.state)(ct)}),Ee=(0,sa.default)(la.default),ke=(0,ua.default)(ca.default),we(Se=Ee(Se=ke((Te=Oe=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.currentHost,n="/live-calendar",r=t&&t.endsWith(n);return Ft.default.createElement("div",{className:this.ss("learn-live",r&&"active")},Ft.default.createElement(Vt.default,{tourTipId:na.TourStepKey.menu_live_calendar},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)(n,a)},this.__("menu_live_calendar"))))}}]),t}(),Oe.propTypes={currentPath:At.default.string,userGroups:At.default.array,userPremium:At.default.bool,currentHost:At.default.string},Se=Te))||Se)||Se)||Se),ba=(Pe=(0,qt.decorator)({currentPath:(0,zt.state)(mt),userGroups:(0,zt.state)(ut),currentHost:(0,zt.state)(ct)}),je=(0,sa.default)(la.default),Ce=(0,ua.default)(ca.default),Pe(Ie=je(Ie=Ce((Me=Ne=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.currentPath,a=e.userGroups,n=e.currentHost;if(!(0,aa.isLearnAdminAll)(a))return null;var r="/creator/featured",o=!(t.indexOf(r)<0);return Ft.default.createElement("div",{className:this.ss("admin-tool",o&&"active")},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)(r,n)},this.__("menu_admin_tool")))}}]),t}(),Ne.propTypes={currentPath:At.default.string,userGroups:At.default.array,currentHost:At.default.string},Ie=Me))||Ie)||Ie)||Ie),wa=(De=(0,qt.decorator)({uaaMember:(0,zt.state)(St),currentPath:(0,zt.state)(mt),currentHost:(0,zt.state)(ct)}),xe=(0,sa.default)(la.default),Re=(0,ua.default)(ca.default),De(Le=xe(Le=Re((Fe=Ae=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.uaaMember,a=e.currentPath,n=e.currentHost;if(!t)return null;var r=!(a.indexOf("/uaa")<0&&a.indexOf("/uaawelcome")<0);return Ft.default.createElement("div",{className:this.ss("uaa-portal",r&&"active")},Ft.default.createElement("a",{className:this.ss("link"),href:(0,ta.default)("/uaa",n)},this.__("menu_uaa_portal")))}}]),t}(),Ae.propTypes={uaaMember:At.default.bool,currentPath:At.default.string,currentHost:At.default.string},Le=Fe))||Le)||Le)||Le),Ea=t.DeleteConfirmDialog=(Ke=(0,qt.decorator)({deleteConfirmOpen:(0,zt.state)(Ot),deleteConfirmType:(0,zt.state)(Tt),closeDeleteConfirm:(0,zt.signal)(Pt),doConfirmDelete:(0,zt.signal)(jt)}),qe=(0,sa.default)(la.default),ze=(0,ua.default)(ca.default),Ke(Be=qe(Be=ze((He=Ue=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.deleteConfirmOpen,a=e.deleteConfirmType,n=e.closeDeleteConfirm,r=e.doConfirmDelete;return Ft.default.createElement("div",{className:this.ss("dialog-wrapper")},Ft.default.createElement(Jt.default,{open:t,theme:"delete",title:this.__("delete_confirm_"+a+"_title"),description:this.__("delete_confirm_"+a+"_text"),onConfirm:function(){return r()},onClose:function(){return n()}}))}}]),t}(),Ue.propTypes={deleteConfirmOpen:At.default.bool,deleteConfirmType:At.default.string,closeDeleteConfirm:At.default.func,doConfirmDelete:At.default.func},Be=He))||Be)||Be)||Be),ka=t.TranslateConfirmDialog=(Ve=(0,qt.decorator)({saveConfirmOpen:(0,zt.state)(Ct),saveConfirmType:(0,zt.state)(It),doConfirmTranslate:(0,zt.signal)(Nt),skipConfirmTranslate:(0,zt.signal)(Mt)}),Ge=(0,sa.default)(la.default),We=(0,ua.default)(ca.default),Ve(Qe=Ge(Qe=We((Ye=Je=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.saveConfirmOpen,a=e.saveConfirmType,n=e.doConfirmTranslate,r=e.skipConfirmTranslate;return Ft.default.createElement(Jt.default,{open:t,theme:"publish",title:this.__("save_confirm_"+a+"_title"),description:this.__("save_confirm_"+a+"_text"),onConfirm:function(){return n()},onClose:function(){return r()}})}}]),t}(),Je.propTypes={saveConfirmOpen:At.default.bool,saveConfirmType:At.default.string,doConfirmTranslate:At.default.func,skipConfirmTranslate:At.default.func},Qe=Ye))||Qe)||Qe)||Qe),Sa=t.TfaConfirmDialog=(Xe=(0,qt.decorator)({tfaConfirmOpen:(0,zt.state)(Dt),doTfaStatus:(0,zt.state)(xt),doTfa:(0,zt.signal)(Rt),closeTfaConfirmDialog:(0,zt.signal)(Lt)}),Ze=(0,sa.default)(la.default),$e=(0,ua.default)(ca.default),Xe(et=Ze(et=$e((at=tt=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,Kt.default),nt(t,[{key:"render",value:function(){var e=this.props,t=e.tfaConfirmOpen,a=e.doTfaStatus,n=e.doTfa,r=e.closeTfaConfirmDialog;return Ft.default.createElement(Jt.default,{theme:"tfa",open:t,title:this.__("tfa_confirm_title"),description:this.__("tfa_confirm_text"),confirmStatus:a,onConfirm:function(){return n()},onClose:function(){return r()}})}}]),t}(),tt.propTypes={tfaConfirmOpen:At.default.bool,doTfaStatus:At.default.string,doTfa:At.default.func,closeTfaConfirmDialog:At.default.func},et=at))||et)||et)||et)},function(e,t,a){"use strict";function n(e){return(e=e||{}).quizStatus===r.submitted}Object.defineProperty(t,"__esModule",{value:!0}),t.isSubmitted=n,t.isDraft=function(e){return(e=e||{}).quizStatus===r.draft},t.isUndefined=function(e){return void 0===(e=e||{}).quizStatus},t.isFreezing=function(e){var t=(e=e||{}).leftFreezingSeconds;return n(e)&&t>0},t.isAnswered=function(e){return(e=e||{}).answered},t.allowRetake=function(e){var t=(e=e||{}).leftFreezingSeconds;return n(e)&&t<=0};var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(72)).default)({draft:null,submitted:null});t.default=r},function(e,t){e.exports={quiz_submit:"quiz_submit_3Ke6",quiz_submitted:"quiz_submitted_cYdB",begin_quiz:"begin_quiz_3zrG",begin_quiz_tip:"begin_quiz_tip_27lW",continue_quiz:"continue_quiz_1O_R",retake_quiz:"retake_quiz_3vMi",retake_quiz_tip:"retake_quiz_tip_1U_E",hours:"hours_Morj",minutes:"minutes_1XfI",seconds:"seconds_6t8-"}},function(e,t){e.exports={section_eyebrow:"section_eyebrow_3PLu",section_eyebrow_login:"section_eyebrow_login_270Q",section_title:"section_title_2H7O",tab_newToUnity:"tab_newToUnity_3UsA",tab_familiarWithUnity:"tab_familiarWithUnity_IXg1",tab_powerUser:"tab_powerUser_2MV3",content_newToUnity_title:"content_newToUnity_title_2Tq-",content_familiarWithUnity_title:"content_familiarWithUnity_title_32kh",content_powerUser_title:"content_powerUser_title_15HR",start_with_first_project:"start_with_first_project_j2nE",start_with_area:"start_with_area_1VA4",start_with_industry_topic:"start_with_industry_topic_2d5x",start_here:"start_here_3X0G",sign_in_text:"sign_in_text_n_WM",sign_in_link:"sign_in_link_3hS-",start_now:"start_now_2gHu",search_input_placeholder:"search_input_placeholder_1aCH",type_topics:"type_topics_3r7S",type_industries:"type_industries_xTbq",button_more:"button_more_3uu4",button_less:"button_less_1hML",browse_all_topics:"browse_all_topics_3cMm",collapse_title:"collapse_title_mVjv",tag_name_games:"tag_name_games_2FjY",tag_name_xr:"tag_name_xr_1Hdb",tag_name_film:"tag_name_film_3j1-",tag_name_scripting:"tag_name_scripting_1LQu",tag_name_art:"tag_name_art_3xeZ",tag_name_design:"tag_name_design_3qb2",tag_desc_games:"tag_desc_games_2Fa2",tag_desc_xr:"tag_desc_xr_2I9Q",tag_desc_film:"tag_desc_film_3-L2",tag_desc_scripting:"tag_desc_scripting_1HO6",tag_desc_art:"tag_desc_art_3sMQ",tag_desc_design:"tag_desc_design_30kP"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.GetLiveSessionContentData=t.GetLiveSessionFromContentData=t.RegisterButton=t.LiveSessionWidget=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=l(["currentHost"],["currentHost"]),j=l(["common.openCalendarDialog"],["common.openCalendarDialog"]),C=l(["loginUser"],["loginUser"]),I=l(["userPremium"],["userPremium"]),N=l(["header.sendCDPRequest"],["header.sendCDPRequest"]),M=l(["common.loginTo"],["common.loginTo"]),D=n(a(2)),x=n(a(0)),R=n(a(1)),L=a(6),A=a(4),F=n(a(28)),K=n(a(15)),q=a(27),z=a(44),B=n(a(16)),U=a(5),H=a(78),V=a(8),G=n(a(19)),W=a(12),Q=a(9),J=n(a(3)),Y=n(a(390)),X=n(a(7)),Z=n(a(391)),$=(u=(0,L.decorator)({currentHost:(0,U.state)(P),openCalendarDialog:(0,U.signal)(j)}),c=(0,J.default)(Y.default),d=(0,X.default)(Z.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleLearnMore=function(){var e=n.props,t=e.data;(0,e.openCalendarDialog)({data:t})},r=a,i(n,r)}return s(t,R.default),T(t,[{key:"renderReferTo",value:function(){var e=this.props,t=e.data,a=e.currentHost,n=te(t);if(!n)return null;var r=n.id,o=n.type,i=n.title;return x.default.createElement("div",{className:this.ss("calendar-refer")},this.__("live_session_referTo_"+o),x.default.createElement("a",{className:this.ss("link"),href:(0,G.default)("/"+o+"/"+r,a)},i))}},{key:"renderSessionProperties",value:function(){var e=this,t=this.props.data,a=(0,A.get)(t,"topicMap")||{},n=(0,A.get)(t,"industryMap")||{},o=(0,A.get)(t,"skillLevel"),i=(0,A.get)(t,"industryIds")||[],s=(0,A.get)(t,"topicIds")||[],l=[];if(i.length>0){var u=i.map(function(e){return n[e]&&n[e].name});l.push.apply(l,r(u))}if(o&&l.push(o.replace(/^[a-z]/,o.slice(0,1).toUpperCase())),s.length>0){var c=s.map(function(e){return a[e]&&a[e].name});l.push.apply(l,r(c))}return l.map(function(t,a){return x.default.createElement("div",{key:"session_properties_"+a,className:e.ss("sub-item")},0!==a&&x.default.createElement("div",{className:e.ss("dot")}),x.default.createElement("span",null,t))})}},{key:"renderSessionHead",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.showImage,r=(0,A.get)(t,"title"),o=(0,A.get)(t,"thumbnail.url");return x.default.createElement("div",{className:this.ss("head")},n&&x.default.createElement("div",{className:this.ss("head-title-image")},x.default.createElement("div",{className:this.ss("head-title-image-wrap")},x.default.createElement(K.default,{sizes:"60px",src:o}))),x.default.createElement("div",{className:this.ss("head-title")},x.default.createElement("span",null,r)),x.default.createElement("div",{className:this.ss("head-sub-des")},"detail"!==a?this.renderReferTo():this.renderSessionProperties()))}},{key:"renderSessionTime",value:function(){var e=this.props.data,t=(0,A.get)(e,"rangeTime.startTime"),a=(0,A.get)(e,"rangeTime.endTime"),n=(0,H.GetLiveSessionTime)({startTime:t,endTime:a},this.moment().utcOffset()),r=n.sessionTime,o=n.timeZone,i=n.daysDiff;return i>0?r+" ("+this.__("live_session_time_diff",{total:i})+") "+o:r+" "+o}},{key:"renderSessionContent",value:function(){var e=this.props.data,t=(0,A.get)(e,"period"),a=(0,A.get)(e,"rangeTime.startTime"),n=(0,A.get)(e,"previousVideo"),r=x.default.createElement("div",{key:"date",className:this.ss("date-time-item","date-item")},x.default.createElement("div",{className:this.ss("date-item-icon","ifont","ifont-icon-event")}),x.default.createElement("div",{className:this.ss("date-item-label")},this.__("time_format",{time:a}))),o=x.default.createElement("div",{key:"time-of-day",className:this.ss("date-time-item","time-item")},x.default.createElement("div",{className:this.ss("date-item-icon","ifont","ifont-icon-schedule")}),x.default.createElement("div",{className:this.ss("date-item-label")},this.renderSessionTime())),i=[r];return t===V.CalendarTabs.previous?i.push(x.default.createElement("div",{key:"video-preview",className:this.ss("video-preview-wrapper")},x.default.createElement(z.LearnPlayerPreview,{videoContent:n}))):i.push(o),x.default.createElement("div",{className:this.ss("live-session-content")},i)}},{key:"renderFoot",value:function(){var e=[],t=this.props,a=t.size,n=t.data,r=t.disabled,o="small"===a?"xsmall":"small";return r?e.push(x.default.createElement("div",{key:"free_trial",className:this.ss("link-item-wrap")},x.default.createElement("a",{className:this.ss("link"),href:F.default.LEARN_PREMIUM_STORE_FLOW},this.__("button_start_free_trial")))):(e.push(x.default.createElement("div",{key:"learn_more",className:this.ss("link-item-wrap")},x.default.createElement("a",{className:this.ss("link"),onClick:this.handleLearnMore},this.__("button_learn_more")))),!0===((0,A.get)(n,"period")===V.CalendarTabs.opening)&&e.push(x.default.createElement("div",{key:"register",className:this.ss("link-item-wrap")},x.default.createElement(ee,{size:o,data:n})))),x.default.createElement("div",{className:this.ss("session-foot")},e)}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.style,n=e.theme;return x.default.createElement("div",{className:this.ss("live-session-wrap",t,n),style:a},x.default.createElement("div",{className:this.ss("session-body")},this.renderSessionHead(),this.renderSessionContent()),this.renderFoot())}}]),t}(),p.propTypes={currentHost:D.default.string,data:D.default.object,titleImage:D.default.string,showImage:D.default.bool,disabled:D.default.bool,style:D.default.object,theme:D.default.oneOf(["default","pathway","mission"]),size:D.default.oneOf(["default","small"]),openCalendarDialog:D.default.func},p.defaultProps={theme:"default",size:"default"},f=m))||f)||f)||f);t.default=$;t.LiveSessionWidget=(h=(0,J.default)(Y.default),_=(0,X.default)(Z.default),h(g=_((y=v=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,R.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled;return x.default.createElement("div",{className:this.ss("live-session")},x.default.createElement("div",{className:this.ss("top")},x.default.createElement(q.LiveSessionLabel,{theme:"upcoming"})),x.default.createElement($,{data:t,disabled:a}))}}]),t}(),v.propTypes={data:D.default.object,disabled:D.default.bool},g=y))||g)||g);var ee=t.RegisterButton=(b=(0,L.decorator)({loginUser:(0,U.state)(C),userPremium:(0,U.state)(I),sendCDPRequest:(0,U.signal)(N),loginTo:(0,U.signal)(M)}),w=(0,J.default)(Y.default),E=(0,X.default)(Z.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleRegister=function(e){e&&(0,W.pauseEvent)(e);var t=n.props,a=t.loginUser,r=t.loginTo,o=t.data,i=t.sendCDPRequest,s=t.userPremium;if(a){var l=(0,A.get)(o,"id"),u=(0,A.get)(o,"registerUrl");i({type:V.CDPLearnType.live_session,eventType:V.EventType.learn,data:{sessionId:l,userPremium:s},redirectUrl:u,popup:!0})}else r()},r=a,i(n,r)}return s(t,R.default),T(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.size;return"button"===t?x.default.createElement(B.default,{onClick:this.handleRegister,size:a,label:this.__("button_register")}):x.default.createElement("a",{className:this.ss("link"),onClick:this.handleRegister},this.__("button_register"))}}]),t}(),S.propTypes={loginUser:D.default.object,theme:D.default.oneOf(["button","alink"]),size:D.default.string,data:D.default.object,userPremium:D.default.bool,sendCDPRequest:D.default.func,loginTo:D.default.func},S.defaultProps={theme:"button"},k=O))||k)||k)||k),te=(t.GetLiveSessionFromContentData=function(e){var t=(0,A.get)(e,"liveSessions")||[],a=(0,A.findLast)(t,function(e){return e.period===V.CalendarTabs.opening});return a||null},t.GetLiveSessionContentData=function(e){var t=(0,A.get)(e,"contentMap")||{},a=(0,A.get)(e,"contentIds")||[],n=(0,A.get)(a,"0","");return(0,A.get)(t,(0,Q.GetIdByItemId)(n))})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.dragAndDrop.dragItemKey"],["common.dragAndDrop.dragItemKey"]),h=s(["common.dragAndDrop.dragOverItemKey"],["common.dragAndDrop.dragOverItemKey"]),_=s(["common.changeDragItemKey"],["common.changeDragItemKey"]),g=s(["common.changeDragOverItemKey"],["common.changeDragOverItemKey"]),v=s(["common.clearDragItemKey"],["common.clearDragItemKey"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=n(a(3)),O=n(a(294)),T=(l=(0,E.decorator)({dragItemKey:(0,k.state)(m),dragOverItemKey:(0,k.state)(h),changeDragItemKey:(0,k.signal)(_),changeDragOverItemKey:(0,k.signal)(g),clearDragItemKey:(0,k.signal)(v)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onMouseDown=function(){a.setDraggable(!0)},a.onMouseUp=function(){a.setDraggable(!1)},a.onDragEnter=function(){},a.onDragLeave=function(){},a.onDragOver=function(e){var t=a.props,n=t.index,r=t.dragOverItemKey,o=t.dragItemKey,i=t.changeDragOverItemKey;o>=0&&(e.preventDefault(),n!==r&&i({key:n}),r===o&&(e.dataTransfer.dropEffect="none"))},a.onDrop=function(){var e=a.props,t=e.onChange,n=e.dragItemKey,r=e.index;n>=0&&t&&t({index:n,step:r-n})},a.onDrag=function(){var e=a.props,t=e.onDrag;e.dragItemKey>=0&&t&&t()},a.onDragStart=function(e){if(a.state.draggable){var t=a.props,n=t.index;(0,t.changeDragItemKey)({key:n}),e.dataTransfer.dropEffect="move",e.dataTransfer.setData("LEARN_DRAG_START",n),document.body.append(a.transferImg),e.dataTransfer.setDragImage(a.transferImg,0,5)}},a.onDragEnd=function(){document.body.removeChild(a.transferImg);var e=a.props,t=e.dragItemKey,n=e.dragOverItemKey,r=e.clearDragItemKey;t>=0&&((t||n)&&r(),a.setDraggable(!1))},a.setDraggable=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.state.draggable!==e&&a.setState({draggable:e})},a.state={draggable:!1},a}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){this.transferImg=this.refs.transferImg.cloneNode(!0),this.transferImg.style.display="block",this.refs.transferImg.remove()}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.dragOverItemKey,n=e.dragItemKey,r=e.index,o=e.theme;if(!t)return null;var i=this.state.draggable,s=a<n,l=a>n,u=a===r;return b.default.createElement("div",{className:this.ss("drag-drop-wrapper",this.counter&&"move",o),draggable:i,onDrag:this.onDrag,onDragStart:this.onDragStart,onDrop:this.onDrop,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver},u&&s&&b.default.createElement("div",{className:this.ss("selected","up")}),t,u&&l&&b.default.createElement("div",{className:this.ss("selected","down")}),b.default.createElement("div",{className:this.ss("drag-handle-wrapper")},b.default.createElement("div",{className:this.ss("handle"),onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown},b.default.createElement("div",{className:this.ss("line","top")}),b.default.createElement("div",{className:this.ss("line")}))),b.default.createElement("div",{ref:"transferImg",className:this.ss("transfer-img","ifont","ifont-lrn_icon_swap_vertical_circle")}))}}]),t}(),d.propTypes={children:y.default.any,index:y.default.number.isRequired,dragItemKey:y.default.number,dragOverItemKey:y.default.number,theme:y.default.oneOf(["default","tutorial-step","right"]),changeDragItemKey:y.default.func,changeDragOverItemKey:y.default.func,clearDragItemKey:y.default.func,onChange:y.default.func,onDrag:y.default.func},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=T},,function(e,t){e.exports={breadcrumb_item_type_tutorial:"breadcrumb_item_type_tutorial_3TLE",breadcrumb_item_type_project:"breadcrumb_item_type_project_3PXX",breadcrumb_item_type_mission:"breadcrumb_item_type_mission_2L_9",breadcrumb_item_type_pathway:"breadcrumb_item_type_pathway_1A_l",breadcrumb_item_type_course:"breadcrumb_item_type_course_1OQE",breadcrumb_item_type_quiz:"breadcrumb_item_type_quiz_2N9Z"}},function(e,t){e.exports={section_title_save_tags:"section_title_save_tags_1qhu",browse_all:"browse_all_2j9a",tag_name_editor_essentials:"tag_name_editor_essentials_UVKb",tag_name_scripting:"tag_name_scripting_1hkV",tag_name_graphics_visual_effects:"tag_name_graphics_visual_effects_1scc",tag_name_2d:"tag_name_2d_1Aq1",tag_name_mobile_touch:"tag_name_mobile_touch_1TNq",tag_name_xr:"tag_name_xr_3VYv",tag_name_physics:"tag_name_physics_1yoe",tag_name_user_interface:"tag_name_user_interface_2rMi",tag_desc_editor_essentials:"tag_desc_editor_essentials_2brl",tag_desc_scripting:"tag_desc_scripting_11ym",tag_desc_graphics_visual_effects:"tag_desc_graphics_visual_effects_LLhY",tag_desc_2d:"tag_desc_2d_m0SH",tag_desc_mobile_touch:"tag_desc_mobile_touch_mjqu",tag_desc_xr:"tag_desc_xr_2RI3",tag_desc_physics:"tag_desc_physics_3Ry_",tag_desc_user_interface:"tag_desc_user_interface_3Wxj"}},function(e,t){e.exports={"raised-btn":"raised-btn_2vTjL538","raised-btn-primary":"raised-btn-primary_MYOE9bp7","raised-btn-default":"raised-btn-default_3M_uvHPG","raised-btn-loading":"raised-btn-loading_2zV-H5G8","raised-btn-secondary":"raised-btn-secondary_Bj_15kbi","raised-btn-thirdly":"raised-btn-thirdly_QAfXf1ST","raised-btn-fourthly":"raised-btn-fourthly_o3QM0JY8","raised-btn-fifthly":"raised-btn-fifthly_2BYYZWlt","raised-btn-black":"raised-btn-black_25LClDGh","raised-btn-red":"raised-btn-red_2RcoM63p","raised-btn-blue":"raised-btn-blue_37QDrHj0","raised-btn-primary-blue":"raised-btn-primary-blue_CwUp44WJ","raised-btn-new-default":"raised-btn-new-default_37xxsZuI","raised-btn-purple":"raised-btn-purple_36DUDqpQ","raised-btn-violet":"raised-btn-violet_P77QoYei","raised-btn-header-default":"raised-btn-header-default_1IsqgmEz","raised-btn-white":"raised-btn-white_eL_TEgAO","raised-btn-transparent":"raised-btn-transparent_2agQEVMe","raised-btn-gray":"raised-btn-gray_39ycbZo9","raised-btn-link":"raised-btn-link_3LQYwRXO","raised-btn-link-border":"raised-btn-link-border_2WfXE-XU","raised-btn-white-link-border":"raised-btn-white-link-border_t559qF12","raised-btn-blue-link-border":"raised-btn-blue-link-border_P_arkiuo","raised-btn-pink":"raised-btn-pink_1NcMdHjn","raised-btn-webgl":"raised-btn-webgl_3_kjsmT6","size-xxsmall":"size-xxsmall_66MaEoEz","size-xsmall":"size-xsmall_10lMFD2d","size-small":"size-small_2Xetoijv","size-medium":"size-medium_3tC1AZkh","size-large":"size-large_w0zciFUV","size-xlarge":"size-xlarge_26YC-cEO","size-xxlarge":"size-xxlarge_3C-2YrGl","width-full":"width-full_2wWLBFy9","width-auto":"width-auto_vfULHdfR","size-new-small":"size-new-small_1JdsN8Ck","size-new-medium":"size-new-medium_1KbDqy0a","size-new-large":"size-new-large_2sAP2xiz","size-new-xlarge":"size-new-xlarge_dGFweqnR","size-new-xxlarge":"size-new-xxlarge_1-52_mbt","raised-btn-loading-wrap":"raised-btn-loading-wrap_1FEK6jS1"}},function(e,t,a){e.exports=a.p+"../styles/i/unity-logo-only.f688162d59f85318573b598d4c5b6e26.png"},function(e,t){e.exports={"dialog-contents":"dialog-contents_3sffEnR5","title-wrap":"title-wrap_2D9YpHW7","button-close":"button-close_1tmvWczv",error:"error_3PpPKBl8"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.BreadcrumbItem=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["breadcrumb"],["breadcrumb"]),k=l(["locale"],["locale"]),S=l(["learner.parentIds"],["learner.parentIds"]),O=l(["currentHost"],["currentHost"]),T=n(a(2)),P=n(a(0)),j=n(a(1)),C=a(6),I=a(5),N=a(4),M=a(9),D=n(a(19)),x=n(a(3)),R=n(a(345)),L=n(a(7)),A=n(a(133)),F=(u=(0,C.decorator)({breadcrumb:(0,I.state)(E)}),c=(0,x.default)(R.default),d=(0,L.default)(A.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),w(t,[{key:"getActiveItem",value:function(e){var t=[];if(e&&e.length>0){var a=e.filter(function(e){return!0===(0,N.get)(e,"active")})[0];if(a&&(t.push(a),a.subNodes&&a.subNodes.length>0)){var n=this.getActiveItem(a.subNodes);n&&n.length>0&&t.push.apply(t,r(n))}}return t}},{key:"getBreadcrumbItems",value:function(){var e=this.props.breadcrumb,t=(0,N.get)(e,"root"),a=this.getActiveItem([t]),n=(0,N.get)(e,"selectedIds")||[];return a.length>n.length&&(a=a.slice(0,n.length)),a}},{key:"renderBreadcrumbItems",value:function(){var e=this.props,t=e.theme,a=e.uv,n=this.getBreadcrumbItems();return n.map(function(e,r){var o=r===n.length-1;return P.default.createElement(K,{theme:t,key:e.id,level:r,last:o,itemData:e,uv:a})})}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("breadcrumb-tip-content-wrap")},this.renderBreadcrumbItems())}}]),t}(),p.propTypes={breadcrumb:T.default.object,theme:T.default.oneOf(["default","sticker-head"]),uv:T.default.string},f=m))||f)||f)||f);t.default=F;var K=t.BreadcrumbItem=(h=(0,C.decorator)({locale:(0,I.state)(k),parentIds:(0,I.state)(S),currentHost:(0,I.state)(O)}),_=(0,x.default)(R.default),g=(0,L.default)(A.default),h(v=_(v=g((b=y=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),w(t,[{key:"getUrl",value:function(){var e=this.props,t=e.parentIds,a=e.itemData,n=e.currentHost,r=e.locale,o=e.uv;return(0,D.default)((0,M.GetItemUrlInBreadcrumb)({parentIds:t,item:a,locale:r,uv:o}),n)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.level,n=e.last,r=e.itemData,o=r.title,i=r.type,s=0===a;return P.default.createElement("div",{className:this.ss("breadcrumb-item","level-"+a,n&&"last",t)},P.default.createElement("div",{className:this.ss("breadcrumb-item-content")},n?P.default.createElement("div",{className:this.ss("content","content-last")},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+i)),P.default.createElement("div",{className:this.ss("title")},o)):P.default.createElement("a",{className:this.ss("content","content-link"),href:this.getUrl()},P.default.createElement("div",{className:this.ss("type")},this.__("breadcrumb_item_type_"+i)),P.default.createElement("div",{className:this.ss("title")},o)),!s&&P.default.createElement("div",{className:this.ss("line","line-vertical","line-top")}),!n&&!s&&P.default.createElement("div",{className:this.ss("line","line-vertical","line-bottom")}),!s&&P.default.createElement("div",{className:this.ss("line","line-horizontal")})))}}]),t}(),y.propTypes={locale:T.default.string,parentIds:T.default.object,level:T.default.number,itemData:T.default.object,last:T.default.bool,theme:T.default.string,currentHost:T.default.string,uv:T.default.string},v=b))||v)||v)||v)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=n(a(3)),v=n(a(342)),y=(l=(0,g.default)(v.default))((d=c=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handlerClick=function(e){n.props.disabled||n.props.onCheck&&n.props.onCheck(e,n.props.value)},r=a,i(n,r)}return s(t,_.default),p(t,[{key:"renderHintLabel",value:function(){var e=this.props,t=e.hintLabel,a=e.disabled;return t?h.default.createElement("div",{className:this.ss("hintLabel",a&&"disabled")},t):null}},{key:"render",value:function(){var e=this.props,t=e.label,a=(e.hintLabel,e.onCheck,e.isChecked),n=e.name,o=e.value,i=e.disabled,s=e.children,l=e.theme,u=e.size,c=e.style,d=e.labelStyle,p=r(e,["label","hintLabel","onCheck","isChecked","name","value","disabled","children","theme","size","style","labelStyle"]),m=s||h.default.createElement("div",{className:this.ss("label",l),style:d},t);return h.default.createElement("div",{onClick:this.handlerClick,className:this.ss("container-wrap",u&&"size-"+u,"theme-"+l),style:c},h.default.createElement("div",{className:this.ss("container",i&&"disabled")},h.default.createElement("button",{className:this.ss("radio",a&&"active")},h.default.createElement("div",{className:this.ss("radioInner")},h.default.createElement("input",f({name:n,value:o,type:"radio",ref:"radio"},p)))),m),this.renderHintLabel())}}]),t}(),c.propTypes={label:m.default.oneOfType([m.default.string,m.default.node]),hintLabel:m.default.string,value:m.default.oneOfType([m.default.string,m.default.number,m.default.bool]),name:m.default.string,isChecked:m.default.bool,onCheck:m.default.func,disabled:m.default.bool,children:m.default.element,size:m.default.oneOf(["small","normal","medium","large"]),theme:m.default.oneOf(["default","light","inherit","full-inner"]),style:m.default.object,labelStyle:m.default.object},c.defaultProps={theme:"default",size:"medium"},u=d))||u;t.default=y},function(e,t,a){e.exports=a.p+"../styles/i/learn/logo.74999562d424719ef57f8c9ba1c5202f.jpg"},function(e,t){e.exports={avatar:"avatar_WXNNK1km","image-wrap":"image-wrap_Jd24noml",status:"status__5kAth_4",circle:"circle_Zl98PAtd","avatar-xxxxxsmall":"avatar-xxxxxsmall_3AnSDbbQ",name:"name_1vNZcZ9y","avatar-xxxxsmall":"avatar-xxxxsmall_2hq-Wqry","avatar-xxxsmall":"avatar-xxxsmall_7A1fIBoc","avatar-xxsmall":"avatar-xxsmall_21uEXH9W",followed:"followed_3B8HeR_v",check:"check_2ALzuG8N","avatar-xsmall":"avatar-xsmall_2otQtTVf",anonymous:"anonymous_30swBjBB","avatar-small":"avatar-small_t7z4W9BJ","avatar-medium":"avatar-medium_3tQzcl4Y","avatar-large":"avatar-large_FcHEO6am","avatar-xlarge":"avatar-xlarge_2ennUK4d","avatar-xxlarge":"avatar-xxlarge_36h7sASx","avatar-xxxlarge":"avatar-xxxlarge_3_qAAlVP","avatar-message-card":"avatar-message-card_IGvGi5KX","avatar-company-card":"avatar-company-card_2CRopBbW","avatar-user-card":"avatar-user-card_24xhyvAH","avatar-profile":"avatar-profile_1-AFD0P9","avatar-learn-profile":"avatar-learn-profile_2MvjwEtN","avatar-unified-profile":"avatar-unified-profile__nM27OsB","avatar-xxxxlarge":"avatar-xxxxlarge_6WgMO551","avatar-group":"avatar-group_36I8Laxw","avatar-group-small":"avatar-group-small_8rW3a160","status-online":"status-online_1W0-fSdt","status-idle":"status-idle_2WZS6ltj","status-offline":"status-offline_3C40plEl","status-typing":"status-typing_2IrA6KZG",ellipsis:"ellipsis_KY3IizK8","default-bg":"default-bg_qzTY8Gy4"}},function(e,t){e.exports={followed:"followed_1NmM"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(30)),_=n(a(3)),g=n(a(369)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={timeoutEventId:null,periodInput:"",lastHint:-1,selectedIndex:n.props.initialIndex},n.onKeyDown=function(e){var t=e.keyCode,a=n.props,r=a.selects,o=a.onSelect,i=n.state.selectedIndex,s=r.length;switch(t){case 40:e.preventDefault(),n.setState({selectedIndex:(i+1)%s});break;case 38:e.preventDefault(),n.setState({selectedIndex:(i+s-1)%s});break;case 13:e.preventDefault(),i>=0&&i<s&&o(e,i,r[i].value)}},n.handleKeyPress=function(e){if(n.refs.scroller){var t=e.keyCode,a=e.charCode;n._timeoutEventId&&(window.clearTimeout(n._timeoutEventId),n._timeoutEventId=null);var r=String.fromCharCode(t||a).toLowerCase(),o=n.props.selects,i=!1,s=-1;if(r===n.state.periodInput||""===n.state.periodInput)o.every(function(e,t){return!(e.text.toLowerCase().startsWith(r)&&t>n.state.lastHint)||(s=t,!1)}),-1===s&&o.every(function(e,t){return!e.text.toLowerCase().startsWith(r)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:r,lastHint:s}),i=!0);else{var l=n.state.periodInput+r;o.every(function(e,t){return!e.text.toLowerCase().startsWith(l)||(s=t,!1)}),-1!==s&&(n.setState({periodInput:l}),i=!0)}if(n._timeoutEventId=window.setTimeout(function(){n.setState({periodInput:"",timeoutEventId:null})},500),i){var u=n.refs.selects.children[0].offsetHeight;n.refs.scroller.scrollTo(s*u,!0),n.setState({selectedIndex:s})}}},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick),window.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handleClick),window.removeEventListener("keypress",this.handleKeyPress)}},{key:"renderSelects",value:function(){var e=this,t=this.props,a=t.selects,n=t.value,r=t.onSelect,o=t.renderItem,i=this.state.selectedIndex;return a.map(function(t,a){var s=function(o){e.setState({selectedIndex:a}),n!==t.value&&r(o,a,t.value)},l=t.text;o&&(l=o(t));var u=["active"];return p.default.createElement("div",{className:e.ss("selectItem",a===i&&e.ss.apply(e,u)),value:t.value,key:t.value,onClick:function(e){return s(e)}},l)})}},{key:"render",value:function(){var e=this.props,t=e.selects,a=e.theme;return t.length>5?p.default.createElement(h.default,{theme:a,fade:!1,className:this.ss("scroller"),ref:"scroller"},p.default.createElement("div",{className:this.ss("selects"),ref:"selects"},this.renderSelects())):p.default.createElement("div",{className:this.ss("selects",a)},this.renderSelects())}}]),t}(),u.propTypes={selects:f.default.arrayOf(f.default.shape({text:f.default.string.isRequired,value:f.default.oneOfType([f.default.number.isRequired,f.default.string.isRequired])})).isRequired,value:f.default.oneOfType([f.default.number.isRequired,f.default.string.isRequired]),onSelect:f.default.func,renderItem:f.default.func,initialIndex:f.default.number,theme:f.default.oneOf(["light","dark"])},u.defaultProps={initialIndex:-1,theme:"light"},l=c))||l;t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(15)),_=n(a(3)),g=n(a(416)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props.url,t=void 0===e?"":e;return p.default.createElement("div",{className:this.ss("head-bg-image-wrap")},p.default.createElement("div",{className:this.ss("head-bg-image")},p.default.createElement(h.default,{src:t,sizes:"100vw",height:810})),p.default.createElement("div",{className:this.ss("head-bg-cover")}))}}]),t}(),u.propTypes={url:f.default.string},l=c))||l;t.default=v},function(e,t){e.exports={"duration-label":"duration-label_68-m16F8",hour:"hour_1snx4AcL"}},function(e,t){e.exports={"collect-button":"collect-button_z4JKaZWe","theme-no-tip":"theme-no-tip_1GxGFGcF","theme-label":"theme-label_35PzrDir",icon:"icon_1EW7QQhn",collected:"collected_3CEvdFqd","size-large":"size-large_1V_yRo1D","collect-count":"collect-count_1hmc-LRm"}},function(e,t){e.exports={button_collect:"button_collect_2o1M"}},function(e,t){e.exports={"content-subtitle":"content-subtitle_3lvxrnv9","subtitle-item":"subtitle-item_xpaEsup9",dot:"dot_2bxnxodK",tag:"tag_1zONFo0R",small:"small_3P7onASG",large:"large_3MB1wG_P",dark:"dark_2sDbKSlo",gray:"gray_3yimeeX6"}},function(e,t){e.exports={type_project:"type_project_3Kis",type_course:"type_course_2O07",type_tutorial:"type_tutorial_ihHY",type_liveSession:"type_liveSession_1C1X",type_mission:"type_mission_33c5",type_pathway:"type_pathway_3p5j",type_badge:"type_badge_3X4O",type_quiz:"type_quiz_3fPk",type_submission:"type_submission_3UUA",questions_count:"questions_count_1N8f",point:"point_3Tan"}},function(e,t){e.exports={"input-wrap":"input-wrap_39AikixK",disabled:"disabled_oVzWoqGE",icon:"icon_3P2YxK7t",symbol:"symbol_1qOoNa8r",BEFORE:"BEFORE_IiTB_zjU",AFTER:"AFTER_DujuEpai",close:"close_eLfpdCyQ",input:"input_16nfVk-t","text-input":"text-input_1XC9dpQt",transparent:"transparent_4Ibqtk_3","transparent-inherit":"transparent-inherit_2kDoF27M","border-gray":"border-gray_1PiwVuWW",grey:"grey_mEujABL5","header-search":"header-search_2oOegutK",featured:"featured_3mmV7fLY",error:"error_1d07gfEh",small:"small_3Byl2Np1",medium:"medium_2tJxl9CS",large:"large_Yu51I5EN",xlarge:"xlarge_2cK39WMJ",xxxxlarge:"xxxxlarge_2QBI1ylR",box:"box_dJIv_4xk","placeholder-color-a6a6a6":"placeholder-color-a6a6a6_1cwvTdRL","text-error":"text-error_12llL-r7",hide:"hide_Vv7fsLy8"}},function(e,t){e.exports={numberInput:"numberInput_3iTL",numberOutput:"numberOutput_1Fgm",error_isRequired:"error_isRequired_1iWL"}},function(e,t){e.exports={backdrop:"backdrop_1t7ADNYQ",modal:"modal_1VeXxnkx","modal-inner":"modal-inner_33MXwUBJ",center:"center_1TOZ4qAC",top:"top_2d635TQE","modal-content":"modal-content_9glg7cIJ",pc:"pc_6ce9b5Un",mobile:"mobile_16xKylFJ"}},function(e,t){e.exports={"raised-btn-loading-wrap":"raised-btn-loading-wrap_s2yRiPas","raised-btn-loading":"raised-btn-loading_21jFtRQ3","raised-btn":"raised-btn_1lcLt7H-","raised-btn-primary":"raised-btn-primary_QzgPZf37",disabled:"disabled_3K22Q0CX","raised-btn-primary-dark":"raised-btn-primary-dark_pqhVeFpn","raised-btn-default":"raised-btn-default_1IUDYJ2Q","raised-btn-grey":"raised-btn-grey_BTq1bh3g","raised-btn-dark-grey":"raised-btn-dark-grey_2Y-os7DD","raised-btn-dark":"raised-btn-dark_3Kzh6o_q","raised-btn-light-gray":"raised-btn-light-gray_mFy6MVvF","raised-btn-transparent":"raised-btn-transparent_33UOlQoF","raised-btn-hollow-white":"raised-btn-hollow-white_14WNbFJb","raised-btn-red":"raised-btn-red_1FOUUFsn","raised-btn-white":"raised-btn-white_S2mY0NKc","raised-btn-blue-border":"raised-btn-blue-border_2pdoV-Eo","raised-btn-blue-border-transparent":"raised-btn-blue-border-transparent_1wTgxPBA","size-xsmall":"size-xsmall_1y4FHSys","size-small":"size-small_2x-HkG4m","size-small-l":"size-small-l_20ny0uR1","size-medium":"size-medium_NmluUjcc","size-large":"size-large_QcJVxA4v",full:"full_2imk_jqR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=e.getSelection(),r=n.getFocusKey(),o=e.getCurrentContent();return o=l.Modifier.insertText(o,n,t,e.getCurrentInlineStyle(),(0,l.getEntityKeyForSelection)(o,n)),e=l.EditorState.push(e,o,"insert-characters"),o=e.getCurrentContent(),o=l.Modifier.removeRange(o,o.getSelectionAfter().merge({anchorOffset:0}),"backward"),o=o.merge({blockMap:o.getBlockMap().set(r,o.getBlockForKey(r).merge({type:a,depth:0}))}),l.EditorState.push(e,o,"change-block-type")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=(0,u.default)(i.default.createElement("div",null),e),c=(0,u.default)(i.default.createElement("ul",{className:"public-DraftStyleDefault-ul"}),e),d=(0,u.default)(i.default.createElement("ol",{className:"public-DraftStyleDefault-ol"}),e),f=o({},e,{withScroller:!0}),p=(0,u.default)(i.default.createElement("pre",{className:"public-DraftStyleDefault-pre",spellCheck:!1}),f);return{handleReturn:a?void 0:function(e,t,a){var n=a.setEditorState;return(0,l.isSoftNewlineEvent)(e)&&t.getSelection().isCollapsed()?(n(l.RichUtils.insertSoftNewline(t)),"handled"):"not-handled"},handleKeyCommand:a?void 0:function(e,t,a){var n=a.setEditorState,r=l.RichUtils.handleKeyCommand(t,e);return r&&r!==t?(n(r),"handled"):"not-handled"},handleBeforeInput:a?void 0:function(e,t,a){var n=a.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";if(" "===e){var i=o.getStartKey(),s=o.getStartOffset(),l=t.getCurrentContent().getBlockForKey(i);if("unstyled"===l.getType()||"paragraph"===l.getType()){var u=l.getText().substring(0,s);if(/^[\d]\./.test(u))return n(r(t," ","ordered-list-item")),"handled";if(/^[*-]/.test(u))return n(r(t," ","unordered-list-item")),"handled"}}else if("`"===e){var c=o.getStartKey(),d=o.getStartOffset(),f=t.getCurrentContent().getBlockForKey(c);if(("unstyled"===f.getType()||"paragraph"===f.getType())&&"``"===f.getText().substring(0,d))return n(r(t,"`","code-block")),"handled"}return"not-handled"},onTab:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=a(),o=l.RichUtils.onTab(e,r,2);return!(!o||o===r||(n(o),0))},onChange:a?void 0:function(e){var t=e.getCurrentContent(),a=t.getLastBlock();if(!a||"unstyled"!==a.getType()||0!==a.getLength()){var n=(0,l.genKey)(),r=new l.ContentBlock({key:n}),o=t.getBlockMap().set(n,r),i=t.merge({blockMap:o});return l.EditorState.set(e,{currentContent:i})}return e},customStyleMap:{CODE:{fontSize:"16px",lineHeight:"24px"}},blockRenderMap:(0,s.Map)({"header-one":{element:"h1",wrapper:n},"header-two":{element:"h2",wrapper:n},"header-three":{element:"h3",wrapper:n},"header-four":{element:"h4",wrapper:n},"header-five":{element:"h5",wrapper:n},"header-six":{element:"h6",wrapper:n},"unordered-list-item":{element:"li",wrapper:c},"ordered-list-item":{element:"li",wrapper:d},blockquote:{element:"blockquote",wrapper:n},atomic:{element:"figure",wrapper:n},"code-block":{element:"code",wrapper:p},unstyled:{element:"div",aliasedElements:["p"],wrapper:n}})}};var i=n(a(0)),s=a(50),l=a(11),u=n(a(302))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var i=e.breakoutBlockType||o.breakoutBlockType,s=e.breakoutBlocks||o.breakoutBlocks,l=e.doubleBreakoutBlocks||o.doubleBreakoutBlocks;return{handleReturn:a?void 0:function(e,t,a){var o=a.setEditorState,u=n.RichUtils.getCurrentBlockType(t),c=s.indexOf(u)>-1,d=l.indexOf(u)>-1;if(c||d){var f=t.getSelection();if(f.isCollapsed()){var p=t.getCurrentContent(),m=p.getBlockForKey(f.getEndKey()),h=f.getEndOffset(),_=h===m.getLength(),g=0===h;if(_&&c||g&&c||g&&!m.getLength()){var v=(0,n.genKey)(),y=new n.ContentBlock({key:v,text:"",type:i,characterList:(0,r.List)(),depth:0}),b=p.getBlockMap(),w=b.toSeq().takeUntil(function(e){return e===m}),E=b.toSeq().skipUntil(function(e){return e===m}).rest(),k=void 0,S=void 0;_?(k=d?[[v,y]]:[[m.getKey(),m],[v,y]],S=v):(k=[[v,y],[m.getKey(),m]],S=m.getKey());var O=w.concat(k,E).toOrderedMap(),T=p.merge({blockMap:O,selectionAfter:f.merge({anchorKey:S,anchorOffset:0,focusKey:S,focusOffset:0})});return o(n.EditorState.push(t,T,"split-block")),"handled"}}}return"not-handled"}}};var n=a(11),r=a(50),o={breakoutBlockType:"unstyled",breakoutBlocks:["header-one","header-two","header-three","header-four","header-five","header-six"],doubleBreakoutBlocks:["blockquote","unordered-list-item","ordered-list-item","code-block"]}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorators:[i.default],InlineToolbar:a?function(){return null}:(0,r.default)(o.default,{editorKey:t})}};var r=n(a(36)),o=n(a(307)),i=n(a(312))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly,n=e.allowImage,i=e.allowVideo,s=e.allowAttachment,l=e.allowHtml,u=e.allowTip;if(!t)throw new Error("editorKey is empty");return{SideToolbar:a?function(){return null}:(0,r.default)(o.default,{editorKey:t,allowImage:n,allowVideo:i,allowAttachment:s,allowHtml:l,allowTip:u})}};var r=n(a(36)),o=n(a(313))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.editorKey,a=e.controller,n=a.getState("editor.mentionToolbars."+t),r=a.getState("suggest.candidate"),o=[];return n&&"user"===r.st&&r.q===n.prefix&&r.user&&(o=r.user),o.length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onDownArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToNextMentionItem")({editorKey:t}),e.preventDefault())},onUpArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToPrevMentionItem")({editorKey:t}),e.preventDefault())},onEscape:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.hideMentionToolbar")({editorKey:t}),e.preventDefault())},onTab:a?void 0:function(e,a){var n=a.getProps,o=a.getEditorState,i=a.setEditorState,s=n().controller;if(r({editorKey:t,controller:s})){var u=s.getState("editor.mentionToolbars."+t),c=u.prefix,d=u.index,f=s.getState("suggest.candidate").user,p=f.length;i((0,l.addUserMention)(o(),c,f[(d%p+p)%p])),e.preventDefault()}},handleReturn:a?void 0:function(e,a,n){var o=n.setEditorState,i=(0,n.getProps)().controller;if(r({editorKey:t,controller:i})){var s=i.getState("editor.mentionToolbars."+t),u=s.prefix,c=s.index,d=i.getState("suggest.candidate").user,f=d.length;return o((0,l.addUserMention)(a,u,d[(c%f+f)%f])),"handled"}return"not-handled"},decorators:[s.default],MentionToolbar:a?function(){return null}:(0,o.default)(i.default,{editorKey:t})}};var o=n(a(36)),i=n(a(331)),s=n(a(332)),l=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.editorKey,a=e.controller,n=a.getState("editor.mentionLearnToolbars."+t),r=a.getState("learnSuggest.candidate"),o=[];return n&&"learn"===r.st&&r.q===n.prefix&&r.learn&&(o=r.learn),o.length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onDownArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToNextMentionLearnItem")({editorKey:t}),e.preventDefault())},onUpArrow:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.moveToPrevMentionLearnItem")({editorKey:t}),e.preventDefault())},onEscape:a?void 0:function(e,a){var n=(0,a.getProps)().controller;r({editorKey:t,controller:n})&&(n.getSignal("editor.hideMentionLearnToolbar")({editorKey:t}),e.preventDefault())},onTab:a?void 0:function(e,a){var n=a.getProps,o=a.getEditorState,i=a.setEditorState,s=n().controller;if(r({editorKey:t,controller:s})){var u=s.getState("editor.mentionLearnToolbars."+t),c=u.prefix,d=u.index,f=s.getState("learnSuggest.candidate").learn,p=f.length;i((0,l.addLearnMention)(o(),c,f[(d%p+p)%p])),e.preventDefault()}},handleReturn:a?void 0:function(e,a,n){var o=n.setEditorState,i=(0,n.getProps)().controller;if(r({editorKey:t,controller:i})){var s=i.getState("editor.mentionLearnToolbars."+t),u=s.prefix,c=s.index,d=i.getState("learnSuggest.candidate").learn,f=d.length;return o((0,l.addLearnMention)(a,u,d[(c%f+f)%f])),"handled"}return"not-handled"},decorators:[s.default],MentionLearnToolbar:a?function(){return null}:(0,o.default)(i.default,{editorKey:t})}};var o=n(a(36)),i=n(a(336)),s=n(a(337)),l=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["footer.langStatus"],["footer.langStatus"]),_=s(["footer.languageChange"],["footer.languageChange"]),g=s(["footer.switchLangStatus"],["footer.switchLangStatus"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=n(a(28)),S=a(26),O=n(a(47)),T=a(12),P=n(a(3)),j=n(a(234)),C=n(a(7)),I=n(a(235)),N=(l=(0,w.decorator)({langStatus:(0,E.state)(h),languageChange:(0,E.signal)(_),switchLangStatus:(0,E.signal)(g)}),u=(0,P.default)(j.default),c=(0,C.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hoverOtBtn:!1},n.onChangeLang=function(e){n.props.languageChange({locale:e})},n.toggleHoverOtBtn=function(){n.setState(function(e){return{hoverOtBtn:!e.hoverOtBtn}})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutsideLang=(0,S.addClickOutside)([this.refs.language],function(){e.onSwitchStatus(!1,0)})}},{key:"componentWillUnmount",value:function(){this.removeClickOutsideLang()}},{key:"onSwitchStatus",value:function(e,t){var a=this.props.langStatus;e?0===t&&this.props.switchLangStatus({open:!a}):0===t&&a&&this.props.switchLangStatus({open:!1})}},{key:"render",value:function(){var e=this,t=this.state.hoverOtBtn,a=this.props.theme,n=[];["https://unity3d.com/legal/","https://unity3d.com/legal/privacy-policy","https://unity3d.com/legal/cookie-policy#cookies"].forEach(function(t,a){n.push(y.default.createElement("div",{key:"link"+a,className:e.ss("link")},y.default.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e.__("link_text_"+a))))});var r=y.default.createElement("div",{className:this.ss("shares")},y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_youtube"),href:"https://www.youtube.com/user/Unity3D",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_linkedin"),href:"https://www.linkedin.com/company/unity-technologies",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_twitter"),href:"http://www.twitter.com/unity3d",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_fb"),href:"http://www.facebook.com/unity3d",target:"_blank"}),y.default.createElement("a",{className:this.ss("share","ifont","ifont-lrn_icon_socialmedia_instagram"),href:"https://www.instagram.com/unitytechnologies",target:"_blank"})),o=k.default.LOCALES.map(function(e){return{text:(0,T.getLangText)(e),value:e}}),i=this.context.locale||"en_US",s={fontSize:13,color:t?"#6EC6FF":"#2196F3",border:"none",padding:0,backgroundColor:"transparent"};return y.default.createElement("div",{ref:"footer",className:this.ss("footer",a)},y.default.createElement("div",{className:this.ss("context")},y.default.createElement("div",{className:this.ss("row","row-logo")},y.default.createElement("a",{href:"//unity.com",className:this.ss("logo")},y.default.createElement("div",{className:this.ss("logo-icon","ifont","ifont-lrn_logo_unity")})),r),y.default.createElement("div",{className:this.ss("row","second")},y.default.createElement("div",{className:this.ss("copyright-and-links")},y.default.createElement("div",{className:this.ss("copyright")},this.__("copyright",{year:(new Date).getFullYear()})),y.default.createElement("div",{className:this.ss("links")},n,y.default.createElement("div",{className:this.ss("link")},y.default.createElement("a",{id:"ot-sdk-btn",className:this.ss("ot-sdk-show-settings"),style:s,onMouseEnter:this.toggleHoverOtBtn,onMouseLeave:this.toggleHoverOtBtn},this.__("link_text_cookies_settings"))))),y.default.createElement("div",{className:this.ss("choice-control")},y.default.createElement("span",{className:this.ss("label")},this.__("choice_lang")),y.default.createElement(O.default,{theme:"footer",selects:o,value:i,onChange:function(t,a,n){return e.onChangeLang(n)}})))))}}]),t}(),f.propTypes={theme:v.default.string,langStatus:v.default.bool,languageChange:v.default.func,switchLangStatus:v.default.func},d=p))||d)||d)||d);t.default=N},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["data.id"],["data.id"]),g=s(["learner.parentIds"],["learner.parentIds"]),v=s(["httpAPI.",""],["httpAPI.",""]),y=s(["learner.postRecord"],["learner.postRecord"]),b=s(["learner.restartRecord"],["learner.restartRecord"]),w=n(a(2)),E=n(a(0)),k=n(a(1)),S=a(6),O=a(5),T=a(4),P=n(a(16)),j=a(8),C=a(17),I=a(9),N=n(a(3)),M=n(a(350)),D=n(a(7)),x=n(a(351)),R=(l=(0,S.decorator)({record:(0,O.state)(h,(0,O.props)(_)),parentIds:(0,O.state)(g),postRecordData:(0,O.state)(v,j.POST_RECORD),restartRecordData:(0,O.state)(v,j.RESTART_RECORD),postRecord:(0,O.signal)(y),restartRecord:(0,O.signal)(b)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPostRecord=function(){var e=n.props,t=e.data,a=e.postRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onRestartRecord=function(){var e=n.props,t=e.data,a=e.restartRecord,r=e.disabled,o=e.versionId;if(!r){var i=t.id,s=t.type;a&&a({id:i,type:s,versionId:o})}},n.onContinueRecord=function(){var e=n.props,t=e.record,a=e.disabled,r=e.scrollToStep;if(!a){var o=(0,T.get)(t,"nextRecordData")||{};r&&r(o)}},i=a,o(n,i)}return i(t,k.default),m(t,[{key:"getCompletedPercent",value:function(){var e=this.props,t=e.data,a=e.record,n=e.versionId,r=(0,I.GetRecordSubItems)({data:t,record:a,versionId:n}),o=r.items,i=r.completed;if(0===o.length)return 0;var s=Object.keys(i).filter(function(e){return!0===i[e]}).length;return Math.round(100*s/o.length)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.record,r=e.postRecordData,o=e.restartRecordData,i=e.scrollToStep,s=e.versionId,l=a.type,u=[];if(n){var c=(0,I.GetRecordStatus)(n,s),d=c.completed,f=c.completedTime;if(d){f&&u.push(E.default.createElement("div",{key:"hint_restart",className:this.ss("hint")},E.default.createElement("div",{className:this.ss("hint-label")},this.__("hint_completed_"+l)),E.default.createElement("div",{className:this.ss("hint-time")},this.__("time_format",{time:f}))));var p=(0,C.isLoading)((0,T.get)(o,"updateStatus"));u.push(E.default.createElement(P.default,{key:"btn_restart",loading:p,label:this.__("button_restart"),onClick:this.onRestartRecord}))}else{var m="sticker-head"===t?this.__("button_continue"):this.__("button_resume_"+l);"sticker-head"!==t&&u.push(E.default.createElement("div",{key:"progress-info",className:this.ss("progress-info")},E.default.createElement("div",{className:this.ss("label")},this.__("progress_info_"+l,{percent:this.getCompletedPercent()})))),i&&u.push(E.default.createElement(P.default,{key:"btn_resume",label:m,onClick:this.onContinueRecord}))}}else{var h=(0,C.isLoading)((0,T.get)(r,"updateStatus"));u.push(E.default.createElement(P.default,{key:"btn_start",loading:h,label:this.__("button_start_"+l),onClick:this.onPostRecord}))}return E.default.createElement("div",{className:this.ss("record-button",t)},u)}}]),t}(),f.propTypes={data:w.default.object,record:w.default.object,parentIds:w.default.object,size:w.default.oneOf(["small","medium","large"]),theme:w.default.oneOf(["default","sticker-head"]),postRecordData:w.default.object,restartRecordData:w.default.object,disabled:w.default.bool,versionId:w.default.string,postRecord:w.default.func,restartRecord:w.default.func,scrollToStep:w.default.func},d=p))||d)||d)||d);t.default=R},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.tooltips"],["header.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(20)),w=n(a(1)),E=a(6),k=a(5),S=n(a(4)),O=n(a(3)),T=n(a(163)),P=(s=(0,O.default)(T.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top-left":s+=a/2-i.offsetWidth+20,l+=-i.offsetHeight;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"render",value:function(){var e=this.props.tooltip,t=e.text,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a),style:{left:o,top:i}},t)}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,j=(d=(0,E.decorator)({tooltips:(0,k.state)(g)}),f=(0,O.default)(T.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props.tooltips,t=S.default.map(e,function(e){return e.text&&y.default.createElement(P,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},t)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired},p=h))||p)||p);t.default=j},function(e,t){e.exports={tooltips:"tooltips_32oC74pg",tooltip:"tooltip_3AMoGACD","tooltip-top":"tooltip-top_1l66RR8e","tooltip-top-width":"tooltip-top-width_2W8Ii6KI","tooltip-bottom":"tooltip-bottom_t-BeI8Ek","tooltip-top-left":"tooltip-top-left_3gH2VNml","tooltip-bottom-left":"tooltip-bottom-left_1FVfUxCm","tooltip-left":"tooltip-left_1I0pqzmO","tooltip-right":"tooltip-right_1I8qrkiC","tooltip-error":"tooltip-error_1veSNXFR","tooltip-success":"tooltip-success_KlKPOvul","tooltip-green":"tooltip-green_3wbhuKGb","tooltip-blue":"tooltip-blue_3pZQ-zdV","tooltip-warning":"tooltip-warning_UKlPb118","tooltip-dark":"tooltip-dark_1Ur4iQvp"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["header.setting.scrollTop"],["header.setting.scrollTop"]),_=s(["header.setting.currHeaderTop"],["header.setting.currHeaderTop"]),g=s(["header.popupMessages"],["header.popupMessages"]),v=s(["header.hideMessage"],["header.hideMessage"]),y=n(a(2)),b=n(a(0)),w=a(6),E=a(5),k=n(a(1)),S=a(46),O=n(a(3)),T=n(a(165)),P=n(a(7)),j=n(a(166)),C=S.presets.stiff,I=(l=(0,w.decorator)({scrollTop:(0,E.state)(h),currHeaderTop:(0,E.state)(_),messages:(0,E.state)(g),hideMessage:(0,E.signal)(v)}),u=(0,O.default)(T.default),c=(0,P.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.timerId=null,n.handleClose=function(){clearInterval(n.timerId),n.timerId=null,n.props.hideMessage()},i=a,o(n,i)}return i(t,k.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,a=e.messages||{},n=a.lastClicking,r=a.duration,o=void 0===r?0:r;n&&null===this.timerId&&this.isOpen(n,o)&&(this.timerId=setInterval(function(){return t.checkToClose(n,o)},1e3))}},{key:"isOpen",value:function(e,t){if(e){var a=Date.now()-e;return this.duration(a).asMilliseconds()<1e3*t}return!1}},{key:"checkToClose",value:function(e,t){this.isOpen(e,t)||this.handleClose()}},{key:"render",value:function(){var e=this,t=this.props,a=t.messages,n=t.className,r=a||{},o=r.lastClicking,i=r.duration,s=void 0===i?0:i,l=r.message,u=r.type,c=r.params,d=void 0===c?{}:c,f={modalScale:.75,modalOpacity:0},p=this.isOpen(o,s)?{modalScale:(0,S.spring)(1,C),modalOpacity:(0,S.spring)(1,C)}:{modalScale:(0,S.spring)(.75,C),modalOpacity:(0,S.spring)(0,C)};return b.default.createElement(S.Motion,{defaultStyle:f,style:p},function(t){var a=t.modalScale,r=t.modalOpacity;if(r<.1)return null;var o={transform:"scale3d("+a+", "+a+", 1)",opacity:r},i="";if(l instanceof Array){var s=l.map(function(t){return e.__(t)}).join(", ");i=e.__("project_fields_required",{fields:s})}else i=e.__(l,d);return b.default.createElement("div",{className:e.ss("message-wrap",u)},b.default.createElement("div",{className:e.ss(n,"message",u||"error"),style:o},i))})}}]),t}(),f.propTypes={className:y.default.string,scrollTop:y.default.number,currHeaderTop:y.default.number,messages:y.default.object.isRequired,hideMessage:y.default.func},d=p))||d)||d)||d);t.default=I},function(e,t){e.exports={"message-wrap":"message-wrap_37GM_f3n",info2:"info2_2Oz6Dp5F",message:"message_2SH0iQw1",error:"error_29dF9php",info:"info_3mIBbU_d",message_error:"message_error_19SxtfhJ"}},function(e,t){e.exports={changes_saved_successfully:"changes_saved_successfully_1ioH",upload_InvalidParameter_forbidden_file_type:"upload_InvalidParameter_forbidden_file_type_evHd",upload_InvalidParameter_attachment_too_large_1_GB:"upload_InvalidParameter_attachment_too_large_1_GB_2iSn",upload_InvalidParameter_attachment_too_large_3_GB:"upload_InvalidParameter_attachment_too_large_3_GB_2L0B",project_InvalidParameter_empty_tutorialIds:"project_InvalidParameter_empty_tutorialIds_2eBr",course_InvalidParameter_empty_contentIds:"course_InvalidParameter_empty_contentIds_37tk",liveSession_InvalidParameter_empty_projectIds:"liveSession_InvalidParameter_empty_projectIds_1-Qq",liveSession_InvalidParameter_empty_thumbnail:"liveSession_InvalidParameter_empty_thumbnail_3Tzb",liveSession_contentIds_max_1:"liveSession_contentIds_max_1_3GLs",tutorial_exceed_lab_limit_1:"tutorial_exceed_lab_limit_1_1NGK",tutorial_title_maxLength_135:"tutorial_title_maxLength_135_2m2W",quiz_InvalidParameter_empty_questions:"quiz_InvalidParameter_empty_questions_yJMn",quiz_InvalidParameter_options_min_2:"quiz_InvalidParameter_options_min_2_U9F_",quiz_InvalidParameter_question_correct_min_1:"quiz_InvalidParameter_question_correct_min_1_3TOd",mission_InvalidParameter_map:"mission_InvalidParameter_map_1qWX",mission_InvalidParameter_competency:"mission_InvalidParameter_competency_23Zp",mission_InvalidParameter_assessments:"mission_InvalidParameter_assessments_3bKT",mission_InvalidParameter_pathway_assessments:"mission_InvalidParameter_pathway_assessments_3NTl",pathway_InvalidParameter_assessments:"pathway_InvalidParameter_assessments_S28_",pathway_InvalidParameter_mission_assessments:"pathway_InvalidParameter_mission_assessments_b_d6",pathway_InvalidParameter_highlight:"pathway_InvalidParameter_highlight_3kKl",paymentItem_InternalServerError_Internal_server_error_agent_error:"paymentItem_InternalServerError_Internal_server_error_agent_error_krio",importJson_InvalidParameter_description:"importJson_InvalidParameter_description_1vnW",importJson_InvalidParameter_careerGoals:"importJson_InvalidParameter_careerGoals_3pB7",importJson_InvalidParameter_objective:"importJson_InvalidParameter_objective_1zoR",upload_file_invalid:"upload_file_invalid_2EyY",tutorial_exercise_exceed_submission_limit_1:"tutorial_exercise_exceed_submission_limit_1_sAfX",submission_ResourceNotFound_step:"submission_ResourceNotFound_step_3woM",submission_detail_AuthorizationError_authorization_error:"submission_detail_AuthorizationError_authorization_error_xYEk",importJson_InvalidParameter_json_expired:"importJson_InvalidParameter_json_expired_1w9d",invalid_version_range:"invalid_version_range_7R82",settings_saved:"settings_saved_1HsQ",project_tags_limit:"project_tags_limit_fssz",project_ContributorAlreadyExist:"project_ContributorAlreadyExist_29P6",add_featured_post_success:"add_featured_post_success_fFmi",remove_featured_post_success:"remove_featured_post_success_-xKO",not_valid_email:"not_valid_email_2U7o",should_select_user:"should_select_user_I6Wj",you_are_blocked:"you_are_blocked_soZN",group_can_not_delete:"group_can_not_delete_rAs3",group_name_duplicate:"group_name_duplicate_2e_q",group_GroupOwnerLeave:"group_GroupOwnerLeave_1N2-",saved_successfully:"saved_successfully_u9nn",saved_failed:"saved_failed_11ko",repost_validation_failed:"repost_validation_failed_2ft-",repost_succeeded:"repost_succeeded_2Qmw",post_deleted:"post_deleted_1apJ",post_can_not_be_empty:"post_can_not_be_empty_1LOq",post_ThrottlingError_Throttling_Error_post_in_10s:"post_ThrottlingError_Throttling_Error_post_in_10s_Vqmd",post_AuthorizationError_authorization_error:"post_AuthorizationError_authorization_error_LsFK"}},function(e,t){e.exports={"edit-top-bar-layout":"edit-top-bar-layout_3we_6zHi"}},function(e,t){e.exports={search:{left:["type","skillLevel","tag","industry","uv","duration","language","xp"],right:["orderBy"]},landing:{left:["search","skillLevel","tag","industry","duration","language"],right:["orderBy"]},educators:{left:["search","type","skillLevel","tag","ageRange","instruction"],right:["orderBy"]},submission:{left:["exercises"]},creator:{left:["owner","type","skillLevel","tag","industry","uv","duration","language"],check:[{key:"hidden",value:"none_hidden"},{key:"hidden",value:"hidden"},{key:"premium",value:"none_premium"},{key:"premium",value:"premium"},{key:"singles",value:"singles"},{key:"status",value:"draft"},{key:"status",value:"published"}]},architecture:{left:["search","type","skillLevel","language"],check:[{key:"status",value:"draft"},{key:"status",value:"published"}]},search_skill:{left:["skillLevel","tag","industry","duration","language","content","premium"]},mission:{left:["skillLevel","tag","industry","duration","language","uv"]}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n(e)||r};var n=a(572),r="\n"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.watermark.open"],["common.watermark.open"]),h=s(["common.watermark.text"],["common.watermark.text"]),_=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),g=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=n(a(3)),S=n(a(171)),O={fontStyle:"16px sans-serif",rotateAngle:-20*Math.PI/180,fontColor:"rgba(100, 100, 100, 0.2)",textBaseline:"middle",firstLinePositionX:-10,firstLinePositionY:60,secondLinePositionX:-20,secondLinePositionY:80},T=(l=(0,w.decorator)({open:(0,E.state)(m),text:(0,E.state)(h),windowWidth:(0,E.state)(_),windowHeight:(0,E.state)(g)}),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.open&&this.props.text!==e.text)this.updateCanvas();else{var a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.updateCanvas()})}}},{key:"wrapText",value:function(e,t){var a=[],n="";if(e&&t){for(var r=Math.max(0,160),o=0;o<t.length;o++)e.measureText(n).width<r&&e.measureText(n+t[o]).width<=r?n+=t[o]:(a.push(n),n=t[o]);n.length>0&&a.push(n)}return a}},{key:"updateCanvas",value:function(){var e=this.refs,t=e.watermark,a=e.repeat_watermark;if(t&&a){var n=t.getContext("2d");n.clearRect(0,0,180,100),n.font=O.fontStyle,n.fillStyle=O.fontColor,n.textBaseline=O.textBaseline;var r=this.wrapText(n,this.props.text);n.rotate(O.rotateAngle),r.length>=1&&n.fillText(r[0],O.firstLinePositionX,O.firstLinePositionY),r.length>=2&&n.fillText(r[1],O.secondLinePositionX,O.secondLinePositionY),n.rotate(-O.rotateAngle);var o=a.getContext("2d");o.clearRect(0,0,a.width,a.height);var i=o.createPattern(t,"repeat");o.fillStyle=i,o.fillRect(0,0,a.width,a.height)}}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.windowWidth,n=e.windowHeight;return t?y.default.createElement("div",{className:this.ss("water-mark")},y.default.createElement("canvas",{ref:"watermark",className:this.ss("watermark"),width:180,height:100}),y.default.createElement("canvas",{ref:"repeat_watermark",className:this.ss("repeat-watermark"),width:a,height:n})):null}}]),t}(),d.propTypes={open:v.default.bool,text:v.default.string,windowWidth:v.default.number,windowHeight:v.default.number},c=f))||c)||c);t.default=T},function(e,t){e.exports={"water-mark":"water-mark_UT_jQkxW","repeat-watermark":"repeat-watermark_1qx2lkLC",watermark:"watermark_2XmxdAKp"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(3)),_=n(a(173)),g=(s=(0,h.default)(_.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.percent,a=void 0===t?0:t,n=e.width,r=e.theme,o=void 0===r?"default":r,i={marginLeft:n*(a/100-1)};return p.default.createElement("div",{className:this.ss("progress-bar",o),style:{width:n}},p.default.createElement("div",{style:i,className:this.ss("progress-bar-inner")},p.default.createElement("div",{className:this.ss("left")}),p.default.createElement("div",{className:this.ss("right")})))}}]),t}(),u.propTypes={percent:f.default.number,width:f.default.number,theme:f.default.string},u.defaultProps={width:269},l=c))||l;t.default=g},function(e,t){e.exports={"progress-bar":"progress-bar_2wLxQkdE","progress-bar-inner":"progress-bar-inner_G0iqk6jr",default:"default_2xPhIY01",left:"left_HFfJCs5O",right:"right_3zpdSBR9","unified-profile":"unified-profile_1sEURfjE"}},function(e,t){e.exports={"content-wrap":"content-wrap_138dsZJq",featured:"featured_3SuxeEUD",description:"description_15akJPS1",delete:"delete_3h9I-T8S","button-wrap":"button-wrap_1761jXOF","button-ok":"button-ok_2j5XTS42","button-cancel":"button-cancel_2KGbYCph","icon-wrapper":"icon-wrapper_1gkdrzqL","icon-bg":"icon-bg_3gnLzGrY",icon:"icon_245JtWXd","tfa-icon":"tfa-icon_12dtbRLH"}},function(e,t){e.exports={title:"title_2oX_",button_ok:"button_ok_29Ev",button_cancel:"button_cancel_s89d",button_yes:"button_yes_15Go",button_no:"button_no_2j7h",button_featured_ok:"button_featured_ok_17Jb"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.featuredSaveConfirmDialog.open"],["common.featuredSaveConfirmDialog.open"]),h=s(["common.featuredSaveConfirmDialog.listName"],["common.featuredSaveConfirmDialog.listName"]),_=s(["common.featuredSaveConfirmDialog.pageName"],["common.featuredSaveConfirmDialog.pageName"]),g=s(["common.closeFeaturedSaveConfirm"],["common.closeFeaturedSaveConfirm"]),v=s(["common.doFeaturedConfirmSave"],["common.doFeaturedConfirmSave"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=n(a(82)),O=n(a(7)),T=n(a(177)),P=(l=(0,E.decorator)({saveConfirmOpen:(0,k.state)(m),listName:(0,k.state)(h),pageName:(0,k.state)(_),closeSaveConfirm:(0,k.signal)(g),doConfirmSave:(0,k.signal)(v)}),u=(0,O.default)(T.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.saveConfirmOpen,a=e.closeSaveConfirm,n=e.doConfirmSave,r=e.listName,o=e.pageName;return b.default.createElement(S.default,{open:t,theme:"featured",title:this.__("save_confirm_"+o+"_title"),description:this.__("save_confirm_"+r+"_text"),onConfirm:function(){return n()},onClose:function(){return a()}})}}]),t}(),d.propTypes={saveConfirmOpen:y.default.bool,closeSaveConfirm:y.default.func,doConfirmSave:y.default.func,listName:y.default.string,pageName:y.default.string},c=f))||c)||c);t.default=P},function(e,t){e.exports={save_confirm_default_title:"save_confirm_default_title_2twz",save_confirm_default_text:"save_confirm_default_text_1JAu",save_confirm_homepage_title:"save_confirm_homepage_title_30QE",save_confirm_subscriber_homepage_title:"save_confirm_subscriber_homepage_title_2Vbh",save_confirm_homepageV2_title:"save_confirm_homepageV2_title_3jip",save_confirm_course_landing_page_title:"save_confirm_course_landing_page_title_26RO",save_confirm_tutorial_landing_page_title:"save_confirm_tutorial_landing_page_title_2l7o",save_confirm_project_landing_page_title:"save_confirm_project_landing_page_title_1cYC",save_confirm_mission_landing_page_title:"save_confirm_mission_landing_page_title_sN7Z",save_confirm_pathway_landing_page_title:"save_confirm_pathway_landing_page_title_1FAo",save_confirm_course_landing_page_premium_title:"save_confirm_course_landing_page_premium_title_2DFG",save_confirm_tutorial_landing_page_premium_title:"save_confirm_tutorial_landing_page_premium_title_nr2H",save_confirm_project_landing_page_premium_title:"save_confirm_project_landing_page_premium_title_26y6",save_confirm_educators_page_title:"save_confirm_educators_page_title_ZWAK",save_confirm_hub_title:"save_confirm_hub_title_3a1L",save_confirm_faq_title:"save_confirm_faq_title_27pR",save_confirm_uaa_portal_page_title:"save_confirm_uaa_portal_page_title_enOl",save_confirm_uaa_faq_title:"save_confirm_uaa_faq_title_17TN",save_confirm_page_home_course_text:"save_confirm_page_home_course_text_3YHk",save_confirm_page_home_tutorial_text:"save_confirm_page_home_tutorial_text_-QtD",save_confirm_page_home_project_text:"save_confirm_page_home_project_text_kFFz",save_confirm_page_home_featured_text:"save_confirm_page_home_featured_text_1O3U",save_confirm_page_home_new_to_unity_text:"save_confirm_page_home_new_to_unity_text_1UAH",save_confirm_page_home_topic_text:"save_confirm_page_home_topic_text_3fIa",save_confirm_page_subscriber_home_course_text:"save_confirm_page_subscriber_home_course_text_U_0W",save_confirm_page_subscriber_home_tutorial_text:"save_confirm_page_subscriber_home_tutorial_text_198i",save_confirm_page_subscriber_home_project_text:"save_confirm_page_subscriber_home_project_text_aAM6",save_confirm_page_subscriber_home_featured_text:"save_confirm_page_subscriber_home_featured_text_oAXT",save_confirm_page_subscriber_home_topic_text:"save_confirm_page_subscriber_home_topic_text_1Ycv",save_confirm_page_subscriber_home_liveSession_text:"save_confirm_page_subscriber_home_liveSession_text_2ypJ",save_confirm_page_home_v2_featured_text:"save_confirm_page_home_v2_featured_text_3zG7",save_confirm_page_home_v2_new_to_unity_text:"save_confirm_page_home_v2_new_to_unity_text_2N7Q",save_confirm_page_home_v2_familiar_with_unity_text:"save_confirm_page_home_v2_familiar_with_unity_text_2lw6",save_confirm_page_home_v2_featured_submission_text:"save_confirm_page_home_v2_featured_submission_text_gXK1",save_confirm_page_home_v2_bite_lessons_text:"save_confirm_page_home_v2_bite_lessons_text_1Kvu",save_confirm_page_landing_course_featured_text:"save_confirm_page_landing_course_featured_text_ev_Q",save_confirm_page_landing_course_popular_text:"save_confirm_page_landing_course_popular_text_2Og1",save_confirm_page_landing_tutorial_featured_text:"save_confirm_page_landing_tutorial_featured_text_1e_4",save_confirm_page_landing_mission_featured_text:"save_confirm_page_landing_mission_featured_text_2AMT",save_confirm_page_landing_pathway_featured_text:"save_confirm_page_landing_pathway_featured_text_1r_r",save_confirm_page_landing_tutorial_popular_text:"save_confirm_page_landing_tutorial_popular_text_1Dn_",save_confirm_page_landing_project_featured_text:"save_confirm_page_landing_project_featured_text_1vEr",save_confirm_page_landing_project_popular_text:"save_confirm_page_landing_project_popular_text_31ko",save_confirm_page_premium_landing_course_featured_text:"save_confirm_page_premium_landing_course_featured_text_1lll",save_confirm_page_premium_landing_tutorial_featured_text:"save_confirm_page_premium_landing_tutorial_featured_text_6TiE",save_confirm_page_premium_landing_project_featured_text:"save_confirm_page_premium_landing_project_featured_text_2VUs",save_confirm_page_educators_course_text:"save_confirm_page_educators_course_text_12za",save_confirm_page_educators_tutorial_text:"save_confirm_page_educators_tutorial_text_2fxA",save_confirm_page_educators_project_entry_level_text:"save_confirm_page_educators_project_entry_level_text_3K8L",save_confirm_page_educators_project_game_dev_text:"save_confirm_page_educators_project_game_dev_text_6L0u",save_confirm_page_educators_project_across_sub_text:"save_confirm_page_educators_project_across_sub_text_MGNU",save_confirm_page_educators_banner_text:"save_confirm_page_educators_banner_text_a8I-",save_confirm_hub_tutorial_text:"save_confirm_hub_tutorial_text_QgvZ",save_confirm_hub_project_text:"save_confirm_hub_project_text_asyf",save_confirm_learn_general_text:"save_confirm_learn_general_text_37oe",save_confirm_learn_premium_text:"save_confirm_learn_premium_text_3NXy",save_confirm_learn_create_with_code_live_text:"save_confirm_learn_create_with_code_live_text_px0W",save_confirm_uaa_welcome_video_text:"save_confirm_uaa_welcome_video_text_3iYg",save_confirm_uaa_introduction_video_text:"save_confirm_uaa_introduction_video_text_3ZU-",save_confirm_uaa_redeem_credits_text:"save_confirm_uaa_redeem_credits_text_3qsV",save_confirm_uaa_framework_game_text:"save_confirm_uaa_framework_game_text_1c_W",save_confirm_uaa_framework_vr_text:"save_confirm_uaa_framework_vr_text_2L9Z",save_confirm_uaa_framework_ar_text:"save_confirm_uaa_framework_ar_text_3vRA",save_confirm_uaa_framework_architecture_text:"save_confirm_uaa_framework_architecture_text_1GWn",save_confirm_uaa_press_kit_text:"save_confirm_uaa_press_kit_text_AyuR",save_confirm_uaa_newsletter_text:"save_confirm_uaa_newsletter_text_30fE",save_confirm_uaa_member_benefits_text:"save_confirm_uaa_member_benefits_text_1CDN",save_confirm_uaa_discounts_text:"save_confirm_uaa_discounts_text_2wVY",save_confirm_uaa_learning_credits_text:"save_confirm_uaa_learning_credits_text_2TSF",save_confirm_uaa_certification_exams_text:"save_confirm_uaa_certification_exams_text_1bRq",save_confirm_uaa_curricular_frameworks_text:"save_confirm_uaa_curricular_frameworks_text_VA7Y"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["topicsPopular.tagIds"],["topicsPopular.tagIds"]),_=s(["topicsPopular.tagMap"],["topicsPopular.tagMap"]),g=s(["currentHost"],["currentHost"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=a(4),S=n(a(3)),O=n(a(179)),T=n(a(7)),P=n(a(49)),j=a(26),C=a(8),I=n(a(19)),N=10,M=(l=(0,w.decorator)({topicIds:(0,E.state)(h),topicMap:(0,E.state)(_),currentHost:(0,E.state)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));n.toggleMoreOrLess=function(){var e=n.state.showAll;n.setState({showAll:!e})};var i=e.topicIds,s=!i||0===i.length;return n.state={showTopics:!1,showMoreOrLess:!s&&i.length>N,showAll:!1},n}return i(t,b.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,j.addClickOutside)([this],function(){return e.setState({showTopics:!1})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderTopicsInner",value:function(){var e=this,t=this.props,a=t.topicIds,n=t.topicMap,r=t.currentHost,o=this.state,i=o.showTopics,s=o.showMoreOrLess,l=o.showAll,u=(l?a:a.slice(0,N)).map(function(t){var a=void 0,o=(0,k.get)(n,t+".name");return a=o===C.TopicName.forEducators?"/educators":"/search?k="+encodeURIComponent(JSON.stringify([C.CriteriaKeys.tag+":"+t])),y.default.createElement("a",{key:t,className:e.ss("topic"),href:(0,I.default)(a,r)},o)});return s&&u.push(y.default.createElement("a",{key:"topic_mol",className:this.ss("more-or-less"),onClick:this.toggleMoreOrLess},this.__(l?"button_less":"button_more"))),y.default.createElement("div",{className:this.ss("topics-inner",i&&"active")},y.default.createElement("div",{className:this.ss("topics-container")},y.default.createElement("div",{className:this.ss("topics-wrapper")},u)))}},{key:"render",value:function(){var e=this,t=this.state.showTopics;return y.default.createElement("div",{className:this.ss("topics")},y.default.createElement("div",{className:this.ss("topics-label"),onClick:function(){return e.setState({showTopics:!t})}},this.__("menu_topics"),y.default.createElement("div",{className:this.ss(t?"fold":"unfold","icon","ifont","ifont-lrn_icon_unfold")})),this.renderTopicsInner())}}]),t}(),f.propTypes={topicIds:v.default.array,topicMap:v.default.object,currentHost:v.default.string},d=p))||d)||d)||d);t.default=M},function(e,t){e.exports={topics:"topics_dPRALzFg","topics-label":"topics-label_3oCJHbh2",icon:"icon_3nSBE3FN",fold:"fold_3lHBVuSS","topics-inner":"topics-inner_19DH_rQR",active:"active_nvDSY8rq","topics-container":"topics-container_2ZAZOBfU","topics-wrapper":"topics-wrapper_3yMT5Zh6",topic:"topic_351BNTUI","more-or-less":"more-or-less_11wmU3Mk"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["currentHost"],["currentHost"]),g=s(["locale"],["locale"]),v=s(["common.headerSearch.text"],["common.headerSearch.text"]),y=s(["common.headerSearch.result"],["common.headerSearch.result"]),b=s(["common.headerSearch.result.topicResult.tagIds"],["common.headerSearch.result.topicResult.tagIds"]),w=s(["common.headerSearch.result.topicResult.tagMap"],["common.headerSearch.result.topicResult.tagMap"]),E=s(["common.headerSearch.result.learnResult.results"],["common.headerSearch.result.learnResult.results"]),k=s(["common.changeHeaderSearchKeyword"],["common.changeHeaderSearchKeyword"]),S=s(["common.clearHeaderSearch"],["common.clearHeaderSearch"]),O=n(a(2)),T=n(a(0)),P=n(a(1)),j=a(6),C=a(5),I=a(4),N=n(a(34)),M=n(a(43)),D=n(a(51)),x=a(26),R=n(a(25)),L=n(a(19)),A=a(8),F=a(9),K=n(a(3)),q=n(a(181)),z=n(a(7)),B=n(a(49)),U=(l=(0,j.decorator)({loginUser:(0,C.state)(h),currentHost:(0,C.state)(_),locale:(0,C.state)(g),headerKeyword:(0,C.state)(v),searchResult:(0,C.state)(y),topicIds:(0,C.state)(b),topicMap:(0,C.state)(w),headerSearchResults:(0,C.state)(E),changeHeaderSearchKeyword:(0,C.signal)(k),clearHeaderSearch:(0,C.signal)(S)}),u=(0,K.default)(q.default),c=(0,z.default)(B.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={currentIndex:0,type:""},n.onChange=function(e,t){var a=n.props.changeHeaderSearchKeyword;a&&a({value:t})},n.onKeyDown=function(e){if(e&&13===e.keyCode){var t=n.props.headerKeyword,a=t||"",r=encodeURIComponent(JSON.stringify([A.CriteriaKeys.query+":"+a]));(0,R.default)("/search?k="+r)}},n.onClearHeaderSearch=function(){n.props.clearHeaderSearch()},n.onChangeHeaderSearch=function(e,t,a){var r=n.props.changeHeaderSearchKeyword;r&&r({value:e,type:t}),n.setState({currentIndex:a,type:t})},n.getPoints=function(){var e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){e+=(0,I.get)(t,"point",0)}),e},n.renderPopularSearch=function(){var e=n.props.searchResult;return T.default.createElement("div",{className:n.ss("popular-wrapper",!e&&"hide")},T.default.createElement("div",{className:n.ss("popular-position")},T.default.createElement("div",{className:n.ss("popular-container")},T.default.createElement("div",{ref:"searchPopup",className:n.ss("popular","center")},n.renderTopics(),T.default.createElement("div",{className:n.ss("barrier")}),n.renderResults()))))},i=a,o(n,i)}return i(t,P.default),m(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.clearHeaderSearch;this.removeClickOutside=(0,x.addClickOutside)([this.refs.search,this.refs.searchPopup],function(){t(),e.setState({currentIndex:0,type:"all"})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderTopics",value:function(){var e=this,t=this.props.currentHost,a=this.props.topicIds||[],n=this.props.topicMap||{},r=a.map(function(a){var r="/search?k="+encodeURIComponent(JSON.stringify([A.CriteriaKeys.tag+":"+a]));return T.default.createElement("a",{key:a,href:(0,L.default)(r,t)},T.default.createElement("div",{className:e.ss("topic")},(0,I.get)(n,a+".name")))});return T.default.createElement("div",{className:this.ss("topics-wrapper")},T.default.createElement("div",{className:this.ss("topics-title")},this.__("topics_title")),T.default.createElement("div",{className:this.ss("topics")},r),T.default.createElement("a",{className:this.ss("all-topics-link"),href:(0,L.default)("/search",t)},this.__("browse_all_topics")))}},{key:"renderPoints",value:function(e){var t=(0,I.get)(e,"points")||[];return 0===t.length?null:T.default.createElement("div",{className:this.ss("subtitle-item")},T.default.createElement("div",{className:this.ss("dot")}),T.default.createElement("div",{className:this.ss("tag-points")},this.__("point",{point:this.getPoints(t)})))}},{key:"renderResults",value:function(){var e=this,t=this.props,a=t.headerKeyword,n=t.currentHost,r=t.locale,o=t.searchResult,i=((0,I.get)(o,"learnResult")||{}).text,s=(0,I.get)(o,"learnResult.total")||0,l=this.props.headerSearchResults||[],u=[A.CriteriaKeys.query+":"+a],c=this.state.type;c&&u.push(A.CriteriaKeys.type+":"+c);var d=encodeURIComponent(JSON.stringify(u)),f=(0,L.default)("/search?k="+d,n),p=["all"],m=l.map(function(t){var a=t[t.type],o=(0,L.default)((0,F.GetUrlByNavIds)(void 0,(0,F.GetDetailPageURL)(a,r)),n),i=(0,I.get)(a,"withManual")?(0,I.get)(a,"manualDuration"):(0,I.get)(a,"duration");return T.default.createElement("a",{key:a.id,className:e.ss("result"),href:o},T.default.createElement("div",{className:e.ss("result-title")},a.title),T.default.createElement("div",{className:e.ss("result-des")},e.__("type_"+a.type),T.default.createElement("div",{className:e.ss("dot")}),(0,F.GetSkillLevelText)(e.context,a.skillLevel),e.renderPoints(a),T.default.createElement("div",{className:e.ss("dot")}),T.default.createElement(M.default,{duration:i})))}),h=(p=p.concat(A.ArchitectureDataTypes)).map(function(t,n){return t===A.DataTypeKeys.quiz?null:T.default.createElement("div",{key:n,className:e.ss("result-type",e.state.currentIndex===n&&"bottom-line")},T.default.createElement("a",{onClick:function(){return e.onChangeHeaderSearch(a,t,n)}},e.__("popular_type_"+t)))});return T.default.createElement("div",{className:this.ss("results-wrapper")},T.default.createElement("div",{className:this.ss("results-title")},h),T.default.createElement("div",{className:this.ss("results")},m),T.default.createElement("a",{className:this.ss("all-results-link"),href:f},this.__(i?"search_result_hint_text":"search_result_hint",{total:s,text:i})))}},{key:"renderAuthors",value:function(){return T.default.createElement("div",{className:this.ss("authors-wrapper")})}},{key:"render",value:function(){var e=this.props,t=e.autoFocus,a=e.headerKeyword,n=e.size,r=e.theme,o="transparent"===r?"color-a6a6a6":"default";return T.default.createElement("div",{className:this.ss("search-wrapper",n,r)},T.default.createElement(D.default,{tourTipId:A.TourStepKey.search_box},T.default.createElement("div",{ref:"search",className:this.ss("search-container")},T.default.createElement("div",{className:this.ss("mask")}),T.default.createElement(N.default,{inputStyle:{fontSize:15},iconName:"lrn_icon_search",autoFocus:t,size:"medium",theme:"header-search",placeholderTheme:o,value:a,onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.__("search_placeholder"),onClear:this.onClearHeaderSearch}))),this.renderPopularSearch())}}]),t}(),f.propTypes={loginUser:O.default.object,currentHost:O.default.string,locale:O.default.string,autoFocus:O.default.bool,headerKeyword:O.default.string,searchResult:O.default.object,topicIds:O.default.array,topicMap:O.default.object,headerSearchResults:O.default.array,changeHeaderSearchKeyword:O.default.func,clearHeaderSearch:O.default.func,theme:O.default.string,size:O.default.oneOf(["regular","medium"])},f.defaultProps={size:"regular"},d=p))||d)||d)||d);t.default=U},function(e,t){e.exports={"search-wrapper":"search-wrapper_Cu6cXSOg",medium:"medium_weExgicO","search-container":"search-container_3wyfutjb",transparent:"transparent_F7V7E0fp",mask:"mask_tiWIwgju","popular-wrapper":"popular-wrapper_3w_UQtc-","popular-position":"popular-position_2kyDzRJ2","popular-container":"popular-container_1-TgxCJb",hide:"hide_16MgxgWl",center:"center_1AxlM2QJ",popular:"popular_34Qoe5dx","topics-wrapper":"topics-wrapper_2ht-AmDZ","topics-title":"topics-title_np3lcWQH",topics:"topics_1ZOW6YyX",topic:"topic_DJJSRph1","all-topics-link":"all-topics-link_VmR6uyu5","results-wrapper":"results-wrapper_12f0kroj","results-title":"results-title_3TXqKonf","result-type":"result-type_1NrMpgwY","bottom-line":"bottom-line_2bRTTfL6",barrier:"barrier_33BMHEjB",results:"results_C-PpjpCk",result:"result_K7Y7ZkFa","result-title":"result-title_1SJJ4ZXm","result-des":"result-des_LPdRkevr","all-results-link":"all-results-link_4_olvfk0","authors-wrapper":"authors-wrapper_1f6-rEHD","authors-title":"authors-title_-t6RE-ZR",authors:"authors_HIalviV_",author:"author_30CwoJqb","author-name":"author-name_3RbSP6PK","all-authors-link":"all-authors-link_7FXfEziZ",dot:"dot_1gnGbIpV","subtitle-item":"subtitle-item_1HMH3Udw","tag-points":"tag-points_Yb94l40N"}},function(e,t){e.exports={pathways:"pathways_3YyZFY_H","pathways-wrap":"pathways-wrap_KyfzW0fQ","pathways-label":"pathways-label_30T-hNFV",icon:"icon_1ShKuC8Y",fold:"fold_207BtAkV","results-wrapper":"results-wrapper_3KnDNlg4",hide:"hide_1_jkrbBj","results-wrap":"results-wrap_1t5kJ5jW","result-title":"result-title_29rEYCm8","result-explaining":"result-explaining_EbwFH2-K","result-content":"result-content_3vRgA-jU","result-item-card":"result-item-card_rN8LTGxJ","item-card":"item-card_10MzCXvz","item-card-inner":"item-card-inner_2Js_MxRz","card-img":"card-img_1Dj6Dk06","collect-wrap":"collect-wrap_2cXk92BW","card-content":"card-content_jl6TXjuI",title:"title_2eFuiY11","subtitle-wrapper":"subtitle-wrapper_3P17PvSS",description:"description_1yt-iiHU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["browseData"],["browseData"]),_=s(["currentHost"],["currentHost"]),g=s(["topicsPopular.tagIds"],["topicsPopular.tagIds"]),v=s(["topicsPopular.tagMap"],["topicsPopular.tagMap"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(19)),T=n(a(51)),P=a(26),j=a(84),C=a(9),I=a(8),N=n(a(3)),M=n(a(184)),D=n(a(7)),x=n(a(49)),R=10,L=(l=(0,E.decorator)({browseData:(0,k.state)(h),currentHost:(0,k.state)(_),topicIds:(0,k.state)(g),topicMap:(0,k.state)(v)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));n.onChangeHeaderSearch=function(e,t){n.setState({currentIndex:t,type:e})},n.onHandelHeaderSearch=function(){var e=n.state.showBrowses;n.setState({type:"pathway",currentIndex:0,showBrowses:!e})},n.toggleMoreOrLess=function(){var e=n.state.showAll;n.setState({showAll:!e})};var i=e.topicIds,s=!i||0===i.length;return n.state={type:"pathway",showAll:!1,currentIndex:0,showBrowses:!0,showMoreOrLess:!s&&i.length>R},n}return i(t,w.default),m(t,[{key:"componentDidMount",value:function(){var e=this;this.removeClickOutside=(0,P.addClickOutside)([this.refs.browses,this.refs.browsesPopup],function(){e.setState({showBrowses:!0})})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"renderBrowseTopics",value:function(){var e=this,t=this.props,a=t.topicIds,n=t.topicMap,r=t.currentHost,o=this.state,i=o.showTopics,s=o.showMoreOrLess,l=o.showAll,u=(l?a:a.slice(0,R)).map(function(t){var a=void 0,o=(0,S.get)(n,t+".name");return a=o===I.TopicName.forEducators?"/educators":"/search?k="+encodeURIComponent(JSON.stringify([I.CriteriaKeys.tag+":"+t])),b.default.createElement("a",{key:t,className:e.ss("topic"),href:(0,O.default)(a,r)},o)});return s&&u.push(b.default.createElement("a",{key:"topic_mol",className:this.ss("more-or-less"),onClick:this.toggleMoreOrLess},this.__(l?"button_less":"button_more"))),b.default.createElement("div",{className:this.ss("topics-inner",i&&"active")},b.default.createElement("div",{className:this.ss("topics-container")},b.default.createElement("div",{className:this.ss("topics-title")},this.__("topics_title")),b.default.createElement("div",{className:this.ss("topics-wrapper")},u)))}},{key:"renderBrowseResults",value:function(){var e=this,t=this.props,a=t.currentHost,n=t.browseData,r=this.state.type,o=(0,S.get)(n,"landing"+this.__("type_"+r)+"Data"),i="page_landing_"+r+"_featured",s=(0,C.GetListDataFeaturesByListName)(o,i),l=!s||0===s.length,u=[I.CriteriaKeys.type+":"+r],c=encodeURIComponent(JSON.stringify(u)),d=!0,f=(0,O.default)("/search?k="+c,a);r===I.DataTypeKeys.pathway&&(d=!l&&s.length>2),r!==I.DataTypeKeys.course&&r!==I.DataTypeKeys.project&&r!==I.DataTypeKeys.tutorial||(f=(0,O.default)("/"+I.TypeLadingUrl[r],a));var p=s.map(function(t,a){return a>1?null:b.default.createElement("div",{key:t.id,className:e.ss("browse-result")},b.default.createElement(j.ItemCard,{item:t}))}),m=I.BrowseDataTypes.map(function(t,a){return b.default.createElement("div",{key:a,className:e.ss("result-type",e.state.currentIndex===a&&"bottom-line")},b.default.createElement("a",{onClick:function(){return e.onChangeHeaderSearch(t,a)}},e.__("type_"+t)))});return b.default.createElement("div",{className:this.ss("results-wrapper")},b.default.createElement("div",{className:this.ss("results-title")},m),b.default.createElement("div",{className:this.ss("browse-content")},b.default.createElement("div",{className:this.ss("browse-title")},this.__("browse_type_"+r)),b.default.createElement("div",{className:this.ss("browse-sub")},this.__("browse_sub_"+r)),d&&b.default.createElement("a",{className:this.ss("browse-all-link"),href:f},this.__("browse_all_"+r))),b.default.createElement("div",{className:this.ss("browse-results")},p))}},{key:"renderBrowseInner",value:function(){var e=this.state.showBrowses;return b.default.createElement("div",{className:this.ss("browses-wrapper",e&&"hide")},b.default.createElement("div",{className:this.ss("browses-position")},b.default.createElement("div",{className:this.ss("browses-container")},b.default.createElement("div",{ref:"browsesPopup",className:this.ss("popular","center")},this.renderBrowseTopics(),b.default.createElement("div",{className:this.ss("barrier")}),this.renderBrowseResults()))))}},{key:"render",value:function(){var e=this,t=this.state.showBrowses;return b.default.createElement("div",{className:this.ss("browses")},b.default.createElement("div",{ref:"browses",className:this.ss("browses-wrap")},b.default.createElement(T.default,{tourTipId:I.TourStepKey.menu_browses},b.default.createElement("div",{className:this.ss("browses-label"),onClick:function(){return e.onHandelHeaderSearch()}},this.__("menu_browses"),b.default.createElement("div",{className:this.ss(t?"unfold":"fold","icon","ifont","ifont-lrn_icon_unfold")})))),this.renderBrowseInner())}}]),t}(),f.propTypes={topicIds:y.default.array,topicMap:y.default.object,browseData:y.default.object,currentHost:y.default.string},d=p))||d)||d)||d);t.default=L},function(e,t){e.exports={browses:"browses_1mntAGMp","browses-wrap":"browses-wrap_2bP_atSR","browses-label":"browses-label_3bYQje7K",icon:"icon_39103016",fold:"fold_2eAiBiXU","browses-wrapper":"browses-wrapper_2_JYtE59","browses-position":"browses-position_vZHn01av","browses-container":"browses-container_2-zC2B4X",hide:"hide_lB625ktI",center:"center_pkq6gU_A",popular:"popular_3KAjkd0I","results-wrapper":"results-wrapper_25Lwr7wK","results-title":"results-title_3O3mkdcx","result-type":"result-type_ytzRrQfS","bottom-line":"bottom-line_2II4l3OI","browse-content":"browse-content_2uhktgtI","browse-title":"browse-title_3tJKcg-N","browse-sub":"browse-sub_3GUnJCmv","browse-all-link":"browse-all-link_2MjeNqR_","browse-results":"browse-results_2NPOkJYU","browse-result":"browse-result_3cP70tuE","topics-inner":"topics-inner_1H7VKvFx","topics-container":"topics-container_2V-Lxfdp","topics-title":"topics-title_mFOkw2_2","topics-wrapper":"topics-wrapper_1OXj68QD",topic:"topic_2BW6VtnH","more-or-less":"more-or-less_ezgqojtT",barrier:"barrier_1aSjXcHK"}},function(e,t){e.exports={"header-wrap":"header-wrap_zT9m_flk",hidden:"hidden_2MCyjoM4",architecture:"architecture_3bUGIN-x",transparent:"transparent_1M0rmu_6",header:"header_3BbYUnH3",logo:"logo_18ZLO9NM","logo-icon":"logo-icon_3aJI08b8","hamburger-wrapper":"hamburger-wrapper_V9uaWvD6","app-hamburger-wrap":"app-hamburger-wrap_3ebzwQrZ","hamburger-wrap":"hamburger-wrap_3RaL3m05","menu-icon":"menu-icon_2F9AaIT1","main-menu-wrapper":"main-menu-wrapper_1Qr7gfAC","main-menu":"main-menu_2qa4nwY8","user-actions":"user-actions_1f9rT9Cq","search-wrap":"search-wrap_1s4h0aY6",search:"search_1GUH0An6","search-icon":"search-icon_2u5uJvAG",hide:"hide_phEsmwHk","search-box":"search-box_3ScJmDLP",show:"show_1BDNBMho",tutorials:"tutorials_3DCi_myP",projects:"projects_1Ai_kNw3",courses:"courses_2PDcR1_a","learn-live":"learn-live_14BUnQD_","admin-tool":"admin-tool_3EWBs9WL","uaa-portal":"uaa-portal_1PBwpajR","premium-free":"premium-free_10ntsu9x","my-learning":"my-learning_3NdbwmOf",link:"link_1AD750XN",active:"active_1ReYmKWX","avatar-action":"avatar-action_uVBPHB-t",button:"button_1hcU9ul-","button-inner":"button-inner_weRuF35V","down-icon":"down-icon_2aAmWRZx",popout:"popout_32lNlQkm",left:"left_1qo3yqiz",right:"right_jSiusli9",title:"title_1lNSkhtY",list:"list_1sHg2GvK",item:"item_14Sefygw","team-name":"team-name_AaPnSflQ",avatar:"avatar_qoar9Z4l","avatar-name":"avatar-name_2xfnpbYz",hover:"hover_2T7I7p2T","app-switcher-action":"app-switcher-action_3CpOe9RW","app-switcher-icon":"app-switcher-icon_2bgsgR6v",badge:"badge_4uLI61il",open:"open_qDflc2Tf","notifications-icon":"notifications-icon_3BnMP39k","app-switcher-wrap":"app-switcher-wrap_Od8AnX-m","app-switcher":"app-switcher_1KaXVJZI","switcher-wrap":"switcher-wrap_2fHkDxG1","app-item":"app-item_2cVpHjIy","app-icon":"app-icon_2WEMpwfZ","app-name":"app-name_a95nlSna","profile-wrap":"profile-wrap_3tvcMWem","profile-avatar-wrap":"profile-avatar-wrap_2F0uOC9e","profile-account":"profile-account_IbJzLOv8","profile-name":"profile-name_25w6Tvyt","profile-email":"profile-email_3iCeoKyI","profile-link":"profile-link_2eqXy_lv","anonymous-wrap":"anonymous-wrap_3-mw3zyd","anonymous-avatar":"anonymous-avatar_30sTsNC8","anonymous-name":"anonymous-name_2Z6M9j2y","login-desc":"login-desc_3PXjrBQe","profile-completeness-wrap":"profile-completeness-wrap_2jKHIVdT","profile-completeness":"profile-completeness_17g26OAF","completeness-text":"completeness-text_tNoSfexk","edit-link":"edit-link_bIO8ILjG","progress-bar":"progress-bar_2f6OeR8h","menu-item":"menu-item_2R56LjlF","item-icon":"item-icon_1s3368EF","item-name":"item-name_2MSdmzhQ","dialog-wrapper":"dialog-wrapper_3CVTUpwG","hamburger-menu":"hamburger-menu_14uWe-jB","hamburger-box":"hamburger-box_KC3L1Foh","pathways-title":"pathways-title_1hmqOaPD","menu-title":"menu-title_3C8vB6Ec"}},function(e,t){e.exports={currentText:"currentText_2lXlc71f",innerCurrentText:"innerCurrentText_3p4jRYEU",disabled:"disabled_2qwDSSXy",text:"text_2qVYlTRT",center:"center_1mG-M4T0",triangle:"triangle_3n3RK-9a",selectsWrapContainer:"selectsWrapContainer_3FJnFfgA",selects:"selects_3YL3wAir",selectItem:"selectItem_15pcyyDo",active:"active_32OBbnVO",scroller:"scroller_o9SLaKCw","scroll-grizzly":"scroll-grizzly_xZ0bUcHq",errorText:"errorText_3qI0BFzI",description:"description_ZP157mDe",container:"container_NqH2DWyq","container-inner":"container-inner_1qw4opl8",small:"small_2WYA4a0n",medium:"medium_3LhsGf_H",large:"large_2GC1Q5dT",transparent:"transparent_1TvmhF9w",gray:"gray_18sEmzIS",grizzly:"grizzly_1EYViQzm",error:"error_30Ypnvmh",footer:"footer_2mOawD4l",underline:"underline_pBNez-SH",dark:"dark_3lcoq5Q6"}},function(e,t){e.exports={error_isRequired:"error_isRequired_2uPF"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorialData"],["tutorialData"]),_=s(["projectData"],["projectData"]),g=s(["courseData"],["courseData"]),v=s(["quizData"],["quizData"]),y=s(["missionData"],["missionData"]),b=s(["pathwayData"],["pathwayData"]),w=s(["common.publishFlowDialog.open"],["common.publishFlowDialog.open"]),E=s(["common.closePublishFlowDialog"],["common.closePublishFlowDialog"]),k=s(["common.createByType"],["common.createByType"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(32)),N=n(a(16)),M=n(a(25)),D=a(8),x=n(a(3)),R=n(a(263)),L=n(a(7)),A=n(a(264)),F=(l=(0,P.decorator)({tutorialData:(0,j.state)(h),projectData:(0,j.state)(_),courseData:(0,j.state)(g),quizData:(0,j.state)(v),missionData:(0,j.state)(y),pathwayData:(0,j.state)(b),show:(0,j.state)(w),closeDialog:(0,j.signal)(E),createByType:(0,j.signal)(k)}),u=(0,x.default)(R.default),c=(0,L.default)(A.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getDashboardUrl=function(){var e=a.getCurrentLearnData(),t=(0,C.get)(e,"type");return t===D.DataTypeKeys.mission||t===D.DataTypeKeys.pathway?"/creator/dashboard/architecture":"/creator/dashboard"},a.onClose=a.onClose.bind(a),a}return i(t,T.default),m(t,[{key:"onClose",value:function(){var e=this.props.closeDialog;e&&e()}},{key:"onCreate",value:function(e,t){var a=!0;e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)&&(a=!1),this.props.createByType({type:t,skipPopup:a})}},{key:"getCurrentLearnData",value:function(){var e=this.props;return(0,C.get)(e,"tutorialData")||(0,C.get)(e,"projectData")||(0,C.get)(e,"courseData")||(0,C.get)(e,"quizData")||(0,C.get)(e,"missionData")||(0,C.get)(e,"pathwayData")}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.getCurrentLearnData(),n=(0,C.get)(a,"title")||"",r=(0,C.get)(a,"type"),o=(0,C.get)(a,"id"),i=this.getDashboardUrl(),s="/"+r+"/"+o+"/edit";return O.default.createElement(I.default,{open:t,position:"center",noScroller:!1,onCloseModal:this.onClose},O.default.createElement("div",{className:this.ss("contents")},O.default.createElement("div",{className:this.ss("card-operate")},O.default.createElement("div",{className:this.ss("button-back")},O.default.createElement("button",{className:this.ss("button","button-back"),onClick:function(){return(0,M.default)(s)}},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")}),O.default.createElement("div",null,this.__("back_to_edit")))),O.default.createElement("button",{className:this.ss("button","button-close"),onClick:this.onClose},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),O.default.createElement("div",{className:this.ss("publish-flow")},O.default.createElement("div",{className:this.ss("title")},this.__("publish_flow_title",{title:n})),O.default.createElement("div",{className:this.ss("content")},this.__("publish_flow_content")),O.default.createElement("div",{className:this.ss("buttons-group")},O.default.createElement("div",{className:this.ss("buttons")},O.default.createElement("div",{className:this.ss("button-return")},O.default.createElement(N.default,{widthStyle:"full",label:this.__("publish_flow_button_return"),onClick:function(){return(0,M.default)(i)}})),O.default.createElement("div",{className:this.ss("button-create")},O.default.createElement(N.default,{widthStyle:"full",theme:"blue-border",label:this.__("publish_flow_button_create_"+r),onClick:function(t){return e.onCreate(t,r)}}))),O.default.createElement("div",{className:this.ss("button-cancel")},O.default.createElement(N.default,{theme:"transparent",widthStyle:"auto",label:this.__("publish_flow_button_cancel_"+r),onClick:this.onClose}))))))}}]),t}(),f.propTypes={tutorialData:S.default.object,projectData:S.default.object,courseData:S.default.object,quizData:S.default.object,missionData:S.default.object,pathwayData:S.default.object,userGroups:S.default.array,loginUser:S.default.object,show:S.default.bool,closeDialog:S.default.func,createByType:S.default.func},d=p))||d)||d)||d);t.default=F},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),h=s(["common.previewMediaPopup.mediaContent"],["common.previewMediaPopup.mediaContent"]),_=s(["common.previewMediaPopup.mustPlayList"],["common.previewMediaPopup.mustPlayList"]),g=s(["common.moveToMediaContent"],["common.moveToMediaContent"]),v=s(["common.closePreviewMediaPopup"],["common.closePreviewMediaPopup"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(46),O=a(4),T=n(a(15)),P=n(a(44)),j=a(12),C=n(a(3)),I=n(a(265)),N=S.presets.stiff,M=(l=(0,E.decorator)({windowWidth:(0,k.state)(m),mediaContent:(0,k.state)(h),mustPlayList:(0,k.state)(_),moveToMediaContent:(0,k.signal)(g),closePreviewMediaPopup:(0,k.signal)(v)}),u=(0,C.default)(I.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={loading:!0},n.onPrevious=function(e){e&&(0,j.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.moveToMediaContent;((0,O.get)(a,"id")||"")&&r&&r({step:-1})},n.onNext=function(e){e&&(0,j.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.moveToMediaContent;((0,O.get)(a,"id")||"")&&r&&r({step:1})},n.onClose=function(e){e&&(0,j.pauseEvent)(e);var t=n.props,a=t.mediaContent,r=t.closePreviewMediaPopup;((0,O.get)(a,"id")||"")&&r&&r()},i=a,o(n,i)}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this._handKeyDown=function(t){return e.onKeyDown(t)},window.addEventListener("keydown",this._handKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){var t=(e||{}).mediaContent;((0,O.get)(t,"id")||"")&&this.setState({loading:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this._handKeyDown,!0)}},{key:"onKeyDown",value:function(e){var t=e.keyCode,a=this.props.mediaContent;if((0,O.get)(a,"id"))switch(t){case 37:case 38:this.onPrevious(e);break;case 39:case 40:this.onNext(e);break;case 27:this.onClose(e)}}},{key:"getMaxWidth",value:function(){var e=this.props.windowWidth;return e?Math.min(e,1e3):1e3}},{key:"renderMedia",value:function(e,t,a){var n=void 0,r=!1,o=!1,i=e.id,s=e.type,l=e.originalImage,u=e.image;if("img"===s){var c=l||u||{},d=c.url,f=c.gif,p=c.width,m=c.height;r=p<this.getMaxWidth(),n=b.default.createElement("div",{key:"media-content-"+i,className:this.ss("image"),style:r?{width:p,height:m}:{}},b.default.createElement(T.default,{src:d,sizes:"1000px",gif:!!f,width:p,height:m,maxWidth:r?p:0}))}else o=!0,n=b.default.createElement("div",{className:this.ss("image","video"),onClick:function(e){return(0,j.pauseEvent)(e)}},b.default.createElement(P.default,{theme:"media",videoContent:e,mustPlayList:a}));return b.default.createElement("div",{className:this.ss("image-inner",(r||o)&&"center"),style:t},n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.mediaContent,r=t.mustPlayList,o=(0,O.get)(n,"id");if(!o)return null;var i={modalScale:.75,modalOpacity:0},s=o?{modalScale:(0,S.spring)(1,N),modalOpacity:(0,S.spring)(1,N)}:{modalScale:(0,S.spring)(.75,N),modalOpacity:(0,S.spring)(0,N)};return b.default.createElement(S.Motion,{defaultStyle:i,style:s},function(t){var o=t.modalScale,i=t.modalOpacity;if(i<.1)return null;var s={transform:"scale3d("+o+", "+o+", 1)",opacity:i};return b.default.createElement("div",{className:e.ss("image-popup-wrap")},b.default.createElement("div",{className:e.ss("image-popup-bg")}),b.default.createElement("div",{className:e.ss(a,"image-wrap"),onClick:e.onClose},e.renderMedia(n,s,r)))})}}]),t}(),d.propTypes={windowWidth:y.default.number,className:y.default.string,mustPlayList:y.default.bool,mediaContent:y.default.object,moveToMediaContent:y.default.func,closePreviewMediaPopup:y.default.func},c=f))||c)||c);t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(0)),_=n(a(1)),g=n(a(2)),v=n(a(191)),y=n(a(202)),b=n(a(204)),w=n(a(207)),E=n(a(3)),k=n(a(209)),S=n(a(7)),O=n(a(85)),T=(l=(0,E.default)(k.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={theme:"default",player:null,showTranscript:!1},n.onPlayerReady=function(e){n.setState({player:e});var t=n.props,a=t.theme,r=t.onReady;e&&("popup"===a&&e.muted(!0),r&&r(e))},n.onToggleTranscript=function(){n.setState({showTranscript:!n.state.showTranscript})},r=a,i(n,r)}return s(t,_.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.size,n=e.renderOnly,o=e.disabled,i=e.height,s=e.width,l=e.maxWidth,u=e.maxHeight,c=e.onClose,d=r(e,["theme","size","renderOnly","disabled","height","width","maxWidth","maxHeight","onClose"]),f=this.state,m=f.player,_=f.showTranscript,g=this.props,E=g.subtitles,k=g.title,S={},O={},T={};return"auto"===a&&0!==s&&0!==i&&(T={maxWidth:(S={maxWidth:0!==l?l+"px":"100%",maxHeight:0!==u?u+"px":"100%"}).maxWidth,maxHeight:S.maxHeight},E.length>0&&u&&(T={maxHeight:u-42-(_?320:0)+"px"}),O={paddingBottom:100*i/s+"%"}),h.default.createElement("div",{className:this.ss("player-wrapper",t),style:S,ref:"player"},h.default.createElement("div",{className:this.ss("video-wrapper"),style:T},h.default.createElement("div",{style:O}),h.default.createElement("div",{className:this.ss("videoholder")},h.default.createElement(v.default,p({},d,{renderOnly:n,onReady:this.onPlayerReady})),h.default.createElement(y.default,{player:m,sizes:s+"px"}),"popup"!==t&&h.default.createElement(b.default,{theme:t,player:m,renderOnly:n,title:k,disabled:o}),h.default.createElement(w.default,{onClose:c,player:m}))))}}]),t}(),d.propTypes={src:g.default.string,renderOnly:g.default.bool,disabled:g.default.bool,width:g.default.number,height:g.default.number,maxWidth:g.default.number,maxHeight:g.default.number,title:g.default.string,size:g.default.oneOf(["auto","small"]),theme:g.default.string,subtitles:g.default.array,onReady:g.default.func,onClose:g.default.func},c=f))||c)||c);t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(1)),m=n(a(2)),h=n(a(4)),_=n(a(42)),g=n(a(192)),v=a(70),y=a(9);a(193),a(194),a(195),a(198);var b=n(a(3)),w=n(a(201)),E=n(a(7)),k=n(a(85)),S={play:"playToggle",volume:"volumePanel",seekbar:"progressControl",timer:"remainingTimeDisplay",playbackrates:"playbackRateMenuButton",fullscreen:"fullscreenToggle"},O=[{code:"highres",name:"High"},{code:"hd1080",name:"1080p"},{code:"hd720",name:"720p"},{code:"large",name:"480p"},{code:"medium",name:"360p"},{code:"small",name:"240p"},{code:"auto",name:"Auto"}],T={"subtitles off":"subtitles_off","subtitles settings":"subtitles_settings","captions off":"captions_off","captions settings":"captions_settings"},P=(l=(0,b.default)(w.default),u=(0,E.default)(k.default),l(c=u(c=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getI18nLanguage=function(e){var t={};return h.default.map(e,function(e,a){t[a]=n.__(e)}),t},n.player={},n.playerId="",n.canInitMinimum=!0,n.initQualitySelector=function(){var e=n.props.sources;n.player.qualityselector({sources:e,formats:O.filter(function(t){return e.find(function(e){return e.format===t.code})}),text:n.__("quality"),onFormatSelected:null})},n.initTranscriptControlBar=function(e){var t=[];e.forEach(function(e){var a=h.default.get(e,"language");t.push({lang:a,text:(0,y.GetLanguageText)(n.context,a)})}),n.player.transcriptControl({showText:n.__("show_transcript"),hideText:n.__("hide_transcript"),languages:t,language:n.player.language||(0,v.getLanguageFromLocale)(n.props.locale)})},n.initMinimumControl=function(e){!0===n.canInitMinimum&&(n.canInitMinimum=!1,n.player.minimumControl({title:n.props.title,expandVideoText:n.__("expand_video"),durationText:(0,y.GetVideoDurationText)(n.context,e||0)}))},r=a,i(n,r)}return s(t,p.default),d(t,[{key:"componentDidMount",value:function(){this.refs.video&&(this.initPlayer(this.props),this.initPlayerEvents(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.setControlsVisibility(this.player,e.hideControls),h.default.isEqual(this.props.sources,e.sources)||this.initPlayer(e)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.dispose()}},{key:"setControlsVisibility",value:function(e,t){Object.keys(S).map(function(t){return e.controlBar[S[t]].show()}),t.map(function(t){return e.controlBar[S[t]].hide()})}},{key:"initPlayer",value:function(e){var t=this,a=this.generatePlayerOptions(e);this.player=(0,_.default)(this.refs.video,a),e.mustPlayList&&this.player.src(e.src),this.player.poster(e.poster),this.setControlsVisibility(this.player,e.hideControls),a.sources&&a.sources.length>1&&this.initQualitySelector(),this.playerId=this.player.id();var n=h.default.get(e,"subtitles")||[];n.length>0&&n.forEach(function(e){var a=h.default.get(e,"url");if(a&&e){var n=h.default.get(e,"language");t.player.addRemoteTextTrack({src:a,kind:"subtitles",srclang:n,label:(0,y.GetLanguageText)(t.context,n),default:e.default||!1},!1)}})}},{key:"generatePlayerOptions",value:function(e){var t={},a=(0,v.getLanguageFromLocale)(e.locale);return t.sources=e.sources,t.language=a,t.controls=e.renderOnly&&e.controls,t.autoplay=e.autoplay,t.preload=e.renderOnly?"none":"auto",t.width=e.width,t.height=e.height,t.bigPlayButton=e.bigPlayButton,t.posterImage=e.posterImage,e.hidePlaybackRates||e.hideControls.includes("playbackrates")||(t.playbackRates=e.playbackRates),t.html5={hls:{overrideNative:!0},nativeTextTracks:!1},t.languages=r({},a,this.getI18nLanguage(T)),t.inactivityTimeout=e.inactivityTimeout,e.mustPlayList||(t.sources=[{src:e.src,type:e.contentType}]),t}},{key:"initPlayerEvents",value:function(e){var t=this,a=0,n=0,r=0;this.player.ready(function(){e.onReady(t.player)}),this.player.on("play",function(){var a=_.default.getPlayers();Object.keys(a).forEach(function(e){var a=_.default.getPlayer(e);e!==t.playerId&&a&&!1===a.paused()&&a.pause()}),e.onPlay(t.player.currentTime())}),this.player.on("pause",function(){e.onPause(t.player.currentTime())}),(0,g.default)()&&["stalled","waiting"].forEach(function(e){t.player.on(e,function(){1===t.player.readyState()&&t.player.currentTime(t.player.currentTime()+1)})}),this.player.on("timeupdate",function(){e.onTimeUpdate(t.player.currentTime()),n=a,a=t.player.currentTime(),n<a&&(r=n,n=a)}),this.player.on("seeking",function(){t.player.off("timeupdate",function(){}),t.player.one("seeked",function(){}),e.onSeeking(t.player.currentTime())}),this.player.on("seeked",function(){var a=Math.floor(t.player.currentTime());e.onSeeked(r,a)}),this.player.on("ended",function(){e.onEnd()}),this.player.on("playing",function(){e.onPlaying()}),this.player.on("useractive",function(){e.onUseractive()}),this.player.on("userinactive",function(){e.onUserinactive()}),this.player.on("durationchange",function(){var a=t.player.duration()||0;e.onDurationchange(a)}),this.player.on("fullscreenchange",function(){setTimeout(function(){e.onFullScreenChange(t.player.isFullscreen())},0)}),this.player.on("ratechange",function(){e.onRateChange(t.player.playbackRate())}),this.player.on("subtitlechange",function(t,a){var n=a.lang;e.onSubtitleChange(n)}),this.player.textTracks().on("change",function(){if(t.player.hasStarted()&&0!==t.player.currentTime()){var e="",a=(t.player.textTracks().tracks_||[]).filter(function(t){return"subtitles"===t.kind&&"showing"===t.mode&&(e=t.language,!0)})[0];t.player.trigger("subtitlechange",{lang:e,track:a})}})}},{key:"render",value:function(){var e=this.props.bigPlayButtonCentered?"vjs-big-play-centered":"";return f.default.createElement("video",{ref:"video",style:{width:"100%",height:"100%"},crossOrigin:"anonymous",className:"video-js "+e})}}]),t}())||c)||c);P.propTypes={locale:m.default.string,renderOnly:m.default.bool,src:m.default.string,contentType:m.default.string,sources:m.default.array,title:m.default.string,subtitles:m.default.array,poster:m.default.string,controls:m.default.bool,autoplay:m.default.bool,preload:m.default.oneOf(["auto","none","metadata"]),width:m.default.oneOfType([m.default.string,m.default.number]),height:m.default.oneOfType([m.default.string,m.default.number]),hideControls:m.default.arrayOf(m.default.string),bigPlayButton:m.default.bool,bigPlayButtonCentered:m.default.bool,posterImage:m.default.bool,onReady:m.default.func,onPlay:m.default.func,onPlaying:m.default.func,onPause:m.default.func,onTimeUpdate:m.default.func,onSeeking:m.default.func,onSeeked:m.default.func,onEnd:m.default.func,onUseractive:m.default.func,onUserinactive:m.default.func,onDurationchange:m.default.func,playbackRates:m.default.arrayOf(m.default.number),hidePlaybackRates:m.default.bool},P.defaultProps={locale:"en_US",renderOnly:!1,src:"",contentType:"",sources:[],title:"",subtitles:[],poster:"",controls:!0,autoplay:!1,preload:"auto",playbackRates:[.5,1,1.5,2,4],hidePlaybackRates:!1,hideControls:[],bigPlayButton:!1,bigPlayButtonCentered:!0,posterImage:!1,onReady:function(){},onPlay:function(){},onPlaying:function(){},onPause:function(){},onTimeUpdate:function(){},onSeeking:function(){},onSeeked:function(){},onEnd:function(){},onUseractive:function(){},onUserinactive:function(){},onDurationchange:function(){},onFullScreenChange:function(){},onRateChange:function(){},onSubtitleChange:function(){}},t.default=P},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!!window.safari||navigator.userAgent.indexOf("Safari")>=0}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(42)),r=function(e,t){for(var a=[],r=0;r<e.length;r++)a.push([e.start(r)/t,e.end(r)/t]);return n.default.createTimeRange(a)},o=function(e){var t=void 0;return e.on("ratechange",function(){t.trigger("durationchange"),t.trigger("timeupdate")}),{setSource:function(e,t){t(null,e)},setTech:function(e){t=e},duration:function(t){return t/e.playbackRate()},currentTime:function(t){return t/e.playbackRate()},setCurrentTime:function(t){return t*e.playbackRate()},buffered:function(t){return r(t,e.playbackRate())},seekable:function(t){return r(t,e.playbackRate())},played:function(t){return r(t,e.playbackRate())}}};n.default.use("*",o),t.default=o},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(e){return e&&e.__esModule?e:{default:e}}(a(42)),u=(o=r=function(){function e(t){n(this,e),i.call(this),this.player=t,this.sources=[],this.callback=void 0,this.containerDropdownElement=void 0,this.defaults={},this.changeQualityName=!0}return s(e,[{key:"onQualitySelect",value:function(e){var t=this;if(this.callback&&this.callback(e),this.sources){var a=this.sources.find(function(t){return t.format===e.code});if(a){this.player.src({src:a.src,type:a.type});var n=this.player.currentTime();this.player.play(),this.player.on("loadedmetadata",function(){t.player.currentTime(n)})}}this.setCurrentStyle(e),this.onToggleDropdown()}},{key:"onToggleDropdown",value:function(){if(-1===this.containerDropdownElement.className.indexOf("show"))this.containerDropdownElement.className+=" show";else{var e=this.containerDropdownElement.className.replace(" show","");this.containerDropdownElement.className=e}}},{key:"onPlayerReady",value:function(e){var t=this;this.containerDropdownElement=document.createElement("div"),this.containerDropdownElement.className="vjs-quality-dropdown";var a=document.createElement("div");a.className="vjs-quality-container";var n=document.createElement("button");n.className="vjs-brand-quality-link",n.onclick=function(e){return t.onToggleDropdown(e)},n.innerText=e.text||"Quality";var r=document.createElement("ul");e.formats||(e.formats=[{code:"auto",name:"Auto"}]),e.onFormatSelected&&(this.callback=e.onFormatSelected),e.sources&&(this.sources=e.sources),Object.prototype.hasOwnProperty.call(e,"changeQualityName")&&(this.changeQualityName=e.changeQualityName),e.formats.map(function(e){var a=document.createElement("li");a.dataset.code=e.code;var n=document.createElement("a");return n.innerText=e.name,n.setAttribute("href","#"),n.addEventListener("click",function(a){a.preventDefault(),t.onQualitySelect(e)}),a.appendChild(n),r.appendChild(a),null}),this.containerDropdownElement.appendChild(r),a.appendChild(this.containerDropdownElement),a.appendChild(n);var o=this.player.controlBar.fullscreenToggle.el();this.player.controlBar.el().insertBefore(a,o),this.player.addClass("vjs-qualityselector");var i=this.player.currentSource();if(i){var s=e.formats.find(function(e){return e.code===i.format});this.setCurrentStyle(s)}}}]),e}(),i=function(){var e=this;this.setCurrentStyle=function(t){Array.from(e.containerDropdownElement.firstChild.childNodes).forEach(function(e){e.dataset.code===t.code?e.setAttribute("class","current"):e.removeAttribute("class")});var a=document.getElementById(e.player.id_).getElementsByClassName("vjs-brand-quality-link");e.changeQualityName&&a&&a.length>0&&(a[0].innerText=t.name||"")}},o),c=function(e){var t=this;this.ready(function(){var a=new u(t);a.onPlayerReady(l.default.mergeOptions(a.defaults,e))})};(l.default.registerPlugin||l.default.plugin)("qualityselector",c),t.default=c},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(a(42));a(196);var i=function(){function e(t){n(this,e),this.player=t,this.showTranscript=!1,this.containerElement=void 0,this.toggleTranscriptBtn=void 0,this.addedTranscriptComponent=!1}return r(e,[{key:"setTranscriptButtonLabel",value:function(){var e=this.options,t=e.showText||"Show transcript",a=e.hideText||"Hide transcript";this.toggleTranscriptBtn.innerText=this.showTranscript?a:t;var n=document.createElement("div"),r="icon ifont ifont-lrn_icon_unfold";this.showTranscript&&(r+=" show"),n.className=r,this.toggleTranscriptBtn.appendChild(n)}},{key:"onToggleTranscriptBtn",value:function(){this.showTranscript=!this.showTranscript,this.setTranscriptButtonLabel(),!0===this.showTranscript?this.player.addClass("vjs-show-transcript"):this.player.removeClass("vjs-show-transcript"),this.player.trigger(this.showTranscript?"showTranscript":"hideTranscript")}},{key:"onPlayerReady",value:function(e){var t=this;this.ready=!0,this.options=e,this.player.addClass("vjs-has-transcript");var a=this.player.getChild("controlBar");this.containerElement=document.createElement("div"),a.el().appendChild(this.containerElement),this.containerElement.className="vjs-transcript-control",this.toggleTranscriptBtn=document.createElement("button"),this.containerElement.appendChild(this.toggleTranscriptBtn),this.toggleTranscriptBtn.className="vjs-transcript-btn",this.toggleTranscriptBtn.onclick=function(e){return t.onToggleTranscriptBtn(e)},this.setTranscriptButtonLabel(),!1===this.addedTranscriptComponent&&(this.addedTranscriptComponent=!0,this.player.addChild("VideoTranscriptComponent",{isShow:this.showTranscript,languages:e.languages||[]}).addClass("vjs-transcript-container"),!0===this.showTranscript&&this.player.addClass("vjs-show-transcript"))}}]),e}();(o.default.registerPlugin||o.default.plugin)("transcriptControl",function(e){var t=this;this.ready(function(){var a=new i(t);a.onPlayerReady(o.default.mergeOptions(a.defaults,e))})})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(20)),g=n(a(42)),v=a(4),y=n(a(47)),b=a(9),w=a(12),E=n(a(3)),k=n(a(197)),S=(s=(0,E.default)(k.default))((c=u=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.onMouseWheel=function(){a.mouseWheelTimestamp=(new Date).getTime()},a.onChangeSelectedIndex=function(e){a.state.selectedIndex!==e&&a.setState({selectedIndex:e})},a.onChangeTranscriptLang=function(e,t,n){a.state.language!==n&&a.setState({language:n})},a.setTranscriptRef=function(e){a.transcriptRef||(a.transcriptRef=e,a.transcriptRef.addEventListener("mousemove",w.pauseEvent))},a.setTracksRef=function(e){a.tracksRef||(a.tracksRef=e,a.tracksRef.addEventListener("mousewheel",a.onMouseWheel))};var n=e.player,i=e.options;a.player=n||{},a.options=i||{},a.mouseWheelTimestamp=0,a.offsetTop=0;var s=n.language(),l=i.languages.findIndex(function(e){return s===e.lang})>=0?s:i.languages[0].lang;a.state={tracks:{},selectedIndex:-1,language:l};for(var u=n.remoteTextTrackEls()||{},c=u.length,f=0;f<c;f++)!function(e){var t=u[e];if("subtitles"===t.kind)if(!0===t.track.loaded_)a.state.tracks[t.srclang]=t.track;else{var n=a;t.on("load",function(){var e=n.state.tracks;e[t.srclang]=this.track,n.setState({tracks:d({},e)})})}}(f);return a.initPlayerEvent(),a}return i(t,h.default),f(t,[{key:"onChangeDuration",value:function(e){this.player.currentTime(e)}},{key:"setSelected",value:function(){var e=this.state,t=e.tracks,a=e.language,n=this.player.currentTime(),r=(0,v.get)(t,a);if(r){var o=r.cues||{},i=o.length;if(!i)return;for(var s=0,l=-1,u=0;u<i;u++){var c=o[u],d=(0,v.get)(c,"startTime")||0,f=(0,v.get)(o[u+1],"startTime")||null;if(n>=d&&(null===f||n<f)){l=u,s=_.default.findDOMNode(this.refs["cue_"+u]).offsetTop;break}}var p=(new Date).getTime();l!==this.state.selectedIndex&&this.onChangeSelectedIndex(l),s!==this.offsetTop&&(0===this.mouseWheelTimestamp||p-this.mouseWheelTimestamp>=3e3)&&(this.offsetTop=s,this.tracksRef.scrollTo(0,s))}}},{key:"getTimeStr",value:function(e){e=parseInt(e,10);var t=(0,b.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second;return(a<10?"0":"")+a+":"+((n<10?"0":"")+n)+":"+((r<10?"0":"")+r)}},{key:"initPlayerEvent",value:function(){var e=this;this.player.on("timeupdate",function(){e.setSelected()}),this.player.on("fullscreenchange",function(){e.player.isFullscreen()&&e.setSelected()}),this.player.on("seeking",function(){e.mouseWheelTimestamp=0}),this.player.on("ended",function(){e.mouseWheelTimestamp=0}),this.player.on("showTranscript",function(){e.setSelected()}),this.on("dispose",function(){e.tracksRef&&e.tracksRef.removeEventListener("mousewheel",e.onMouseWheel),e.transcriptRef&&e.transcriptRef.removeEventListener("mousemove",w.pauseEvent)})}},{key:"renderFilters",value:function(){var e=this.state.language,t=(this.options.languages||[]).map(function(e){return{text:e.text,value:e.lang}});return t.length<=0?null:m.default.createElement("div",{className:this.ss("transcript-filter")},m.default.createElement("div",{className:this.ss("item")},m.default.createElement(y.default,{theme:"gray",value:e,selects:t,onChange:this.onChangeTranscriptLang})))}},{key:"renderTrack",value:function(){var e=this,t=this.state,a=t.selectedIndex,n=t.tracks,r=t.language,o=(0,v.get)(n,r);if(!o)return null;var i=o.cues||{},s=i.length;if(!s)return null;for(var l=[],u=0;u<s;u++)!function(t){var n=i[t],r=(0,v.get)(n,"startTime")||0;l.push(m.default.createElement("div",{key:o.language+"_cue_"+t,ref:"cue_"+t,className:e.ss("transcript-cue",t===a&&"selected")},m.default.createElement("div",{className:e.ss("start-time")},e.getTimeStr(r)),m.default.createElement("div",{className:e.ss("right")},m.default.createElement("div",{className:e.ss("play-icon-wrapper")},m.default.createElement("div",{className:e.ss("play-icon","ifont","ifont-lrn_icon_play")})),m.default.createElement("div",{className:e.ss("cue-text-wrapper"),onClick:function(){return e.onChangeDuration(r)}},m.default.createElement("span",{className:e.ss("cue-text")},(0,v.get)(n,"text"))))))}(u);return m.default.createElement("div",{className:this.ss("tracks-container")},m.default.createElement("div",{ref:this.setTracksRef,className:this.ss("tracks-wrapper")},l))}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.setTranscriptRef,className:this.ss("transcript-container",this.props.theme)},this.renderFilters(),this.renderTrack())}}]),t}(),u.propTypes={player:p.default.object.isRequired,options:p.default.object,theme:p.default.string},l=c))||l;t.default=S;var O=g.default.getComponent("Component"),T=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.player=e,n.options=a,n.mount=n.mount.bind(n),e.ready(function(){n.mount()}),n.on("dispose",function(){_.default.unmountComponentAtNode(n.el())}),n}return i(t,O),f(t,[{key:"mount",value:function(){_.default.render(m.default.createElement(S,{player:this.player,options:this.options,theme:"fullscreen"}),this.el())}}]),t}();O.registerComponent("VideoTranscriptComponent",T)},function(e,t){e.exports={"transcript-container":"transcript-container_3CwU3oOB",fullscreen:"fullscreen_25vwYsH0","tracks-wrapper":"tracks-wrapper_2zZ3BtWR","transcript-cue":"transcript-cue_3H4KUoj8",right:"right_xO3BevY5","cue-text-wrapper":"cue-text-wrapper_33Uz_L--",popup:"popup_9FyANSrq","transcript-filter":"transcript-filter_fKHX4y6g","tracks-container":"tracks-container_2jsbv9qA",selected:"selected_2uheBhGk","cue-text":"cue-text_1jKe1U9z","play-icon-wrapper":"play-icon-wrapper_tBrAzhfW","play-icon":"play-icon_1QzqZgyK"}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(a(42));a(199);var s=function(){function e(t){n(this,e),this.player=t,this.VideoMinimumComponent=null}return o(e,[{key:"onPlayerReady",value:function(e){this.ready=!0,this.VideoMinimumComponent=this.player.addChild("VideoMinimumComponent",r({},e)),this.VideoMinimumComponent.addClass("vjs-minimum-container")}}]),e}();(i.default.registerPlugin||i.default.plugin)("minimumControl",function(e){var t=this;this.ready(function(){var a=new s(t);a.onPlayerReady(i.default.mergeOptions(a.defaults,e))})})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return(e=Math.round(e))>0?e=0:e<-t&&(e=-t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=n(a(20)),g=n(a(42)),v=a(46),y=n(a(15)),b=n(a(16)),w=n(a(3)),E=n(a(200)),k=v.presets.stiff,S=200,O=150,T=(l=(0,w.default)(E.default))((d=c=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.state={headerTop:-S},a.onHandleScroll=function(){var e=a.state.headerTop,t=a.player.el(),n=t.getElementsByTagName("video")[0].offsetHeight,r=t.scrollTop;0!==e&&n-r<=O&&a.setState({headerTop:0}),0===e&&n-r>O&&a.setState({headerTop:-S})},a.onExpandVideo=function(){a.player.el().scrollTo(0,0)};var n=e.player,i=e.options;return a.player=n||{},a.options=i||{},a}return i(t,h.default),f(t,[{key:"componentDidMount",value:function(){this.player.el().addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){this.player&&this.player.el()&&this.player.el().removeEventListener("scroll",this.onHandleScroll)}},{key:"renderVideoPoster",value:function(){var e=this.player.poster();return m.default.createElement("div",{className:this.ss("image-wrapper")},m.default.createElement(y.default,{sizes:"100vw",src:e}),m.default.createElement("div",{className:this.ss("expand-video")},m.default.createElement("div",{className:this.ss("expand-button-wrapper")},m.default.createElement(b.default,{label:this.options.expandVideoText||"",widthStyle:"full",theme:"hollow-white",onClick:this.onExpandVideo}))))}},{key:"renderVideoInfo",value:function(){var e=this.options,t=e.title,a=e.durationText;return m.default.createElement("div",{className:this.ss("video-info")},m.default.createElement("div",{className:this.ss("info-title")},t),m.default.createElement("div",{className:this.ss("info-duration")},a))}},{key:"render",value:function(){var e=this,t=this.state.headerTop;return m.default.createElement(v.Motion,{style:{headerTop:(0,v.spring)(t,k)}},function(t){var a={position:"fixed",top:s(t.headerTop,S)};return m.default.createElement("div",{className:e.ss("minimum-container"),style:a},e.renderVideoPoster(),e.renderVideoInfo())})}}]),t}(),c.propTypes={player:p.default.object.isRequired,options:p.default.object},u=d))||u;t.default=T;var P=g.default.getComponent("Component"),j=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.player=e,n.options=a,n.mount=n.mount.bind(n),e.ready(function(){n.mount()}),n.on("dispose",function(){_.default.unmountComponentAtNode(n.el())}),n}return i(t,P),f(t,[{key:"mount",value:function(){_.default.render(m.default.createElement(T,{player:this.player,options:this.options}),this.el())}}]),t}();P.registerComponent("VideoMinimumComponent",j)},function(e,t){e.exports={"minimum-container":"minimum-container_7ICeqY-v",hidden:"hidden_1e_mq8st","image-wrapper":"image-wrapper_RflXy0nK","expand-video":"expand-video_a3yKEdu-","expand-button-wrapper":"expand-button-wrapper_295Mfuk3","video-info":"video-info_1VQ6mHJ_","info-title":"info-title_1529XQP7","info-duration":"info-duration_-CWJdJVb"}},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(1)),m=n(a(2)),h=n(a(15)),_=a(86),g=n(a(3)),v=n(a(203)),y=(s=(0,g.default)(v.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hide:!1,poster:""},n.onUpdate=function(e){var t=(e=e||n.props.player).poster();t!==n.state.poster&&n.setState({poster:t})},n.onHide=function(){n.state.hide||n.setState({hide:!0})},n.handleClick=function(){var e=n.props.player;e&&e.controls()&&(e.paused()?(0,_.silencePromise)(e.play()):e.pause(),e.handleFocus({}))},i=a,o(n,i)}return i(t,p.default),d(t,[{key:"componentDidMount",value:function(){this.props.player&&this.initPlayer(this.props.player)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player&&e.player&&this.initPlayer(e.player)}},{key:"componentWillUnmount",value:function(){var e=this;this.props.player&&(this.props.player.off("posterchange",function(){return e.onUpdate(e.props.player)}),this.props.player.off("firstplay",this.onHide))}},{key:"initPlayer",value:function(e){var t=this;e&&(e.on("posterchange",function(){return t.onUpdate(t.props.player)}),e.on("firstplay",this.onHide),this.onUpdate(e))}},{key:"render",value:function(){var e=this.props.sizes,t=this.state,a=t.hide,n=t.poster;return n?f.default.createElement("div",{className:this.ss("poster-wrapper",a&&"hide"),onClick:this.handleClick},f.default.createElement(h.default,{sizes:e,src:n})):null}}]),t}(),u.propTypes={player:m.default.object,sizes:m.default.string},l=c))||l;t.default=y},function(e,t){e.exports={"poster-wrapper":"poster-wrapper_2vFy1PlO",hide:"hide_3VCfZ-Qu"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.playerState"],["common.playerState"]),h=n(a(0)),_=n(a(1)),g=n(a(2)),v=a(6),y=a(5),b=a(86),w=a(4),E=a(44),k=a(43),S=n(a(3)),O=n(a(205)),T=n(a(7)),P=n(a(206)),j=(s=(0,v.decorator)({playerState:(0,y.state)(m)}),l=(0,S.default)(O.default),u=(0,T.default)(P.default),s(c=l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.state={hide:!1},n.onHide=function(){n.state.hide||n.setState({hide:!0})},n.button={},n.handleClick=function(e){var t=n.props.player;if(t&&t.controls()){var a=t.play();if(n.mouseused_&&e.clientX&&e.clientY)return(0,b.silencePromise)(a),void t.handleFocus({});var r=t.getChild("controlBar"),o=r&&r.getChild("playToggle");if(o){var i=function(){return o.focus()};(0,b.isPromise)(a)?a.then(i,function(){}):n.button.setTimeout(i,1)}else t.focus()}},n.handleKeyPress=function(){n.mouseused_=!1},n.handleMouseDown=function(){n.mouseused_=!0},n.mouseused_=!1,n}return i(t,_.default),p(t,[{key:"componentDidMount",value:function(){this.props.player&&this.initPlayer(this.props.player)}},{key:"componentWillReceiveProps",value:function(e){!this.props.player&&e.player&&this.initPlayer(e.player)}},{key:"componentWillUnmount",value:function(){var e=this.props.player;e&&(e.off("mousedown",this.handleMouseDown),e.off("firstplay",this.onHide)),window.removeEventListener("keydown",this.handleKeyPress)}},{key:"initPlayer",value:function(e){e&&(e.on("mousedown",this.handleMouseDown),e.on("firstplay",this.onHide),window.addEventListener("keydown",this.handleKeyPress))}},{key:"render",value:function(){var e=this.state.hide,t=this.props,a=t.player,n=t.theme,r=t.renderOnly,o=t.disabled,i=t.title,s=t.playerState,l=a&&a.id(),u=(0,w.get)(s,[l,"duration"]);if("overview"===n||"learn-live-previous"===n){var c=r&&"overview"===n;return h.default.createElement("div",{className:this.ss("play-button-wrapper",n,r?"renderOnly":"edit",e&&"hide"),onClick:!r||o?void 0:this.handleClick},h.default.createElement("div",{className:this.ss("play-button-content")},h.default.createElement("div",{className:this.ss("gradient")}),h.default.createElement("div",{className:this.ss("play-button")},h.default.createElement("div",{className:this.ss("play-icon")},h.default.createElement(E.LearnVideoPlayIcon,{size:"small"})),h.default.createElement("div",{className:this.ss("caption")},c&&h.default.createElement("span",{className:this.ss("video-title")},this.__("overview")),c&&h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("span",{className:this.ss("video-title")},i),h.default.createElement("div",{className:this.ss("dot")}),h.default.createElement("div",{className:this.ss("duration")},h.default.createElement(k.VideoDuration,{duration:u}))))))}var d=h.default.createElement("div",{className:this.ss("icon-play","ifont","ifont-icons_play")});if("media"===n){var f=r?"large":"small";d=h.default.createElement(E.LearnVideoPlayIcon,{size:f})}return h.default.createElement("div",{className:this.ss("play-button-wrapper",n,e&&"hide",r&&"renderOnly"),onClick:!r||o?void 0:this.handleClick},h.default.createElement("button",{className:this.ss("big-play-button")},d))}}]),t}(),d.propTypes={player:g.default.object,renderOnly:g.default.bool,disabled:g.default.bool,theme:g.default.oneOf(["default","overview","learn-live-previous","media"]),title:g.default.string,playerState:g.default.object},d.defaultProps={theme:"default"},c=f))||c)||c)||c);t.default=j},function(e,t){e.exports={"play-button-wrapper":"play-button-wrapper_369SNLpA",renderOnly:"renderOnly_2y7y3o4Q",default:"default_38r1XEyC","big-play-button":"big-play-button_3zJ4dvTy","icon-play":"icon-play_aHbNIGNZ",hide:"hide_35-D69Tk",overview:"overview_1IxKbRZ_","learn-live-previous":"learn-live-previous_qBj2UrPx","play-button-content":"play-button-content_1cNu61RV","play-button":"play-button_hQxpQ-sX","play-icon":"play-icon_1bT0oac8",caption:"caption_5mzN4sUw","video-title":"video-title_2wAV9HG-",dot:"dot_3xeOD5y5",duration:"duration_264pbZex",gradient:"gradient_3XDAkNCy",edit:"edit_3k6blzKd",media:"media_2q5BB4gV"}},function(e,t){e.exports={overview:"overview_lHx_"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.playerState"],["common.playerState"]),m=n(a(0)),h=n(a(1)),_=n(a(2)),g=a(6),v=a(5),y=a(4),b=n(a(3)),w=n(a(208)),E=(s=(0,g.decorator)({playerState:(0,v.state)(p)}),l=(0,b.default)(w.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"render",value:function(){var e=this.props,t=e.player,a=e.onClose,n=e.playerState;if(!a)return null;var r=t&&t.id(),o=(0,y.get)(n,[r,"playing"])||!1,i=(0,y.get)(n,[r,"userActive"])||!0;return m.default.createElement("div",{className:this.ss("close-button-wrapper",o?"vjs-playing":"vjs-pause",i?"vjs-user-active":"vjs-user-inactive")},m.default.createElement("button",{className:this.ss("close-button"),onClick:function(){return a()}},m.default.createElement("div",{className:this.ss("icon","ifont","ifont-udp-close")})))}}]),t}(),c.propTypes={player:_.default.object,playerState:_.default.object,onClose:_.default.func},u=d))||u)||u);t.default=E},function(e,t){e.exports={"close-button-wrapper":"close-button-wrapper_sPlIS3V9","vjs-playing":"vjs-playing_25fE44JK","vjs-user-inactive":"vjs-user-inactive_16e-n1Ia","close-button":"close-button_3JX8C6wj"}},function(e,t){e.exports={"player-wrapper":"player-wrapper_3sX0YROH","video-wrapper":"video-wrapper_EfRFMD8D",videoholder:"videoholder_DX2Yz8b4"}},,function(e,t){e.exports={"label-icon":"label-icon_3YriefdQ",icon:"icon_3LceFB2R",stream:"stream_3QI72ZBS",label:"label_2B8Q5RZh","try-premium-free":"try-premium-free_FA2n-swz",step:"step_ARdbi8V9",login:"login_zARCHoDg","live-session":"live-session_3DmZObhI","connect-group":"connect-group_z_EO64fN",breadcrumb:"breadcrumb_3u-LxlXz",payment:"payment_28fZK5OV",premium:"premium_ryd4Dcq0","label-with-help":"label-with-help_3TiQqWNV","help-icon":"help-icon_1NF6AeiE","label-wrapper":"label-wrapper_MXGzi78N",dark:"dark_2QGR5CcE",inherit:"inherit_1w-JlY72"}},function(e,t){e.exports={label_stream:"label_stream_3pCl",label_stream_help:"label_stream_help_2vEa",label_try_premium_free:"label_try_premium_free_7Dy5",label_try_premium_30days:"label_try_premium_30days_zcoz",label_live_session:"label_live_session_1Vbj",label_learn_live_upcoming:"label_learn_live_upcoming_76pq",label_learn_live_latest:"label_learn_live_latest_35kv",label_learn_live_past:"label_learn_live_past_3qCY",label_live_session_help:"label_live_session_help_w0Nr",label_live_session_help_tutorial:"label_live_session_help_tutorial_MC32",label_live_session_help_project:"label_live_session_help_project_3C0z",label_live_session_help_course:"label_live_session_help_course_3jpi",label_add_sub_skill:"label_add_sub_skill_ZIeH",label_add_new_skill:"label_add_new_skill_30Df",label_add_tutorial:"label_add_tutorial_3XMr",label_add_assessment:"label_add_assessment_1apM",label_add_step:"label_add_step_rxYm",label_add_lab_step:"label_add_lab_step_3oaW",label_add_submission_step:"label_add_submission_step_35dU",label_add_suggested_solution:"label_add_suggested_solution_10Lx",label_add_educator:"label_add_educator__kmn",label_add_question:"label_add_question_2Tz3",label_add_option:"label_add_option_gQGR",label_add_content_group:"label_add_content_group_KCFI",label_add_point_reward:"label_add_point_reward_-19g",label_add_another_asset:"label_add_another_asset_YXYK",label_add_content_own:"label_add_content_own_2eTI",label_align_existing_missions:"label_align_existing_missions_18S5",label_connect_group:"label_connect_group_3tTL",label_try_payment_tutorial:"label_try_payment_tutorial_2PkI",label_try_payment_project:"label_try_payment_project_MPE4",label_try_payment_course:"label_try_payment_course_9ss1",label_try_payment_quiz:"label_try_payment_quiz_38ji",label_payment:"label_payment_2ZC0",label_premium:"label_premium_26tD",label_align_existing:"label_align_existing_3uVI",label_existing_topic:"label_existing_topic_2CQc",label_existing_competency:"label_existing_competency_2HKW",breadcrumb_tip_label:"breadcrumb_tip_label_1MmL",label_login:"label_login_3UvB",label_login_to_start_learning:"label_login_to_start_learning_3A6d",label_new_version:"label_new_version_J3ne",label_new_set:"label_new_set_2v5A",label_add_competency:"label_add_competency_2Sn4",label_remove_competency:"label_remove_competency_1TeN"}},function(e,t){e.exports={"asset-wrap":"asset-wrap_3V6Ldl1W",gallery:"gallery_9K85CLSI","asset-info":"asset-info_3EPpkoRX","asset-button":"asset-button_R0-MDaWF","asset-publisher":"asset-publisher_26ay6sOC","asset-name":"asset-name_5Odb0cE6","asset-price-wrap":"asset-price-wrap_1YE3plRx","asset-price-origin":"asset-price-origin_3LP-nv-h","asset-price-final":"asset-price-final_11z0vkg5","asset-sale":"asset-sale_3nPC7eOu","asset-sale-icon":"asset-sale-icon_1mSx1_c0","asset-sale-text":"asset-sale-text_2uR4msH4"}},function(e,t){e.exports={asset_price:"asset_price_2i4e",asset_free:"asset_free_2pm8",button_buy:"button_buy_1nB3",tag_sale:"tag_sale_2eA2"}},function(e,t){e.exports={"consent-iframe":"consent-iframe_3YHcjtgO","blocked-video__overlay":"blocked-video__overlay_1uyjcPY4","blocked-video__button":"blocked-video__button_3w1vHIwD"}},function(e,t){e.exports={blocked_message_functional:"blocked_message_functional_-CcE",blocked_message_targeting:"blocked_message_targeting_28cL",cookie_settings:"cookie_settings_27gN"}},function(e,t){e.exports={"learn-player":"learn-player_pEBDKb6g","hide-control-bar":"hide-control-bar_16uqH6VE","video-cover":"video-cover_2fT_3dLc","video-cover-text":"video-cover-text_1OF6sl4b",creator:"creator_1-TBUKlf","learn-private-player":"learn-private-player_1-LYytVE","player-wrap":"player-wrap_J1Iuc493","no-login":"no-login_7Ci3h2Pl","player-img":"player-img_3WyDJVqc","learn-video-preview":"learn-video-preview_3YmySbiA","play-icon":"play-icon_1ir4bEl5","icon-play":"icon-play_22n9p3mD",medium:"medium_2BbBG9EU",small:"small_MDYoyjST",large:"large_3gW4uD1e","section-wrap":"section-wrap_51PSQTml",subtitles:"subtitles_1DTrAdhV",button:"button_2N-SCwxb",media:"media_3MBvTO1A",top:"top_1Zin_aAZ","learn-video-embed":"learn-video-embed_3r-0lIZF","render-only":"render-only_w1g02HrD","embed-wrap":"embed-wrap_1yhR9Q8Y","close-button":"close-button_2595Rk3U","mark-wrap":"mark-wrap_2fDko_66","iframe-wrap":"iframe-wrap_2cqO4efi","video-icon-wrap":"video-icon-wrap_3eNbT1RG",icon:"icon_25qTaTna","image-wrap":"image-wrap_2vGLJR-R",image:"image_eVTvxMNy","over-video-wrapper":"over-video-wrapper_2n-IX0RO","over-video-wrap":"over-video-wrap_1_WHbRvS",title:"title_2oo9IGcy","step-sep":"step-sep_1A1jAnzR",show:"show_12f6hY53"}},function(e,t){e.exports={label_video_process_hint:"label_video_process_hint_1Dlw",label_video_process_hint_1:"label_video_process_hint_1_1M4x",label_video_process_hint_2:"label_video_process_hint_2_3xJ0",open_subtitles_button:"open_subtitles_button_1jaQ",over_video_title:"over_video_title_3swR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["loginUser"],["loginUser"]),w=s(["showWelcome"],["showWelcome"]),E=s(["common.openPremiumHomeTour"],["common.openPremiumHomeTour"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(6),P=a(5),j=n(a(15)),C=n(a(32)),I=n(a(16)),N=a(71),M=n(a(3)),D=n(a(266)),x=n(a(7)),R=n(a(236)),L=a(267),A=(l=(0,T.decorator)({loginUser:(0,P.state)(b),showWelcome:(0,P.state)(w)}),u=(0,M.default)(D.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.closeWelcomeDialog=function(){n.setState({open:!1}),(0,N.closeWelcome)(n.props.loginUser)},i=a,o(n,i)}return i(t,O.default),y(t,[{key:"componentDidMount",value:function(){this.setOpenState()}},{key:"setOpenState",value:function(){var e=(0,N.checkWelcomeStatus)();this.setState({open:!e})}},{key:"render",value:function(){var e=this.state.open;return S.default.createElement(C.default,{open:this.props.showWelcome&&e,position:"center",noScroller:!1},S.default.createElement("div",{className:this.ss("pc")},S.default.createElement(F,{closeWelcomeDialog:this.closeWelcomeDialog})),S.default.createElement("div",{className:this.ss("mobile")},S.default.createElement(F,{closeWelcomeDialog:this.closeWelcomeDialog})))}}]),t}(),d.propTypes={loginUser:k.default.object,showWelcome:k.default.bool},c=f))||c)||c);t.default=A;var F=(p=(0,T.decorator)({tryOpenStartTour:(0,P.signal)(E)}),m=(0,M.default)(D.default),h=(0,x.default)(R.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onStartTour=function(){var e=n.props,t=e.closeWelcomeDialog,a=e.tryOpenStartTour;t(),a&&a()},i=a,o(n,i)}return i(t,O.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.closeWelcomeDialog;return S.default.createElement("div",{className:this.ss("content")},S.default.createElement("div",{className:this.ss("top-wrapper")},S.default.createElement("div",{className:this.ss("learn_welcome_unity")},this.__("learn_welcome_unity")),S.default.createElement("a",{className:this.ss("icon-close","ifont","ifont-icon-close"),onClick:t})),S.default.createElement("div",{className:this.ss("learn_welcome_description")},this.__("learn_welcome_description")),S.default.createElement("div",{className:this.ss("main-wrapper")},S.default.createElement(j.default,{src:L,height:281,sizes:"100vw"})),S.default.createElement("div",{className:this.ss("bottom-wrapper")},S.default.createElement("div",{className:this.ss("dismiss-btn")},S.default.createElement(I.default,{size:"medium",theme:"grey",widthStyle:"auto",label:this.__("learn_dismiss"),onClick:t})),S.default.createElement("div",{className:this.ss("start-tour-btn")},S.default.createElement(I.default,{size:"medium",widthStyle:"auto",label:this.__("learn_start_tour"),onClick:function(){return e.onStartTour()}}))))}}]),t}(),g.propTypes={tryOpenStartTour:k.default.func,closeWelcomeDialog:k.default.func},_=v))||_)||_)||_)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(N),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,_.get)(t,"ownerId.value",""),isExercise:(0,_.get)(t,"isExercise.value"),overviewVideoId:(0,_.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,_.get)(t,"overviewVideoTitle.value","")},n=(0,w.parseEditorContent)(e,M).body;if(!n){var r=e.get("tutorialData");n=(0,_.get)(r,"description")}n&&(a.description=n);var o=(0,O.convertEducatorPlanParams)(e),s=i(e);return p({},a,o,s)}function i(e){var t=e.get(D)||null;return t&&(t.body=(0,w.parseEditorContent)(e,x).body),{solutionPlan:t}}function s(e){return[function(t){var a=t.props;return{field:[].concat(N,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(h.chains.fieldChanged),[h.chains.validate])}function l(e){var t=(0,E.convertFromRaw)(JSON.parse((0,_.get)(e,"description"))).getPlainText(),a=(0,_.get)(e,"overviewVideo.title")||(0,_.get)(e,"title")||"";return(0,h.Form)({language:{value:(0,_.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},isExercise:{value:(0,_.get)(e,"isExercise")||!1},title:{value:(0,_.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,_.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,_.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,_.get)(e,"overviewVideo")},overviewVideoTitle:{value:a}})}function u(e){return(0,h.isValidForm)(e.get(N))&&(0,O.isValidEducatorPlanForm)(e)}function c(e){var t=e.state,a=e.controller;t.unset(D),a.getSignal("tutorial.saveGeneralInfo")()}function d(e){var t=l(e.get("tutorialData")),a=e.get(N);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,_.get)(t[e],"value.id")===(0,_.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function f(e){var t=e.get(D),a=e.get("tutorialData.solutionPlan");return!a&&!t||!(!a||!t)&&Object.keys(t).every(function(n){return"body"===n?(0,I.cleanKeyForEditorBody)((0,w.parseEditorContent)(e,x).body)===(0,I.cleanKeyForEditorBody)((0,_.get)(a,"body")||""):"requiredComplete"===n?t[n]===a[n]:(0,_.get)(t,[n,"length"])===(0,_.get)(a,[n,"length"])&&(t[n]||[]).every(function(e,t){var r=(0,_.get)(a,[n,t]);return"materials"===n&&"file"===e.type?e.attachmentId===r.attachmentId:e===r})})}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["tutorial.showSolution"],["tutorial.showSolution"]);t.generalFormSave=function(e,t){t.getSignal("tutorial.saveGeneralInfo")()},t.generalFormSaveStatus=d;var h=a(13),_=a(4),g=a(22),v=a(5),y=a(10),b=a(8),w=a(21),E=a(11),k=a(87),S=a(88),O=a(221),T=n(a(29)),P=a(24),j=n(a(18)),C=n(a(35)),I=a(9),N=["tutorial","generalForm"],M="editorTutorialDescription",D=["tutorial","solutionPlan"],x="editorTutorialSolution",R={message:"changes_saved_successfully",type:"info2"},L={schema:b.POST_TUTORIAL_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("tutorialData",a),a.educatorPlan||n.unset("tutorialData.educatorPlan"),a.solutionPlan||n.unset("tutorialData.solutionPlan"),n.set("tutorial.detailsForm",(0,S.getDetailsForm)(a)),(0,k.syncStepsSections)(n,a),r.getSignal("header.showMessage")(R),r.getSignal("common.syncPoint")({tutorialData:a}))},onError:(0,I.onError)("tutorial")},A={schema:b.PUBLISH_TUTORIAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("tutorialData"),r=(0,_.get)(n,"id"),i=(0,_.get)(n,"source"),s="/api/learn/tutorial/"+r+"/publish",l=p({},o(t),(0,k.convertStepsParams)(t),(0,S.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,_.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:I.onPublishSuccess,onError:(0,I.onError)("tutorial")},F=[function(){return{formPath:N}}].concat(r(h.chains.formValidated),r((0,O.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return d(t)&&(0,O.educatorPlanFormSaveStatus)(t)&&f(t)?a.no():a.yes()},{yes:(0,y.CallHTTP)(L),no:[]}]),K=[function(){return{formPath:N}}].concat(r(h.chains.formValidated),r((0,O.educatorPlanFormValidate)()),r((0,y.CallHTTP)(L))),q=[c].concat(r(s("isExercise")),r(K));t.default={name:e,depends:[],signals:{changeGeneralFormField:s(),changeDescription:s("description"),changeLanguageField:[].concat(r(s("language")),r(K)),changeCategoryFieldInternal:q,changeCategoryField:[function(e){var t=e.state,a=e.path;return t.get([].concat(N,["isExercise","value"]))?a.yes():a.no()},{yes:[j.default.DeleteConfirmed("tutorial.changeCategoryFieldInternal","exercise")],no:q}],saveGeneralInfo:F,publishTutorialInternal:[P.SetPublished].concat(r((0,y.CallHTTP)(A))),publishTutorial:[T.default.SaveRequired("tutorial.publishTutorialInternal","publish")],checkFormStatus:[function(e){var t=e.state;u(t)&&(0,k.isValidStepsForm)(t)?t.set("tutorial.isPublishDisabled",!0):t.set("tutorial.isPublishDisabled",!1)}],addSolutionPlan:[function(e){var t={requiredComplete:!1,body:"",materials:[]};e.state.set(D,t)}],removeSolutionPlan:[c],removeSolutionPlanConfirm:[j.default.DeleteConfirmed("tutorial.removeSolutionPlan")],toggleSolutionRequiredComplete:[function(e){var t=e.state,a=t.get(D),n=(0,_.get)(a,"requiredComplete");t.merge(D,{requiredComplete:!n})}],showSuggestSolution:C.default.LoginRequired([(0,g.set)((0,v.state)(m),!0)]),hideSuggestSolution:C.default.LoginRequired([(0,g.set)((0,v.state)(m),!1)]),changeSolutionMaterials:[function(e){var t=e.state,a=e.props,n=(0,_.get)(a,"contents")||[];t.set([].concat(D,["materials"]),n)}],deleteSolutionMaterial:[j.default.DeleteConfirmed("tutorial.changeSolutionMaterials")]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData;return{generalForm:l(void 0===t?{}:t),showSolution:!1}}}}).call(t,"views/learn/modules/tutorial/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("tutorialData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("tutorialData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:(0,u.get)(n,[e,"value","length"])===(0,u.get)(t,[e,"value","length"])&&(t[e].value||[]).every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(4),c=a(8),d=a(21),f=a(11),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),h=["tutorial","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("tutorial.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("tutorial.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("tutorial.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("tutorial.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("tutorial.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/tutorial/CreateEducatorPlanStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(E),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value",""),overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("projectData"),r=(0,m.parseEditorContent)(e,k).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,S).body;o||(o=(0,d.get)(n,"properties.objective")),o&&(a.objective=o);var i=(0,y.convertEducatorPlanParams)(e);return u({},a,i)}function o(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.objective"))).getPlainText(),n=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},objective:{value:a},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:n}})}function s(e){return(0,c.isValidForm)(e.get(E))&&(0,y.isValidEducatorPlanForm)(e)}function l(e){var t=i(e.get("projectData")),a=e.get(E);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"objective":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("project.saveGeneralInfo")()},t.generalFormSaveStatus=l;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(21),h=a(11),_=a(9),g=a(89),v=a(90),y=a(223),b=function(e){return e&&e.__esModule?e:{default:e}}(a(29)),w=a(24),E=["project","generalForm"],k="editorProjectDescription",S="editorProjectObjective",O={message:"changes_saved_successfully",type:"info2"},T={schema:p.POST_PROJECT_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/project/"+t.get("projectData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("projectData",a),a.educatorPlan||n.unset("projectData.educatorPlan"),n.set("project.detailsForm",(0,v.getDetailsForm)(a)),r.getSignal("header.showMessage")(O))},onError:(0,_.onError)("project")},P={schema:p.PUBLISH_PROJECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("projectData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/project/"+o+"/publish",l=u({},r(t),(0,g.convertContentParams)(t),(0,v.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("project")},j=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return l(t)&&(0,y.educatorPlanFormSaveStatus)(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(T),no:[]}]),C=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),n((0,f.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),changeObjective:o("objective"),changeLanguageField:[].concat(n(o("language")),n(C)),saveGeneralInfo:j,publishProjectInternal:[w.SetPublished].concat(n((0,f.CallHTTP)(P))),publishProject:[b.default.SaveRequired("project.publishProjectInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,g.isValidContentForm)(t)?t.set("project.isPublishDisabled",!0):t.set("project.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:i(e.projectData)}}}}).call(t,"views/learn/modules/project/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("projectData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("projectData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:n[e].value.length===t[e].value.length&&t[e].value.every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(4),c=a(8),d=a(21),f=a(11),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),h=["project","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("project.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("project.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("project.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("project.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("project.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.projectData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/project/CreateEducatorPlanStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return function(t){var a=t.props,n=t.state,r=a.selectedId,s=a.currentId;e=e||"";var l=n.get("missionData.customContents")||[],u=l.find(function(e){return e.id===r}),c=l.find(function(e){return e.id===s}),d=(0,o.get)(u,"title"),f=(0,o.get)(c,"title");n.set(i,{open:!0,currentSet:d,nextSet:f,signalPath:e,actionProps:a||{}})}}function r(e){e.state.set(i,{open:!1,signalPath:"",actionProps:{},currentSet:"",nextSet:""})}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=["common","switchSetConfirmDialog"];t.default={name:e,depends:[],signals:{openSwitchConfirm:[n],closeSwitchConfirm:[r],doSwitch:[function(e){var t=e.state,a=e.controller,n=t.get(i),r=n.signalPath,o=n.actionProps,s=a.getSignal(r);s&&s(o)},r]},getServices:function(){return{}},getState:function(){return{switchSetConfirmDialog:{open:!1,signalPath:"",actionProps:{},currentSet:"",nextSet:""}}},Confirmed:function(e){return[n(e)]}}}).call(t,"views/learn/modules/common/SwitchSetConfirmDialog.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(487)),o=n(a(488)),i=n(a(107)),s=n(a(262)),l=n(a(489)),u=n(a(490)),c=n(a(491)),d=n(a(274)),f=n(a(18)),p=n(a(493)),m=n(a(349)),h=n(a(492)),_=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default];t.default={header:_}},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(E),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value",""),overviewVideoId:(0,d.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,d.get)(t,"overviewVideoTitle.value","")},n=e.get("courseData"),r=(0,m.parseEditorContent)(e,k).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,S).body;o||(o=(0,d.get)(n,"properties.careerGoals")),o&&(a.careerGoals=o);var i=(0,y.convertEducatorPlanParams)(e);return u({},a,i)}function o(e){return[function(t){var a=t.props;return{field:[].concat(E,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){return(0,c.isValidForm)(e.get(E))&&(0,y.isValidEducatorPlanForm)(e)}function s(e){var t=l(e.get("courseData")),a=e.get(E);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"careerGoals":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function l(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.careerGoals"))).getPlainText(),n=(0,d.get)(e,"overviewVideo.title")||(0,d.get)(e,"title")||"";return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},careerGoals:{value:a},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,d.get)(e,"overviewVideo")},overviewVideoTitle:{value:n}})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("course.saveGeneralInfo")()},t.generalFormSaveStatus=s;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(21),h=a(11),_=a(9),g=a(92),v=a(93),y=a(227),b=function(e){return e&&e.__esModule?e:{default:e}}(a(29)),w=a(24),E=["course","generalForm"],k="editorCourseDescription",S="editorCourseCareerGoals",O={message:"changes_saved_successfully",type:"info2"},T={schema:p.POST_COURSE_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/course/"+t.get("courseData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("courseData",a),a.educatorPlan||n.unset("courseData.educatorPlan"),n.set("course.detailsForm",(0,v.getDetailsForm)(a)),r.getSignal("header.showMessage")(O))},onError:(0,_.onError)("course")},P={schema:p.PUBLISH_COURSE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("courseData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/course/"+o+"/publish",l=u({},r(t),(0,g.convertContentParams)(t),(0,v.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:_.onPublishSuccess,onError:(0,_.onError)("course")},j=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),[function(e){var t=e.state,a=e.path;return s(t)&&(0,y.educatorPlanFormSaveStatus)(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(T),no:[]}]),C=[function(){return{formPath:E}}].concat(n(c.chains.formValidated),n((0,y.educatorPlanFormValidate)()),n((0,f.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeDescription:o("description"),changeCareerGoals:o("careerGoals"),changeLanguageField:[].concat(n(o("language")),n(C)),saveGeneralInfo:j,publishCourseInternal:[w.SetPublished].concat(n((0,f.CallHTTP)(P))),publishCourse:[b.default.SaveRequired("course.publishCourseInternal","publish")],checkFormStatus:[function(e){var t=e.state;i(t)&&(0,g.isValidContentForm)(t)?t.set("course.isPublishDisabled",!0):t.set("course.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:l(e.courseData)}}}}).call(t,"views/learn/modules/course/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(h,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}function o(e){var t=(0,u.get)(e,"educatorPlan",null);return t?s(t):null}function i(e){return c.EducatorPlanContentKeys.reduce(function(t,a){var n=(0,u.get)(a,"key","");return(0,u.get)(e,n)?t[n]=(0,f.convertFromRaw)(JSON.parse((0,u.get)(e,n))).getPlainText():t[n]="",t},{})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e),a=t.description,n=t.outcome,r=t.objectives,o=t.alignment,s=t.preparation;return(0,l.Form)({description:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},outcome:{value:n},objectives:{value:r},alignment:{value:o},preparation:{value:s},materials:{value:(0,u.get)(e,"materials")||[]},ageRange:{value:(0,p.GetAgeRangeValue)((0,u.get)(e,"ageRange"))||c.EducatorSupportAgesRange.minAge+"_"},instruction:{value:(0,u.get)(e,"instruction")||0}})}Object.defineProperty(t,"__esModule",{value:!0}),t.convertEducatorPlanParams=function(e){var t=e.get(h),a=e.get("courseData.educatorPlan")||{};if(!t)return{educatorPlan:null};var n={materials:t.materials&&t.materials.value||[],instruction:t.instruction&&t.instruction.value||0};if(t.ageRange){var r=(0,p.GetAgeRangeObject)(t.ageRange.value),o=r.min,i=r.max;n.ageRange={min:parseFloat(o)||null,max:parseFloat(i)||null}}return c.EducatorPlanContentKeys.reduce(function(t,n){var r=n.key,o=n.editorKey,i=(0,d.parseEditorContent)(e,o).body;return i||(i=(0,u.get)(a,r)),i&&(t[r]=i),t},n),{educatorPlan:n}},t.educatorPlanFormSaveStatus=function(e){var t=e.get(h),a=e.get("courseData.educatorPlan");if(!t)return!a;if(!a)return!1;var n=s(a);return Object.keys(t).every(function(e){return c.EducatorPlanContentKeys.some(function(t){return t.key===e})?n[e].value.trim()===t[e].value.trim():"ageRange"===e||"instruction"===e?n[e].value===t[e].value:n[e].value.length===t[e].value.length&&t[e].value.every(function(t,a){var r=n[e].value[a];if("materials"===e){if("link"===t.type)return t.name===r.name&&t.url===r.url;if("file"===t.type)return t.attachmentId===r.attachmentId}return t===r})})},t.isValidEducatorPlanForm=function(e){var t=e.get(h);return!t||(0,l.isValidForm)(t)},t.educatorPlanFormValidate=function(){return[function(e){return e.state.get(h)?{formPath:h}:{}}].concat(n(l.chains.formValidated))};var l=a(13),u=a(4),c=a(8),d=a(21),f=a(11),p=a(9),m=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),h=["course","educatorPlanForm"];t.default={name:e,depends:[],signals:{changeEducatorPlanFormField:r(),changeEducatorPlanDescription:r("description"),changeEducatorPlanOutcome:r("outcome"),changeEducatorPlanObjectives:r("objectives"),changeEducatorPlanAlignment:r("alignment"),changeEducatorPlanPreparation:r("preparation"),addEducatorPlan:[function(e){var t=e.state,a=s();t.set(h,a)}],removeEducatorPlanInternal:[function(e){var t=e.state,a=e.controller;t.unset(h),a.getSignal("course.saveGeneralInfo")()}],removeEducatorPlan:[m.default.DeleteConfirmed("course.removeEducatorPlanInternal")],moveEducatorPlanMaterial:[(0,p.MoveElementAction)(h.join(".")+".materials.value")],deleteEducatorPlanFormFieldItemConfirm:[m.default.DeleteConfirmed("course.changeEducatorPlanFormField")],changeAgeRange:[function(e){var t=e.state,a=e.props,n=e.path,r=a.min,o=a.max,i=t.get(h),s=(0,p.GetAgeRangeObject)((0,u.get)(i,"ageRange.value",""));if(void 0!==r){var l=(0,p.GetMaxAgeOptions)({min:r});return t.set("course.maxAgeOptions",l),s.min=r||c.EducatorSupportAgesRange.minAge,n.yes({value:(0,p.GetAgeRangeValue)(s)})}if(void 0!==o){var d=(0,p.GetMinAgeOptions)({max:o});return t.set("course.minAgeOptions",d),s.max=o,n.yes({value:(0,p.GetAgeRangeValue)(s)})}return n.no()},{yes:r("ageRange"),no:[]}],changeInstructionTime:[function(e){var t=e.state,a=e.props,n=a.hours,r=a.minutes,o=t.get(h),i=(0,u.get)(o,"instruction.value"),s=(0,p.ParseMinute)(i),l=s.hour,c=s.minute;return void 0!==n&&(i=60*n+c),void 0!==r&&(i=60*l+r),{value:i}},r("instruction")]},getServices:function(){return{}},getState:function(e){var t=e.courseData,a=void 0===t?{}:t,n={educatorPlanForm:o(a),minAgeOptions:(0,p.GetMinAgeOptions)(),maxAgeOptions:(0,p.GetMaxAgeOptions)()},r=(0,u.get)(a,"educatorPlan");if(r){var i=(0,u.get)(r,"ageRange");n.minAgeOptions=(0,p.GetMinAgeOptions)(i),n.maxAgeOptions=(0,p.GetMaxAgeOptions)(i)}return n}}}).call(t,"views/learn/modules/course/CreateEducatorPlanStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(S),a={title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,acclaimBadge:t.acclaimBadge&&t.acclaimBadge.value,overviewVideoId:(0,f.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,f.get)(t,"overviewVideoTitle.value","")},n=e.get("pathwayData"),r=(0,h.parseEditorContent)(e,O).body;r||(r=(0,f.get)(n,"description")),r&&(a.description=r);var o=(0,h.parseEditorContent)(e,T).body;return o&&(a.overviewVideoDescription=o),c({},a)}function i(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(S))}function l(e){var t=u(e.get("pathwayData")),a=e.get(S);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":case"acclaimBadge":return(0,f.get)(t[e],"value.id")===(0,f.get)(a[e],"value.id");case"description":case"videoDescription":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function u(e){var t=(0,_.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText(),a=(0,f.get)(e,"overviewVideo.title")||(0,f.get)(e,"title")||"",n=(0,f.get)(e,"overviewVideo.description"),r="";return n&&(r=(0,_.convertFromRaw)(JSON.parse(n)).getPlainText()),(0,d.Form)({title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},acclaimBadge:{value:(0,f.get)(e,"acclaimBadge"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,f.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,f.get)(e,"overviewVideo")},overviewVideoTitle:{value:a},videoDescription:{value:r}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("pathway.saveGeneralInfo")()},t.generalResetSearch=function(e){e.set("search",{criteria:{k:JSON.stringify(["t:competency"])}})},t.generalFormSaveStatus=l;var d=a(13),f=a(4),p=a(10),m=a(8),h=a(21),_=a(11),g=a(9),v=a(67),y=a(68),b=a(96),w=n(a(29)),E=a(24),k=n(a(18)),S=["pathway","generalForm"],O="editorPathwayDescription",T="videoDescriptionEditorKey",P={message:"changes_saved_successfully",type:"info2"},j={schema:m.POST_PATHWAY_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/pathway/"+t.get("pathwayData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("pathwayData",a),r.getSignal("header.showMessage")(P))},onError:(0,g.onError)("pathway")},C={schema:m.PUBLISH_PATHWAY,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("pathwayData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/pathway/"+r+"/publish",l=c({},o(t),(0,v.convertMissionsParams)(t),(0,y.convertAssessmentsParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:g.onPublishSuccess,onError:(0,g.onError)("pathway")},I=[function(){return{formPath:S}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(j),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeDescription:i("description"),changeVideoDescription:i("videoDescription"),deleteBadgeConfirm:[k.default.DeleteConfirmed("pathway.deleteBadge")],deleteBadge:[function(){return{value:null}}].concat(r(i("acclaimBadge"))),saveGeneralInfo:I,publishPathwayInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(C))),publishPathway:[w.default.SaveRequired("pathway.publishPathwayInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,v.isValidMissionsForm)(t)&&(0,y.isValidAssessmentsForm)(t)&&(0,b.isValidDetailsForm)(t)?t.set("pathway.isPublishDisabled",!0):t.set("pathway.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:u(e.pathwayData)}}}}).call(t,"views/learn/modules/pathway/CreateGeneralStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchitectureAutoComplete=t.LearnAutoComplete=t.UserAutoComplete=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),L=l(["suggest.candidate"],["suggest.candidate"]),A=l(["suggest.candidateMap"],["suggest.candidateMap"]),F=l(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),K=l(["suggest.clearCandidates"],["suggest.clearCandidates"]),q=l(["suggest.saveToMap"],["suggest.saveToMap"]),z=l(["suggest.removeFromMap"],["suggest.removeFromMap"]),B=l(["learnSuggest.candidate"],["learnSuggest.candidate"]),U=l(["learnSuggest.fetchCandidates"],["learnSuggest.fetchCandidates"]),H=l(["learnSuggest.clearCandidates"],["learnSuggest.clearCandidates"]),V=l(["learnSuggest.candidateMap"],["learnSuggest.candidateMap"]),G=l(["learnSuggest.saveToMap"],["learnSuggest.saveToMap"]),W=l(["learnSuggest.removeFromMap"],["learnSuggest.removeFromMap"]),Q=n(a(2)),J=n(a(0)),Y=a(6),X=a(5),Z=a(4),$=n(a(131)),ee=n(a(33)),te=n(a(1)),ae=n(a(295)),ne=n(a(39)),re=n(a(23)),oe=n(a(38)),ie=a(8),se=n(a(3)),le=n(a(299)),ue=n(a(7)),ce=n(a(300)),de=(u=(0,Y.decorator)({candidate:(0,X.state)(L),candidateMap:(0,X.state)(A),fetchCandidates:(0,X.signal)(F),clearCandidates:(0,X.signal)(K),saveToMap:(0,X.signal)(q),removeFromMap:(0,X.signal)(z)}),c=(0,se.default)(le.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onFetchCandidate",value:function(e){var t=this.props,a=t.st,n=t.fetchCandidates,r=t.addInputValue,o=t.allPlace,i=t.skillType,s=t.t,l=void 0===s?"":s;this.setState({isActive:!0}),n({st:a,q:e,addNew:r,allPlace:o,skillType:i,t:l})}},{key:"onClearCandidate",value:function(){var e=this.props,t=e.st,a=e.clearCandidates;this.setState({isActive:!1}),a({st:t})}},{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"onRemoveFromMap",value:function(e){var t=this.props,a=t.st;(0,t.removeFromMap)({st:a,candidate:e})}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.st,a=e.idToCandidateMap,n=e.candidateMap,r=n&&n[t];return x({},r,a||{})}},{key:"render",value:function(){var e=this,t=this.props,a=t.st,n=t.candidate,o=t.autoFocus,i=(t.skillType,t.candidateMap,t.addInputValue,t.allPlace,t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.t,r(t,["st","candidate","autoFocus","skillType","candidateMap","addInputValue","allPlace","fetchCandidates","clearCandidates","saveToMap","removeFromMap","t"]));return J.default.createElement(ae.default,x({},i,{candidates:this.state.isActive?n[a]:[],onFetchCandidate:function(t){return e.onFetchCandidate(t)},onClearCandidate:function(){return e.onClearCandidate()},onSaveToMap:function(t){return e.onSaveToMap(t)},onRemoveFromMap:function(t){return e.onRemoveFromMap(t)},selectedIds:this.props.selectedIds,idToCandidateMap:this.getIdToCandidateMap(),autoFocus:o}))}}]),t}(),f.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,t:Q.default.string,st:Q.default.string,autoFocus:Q.default.bool,addInputValue:Q.default.bool,allPlace:Q.default.bool,skillType:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func},f.defaultProps={autoFocus:!1,addInputValue:!1,allPlace:!0,skillType:""},d=p))||d)||d);t.default=de;t.UserAutoComplete=(m=(0,se.default)(le.default))((g=_=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderCandidate=function(e){var t=n.props.onRenderCandidate;if(t)return t(e);switch((e||{}).type){case"u":return J.default.createElement("li",null,n.renderUser(e));default:return null}},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"renderUser",value:function(e){var t=e||{},a=t.name;return J.default.createElement("div",{className:this.ss("candidate")},J.default.createElement(ne.default,{user:e,size:"xxxsmall",shape:"circle"}),J.default.createElement("div",{className:this.ss("candidate-info")},J.default.createElement("div",{className:this.ss("name")},a)))}},{key:"render",value:function(){var e=this.props,t=e.inputTheme,a=e.inputType,n=e.st,o=r(e,["inputTheme","inputType","st"]);return J.default.createElement(de,x({},o,{inputTheme:t,inputType:a,st:n,onRenderCandidate:this.renderCandidate}))}}]),t}(),_.propTypes={inputTheme:Q.default.string,inputType:Q.default.string,st:Q.default.string,onRenderCandidate:Q.default.func},_.defaultProps={inputTheme:"transparent",inputType:"single",st:"user"},h=g))||h,t.LearnAutoComplete=(v=(0,Y.decorator)({candidate:(0,X.state)(B),fetchCandidates:(0,X.signal)(U),clearCandidates:(0,X.signal)(H)}),y=(0,se.default)(le.default),v(b=y((E=w=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1,st:"learn"},n.renderCandidate=function(e){var t=n.props.onRenderCandidate,a=e.title;return t?t(e):J.default.createElement("li",null,J.default.createElement("div",{className:n.ss("candidate","learn-info")},J.default.createElement("div",{className:n.ss("title")},a),J.default.createElement(ee.default,{data:e,showLanguage:!0})))},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onFetchCandidate",value:function(e){this.setState({isActive:!0});var t=this.state.st,a=this.props.types;this.props.fetchCandidates({q:e,types:a,st:t})}},{key:"onClearCandidate",value:function(){var e=this.state.st,t=this.props.clearCandidates;this.setState({isActive:!1}),t({st:e})}},{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"getIdToCandidateMap",value:function(){var e=this.state.st,t=this.props,a=t.idToCandidateMap,n=t.candidateMap,r=n&&n[e];return x({},r,a||{})}},{key:"render",value:function(){var e=this,t=this.state.st,a=this.props,n=a.candidate,o=a.autoFocus,i=(a.skillType,a.candidateMap,a.addInputValue,a.allPlace,a.fetchCandidates,a.clearCandidates,a.saveToMap,a.removeFromMap,a.t,r(a,["candidate","autoFocus","skillType","candidateMap","addInputValue","allPlace","fetchCandidates","clearCandidates","saveToMap","removeFromMap","t"]));return J.default.createElement(ae.default,x({},i,{candidates:this.state.isActive?n[t]:[],onFetchCandidate:function(t){return e.onFetchCandidate(t)},onClearCandidate:function(){return e.onClearCandidate()},onSaveToMap:function(t){return e.onSaveToMap(t)},selectedIds:this.props.selectedIds,idToCandidateMap:this.getIdToCandidateMap(),autoFocus:o,theme:"normal",onRenderCandidate:this.renderCandidate}))}}]),t}(),w.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,t:Q.default.string,types:Q.default.array,st:Q.default.string,autoFocus:Q.default.bool,addInputValue:Q.default.bool,allPlace:Q.default.bool,skillType:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func,onReaderSelectCheck:Q.default.func},w.defaultProps={types:[ie.DataTypeKeys.tutorial,ie.DataTypeKeys.project,ie.DataTypeKeys.course],autoFocus:!1,addInputValue:!1,allPlace:!0,skillType:""},b=E))||b)||b),t.ArchitectureAutoComplete=(k=(0,Y.decorator)({candidate:(0,X.state)(B),candidateMap:(0,X.state)(V),fetchCandidates:(0,X.signal)(U),clearCandidates:(0,X.signal)(H),saveToMap:(0,X.signal)(G),removeFromMap:(0,X.signal)(W)}),S=(0,se.default)(le.default),O=(0,ue.default)(ce.default),k(T=S(T=O((j=P=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isActive:!1},n.onFetchCandidate=function(e){var t=n.props,a=t.st,r=t.fetchCandidates,o=t.types,i=t.versionRange,s=t.defaultCriteria;n.setState({isActive:!0}),r({st:a,q:e,types:o,versionRange:i,defaultCriteria:s})},n.onClearCandidate=function(){var e=n.props,t=e.st,a=e.clearCandidates;n.setState({isActive:!1}),a({st:t})},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"onSaveToMap",value:function(e){var t=this.props,a=t.st;(0,t.saveToMap)({st:a,candidate:e})}},{key:"onRemoveFromMap",value:function(e){var t=this.props,a=t.st;(0,t.removeFromMap)({st:a,candidate:e})}},{key:"onRemoveCandidate",value:function(e,t){var a=this.props.selectedIds,n=this.getIdToCandidateMap(),r=(0,Z.get)(n,a[t])||{};this.props.onRemove&&this.props.onRemove(r),this.onRemoveFromMap(r)}},{key:"getIdToCandidateMap",value:function(){var e=this.props,t=e.st,a=e.idToCandidateMap,n=e.candidateMap,r=n&&n[t];return x({},r,a||{})}},{key:"getSelectedValues",value:function(){var e=this.props.selectedIds,t=this.getIdToCandidateMap(),a=[];return e&&e.length>0&&e.forEach(function(e){e&&t&&t[e]&&a.push(t[e])}),a}},{key:"renderCandidate",value:function(e){var t=this.props,a=t.st,n=t.onRenderCandidate;if(n)return n(e);var r=(0,Z.get)(e,"title")||"",o=(0,Z.get)(e,"internalID.current")||"";return J.default.createElement("li",null,J.default.createElement("div",{className:this.ss("architecture-item-info")},o&&J.default.createElement("div",{className:this.ss("internal-id")},this.__(a+"_internalID",{internalID:o})),J.default.createElement("div",{className:this.ss("title")},r)))}},{key:"renderResult",value:function(){var e=this,t=this.props.onMoveElement,a=this.getSelectedValues();if(0===a.length)return null;var n=a.map(function(a,n){var r=(0,Z.get)(a,"id");return J.default.createElement("div",{key:"selected-item-"+r,className:e.ss("item-row-wrapper")},J.default.createElement(fe,{index:n,item:a,onDeleteItem:function(){return e.onRemoveCandidate(r,n)},onMoveElement:t}))});return J.default.createElement("div",{className:this.ss("result")},n)}},{key:"render",value:function(){var e=this,t=this.props,a=t.candidate,n=t.autoFocus,o=(t.skillType,t.candidateMap,t.inputTheme,t.st),i=(t.onMoveElement,t.hintText),s=(t.fetchCandidates,t.clearCandidates,t.saveToMap,t.removeFromMap,t.versionRange,t.defaultCriteria,r(t,["candidate","autoFocus","skillType","candidateMap","inputTheme","st","onMoveElement","hintText","fetchCandidates","clearCandidates","saveToMap","removeFromMap","versionRange","defaultCriteria"]));return J.default.createElement("div",{className:this.ss("architecture-auto-complete-wrapper")},J.default.createElement("div",{className:this.ss("architecture-auto-complete")},J.default.createElement(ae.default,x({},s,{theme:"normal",size:"medium",inputTheme:"transparent",iconName:"icons-search",hintText:i||this.__("search_for_skills"),autoFocus:n,hideResult:!0,candidates:this.state.isActive?a[o]:[],selectedIds:this.props.selectedIds,onFetchCandidate:(0,Z.debounce)(this.onFetchCandidate,300),onClearCandidate:(0,Z.debounce)(this.onClearCandidate,300),onSaveToMap:function(t){return e.onSaveToMap(t)},onRemoveFromMap:function(t){return e.onRemoveFromMap(t)},idToCandidateMap:this.getIdToCandidateMap(),onRenderCandidate:function(t){return e.renderCandidate(t)}}))),this.renderResult())}}]),t}(),P.propTypes={candidate:Q.default.object,candidateMap:Q.default.object,selectedIds:Q.default.array,idToCandidateMap:Q.default.object,types:Q.default.array,st:Q.default.string,versionRange:Q.default.object,defaultCriteria:Q.default.object,autoFocus:Q.default.bool,skillType:Q.default.string,inputTheme:Q.default.string,hintText:Q.default.string,fetchCandidates:Q.default.func,clearCandidates:Q.default.func,saveToMap:Q.default.func,removeFromMap:Q.default.func,onRenderCandidate:Q.default.func,onReaderSelectCheck:Q.default.func,onRemove:Q.default.func,onMoveElement:Q.default.func},P.defaultProps={types:[ie.DataTypeKeys.skill],inputTheme:"transparent",autoFocus:!1,skillType:"",versionRange:{},defaultCriteria:{}},T=j))||T)||T)||T);var fe=(C=(0,se.default)(le.default),I=(0,ue.default)(ce.default),C(N=I((D=M=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onEditItem=function(e){var t=e.id,a="/"+e.type+"/"+t+"/edit";(0,oe.default)(a)},r=a,i(n,r)}return s(t,te.default),R(t,[{key:"renderButtons",value:function(e,t){var a=this;if(!e||0===e.length)return null;var n=(0,Z.get)(t,"editable")||!1,r=e.map(function(e){var r=e.name,o=e.iconName,i=e.onClick,s=e.disabled;return"edit"===r&&!1===n?null:J.default.createElement(re.default,{key:"button_"+r,text:a.__("button_"+r),position:"top"},J.default.createElement("button",{className:a.ss("button",r,"ifont","ifont-"+o),onClick:i?function(){return i(t)}:void 0,disabled:s}))}).filter(function(e){return!!e});return J.default.createElement("div",{className:this.ss("item-buttons")},r)}},{key:"renderInternalID",value:function(){var e=(this.props||{}).item,t=(0,Z.get)(e,"internalID.current")||"";return t?J.default.createElement("div",{className:this.ss("info-item")},J.default.createElement("div",{className:this.ss("dot")}),t):null}},{key:"render",value:function(){var e=this.props||{},t=e.item,a=e.onMoveElement,n=e.index,r=e.onDeleteItem;if(!t)return null;var o=(0,Z.get)(t,"title"),i=[{name:"delete",iconName:"lrn-icon-delete",onClick:r},{name:"edit",iconName:"lrn-icon-edit-pen",onClick:this.onEditItem}];return J.default.createElement($.default,{index:n,onChange:a,theme:"right"},J.default.createElement("div",{className:this.ss("item-row")},J.default.createElement("div",{className:this.ss("content")},J.default.createElement("div",{className:this.ss("info-item")},o),this.renderInternalID()),this.renderButtons(i,t)))}}]),t}(),M.propTypes={index:Q.default.number,item:Q.default.object,onDeleteItem:Q.default.func,onMoveElement:Q.default.func},M.defaultProps={},N=D))||N)||N)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(k),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,f.get)(t,"ownerId.value","")},n=e.get("liveSessionData"),r=(0,_.parseEditorContent)(e,S).body;return r||(r=(0,f.get)(n,"description")),r&&(a.description=r),a}function i(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(k))}function l(e){var t=u(e.get("liveSessionData")),a=e.get(k);return Object.keys(a).every(function(e){switch(e){case"thumbnail":return(0,f.get)(t[e],"value.id")===(0,f.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function u(e){var t=(0,g.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText();return(0,d.Form)({language:{value:(0,f.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,f.get)(e,"thumbnail")},ownerId:{value:(0,f.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("liveSession.saveGeneralInfo")()},t.generalFormSaveStatus=l;var d=a(13),f=a(4),p=a(10),m=a(8),h=n(a(25)),_=a(21),g=a(11),v=a(9),y=a(98),b=a(99),w=n(a(29)),E=a(24),k=["liveSession","generalForm"],S="editorLiveSessionDescription",O={message:"changes_saved_successfully",type:"info2"},T={schema:m.POST_LIVE_SESSION_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/liveSession/"+t.get("liveSessionData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("liveSessionData",a),r.getSignal("header.showMessage")(O))},onError:(0,v.onError)("liveSession")},P={schema:m.PUBLISH_LIVE_SESSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("liveSessionData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/liveSession/"+r+"/publish",l=c({},o(t),(0,y.convertContentParams)(t),(0,b.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,h.default)("/creator/dashboard")},onError:(0,v.onError)("liveSession")},j=[function(){return{formPath:k}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(T),no:[]}]),C=[function(){return{formPath:k}}].concat(r(d.chains.formValidated),r((0,p.CallHTTP)(T)));t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeDescription:i("description"),changeLanguageField:[].concat(r(i("language")),r(C)),saveGeneralInfo:j,publishLiveSessionInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(P))),publishLiveSession:[w.default.SaveRequired("liveSession.publishLiveSessionInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,y.isValidContentForm)(t)?t.set("liveSession.isPublishDisabled",!0):t.set("liveSession.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:u(e.liveSessionData)}}}}).call(t,"views/learn/modules/liveSession/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(w),a={language:t.language&&t.language.value,title:t.title&&t.title.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,ownerId:(0,d.get)(t,"ownerId.value","")},n=e.get("quizData"),r=(0,m.parseEditorContent)(e,E).body;r||(r=(0,d.get)(n,"description")),r&&(a.description=r);var o=(0,m.parseEditorContent)(e,k).body;return o||(o=(0,d.get)(n,"properties.objective")),o&&(a.objective=o),u({},a)}function o(e){return[function(t){var a=t.props;return{field:[].concat(w,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}function i(e){var t=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"description"))).getPlainText(),a=(0,h.convertFromRaw)(JSON.parse((0,d.get)(e,"properties.objective"))).getPlainText();return(0,c.Form)({language:{value:(0,d.get)(e,"language","en"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},title:{value:(0,d.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},objective:{value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,d.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},ownerId:{value:(0,d.get)(e,"ownerId",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function s(e){return(0,c.isValidForm)(e.get(w))}function l(e){var t=i(e.get("quizData")),a=e.get(w);return Object.keys(a).every(function(e){switch(e){case"thumbnail":return(0,d.get)(t[e],"value.id")===(0,d.get)(a[e],"value.id");case"objective":case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("quiz.saveGeneralInfo")()},t.generalFormSaveStatus=l;var c=a(13),d=a(4),f=a(10),p=a(8),m=a(21),h=a(11),_=a(91),g=a(69),v=function(e){return e&&e.__esModule?e:{default:e}}(a(29)),y=a(9),b=a(24),w=["quiz","generalForm"],E="editorQuizDescription",k="editorQuizObjective",S={message:"changes_saved_successfully",type:"info2"},O={schema:p.POST_QUIZ_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/quiz/"+t.get("quizData.id")+"/general",params:r(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(n.merge("quizData",a),n.set("quiz.detailsForm",(0,g.getDetailsForm)(a,!0,n)),r.getSignal("header.showMessage")(S))},onError:(0,y.onError)("quiz")},T={schema:p.PUBLISH_QUIZ,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("quizData"),o=(0,d.get)(n,"id"),i=(0,d.get)(n,"source"),s="/api/learn/quiz/"+o+"/publish",l=u({},r(t),(0,_.convertQuestionsParams)(t),(0,g.convertDetailsParams)(t));return a.translated&&i&&(l.revision=(0,d.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:y.onPublishSuccess,onError:(0,y.onError)("quiz")},P=[function(){return{formPath:w}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(O),no:[]}]),j=[function(){return{formPath:w}}].concat(n(c.chains.formValidated),n((0,f.CallHTTP)(O)));t.default={name:e,depends:[],signals:{changeGeneralFormField:o(),changeObjective:o("objective"),changeDescription:o("description"),changeLanguageField:[].concat(n(o("language")),n(j)),saveGeneralInfo:P,publishQuizInternal:[b.SetPublished].concat(n((0,f.CallHTTP)(T))),publishQuiz:[v.default.SaveRequired("quiz.publishQuizInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,g.isValidDetailsForm)(t)?t.set("quiz.isPublishDisabled",!0):t.set("quiz.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){var t=e.quizData;return{generalForm:i(void 0===t?{}:t)}}}}).call(t,"views/learn/modules/quiz/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.get(k),a=(e.get(O)||[]).map(function(e){return{title:e.title}}),n=(0,b.GetCurrentUnityVersionRange)(e),r={title:t.title&&t.title.value,internalID:(0,f.get)(t,"currentInternalID.value",""),unityVersionRange:n,subSkills:a},o=e.get("skillData"),i=(0,h.parseEditorContent)(e,S).body;return i||(i=(0,f.get)(o,"description")),i&&(r.description=i),c({},r)}function i(e){return[function(t){var a=t.props;return{field:[].concat(k,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(d.chains.fieldChanged),[d.chains.validate])}function s(e){return(0,d.isValidForm)(e.get(k))}function l(e){var t=e.get("skillData"),a=u(t),n=e.get(k);if((0,b.UnityVersionSaveStatus)(e,t))return!1;var r=Object.keys(n).every(function(e){switch(e){case"description":return a[e].value.trim()===n[e].value.trim()}return a[e].value===n[e].value}),o=(0,f.get)(t,"subSkills")||[],i=e.get(O)||[];return!(!r||i.length!==o.length)&&i.every(function(e,t){return e.title===o[t].title})}function u(e){var t=(0,_.convertFromRaw)(JSON.parse((0,f.get)(e,"description"))).getPlainText();return(0,d.Form)({title:{value:(0,f.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},currentInternalID:{value:(0,f.get)(e,"internalID.current"),validations:["isValue",{matchRegexp:/^Skill-.*/}],errorMessages:["error_isRequired","error_prefix_skill"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("skill.saveGeneralInfo")()},t.generalFormSaveStatus=l;var d=a(13),f=a(4),p=a(10),m=a(8),h=a(21),_=a(11),g=a(9),v=n(a(25)),y=a(100),b=a(59),w=n(a(29)),E=a(24),k=["skill","generalForm"],S="editorSkillDescription",O=["skill","subSkills"],T={message:"changes_saved_successfully",type:"info2"},P={schema:m.POST_SKILL_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/skill/"+t.get("skillData.id")+"/general",params:o(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;if(200===t&&a){var o=(0,f.get)(a,"subSkills")||[];n.merge("skillData",a),n.set("skill.subSkills",o),r.getSignal("header.showMessage")(T)}},onError:(0,g.onError)("skill")},j={schema:m.PUBLISH_SKILL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("skillData"),r=(0,f.get)(n,"id"),i=(0,f.get)(n,"source"),s="/api/learn/skill/"+r+"/publish",l=c({},o(t),(0,y.convertContentParams)(t));return a.translated&&i&&(l.revision=(0,f.get)(i,"latestRevision")),{endpoint:s,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,v.default)("/creator/dashboard/architecture")},onError:(0,g.onError)("skill")},C=[function(){return{formPath:k}}].concat(r(d.chains.formValidated),[function(e){var t=e.state,a=e.path;return l(t)?a.no():a.yes()},{yes:(0,p.CallHTTP)(P),no:[]}]);t.default={name:e,depends:[],signals:{changeGeneralFormField:i(),changeSubSkill:[function(e){var t=e.state,a=e.props,n=a.value,o=a.index,i=[].concat(r(t.get(O)||[]));o<i.length&&(i[o].title=n),t.set(O,i)}],changeDescription:i("description"),saveGeneralInfo:C,publishSkillInternal:[E.SetPublished].concat(r((0,p.CallHTTP)(j))),publishSkill:[w.default.SaveRequired("skill.publishSkillInternal","publish")],checkFormStatus:[function(e){var t=e.state;s(t)&&(0,y.isValidContentForm)(t)?t.set("skill.isPublishDisabled",!0):t.set("skill.isPublishDisabled",!1)}],addSubSkills:[function(e){var t=e.state,a={title:"",isEdit:!0},n=[].concat(r(t.get(O)||[]));n.push(a),t.set(O,n)}],editSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(O)||[]));a<n.length&&(n[a].isEdit=!0),t.set(O,n)}],deleteSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(O)||[]));n.length>a&&(n.splice(a,1),t.set(O,n))}],completeSubSkills:[function(e){var t=e.state,a=e.props.index,n=[].concat(r(t.get(O)||[]));a<n.length&&(n[a].isEdit=!1),t.set(O,n)}],moveGeneralContent:[(0,g.MoveElementAction)(""+O.join("."))]},getServices:function(){return{}},getState:function(e){var t=e.skillData;return{generalForm:u(t),subSkills:(0,f.get)(t,"subSkills")||[]}}}}).call(t,"views/learn/modules/skill/CreateGeneralStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=d(e.competencyData);t.set(O,a)}function i(e){var t=e.state,a=e.props,n=e.controller,r=(0,m.get)(a,"result")||{},o=t.get("competencyData.skillIds")||[],i=(0,m.get)(r,"skillIds")||[];if(!(0,m.isEqual)(o,i))if(i.length>0){var s=["t:tutorial","t:project","t:course"];i.forEach(function(e){return s.push("sid:"+e)});var l={k:JSON.stringify(s)},u=n.getSignal("search.presetCriteriaSearch");u&&u({criteria:l})}else{var c=n.getSignal("search.clearSearchStore");c&&c()}}function s(e){var t=e.get(O),a={title:t.title&&t.title.value,internalID:(0,m.get)(t,"currentInternalID.value",""),skillLevel:t.skillLevel&&t.skillLevel.value,thumbnailId:t.thumbnail&&t.thumbnail.value&&t.thumbnail.value.id,overviewVideoId:(0,m.get)(t,"overviewVideo.value.id",""),overviewVideoTitle:(0,m.get)(t,"overviewVideoTitle.value",""),skillIds:t.skillIds&&t.skillIds.value||[]},n=e.get("competencyData"),r=(0,g.parseEditorContent)(e,T).body;return r||(r=(0,m.get)(n,"description")),r&&(a.description=r),f({},a)}function l(e){return[function(t){var a=t.props;return{field:[].concat(O,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(p.chains.fieldChanged),[p.chains.validate])}function u(e){return(0,p.isValidForm)(e.get(O))}function c(e){var t=d(e.get("competencyData")),a=e.get(O);return Object.keys(a).every(function(e){switch(e){case"thumbnail":case"overviewVideo":return(0,m.get)(t[e],"value.id")===(0,m.get)(a[e],"value.id");case"description":return t[e].value.trim()===a[e].value.trim();case"skillIds":return t[e].value.length===a[e].value.length&&a[e].value.every(function(a,n){return a===t[e].value[n]})}return t[e].value===a[e].value})}function d(e){var t=(0,v.convertFromRaw)(JSON.parse((0,m.get)(e,"description"))).getPlainText(),a=(0,m.get)(e,"overviewVideo.title")||(0,m.get)(e,"title")||"";return(0,p.Form)({title:{value:(0,m.get)(e,"title"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},currentInternalID:{value:(0,m.get)(e,"internalID.current"),validations:["isValue",{matchRegexp:/^Comp-.*/}],errorMessages:["error_isRequired","error_prefix_competency"],isRequired:!0},description:{value:t,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},skillLevel:{value:(0,m.get)(e,"skillLevel"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},thumbnail:{value:(0,m.get)(e,"thumbnail"),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},overviewVideo:{value:(0,m.get)(e,"overviewVideo")},overviewVideoTitle:{value:a},skillIds:{value:(0,m.get)(e,"skillIds")||[]}})}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.generalFormSave=function(e,t){t.getSignal("competency.saveGeneralInfo")()},t.generalFormSaveStatus=c;var p=a(13),m=a(4),h=a(10),_=a(8),g=a(21),v=a(11),y=a(9),b=n(a(25)),w=a(101),E=n(a(29)),k=n(a(18)),S=a(24),O=["competency","generalForm"],T="editorCompetencyDescription",P={message:"changes_saved_successfully",type:"info2"},j={schema:_.POST_COMPETENCY_GENERAL,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state;return{endpoint:"/api/learn/competency/"+t.get("competencyData.id")+"/general",params:s(t)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(i({state:n,props:{result:a},controller:r}),n.merge("competencyData",a),r.getSignal("header.showMessage")(P),o({state:n,competencyData:a}))},onError:(0,y.onError)("competency")},C={schema:_.PUBLISH_COMPETENCY,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("competencyData"),r=(0,m.get)(n,"id"),o=(0,m.get)(n,"source"),i="/api/learn/competency/"+r+"/publish",l=f({},s(t),(0,w.convertContentParams)(t));return a.translated&&o&&(l.revision=(0,m.get)(o,"latestRevision")),{endpoint:i,params:l}},onSuccess:function(e){var t=e.status,a=e.result;200===t&&a&&(0,b.default)("/creator/dashboard/architecture")},onError:(0,y.onError)("competency")},I=[function(){return{formPath:O}}].concat(r(p.chains.formValidated),[function(e){var t=e.state,a=e.path;return c(t)?a.no():a.yes()},{yes:(0,h.CallHTTP)(j),no:[]}]),N=[function(){return{formPath:O}}].concat(r(p.chains.formValidated),r((0,h.CallHTTP)(j)));t.default={name:e,depends:[],signals:{changeGeneralFormField:l(),changeDescription:l("description"),changeCareerGoals:l("careerGoals"),changeLanguageField:[].concat(r(l("language")),r(N)),addCompetencySkill:[function(e,t){return(0,y.AddTagAction)(e,t,O)}("skillIds")].concat(r(l())),internalDeleteCompetencySkill:[function(e){return(0,y.DeleteTagAction)(e,O)}("skillIds")].concat(r(l())),deleteCompetencySkill:[k.default.DeleteConfirmed("competency.internalDeleteCompetencySkill","competency_skill")],moveSkillContent:[(0,y.MoveElementAction)(O.join(".")+".skillIds.value")],saveGeneralInfo:I,publishCompetencyInternal:[S.SetPublished].concat(r((0,h.CallHTTP)(C))),publishCompetency:[E.default.SaveRequired("competency.publishCompetencyInternal","publish")],checkFormStatus:[function(e){var t=e.state;u(t)&&(0,w.isValidContentForm)(t)?t.set("competency.isPublishDisabled",!0):t.set("competency.isPublishDisabled",!1)}]},getServices:function(){return{}},getState:function(e){return{generalForm:d(e.competencyData)}}}}).call(t,"views/learn/modules/competency/CreateGeneralStore.js")},function(e,t){e.exports={footer:"footer_1v9bvvC2",context:"context_255wU6ny",row:"row_2w1a97Kl",second:"second_31SYq07u","row-logo":"row-logo_3x57Z3eN",logo:"logo_1EaynoiH","logo-icon":"logo-icon_2s1K387k","copyright-and-links":"copyright-and-links_2Bj1h6jq",copyright:"copyright_26NtLVQX",links:"links_1tMf6t5p",link:"link_1vl6Y5Lo",shares:"shares_1hM1gDmF",share:"share_jme-em2M","choice-control":"choice-control_1jBCl-4Z",label:"label_AqELkCJI"}},function(e,t){e.exports={link_text_0:"link_text_0_19eB",link_text_1:"link_text_1_a4L_",link_text_2:"link_text_2_3Mgd",link_text_cookies_settings:"link_text_cookies_settings_2eR3",copyright:"copyright_1WDB",choice_lang:"choice_lang_1wIv"}},function(e,t){e.exports={skip:"skip_ChDV",next:"next_37fr",get_started:"get_started_2mbY",sign_in:"sign_in_1qTm",learn_covid_headline:"learn_covid_headline_1Xmr",learn_covid_body_pre:"learn_covid_body_pre_qMmQ",learn_covid_body_link:"learn_covid_body_link_RhdO",learn_covid_body_suf:"learn_covid_body_suf_1WbC",learn_overview_headline:"learn_overview_headline_3GEb",learn_overview_body:"learn_overview_body_2tgv",learn_overview_note_text:"learn_overview_note_text_26RE",learn_overview_note_link:"learn_overview_note_link_1-RO",learn_category_headline:"learn_category_headline_28c-",learn_category_tutorial_title:"learn_category_tutorial_title_sufl",learn_category_tutorial_body:"learn_category_tutorial_body_2VGw",learn_category_project_title:"learn_category_project_title_2P_M",learn_category_project_body:"learn_category_project_body_3hY5",learn_category_course_title:"learn_category_course_title_2mZO",learn_category_course_body:"learn_category_course_body_3CLI",learn_track_headline:"learn_track_headline_3_ey",learn_track_progress_title:"learn_track_progress_title_3gJC",learn_track_progress_body:"learn_track_progress_body_28jX",learn_track_collection_title:"learn_track_collection_title__npq",learn_track_collection_body:"learn_track_collection_body_3nIE",learn_free_headline:"learn_free_headline_36-S",learn_free_body:"learn_free_body_l__D",learn_category_headline_v2:"learn_category_headline_v2_7lzA",learn_category_tutorial_title_v2:"learn_category_tutorial_title_v2_1sle",learn_category_tutorial_body_v2:"learn_category_tutorial_body_v2_96bR",learn_category_project_title_v2:"learn_category_project_title_v2_3_lP",learn_category_project_body_v2:"learn_category_project_body_v2_392x",learn_category_course_title_v2:"learn_category_course_title_v2_THxO",learn_category_course_body_v2:"learn_category_course_body_v2_3NmE",learn_track_headline_v2:"learn_track_headline_v2_1dDf",learn_track_progress_title_v2:"learn_track_progress_title_v2_2MUY",learn_track_progress_body_v2:"learn_track_progress_body_v2_3TZD",learn_track_collection_title_v2:"learn_track_collection_title_v2_1__Y",learn_track_collection_body_v2:"learn_track_collection_body_v2__aI4",learn_dismiss:"learn_dismiss_vhJm",learn_start_tour:"learn_start_tour_NxTB",learn_welcome_unity:"learn_welcome_unity_29DI",learn_welcome_description:"learn_welcome_description_2ovH"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["common.tourTips.status.step"],["common.tourTips.status.step"]),w=s(["common.tourTips.status.tourSteps"],["common.tourTips.status.tourSteps"]),E=s(["common.moveToTourTip"],["common.moveToTourTip"]),k=s(["common.closeTourTip"],["common.closeTourTip"]),S=s(["common.tourTips.status.open"],["common.tourTips.status.open"]),O=s(["common.tourTips"],["common.tourTips"]),T=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),P=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),j=s(["common.setTourTip"],["common.setTourTip"]),C=n(a(2)),I=n(a(0)),N=n(a(20)),M=n(a(1)),D=a(6),x=a(5),R=a(8),L=n(a(3)),A=n(a(238)),F=n(a(7)),K=n(a(239)),q=(l=(0,D.decorator)({step:(0,x.state)(b),tourSteps:(0,x.state)(w),moveToTourTip:(0,x.signal)(E),closeTourTip:(0,x.signal)(k)}),u=(0,L.default)(A.default),c=(0,F.default)(K.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},n.onNext=function(){var e=n.props,t=e.step,a=e.tourSteps;(0,e.moveToTourTip)({step:(t+1)%Math.max(1,a.length)})},n.onClose=function(){(0,n.props.closeTourTip)()},i=a,o(n,i)}return i(t,M.default),y(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tourTip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=N.default.findDOMNode(this),s=r,l=o;switch(t){case R.PositionKey.left:s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case R.PositionKey.right:s+=a,l+=n/2-i.offsetHeight/2;break;case R.PositionKey.bottom:s+=a/2-i.offsetWidth/2,l+=n;break;case R.PositionKey.bottomLeft:s+=a-i.offsetWidth,l+=n;break;case R.PositionKey.bottomRight:l+=n;break;case R.PositionKey.topLeftCenter:s+=a/2-.12*i.offsetWidth,l+=-i.offsetHeight;break;case R.PositionKey.top:default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"render",value:function(){var e=this.props,t=e.tourTip,a=e.step,n=e.tourSteps,r=t.id,o=t.type,i=t.position,s=this.state,l=s.left,u=s.top,c=n&&n.length,d=Math.min(a+1,c),f=d<c?"button_next":"button_start_again",p="tour-bubble-step"+d;return I.default.createElement("div",{className:this.ss("tour-tip","tour-tip-"+i,"tour-tip-"+o),style:{left:l,top:u}},I.default.createElement("div",{className:this.ss("body")},I.default.createElement("div",{className:this.ss("description")},this.__("description_"+r))),I.default.createElement("div",{className:this.ss("foot")},I.default.createElement("button",{className:this.ss("button","button_next",p),onClick:this.onNext},this.__(f,{current:d,total:c})),I.default.createElement("button",{className:this.ss("button","button_close","tour-bubble-dismiss"),onClick:this.onClose},this.__("button_close"))))}}]),t}(),f.propTypes={tourTip:C.default.object.isRequired,step:C.default.number,tourSteps:C.default.arrayOf(C.default.string),moveToTourTip:C.default.func,closeTourTip:C.default.func},d=p))||d)||d)||d),z=(m=(0,D.decorator)({open:(0,x.state)(S),step:(0,x.state)(b),tourSteps:(0,x.state)(w),tourTips:(0,x.state)(O),windowWidth:(0,x.state)(T),windowHeight:(0,x.state)(P),moveToTourTip:(0,x.signal)(E),setTourTip:(0,x.signal)(j)}),h=(0,L.default)(A.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,M.default),y(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.scroller=document.getElementById("pageBody").parentNode},0),window.addEventListener("load",function(){setTimeout(function(){return e.updateCanvas(e.getTourStep())},10)})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.open&&this.props.step!==e.step)this.updateCanvas(this.getTourStep());else{var a=this.props,n=a.windowHeight,r=a.windowWidth;(n!==e.windowHeight||r!==e.windowWidth)&&setTimeout(function(){return t.updateCanvas(t.getTourStep())},10)}}},{key:"getTourStep",value:function(){var e=this.props,t=e.tourSteps,a=e.step;return t&&0!==t.length?a<0||a>=t.length?t[0]:t[a]:""}},{key:"updateCanvas",value:function(e){var t=this.refs.canvas,a=this.props.tourTips[e];if(t&&a){var n=a.left,r=a.targetWidth,o=a.targetHeight,i=this.scrollToTourTip(a).top,s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),s.fillStyle="rgba(0, 0, 0, 0.53)",s.fillRect(0,0,t.width,t.height),s.clearRect(n,i,r,o)}}},{key:"scrollToTourTip",value:function(e){for(var t=(e=e||{}).top,a=this.props,n=a.windowHeight,r=a.setTourTip,o=1,i=0;t>n*o;)i=n*o,o++;return this.scroller&&i>0&&(r({scrollTop:i}),this.scroller.scrollTop=i,t-=i),{top:t}}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.tourTips,n=e.windowWidth,r=e.windowHeight;if(!t)return null;var o=this.getTourStep(),i=a&&a[o];return i?I.default.createElement("div",{className:this.ss("tour-tips")},I.default.createElement("canvas",{ref:"canvas",width:n,height:r}),I.default.createElement(q,{tourTip:i})):null}}]),t}(),g.propTypes={tourSteps:C.default.arrayOf(C.default.string),open:C.default.bool,step:C.default.number,tourTips:C.default.object.isRequired,windowWidth:C.default.number,windowHeight:C.default.number,moveToTourTip:C.default.func,setTourTip:C.default.func},_=v))||_)||_);t.default=z},function(e,t){e.exports={"tour-tips":"tour-tips_t3KSenTL","tour-tip":"tour-tip_1vuaneTW",body:"body_VeL7Rk6V",title:"title_2p2EMSxP",foot:"foot_2WOr4Q-o",button:"button_Am1OVsKL",button_close:"button_close_1iha6Cfs","tour-tip-top":"tour-tip-top_2ypaHIPR","tour-tip-bottom":"tour-tip-bottom_1ii5jTjW","tour-tip-bottomLeft":"tour-tip-bottomLeft_3ujFDVLa","tour-tip-bottomRight":"tour-tip-bottomRight_2vZRhVsO","tour-tip-topLeftCenter":"tour-tip-topLeftCenter_3zAOF9-Y","tour-tip-left":"tour-tip-left_3p_kMF54","tour-tip-right":"tour-tip-right_1wsl0vA8","tour-tip-error":"tour-tip-error_3HLKjYIt","tour-tip-success":"tour-tip-success_2QXfY_tk","tour-tip-green":"tour-tip-green_2-fMupo6","tour-tip-warning":"tour-tip-warning_-B9aAwUm"}},function(e,t){e.exports={description_menu_live_calendar:"description_menu_live_calendar_1kRw",description_menu_my_learning:"description_menu_my_learning_2r8r",description_search_box:"description_search_box_1VZW",description_menu_pathways:"description_menu_pathways_260q",description_menu_browses:"description_menu_browses_1gOJ",button_next:"button_next_1bxG",button_start_again:"button_start_again_30iX",button_close:"button_close_3u8y",description_uaa_portal_benefits:"description_uaa_portal_benefits_9CpB",description_uaa_portal_curricular:"description_uaa_portal_curricular_37F0",description_uaa_portal_community:"description_uaa_portal_community_M-FN",description_uaa_portal_faqs:"description_uaa_portal_faqs_WI4U"}},function(e,t,a){"use strict";(function(e){function n(e,t){return function(a){var n=a.state;n.get([].concat(o,[e]))!==t&&n.set([].concat(o,[e]),t)}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(a(241)),o=["common","setting"],i="avatarSticked";t.default={name:e,depends:[],signals:{setStickerPosition:[function(e){var t=e.props,a=e.state,n=t.headerTop,r=t.scrollTop;a.merge(o,{headerTop:n,scrollTop:r})}],setCurrStickerTop:[function(e){var t=e.props,a=e.state,n=t.currHeaderTop;a.merge(o,{currHeaderTop:n})}],openSearchBox:[n("searchBoxOpen",!0)],closeSearchBox:[n("searchBoxOpen",!1)],expandSticker:[n("stickerExpanded",!0)],collapseSticker:[n("stickerExpanded",!1),n("overviewExpanded",!1),n("overviewScrolled",!1)],expandOverview:[n("overviewExpanded",!0)],collapseOverview:[n("overviewExpanded",!1)],setOverviewScrolled:[n("overviewScrolled",!0)],openAvatar:[n("avatarExpanded",!0)],closeAvatar:[function(e){var t=e.state,a=e.path;return!0!==t.get([].concat(o,[i]))?a.yes():a.no()},{yes:[n("avatarExpanded",!1)],no:[]}],stickAvatar:[n(i,!0),n("avatarExpanded",!0)],unstickAvatar:[n(i,!1),n("avatarExpanded",!1)],closeRecentBar:[function(e){var t=e.props,a=e.state,n=t.currentUserId;a.unset("recent"),(0,r.default)(n)}]},getServices:function(){},getState:function(){return{setting:{headerTop:-88,scrollTop:0,currHeaderTop:0,searchBoxOpen:!0,stickerExpanded:!1,overviewExpanded:!1,avatarExpanded:!1}}}}}).call(t,"views/learn/modules/common/HeaderSettingStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new(function(e){return e&&e.__esModule?e:{default:e}}(a(61)).default);t.default=function(e){var t=n.getItem("CLOSE_RECENT_BAR")||"",a=window&&window.location&&window.location.pathname||"/",r=new Date;r.setDate(r.getDate()+2),0!==t.indexOf(""+e)&&(t=""+e,n.setItem("CLOSE_RECENT_BAR",t,{path:a,expires:r}))}},function(e,t,a){"use strict";(function(e){function n(e){e.state.set(s,{})}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=a(10),i=a(8),s=["common","headerSearch"],l={schema:i.HEADER_SEARCH,request:{endpoint:"/api/learn/headerSearch",method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.keyword,r=t.type,o=a.get("userPremium");return{params:{k:JSON.stringify([i.CriteriaKeys.query+":"+n,i.CriteriaKeys.type+":"+r]),prm:o}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,o=n.get([].concat(s,["text"])),i=(0,r.get)(a,"text");200===t&&a&&i===o&&n.set(s,a)}};t.default={name:e,signals:{changeHeaderSearchKeyword:[function(e){var t=e.props,a=e.state,n=e.path,r=t.value,o=t.type;return a.set([].concat(s,["text"]),r),0!==r.length?n.yes({keyword:r,type:o}):n.no()},{yes:(0,o.CallHTTP)(l),no:[n]}],clearHeaderSearch:[n]},getState:function(){return{headerSearch:{}}}}}).call(t,"views/learn/modules/common/HeaderSearchStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t=e.props,a=e.common,n=t.options,r=void 0===n?{}:n,o=t.tab;!0!==r.skipSyncToLocation&&(r.isPOP||a.syncToHistory({tab:o}))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=r(["common.tab"],["common.tab"]),l=r(["tab"],["tab"]),u=a(22),c=a(5),d=a(4),f=n(a(62)),p=n(a(63)),m=n(a(64)),h=n(a(244)),_=n(a(245)),g=n(a(246)),v=n(a(247)),y=n(a(248)),b=n(a(249)),w=n(a(250)),E=n(a(251)),k=n(a(252)),S=n(a(253)),O=n(a(254)),T=a(8),P=!1;t.default={name:e,depends:[],signals:{changeTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o],changeLearnDetailTab:[function(e){var t=e.props,a=e.state,n=e.common,r=e.controller,o=t.tab;a.set("common.tab",o);var i=r.getState("learner.parentIds");n.syncToHistory({tab:o,parentIds:i})}],syncFromLocation:[function(e){var t=e.props,a=e.state,n=t.query;a.set("common.tab",(0,d.get)(n,"tab",""))}],changeTabWithSave:[function(e){var t=e.state,a=e.props,n=e.controller,r=a.learnType,o=a.tab,i=t.get("common.tab"),s=void 0,l=void 0;switch(r){case"tutorial":s=h.default;break;case"project":s=_.default;break;case"course":s=g.default;break;case"liveSession":s=v.default;break;case"quiz":s=y.default;break;case"skill":s=b.default;break;case"competency":s=w.default;break;case"mission":s=E.default,l=k.default;break;case"pathway":s=S.default,l=O.default}var u=s&&s[i];u&&u(t,n);var c=l&&l[o];c&&c(t,n),n.getSignal("common.changeTab")(a)}],changeRecordTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o,function(e){var t=e.props,a=e.controller,n="";switch(t.tab){case T.MyLearningTabTypes.activity:n="learner.getActivityRecordList";break;case T.MyLearningTabTypes.inProgress:n="learner.getInProgressRecordList";break;case T.MyLearningTabTypes.submissions:n="learner.getSubmissionsRecordList";break;case T.MyLearningTabTypes.completed:n="learner.getCompletedRecordList";break;case T.MyLearningTabTypes.saved:n="learner.getCollectList";break;case T.MyLearningTabTypes.profile:n="learner.getProfileList";break;case T.MyLearningTabTypes.settings:n="learner.getProfileSettingsList"}var r=a.getSignal(n);r&&r(t)}],changeLiveSessionCalendarTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o,function(e){var t=e.props,a=e.controller,n=t.tab;n!==T.CalendarTabs.live_help&&(t={period:n},a.getSignal("search.getCalendarList")(t))}],changeUAAPortalTab:[(0,u.set)((0,c.state)(s),(0,c.props)(l)),o]},getServices:function(e){var t=(0,p.default)((0,m.default)(f.default))({basename:window.location.pathname});return t.listen(function(t){P&&"POP"===t.action&&e.getSignal("common.syncFromLocation")({query:t.query})}),P=!0,{syncToHistory:function(e){var a=e.tab,n=e.parentIds,r=void 0===n?{}:n,o=t.getCurrentLocation().query||{};t.push({pathname:"/",query:i({},o,{tab:a},r)})}}},getState:function(){return{tab:"g"}}}}).call(t,"views/learn/modules/common/TabStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(220),r=a(87),o=a(88);t.default={g:n.generalFormSave,s:r.stepsFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(222),r=a(89),o=a(90);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(226),r=a(92),o=a(93);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(230),r=a(98),o=a(99);t.default={g:n.generalFormSave,c:r.contentFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(231),r=a(91),o=a(69);t.default={g:n.generalFormSave,q:r.questionsFormSave,d:o.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(232),r=a(100);t.default={g:n.generalFormSave,c:r.contentFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(233),r=a(101);t.default={g:n.generalFormSave,c:r.contentFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(94),r=a(54),o=a(65),i=a(66),s=a(95);t.default={g:n.generalFormSave,a:r.assessmentsFormSave,c:o.recommendationsFormSave,m:i.mapFormSave,d:s.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(94),r=a(54),o=a(65),i=a(66);t.default={g:n.generalResetSearch,a:r.assessmentResetSearch,c:o.recommendResetSearch,m:i.mapResetSearch}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(228),r=a(67),o=a(68),i=a(96);t.default={g:n.generalFormSave,m:r.missionsFormSave,a:o.assessmentsFormSave,d:i.detailsFormSave}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(67),r=a(68);t.default={m:n.missionsResetSearch,a:r.assessmentResetSearch}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(9),r=function(e){return e&&e.__esModule?e:{default:e}}(a(25));t.default={name:e,signals:{navigateToDetailPage:[function(e){var t=e.props,a=e.state.get("locale"),o=t.data,i=t.navIds,s=t.uv;(0,r.default)((0,n.GetUrlByNavIds)(i,(0,n.GetDetailPageURL)(o,a,s)))}]},getState:function(){return{}}}}).call(t,"views/learn/modules/common/NavigationStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props,n=a.id,r=a.videoUrl,o=a.playerId;return{id:n,videoUrl:r,videoLength:t.get([].concat(l,[o,"player"])).duration()}}function r(e){return function(t){var a=t.props,n=t.controller,r=a.data;n.getSignal("header.sendCDPRequest")({type:e,eventType:s.EventType.learn,data:r})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(4),s=a(8),l=["common","playerState"];t.default={name:e,depends:[],signals:{updatePlayerState:[function(e){var t=e.state,a=e.props,n=(0,i.get)(a,"playerId");if(n){var r=(0,i.get)(a,"payload")||{};t.merge([].concat(l,[n]),r)}}],sendLearnVideoStartCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,s=t.get([].concat(l,[r,"player"])),u=n({state:t,props:a}),c=!1,d="";return(s.textTracks().tracks_||[]).forEach(function(e){"subtitles"===e.kind&&"showing"===e.mode&&(c=!0,d=(0,i.get)(e,"language"))}),{data:o({},u,{caption:c,captionLanguage:d})}},r(s.CDPLearnType.video_start)],sendLearnVideoStopCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,i=t.get([].concat(l,[r,"player"])).currentTime(),s=n({state:t,props:a});return{data:o({},s,{stopLength:i})}},r(s.CDPLearnType.video_stop)],sendLearnVideoEngagementCDPRequest:[function(e){var t=e.state,a=e.props,r=a.playerId,i=a.engagementType,u=a.caption,c=a.language,d=t.get([].concat(l,[r,"player"])),f=n({state:t,props:a}),p=d.isFullscreen(),m=d.playbackRate(),h=o({},f,{engagementType:i});switch(i){case s.CDPLearnVideoEngagementTypes.language:h.language=c;break;case s.CDPLearnVideoEngagementTypes.caption:h.caption=u;break;case s.CDPLearnVideoEngagementTypes.full_screen:h.fullScreen=p;break;case s.CDPLearnVideoEngagementTypes.playback_speed:h.playbackSpeed=m}return{data:h}},r(s.CDPLearnType.video_engagement)]},getState:function(){return{playerState:{}}}}}).call(t,"views/learn/modules/common/PlayerStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props.videoContent;t.set(o,{show:!0,videoContent:a})}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),o=["common","playerDialog"];t.default={name:e,depends:[],signals:{openPlayerDialog:[function(e){var t=e.props,a=e.path;return t.loginRequired?a.yes():a.no()},{yes:r.default.LoginRequired(n),no:[n]}],closePlayerDialog:[function(e){e.state.set(o,{show:!1,videoContent:null})}]},getState:function(){return{playerDialog:{show:!1,videoContent:null}}}}}).call(t,"views/learn/modules/common/PlayerDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.controller;setTimeout(function(){var e=t.getSignal("common.openTourTip");e&&e({tourSteps:i.PremiumHomeTourSteps})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(8),s=a(71),l=["common","tourTips"],u=[].concat(l,["status"]);t.default={name:e,depends:[],signals:{openTourTip:[function(e){var t=e.props,a=e.state,n={open:!0,step:0,tourSteps:t.tourSteps,cbSignalPath:t.cbSignalPath};a.set(u,n)}],closeTourTip:[function(e){var t=e.state,a=e.controller,r=t.get([].concat(n(u),["cbSignalPath"])),o=a.getSignal(r);o&&o(),t.set(u,{open:!1})}],moveToTourTip:[function(e){var t=e.props;e.state.set([].concat(n(u),["step"]),t.step)}],setTourTip:[function(e){var t=e.props,a=e.state,n=a.get(u);a.set(u,o({},n,t))}],addTourTip:[function(e){var t=e.props;e.state.set([].concat(l,[t.id]),t)}],removeTourTip:[function(e){var t=e.props;e.state.unset([].concat(l,[t.id]))}],openPremiumHomeTour:[r],closePremiumHomeTour:[function(e){var t=e.state;(0,s.closePremiumTour)(t.get("loginUser"))}],tryOpenPremiumTour:[function(e){var t=e.state,a=e.path;if(!(0,s.checkPremiumTourStatus)(t.get("loginUser"))){var n=t.get("tour");if("t"===n)return a.tourTip();if("p"===n)return a.dialog()}return a.dummy()},{dialog:[function(e){var t=e.controller.getSignal("common.openPremiumTourDialog");t&&t()}],tourTip:[r],dummy:[]}],openUAAPortalTour:[function(e){var t=e.controller;setTimeout(function(){var e=t.getSignal("common.openTourTip");e&&e({tourSteps:i.UAAPortalTourSteps})})}]},getState:function(){return{tourTips:{status:{open:!0}}}}}}).call(t,"views/learn/modules/common/TourTipStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(38)),o=n(a(25));t.default={name:e,depends:[],signals:{createByType:[function(e){var t=e.props,a=t.type,n=t.skipPopup,i=void 0!==n&&n,s=t.query,l=void 0===s?[]:s,u="/"+a+"/0/new";l.length>0&&(u+="?"+l.join("&")),!0===i?(0,o.default)(u):(0,r.default)(u)}]},getState:function(){return{}}}}).call(t,"views/learn/modules/common/CreateStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(25)),o=a(9),i=n(a(19));t.default={name:e,depends:[],signals:{startPremiumLearning:[function(e){var t=e.state;(0,r.default)((0,i.default)((0,o.GetCoursePremiumPageUrl)(),t.get("currentHost")))}]},getServices:function(){},getState:function(){return{}}}}).call(t,"views/learn/modules/common/StartLearningStore.js")},function(e,t){e.exports={button_share:"button_share_3t7p",button_comment:"button_comment_1KD2",type_tutorial:"type_tutorial_1XdB",type_project:"type_project_1WrH",type_course:"type_course_3xTh",type_quiz:"type_quiz_YayN",title_progress:"title_progress_1YVo",title_included_in:"title_included_in_3C3C",title_summary:"title_summary_BD-L",title_career_goal:"title_career_goal_3H3O",title_project_objective:"title_project_objective_2DEj",title_topics:"title_topics_3d6V",title_tag_topic:"title_tag_topic_2ZJl",title_tag_tag:"title_tag_tag_3OPJ",title_tag_package:"title_tag_package_2nH_",title_tag_industry:"title_tag_industry_2-oL",title_language:"title_language_1Va-",title_unity_version_range:"title_unity_version_range_1URq",title_detail_version_range:"title_detail_version_range_1z7T",title_materials_tutorial:"title_materials_tutorial_3pY1",title_materials_project:"title_materials_project_2b-5",title_materials_course:"title_materials_course_1kI4",title_materials_quiz:"title_materials_quiz_2r52",title_prerequisites_quiz:"title_prerequisites_quiz_2Lqn",title_assets:"title_assets_hfrf",title_document:"title_document_2fWZ",button_sign_in:"button_sign_in_3Y-L",progress_info_tutorial:"progress_info_tutorial_2Iwb",progress_info_project:"progress_info_project_28ZS",progress_info_course:"progress_info_course_23Pp",unity_version_range:"unity_version_range_3DdI",unity_version_range_below:"unity_version_range_below_3VqF",unity_version_range_above:"unity_version_range_above_1hT4",support_all_unity_version:"support_all_unity_version_31zW",last_updated:"last_updated_1C8a",notification_action_tutorial:"notification_action_tutorial_bIUf",notification_action_quiz:"notification_action_quiz_IDA8",notification_action_project:"notification_action_project_20fr",notification_action_course:"notification_action_course_PjQ_"}},,function(e,t){e.exports={contents:"contents_1ew9o4CC","publish-flow":"publish-flow_37njHplB",title:"title_3DIqAmS9",content:"content_1XQiiLkm","buttons-group":"buttons-group_xh49jeCI",buttons:"buttons_2zF9LrYw","button-return":"button-return_3PxVSIaZ","button-create":"button-create_2LjoYVX-","button-cancel":"button-cancel_kMBQewSW","card-operate":"card-operate_1nn3dDza",button:"button_3ZNHOWtA","button-back":"button-back_vZhMvrt7",icon:"icon_2vmm2GBQ","button-close":"button-close_3ahgzm7G"}},function(e,t){e.exports={publish_flow_title:"publish_flow_title__AxY",publish_flow_content:"publish_flow_content_3dMd",publish_flow_button_return:"publish_flow_button_return_2PNQ",publish_flow_button_create_quiz:"publish_flow_button_create_quiz_1BO7",publish_flow_button_create_tutorial:"publish_flow_button_create_tutorial_3j30",publish_flow_button_create_project:"publish_flow_button_create_project_2cja",publish_flow_button_create_course:"publish_flow_button_create_course_1DeE",publish_flow_button_create_mission:"publish_flow_button_create_mission_1aEb",publish_flow_button_create_pathway:"publish_flow_button_create_pathway_2qp4",publish_flow_button_cancel_quiz:"publish_flow_button_cancel_quiz_1HY6",publish_flow_button_cancel_tutorial:"publish_flow_button_cancel_tutorial_1XxW",publish_flow_button_cancel_project:"publish_flow_button_cancel_project_3xWj",publish_flow_button_cancel_course:"publish_flow_button_cancel_course_2bp_",publish_flow_button_cancel_mission:"publish_flow_button_cancel_mission_21oH",publish_flow_button_cancel_pathway:"publish_flow_button_cancel_pathway_21S1",back_to_edit:"back_to_edit_3IqV"}},function(e,t){e.exports={"image-popup-wrap":"image-popup-wrap_10HH2q6E","image-popup-bg":"image-popup-bg_2HLSJ6sS","image-wrap":"image-wrap_lb-ohmAd","image-inner":"image-inner_TjW9PYuu",center:"center_2gCLpIcJ",image:"image_1Y07_-3C",video:"video_irXwe5tL","arrow-wrap":"arrow-wrap_3BvLZ_Qw",arrow:"arrow_1bEKu92v",close:"close_tUcBxoO_",hide:"hide_hMt2vdgf","loading-wrap":"loading-wrap_1GJg-vZ-",loading:"loading_2d01Nky7"}},function(e,t){e.exports={content:"content_3s0CYDfx","top-wrapper":"top-wrapper_1PI7HfCL",learn_welcome_unity:"learn_welcome_unity_1i63M0jQ","icon-close":"icon-close_1IVGqWDD",learn_welcome_description:"learn_welcome_description_B0YqmucR","bottom-wrapper":"bottom-wrapper_1EmEQSy4","dismiss-btn":"dismiss-btn_5t91tP83","start-tour-btn":"start-tour-btn_1nTav4Fx",pc:"pc_29V0xtkX",mobile:"mobile_31s1LieW"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/bg-home-welcome.81caece2d689e2332d9e2fb4d41907a7.jpg"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["showMegaSale"],["showMegaSale"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(5),y=a(6),b=a(269),w=n(a(3)),E=n(a(270)),k=n(a(7)),S=n(a(271)),O=(s=(0,y.decorator)({showMegaSale:(0,v.state)(m)}),l=(0,w.default)(E.default),u=(0,k.default)(S.default),s(c=l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={open:!1},n.closeBanner=function(){n.setState({open:!1}),(0,b.closeMegaSale)()},i=a,o(n,i)}return i(t,g.default),p(t,[{key:"componentDidMount",value:function(){this.setOpenStatus()}},{key:"setOpenStatus",value:function(){if(!0===this.props.showMegaSale){var e=(0,b.checkMegaSaleStatus)();this.setState({open:!e})}}},{key:"render",value:function(){return this.state.open?_.default.createElement("div",{className:this.ss("mega-sale-wrapper")},_.default.createElement("div",{className:this.ss("mega-sale")},_.default.createElement("div",{className:this.ss("title")},this.__("mega_sale_title")),_.default.createElement("div",{className:this.ss("description")},this.__("mega_sale_description")),_.default.createElement("a",{className:this.ss("explore-more"),href:"https://assetstore.unity.com/best-of-super-sale"},this.__("explore_more")),_.default.createElement("a",{className:this.ss("close","ifont","ifont-icon-close"),onClick:this.closeBanner}))):null}}]),t}(),d.propTypes={showMegaSale:h.default.bool},c=f))||c)||c)||c);t.default=O},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMegaSaleStatus=t.closeMegaSale=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(61)),r=a(4),o="LEARN_MEGA_SALE",i=new n.default;t.closeMegaSale=function(e){var t=(0,r.get)(e,"id","noneUser"),a=i.getItem(o)||"",n=window&&window.location&&window.location.pathname||"/",s=new Date;s.setFullYear(s.getFullYear()+1),0!==a.indexOf(""+t)&&(a=""+t,i.setItem(o,a,{path:n,expires:s}))},t.checkMegaSaleStatus=function(e){var t=(0,r.get)(e,"id","noneUser");return i.getItem(o)===t}},function(e,t){e.exports={"mega-sale-wrapper":"mega-sale-wrapper_3lEkBTj8","mega-sale":"mega-sale_1bRHJlDc",title:"title_3Naq1jgG",description:"description_3StLP_-x","explore-more":"explore-more_2qYL3U_C",close:"close_1P6BvwLL"}},function(e,t){e.exports={mega_sale_title:"mega_sale_title_2trI",mega_sale_description:"mega_sale_description_382E",explore_more:"explore_more_1UzU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(20)),_=n(a(1)),g=n(a(368)),v=n(a(394)),y=a(45),b=n(a(3)),w=n(a(396)),E=n(a(7)),k=n(a(53)),S=(s=(0,b.default)(w.default),l=(0,E.default)(k.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={isSticky:!1},n.onChangeIsSticky=function(e){e!==n.state.isSticky&&n.setState({isSticky:e})},n.onHandleScroll=function(){var e=document.getElementById("pageBody").parentNode,t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight;if((0,y.isTouch)())n.state.isSticky&&n.onChangeIsSticky(!1);else{var o=h.default.findDOMNode(n);t<(o&&o.offsetTop)?n.onChangeIsSticky(!1):t<=a-r&&n.onChangeIsSticky(!0)}},i=a,o(n,i)}return i(t,_.default),f(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.optionType,r=t.searchOptions,o=t.defaultItemId,i=t.sticky,s=t.onCreate,l=this.state.isSticky;return m.default.createElement("div",{className:this.ss("search-bar-wrap",a,n)},m.default.createElement("div",{ref:function(t){e.searchBarRef=t},className:this.ss("search-bar",l&&i&&"sticky")},m.default.createElement("div",{className:this.ss("search-container")},m.default.createElement(g.default,{optionType:n,theme:a,searchOptions:r,defaultItemId:o,onCreate:s}),m.default.createElement(v.default,{optionType:n,theme:a,searchOptions:r}))))}}]),t}(),c.propTypes={optionType:p.default.oneOf(["default","creator","search","landing","educators","submission","architecture"]),theme:p.default.oneOf(["default","dark"]),defaultItemId:p.default.string,searchOptions:p.default.object,sticky:p.default.bool,onCreate:p.default.func},c.defaultProps={sticky:!0,optionType:"default",theme:"default",searchOptions:{}},u=d))||u)||u);t.default=S},function(e,t,a){e.exports=a(14)(486)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareDialogInternal=t.ShareTutorialStepDialog=t.ShareSubmissionDialog=t.ShareBadgeDialog=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),q=s(["learner.parentIds"],["learner.parentIds"]),z=s(["userPremium"],["userPremium"]),B=s(["common.shareDialog.show"],["common.shareDialog.show"]),U=s(["currentHost"],["currentHost"]),H=s(["currentUrl"],["currentUrl"]),V=s(["common.closeShareDialog"],["common.closeShareDialog"]),G=s(["common.copyLink"],["common.copyLink"]),W=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),Q=s(["common.shareBadgeDialog.show"],["common.shareBadgeDialog.show"]),J=s(["common.shareBadgeDialog.data"],["common.shareBadgeDialog.data"]),Y=s(["common.closeShareBadgeDialog"],["common.closeShareBadgeDialog"]),X=s(["common.copyBadgeLink"],["common.copyBadgeLink"]),Z=s(["common.shareSubmissionDialog.show"],["common.shareSubmissionDialog.show"]),$=s(["common.shareSubmissionDialog.data"],["common.shareSubmissionDialog.data"]),ee=s(["common.closeShareSubmissionDialog"],["common.closeShareSubmissionDialog"]),te=s(["common.copySubmissionLink"],["common.copySubmissionLink"]),ae=s(["common.shareTutorialStepDialog.show"],["common.shareTutorialStepDialog.show"]),ne=s(["common.shareTutorialStepDialog.index"],["common.shareTutorialStepDialog.index"]),re=s(["common.shareTutorialStepDialog.current"],["common.shareTutorialStepDialog.current"]),oe=s(["common.closeShareTutorialStepDialog"],["common.closeShareTutorialStepDialog"]),ie=s(["common.copyShareTutorialStepLink"],["common.copyShareTutorialStepLink"]),se=s(["loginUser"],["loginUser"]),le=n(a(2)),ue=n(a(0)),ce=n(a(20)),de=n(a(1)),fe=a(5),pe=a(4),me=a(6),he=a(33),_e=n(a(32)),ge=n(a(16)),ve=n(a(15)),ye=a(8),be=a(9),we=n(a(38)),Ee=n(a(19)),ke=n(a(41)),Se=n(a(3)),Oe=n(a(449)),Te=n(a(7)),Pe=n(a(450)),je=(l=(0,me.decorator)({parentIds:(0,fe.state)(q),userPremium:(0,fe.state)(z),show:(0,fe.state)(B),currentHost:(0,fe.state)(U),currentUrl:(0,fe.state)(H),closeShareDialog:(0,fe.signal)(V),copyLink:(0,fe.signal)(G),sendCDPRequest:(0,fe.signal)(W)}),u=(0,Se.default)(Oe.default),c=(0,Te.default)(Pe.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,de.default),K(t,[{key:"render",value:function(){return ue.default.createElement(Ce,this.props)}}]),t}(),f.propTypes={parentIds:le.default.object,userPremium:le.default.bool,show:le.default.bool,data:le.default.object,currentHost:le.default.string,currentUrl:le.default.string,closeShareDialog:le.default.func,onClose:le.default.func,copyLink:le.default.func,sendCDPRequest:le.default.func},d=p))||d)||d)||d);t.default=je;t.ShareBadgeDialog=(m=(0,me.decorator)({parentIds:(0,fe.state)(q),userPremium:(0,fe.state)(z),currentHost:(0,fe.state)(U),currentUrl:(0,fe.state)(H),show:(0,fe.state)(Q),data:(0,fe.state)(J),closeShareDialog:(0,fe.signal)(Y),copyLink:(0,fe.signal)(X),sendCDPRequest:(0,fe.signal)(W)}),h=(0,Se.default)(Oe.default),_=(0,Te.default)(Pe.default),m(g=h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,de.default),K(t,[{key:"render",value:function(){return ue.default.createElement(Ce,this.props)}}]),t}(),v.propTypes={parentIds:le.default.object,userPremium:le.default.bool,show:le.default.bool,data:le.default.object,currentHost:le.default.string,currentUrl:le.default.string,closeShareDialog:le.default.func,copyLink:le.default.func,sendCDPRequest:le.default.func},g=y))||g)||g)||g),t.ShareSubmissionDialog=(b=(0,me.decorator)({parentIds:(0,fe.state)(q),userPremium:(0,fe.state)(z),currentHost:(0,fe.state)(U),show:(0,fe.state)(Z),data:(0,fe.state)($),closeShareDialog:(0,fe.signal)(ee),copyLink:(0,fe.signal)(te),sendCDPRequest:(0,fe.signal)(W)}),w=(0,Se.default)(Oe.default),E=(0,Te.default)(Pe.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getSubmissionUrl=function(){var e=n.props.data;return"/"+(0,pe.get)(e,"type")+"/"+(0,pe.get)(e,"slug")},i=a,o(n,i)}return i(t,de.default),K(t,[{key:"render",value:function(){var e=this.props.data,t=(0,pe.get)(e,"type");if(!e||t!==ye.DataTypeKeys.submission)return null;var a=this.getSubmissionUrl();return ue.default.createElement(Ce,F({},this.props,{currentUrl:a}))}}]),t}(),S.propTypes={parentIds:le.default.object,userPremium:le.default.bool,show:le.default.bool,data:le.default.object,currentHost:le.default.string,closeShareDialog:le.default.func,copyLink:le.default.func,sendCDPRequest:le.default.func},k=O))||k)||k)||k),t.ShareTutorialStepDialog=(T=(0,me.decorator)({parentIds:(0,fe.state)(q),userPremium:(0,fe.state)(z),currentHost:(0,fe.state)(U),currentUrl:(0,fe.state)(H),show:(0,fe.state)(ae),index:(0,fe.state)(ne),current:(0,fe.state)(re),closeShareDialog:(0,fe.signal)(oe),copyLink:(0,fe.signal)(ie),sendCDPRequest:(0,fe.signal)(W)}),P=(0,Se.default)(Oe.default),j=(0,Te.default)(Pe.default),T(C=P(C=j((N=I=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getTutorialStepUrl=function(){var e=n.props,t=e.current;return e.currentUrl+"#"+(0,pe.get)(t,"id")},i=a,o(n,i)}return i(t,de.default),K(t,[{key:"render",value:function(){var e=this.props.data,t=(0,pe.get)(e,"type");if(!e||t!==ye.DataTypeKeys.tutorial)return null;var a=this.getTutorialStepUrl();return ue.default.createElement(Ce,F({},this.props,{currentUrl:a}))}}]),t}(),I.propTypes={parentIds:le.default.object,userPremium:le.default.bool,show:le.default.bool,data:le.default.object,index:le.default.number,current:le.default.object,currentUrl:le.default.string,currentHost:le.default.string,closeShareDialog:le.default.func,copyLink:le.default.func,sendCDPRequest:le.default.func},C=N))||C)||C)||C);var Ce=t.ShareDialogInternal=(M=(0,me.decorator)({loginUser:(0,fe.state)(se)}),D=(0,Se.default)(Oe.default),x=(0,Te.default)(Pe.default),M(R=D(R=x((A=L=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onOpenDetailPage=function(e,t){(0,we.default)(t)},n.onClose=function(){n.props.closeShareDialog&&n.props.closeShareDialog()},i=a,o(n,i)}return i(t,de.default),K(t,[{key:"onMenuClick",value:function(e,t){var a=this.props,n=a.userPremium,r=a.parentIds,o=void 0===r?{}:r,i=(0,pe.get)(this.props.data,"id"),s=(0,pe.get)(this.props.data,"type"),l=F({},o,{id:i,type:s,shareType:e,userPremium:n});this.props.sendCDPRequest({type:ye.CDPLearnType.share,eventType:ye.EventType.learn,data:l,redirectUrl:t,popup:!0})}},{key:"copyLink",value:function(e){var t=this.props.copyLink;if(t({content:e}),this.refs.inputLink){var a=ce.default.findDOMNode(this.refs.inputLink);a&&(a.focus(),a.setSelectionRange(0,e.length))}}},{key:"renderBody",value:function(){var e=this,t=this.props,n=t.data,r=t.current,o=t.currentHost,i=t.currentUrl,s=t.index,l=t.loginUser,u=(n||{}).title,c=(0,pe.get)(n,"hasBadge")||!1,d=(0,pe.get)(l,"id")||"",f=(0,pe.get)(n,"thumbnail.url",""),p=244,m="https://"+o+i;c&&(p=140,d&&(m="https://"+o+"/u/"+d));var h=encodeURIComponent(m),_="https://www.facebook.com/sharer/sharer.php?u="+h,g="https://twitter.com/intent/tweet?text="+this.__("share_twitter_text",{title:u,url:h})+"&source=webclient",v="https://www.linkedin.com/sharing/share-offsite/?url="+h,y="mailto:?subject="+this.__("share_subject",{title:u})+"&body="+this.__("share_body",{title:u,url:h}),b=!!r,w=(0,pe.get)(r,"title"),E=(0,Ee.default)((0,be.GetDetailPageURL)(n),o),k="default",S=(0,pe.get)(n,"type");return S===ye.DataTypeKeys.pathway&&(k="week"),b&&(S="step"),ue.default.createElement("div",{className:this.ss("body")},ue.default.createElement("div",{className:this.ss("share-title")},this.__("share_title",{type:S})),!b&&ue.default.createElement("div",{className:this.ss("share-content")},ue.default.createElement("div",{className:this.ss("img-wrap",c&&"set-img-wrap")},ue.default.createElement("div",{className:this.ss("img-content")},ue.default.createElement(ve.default,{src:f,sizes:"244px",width:p,height:140}))),ue.default.createElement("div",{className:this.ss("content-text")},ue.default.createElement("div",{className:this.ss("text-title")},u),ue.default.createElement("div",{className:this.ss("subtitle-wrapper")},ue.default.createElement(he.SubTitleV2,{data:n,theme:"dark",durationTheme:k})),ue.default.createElement("div",{className:this.ss("author")},ue.default.createElement(ke.default,{data:n,theme:"dark"})))),b&&ue.default.createElement("div",{className:this.ss("share-step")},ue.default.createElement("div",{className:this.ss("share-step-title")},s,".",w),ue.default.createElement("div",{className:this.ss("share-step-content")},this.__("part_of"),ue.default.createElement("a",{className:this.ss("tutorial-title"),onClick:function(t){return e.onOpenDetailPage(t,E)}},u))),ue.default.createElement("div",{className:this.ss("share-items")},ue.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(ye.ShareTypes.linkedIn,v)}},ue.default.createElement("div",{className:this.ss("ifont","ifont-icons-linkedin","item-icon-linked")}),ue.default.createElement("span",{className:this.ss("item-title")},this.__("share_linkedIn"))),ue.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(ye.ShareTypes.facebook,_)}},ue.default.createElement("div",{className:this.ss("ifont","ifont-icons-facebook","item-icon-linked","item-facebook")}),ue.default.createElement("span",{className:this.ss("item-title")},this.__("share_facebook"))),ue.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(ye.ShareTypes.twitter,g)}},ue.default.createElement("img",{role:"presentation",className:this.ss("item-img"),src:a(451)}),ue.default.createElement("span",{className:this.ss("item-title")},this.__("share_twitter"))),ue.default.createElement("a",{className:this.ss("item"),onClick:function(){return e.onMenuClick(ye.ShareTypes.email,y)}},ue.default.createElement("div",{className:this.ss("ifont","ifont-udp-email","item-icon")}),ue.default.createElement("span",{className:this.ss("item-title")},this.__("share_email")))),ue.default.createElement("div",{className:this.ss("share-url")},ue.default.createElement("div",{className:this.ss("input-wrap")},ue.default.createElement("input",{ref:"inputLink",value:m,className:this.ss("input-link"),type:"text",readOnly:"readonly"})),ue.default.createElement("div",{className:this.ss("btn-wrap")},ue.default.createElement(ge.default,{size:"small",theme:"transparent",label:this.__("copy_url"),widthStyle:"full",onClick:function(){return e.copyLink(m)}}))))}},{key:"renderFoot",value:function(){var e=[];return e.push(ue.default.createElement("div",{key:"cancel",className:this.ss("button")},ue.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},ue.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")})))),ue.default.createElement("div",{className:this.ss("foot")},e)}},{key:"render",value:function(){var e=this.props.show;return ue.default.createElement(_e.default,{open:e,position:"center",onCloseModal:this.onClose},ue.default.createElement("div",{className:this.ss("content")},this.renderBody(),this.renderFoot()))}}]),t}(),L.propTypes={parentIds:le.default.object,userPremium:le.default.bool,show:le.default.bool,data:le.default.object,index:le.default.number,current:le.default.object,loginUser:le.default.object,currentHost:le.default.string,currentUrl:le.default.string,onClose:le.default.func,copyLink:le.default.func,sendCDPRequest:le.default.func,closeShareDialog:le.default.func},R=A))||R)||R)||R)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["upload.uploads"],["upload.uploads"]),_=s(["editor.subtitleDialog.open"],["editor.subtitleDialog.open"]),g=s(["editor.subtitle.content"],["editor.subtitle.content"]),v=s(["editor.subtitle.uploadId"],["editor.subtitle.uploadId"]),y=s(["option.supportedLanguages"],["option.supportedLanguages"]),b=s(["editor.subtitle.selectLanguage"],["editor.subtitle.selectLanguage"]),w=s(["editor.subtitle.subtitleLanguages"],["editor.subtitle.subtitleLanguages"]),E=s(["upload.uploadAttachment"],["upload.uploadAttachment"]),k=s(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),S=s(["header.showMessage"],["header.showMessage"]),O=s(["editor.changeSubtitleLang"],["editor.changeSubtitleLang"]),T=s(["editor.closeSubtitleDialog"],["editor.closeSubtitleDialog"]),P=s(["editor.deleteSubtitleConfirm"],["editor.deleteSubtitleConfirm"]),j=s(["editor.syncCurrentSubtitleUploadId"],["editor.syncCurrentSubtitleUploadId"]),C=s(["editor.syncSubtitleLanguages"],["editor.syncSubtitleLanguages"]),I=s(["editor.syncSubtitleMap"],["editor.syncSubtitleMap"]),N=n(a(2)),M=n(a(0)),D=n(a(1)),x=a(6),R=a(5),L=a(4),A=n(a(32)),F=n(a(16)),K=n(a(47)),q=n(a(23)),z=a(102),B=a(17),U=a(9),H=n(a(3)),V=n(a(325)),G=n(a(7)),W=n(a(326)),Q=12582912,J=(l=(0,x.decorator)({uploads:(0,R.state)(h),open:(0,R.state)(_),content:(0,R.state)(g),currentSubtitleUploadId:(0,R.state)(v),supportedLanguages:(0,R.state)(y),selectLanguage:(0,R.state)(b),subtitleLanguages:(0,R.state)(w),uploadAttachment:(0,R.signal)(E),retryUploadAttachment:(0,R.signal)(k),showMessage:(0,R.signal)(S),changeSubtitleLang:(0,R.signal)(O),closeSubtitleDialog:(0,R.signal)(T),deleteSubtitleConfirm:(0,R.signal)(P),syncCurrentSubtitleUploadId:(0,R.signal)(j),syncSubtitleLanguages:(0,R.signal)(C),syncSubtitleMap:(0,R.signal)(I)}),u=(0,H.default)(V.default),c=(0,G.default)(W.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.closeSubtitleDialog()},n.onChangeSubtitleLang=function(e,t,a){(0,n.props.changeSubtitleLang)({selectLanguage:a})},n.onClickUpload=function(){n.refs.fileSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.content,s=r.uploadAttachment,l=r.selectLanguage,u=r.syncCurrentSubtitleUploadId,c=(0,L.get)(i,"id"),d=(0,z.getSubtitleFile)(a);d.contentId=c,d.language=l,d&&(d.file.size>Q?o({message:"MaxFileSize_12M"}):(s({upload:d}),u({uploadId:d.id}))),n.refs.fileSelect.value=null}},n.handleDelete=function(e){var t=n.props,a=t.content;(0,t.deleteSubtitleConfirm)({contentId:(0,L.get)(a,"id"),language:(0,L.get)(e,"language")})},i=a,o(n,i)}return i(t,D.default),m(t,[{key:"componentWillReceiveProps",value:function(e){e.currentSubtitleUploadId&&this.props.syncSubtitleMap()}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return M.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})}},{key:"renderFailed",value:function(e){var t=this;return M.default.createElement("div",{className:this.ss("loading-failed")},M.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),M.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},M.default.createElement("span",{className:this.ss("content")},M.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),M.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"renderUploadingSubtitle",value:function(e){var t=e.upload;if(!t)return null;var a=(0,L.get)(t,"id"),n=(0,L.get)(t,"filename"),r=(0,L.get)(t,"language"),o=(0,L.get)(t,"status");return M.default.createElement("div",{key:"video-subtitle-"+a,className:this.ss("subtitle-item-wrapper")},M.default.createElement("div",{className:this.ss("subtitle-item",!(0,B.isLoading)(o))},M.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),M.default.createElement("div",{className:this.ss("content-body")},M.default.createElement("div",{className:this.ss("content-title")},M.default.createElement("div",{className:this.ss("language")},(0,U.GetLanguageText)(this.context,r)),M.default.createElement("div",{className:this.ss("dot")}),M.default.createElement("div",{className:this.ss("title")},n))),(0,B.isFailed)(o)&&this.renderFailed(t),(0,B.isLoading)(o)&&this.renderLoading(t)))}},{key:"renderSubtitle",value:function(e){var t=this,a=e.subtitle,n=(0,L.get)(a,"attachment.Filename"),r=(0,L.get)(a,"attachmentId"),o=(0,L.get)(a,"language");return M.default.createElement("div",{key:"video-subtitle-"+r,className:this.ss("subtitle-item-wrapper")},M.default.createElement("div",{className:this.ss("subtitle-item")},M.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),M.default.createElement("div",{className:this.ss("content-body")},M.default.createElement("div",{className:this.ss("content-title")},M.default.createElement("div",{className:this.ss("language")},(0,U.GetLanguageText)(this.context,o)),M.default.createElement("div",{className:this.ss("dot")}),M.default.createElement("div",{className:this.ss("title")},n))),M.default.createElement("div",{className:this.ss("delete")},M.default.createElement("button",{className:this.ss("button"),onClick:function(){return t.handleDelete(a)}},M.default.createElement("div",{className:this.ss("icon ifont ifont-lrn-icon-delete")})))))}},{key:"renderSubtitleList",value:function(){var e=this,t=this.props,a=t.open,n=t.content,r=t.supportedLanguages,o=t.uploads,i=t.currentSubtitleUploadId;if(!a)return null;var s=(0,L.get)(n,"subtitleMap"),l=(r||[]).map(function(t){var a=(0,L.get)(s,t);if(!a){var n=(0,L.get)(o,i);return n&&n.language===t?e.renderUploadingSubtitle({upload:n}):null}return e.renderSubtitle({subtitle:a})}).filter(function(e){return null!==e});return M.default.createElement("div",{className:this.ss("subtitle-list")},l)}},{key:"renderUpload",value:function(){var e=this,t=this.props,a=t.subtitleLanguages,n=t.selectLanguage;if(0===(a||[]).length)return null;var r=a.map(function(t){return{text:(0,U.GetLanguageText)(e.context,t),value:t}});return M.default.createElement("div",{className:this.ss("upload-wrapper")},M.default.createElement("div",{className:this.ss("subtitle-lang")},M.default.createElement(K.default,{theme:"gray",value:n,selects:r,onChange:this.onChangeSubtitleLang})),M.default.createElement("div",{className:this.ss("subtitle-upload")},M.default.createElement(q.default,{text:this.__("upload_subtitle_tooltip"),position:"bottom"},M.default.createElement("button",{className:this.ss("button","upload"),onClick:this.onClickUpload},M.default.createElement("div",{className:this.ss("ifont","ifont-icons-upload","icon")}),M.default.createElement("input",{type:"file",ref:"fileSelect",multiple:!1,className:this.ss("hide"),onChange:this.onFilesChange})))))}},{key:"render",value:function(){var e=this.props.open;return M.default.createElement(A.default,{open:e,noScroller:!1,position:"center",onCloseModal:this.onClose},M.default.createElement("div",{className:this.ss("subtitle-wrapper")},M.default.createElement("div",{className:this.ss("head")},M.default.createElement("div",{className:this.ss("title")},this.__("title_add_subtitle")),M.default.createElement("div",{className:this.ss("des")},this.__("title_des")),M.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},M.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),this.renderUpload(),this.renderSubtitleList(),M.default.createElement("div",{className:this.ss("foot")},M.default.createElement("div",{className:this.ss("button")},M.default.createElement(F.default,{label:this.__("button_close"),onClick:this.onClose})))))}}]),t}(),f.propTypes={open:N.default.bool,content:N.default.object,uploads:N.default.object,supportedLanguages:N.default.array,selectLanguage:N.default.string,subtitleLanguages:N.default.array,uploadAttachment:N.default.func,retryUploadAttachment:N.default.func,showMessage:N.default.func,changeSubtitleLang:N.default.func,closeSubtitleDialog:N.default.func,currentSubtitleUploadId:N.default.string,deleteSubtitleConfirm:N.default.func,syncCurrentSubtitleUploadId:N.default.func,syncSubtitleLanguages:N.default.func,syncSubtitleMap:N.default.func},d=p))||d)||d)||d);t.default=J},,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(280)),o=n(a(281)),i=[r.default,o.default];t.default={footer:i}},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["footer.height"],["footer.height"]),o=n(["height"],["height"]),i=a(22),s=a(5);t.default={name:e,depends:[],signals:{setHeight:[(0,i.set)((0,s.state)(r),(0,s.props)(o))]},getState:function(){return{height:0}}}}).call(t,"views/v2/modules/footer/FooterStore.js")},function(e,t,a){"use strict";(function(e){function a(){var e=window&&window.location&&window.location.href;n.test(e)?window.location.href=e.replace(n,""):window.location.reload()}Object.defineProperty(t,"__esModule",{value:!0});var n=/language=[a-zA-Z]{2,}/i;t.default={name:e,depends:[],signals:{languageChange:[[function(e){var t=e.props,a=e.state,r=e.path,o=e.http,i=t.locale;if(i===a.get("locale")){var s=window&&window.location&&window.location.href;if(!n.test(s))return r.dummy()}return o.post("/api/changeLanguage",{locale:i}).then(r.success).catch(r.error)},{success:[a],error:[],dummy:[]}]],regionChange:[[function(e){var t=e.props,a=e.path,n=e.http,r=t.regionRefId;return n.post("/api/changePreferredRegion",{regionRefId:r}).then(a.success).catch(a.error)},{success:[a],error:[]}]],switchLangStatus:[function(e){var t=e.state,a=e.props;t.set("footer.langStatus",a.open)}],switchRegionStatus:[function(e){var t=e.state,a=e.props;t.set("footer.regionStatus",a.open)}]},getState:function(){return{langStatus:!1,regionStatus:!1}}}}).call(t,"views/v2/modules/footer/LanguageChooseStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(72)),y=n(a(34)),b=n(a(3)),w=n(a(296)),E=(0,v.default)({single:null,multiple:null}),k=(u=(0,b.default)(w.default))((f=d=function(e){function t(){var e,a,n,r;i(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={valueList:n.getInitValueList(),hide:!1},r=a,s(n,r)}return l(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){this.checkToSyncInputValue(e)}},{key:"onInnerClear",value:function(){this.refs.input&&this.refs.input.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e)}},{key:"onSave",value:function(e){var t=this.state.valueList,a=this.props.valueList||t,n=[].concat(o(a));e&&e.trim()&&n.findIndex(function(t){return t===e})<0&&(n.push(e),this.setState({valueList:n}),this.props.onSave&&this.props.onSave(e)),this.onInnerClear()}},{key:"onRemove",value:function(e,t){e&&e.preventDefault();var a=this.state.valueList,n=this.props.valueList||a;if(n.length>0&&t>=0&&t<n.length){var r=[].concat(o(n)),i=r.splice(t,1);this.setState({valueList:r}),this.props.onRemove&&this.props.onRemove(i&&i[0],t)}}},{key:"getInitValueList",value:function(){var e=[],t=this.props.inputValue;return Array.isArray(t)?e.push.apply(e,o(t)):t&&e.push(t),e}},{key:"setFocus",value:function(e){this.refs.input&&this.refs.input.setFocus(e)}},{key:"checkToSyncInputValue",value:function(e){var t=e.valueList,a=this.props.valueList;(t&&t.length||0)!==(a&&a.length||0)&&this.onInnerClear()}},{key:"renderValueList",value:function(e){var t=this,a=this.props,n=a.loading,r=a.inputType,o=(a.unremovableTags||[]).map(function(e){return e.name}),i=_.default.createElement("div",{className:this.ss("loading-wrap")},_.default.createElement("div",{className:this.ss("loading")}));return e.map(function(e,a){var s=!1;return o&&o.length>0&&(s=o.indexOf(e)>-1),_.default.createElement("div",{key:"v"+a,className:t.ss("value-gray")},_.default.createElement("div",{className:t.ss("name")},e),!s&&!n&&_.default.createElement("div",{className:t.ss("delete"),onClick:function(e){return t.onRemove(e,a)}},_.default.createElement("div",{className:t.ss("close-icon","ifont","ifont-icon-close2")})),r===E.single&&n&&i)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.hintText,n=t.inputType,o=t.inputValue,i=t.valueList,s=t.hideResult,l=(t.onRemove,t.inputTheme),u=t.resultTheme,c=(t.unremovableTags,t.loading,t.theme),d=r(t,["hintText","inputType","inputValue","valueList","hideResult","onRemove","inputTheme","resultTheme","unremovableTags","loading","theme"]),f=this.state.valueList,m=i||f,h=[];if(!1===s)switch(n){case E.single:1===m.length&&(h=_.default.createElement("div",{key:n,className:this.ss("value-wrap","single",u)},this.renderValueList(m)));break;case E.multiple:m.length>0&&h.push(_.default.createElement("div",{key:n,className:this.ss("value-wrap",u)},this.renderValueList(m)))}return Array.isArray(h)&&h.push(_.default.createElement("div",{key:"input",className:this.ss("input-wrapper")},_.default.createElement(y.default,p({},d,{ref:"input",theme:l||"transparent-inherit",placeholder:a,value:o,onSave:function(t){return e.onSave(t)},onClear:function(t){return e.onClear(t)}})))),_.default.createElement("div",{className:this.ss("text-field",c)},h)}}]),t}(),d.propTypes={onSave:h.default.func,onRemove:h.default.func,onClear:h.default.func,autoFocus:h.default.bool,hintText:h.default.string,theme:h.default.oneOf(["default","dark"]),inputTheme:h.default.string,type:h.default.string,inputType:h.default.oneOf([E.single,E.multiple]),inputValue:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),valueList:h.default.array,hideResult:h.default.bool,resultTheme:h.default.oneOf(["default","full-primary"]),unremovableTags:h.default.arrayOf(h.default.shape({name:h.default.string})),loading:h.default.bool},d.defaultProps={theme:"default",inputType:E.single,autoFocus:!1,hideResult:!1,resultTheme:"default"},c=f))||c;t.default=k},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(20)),y=n(a(17)),b=a(562),w=n(a(3)),E=n(a(425)),k=n(a(7)),S=n(a(426)),O=(l=(0,w.default)(E.default),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={value:n.getValue(n.props.value)},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentDidMount",value:function(){this.setFocus(this.props.autoFocus)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setInputValue(t)}},{key:"onSave",value:function(){this.props.onSave&&this.props.onSave(this.state.value),this.props.autoClear&&this.onClearInput()}},{key:"onClear",value:function(e){this.props.onClear&&this.props.onClear(e),this.props.onChange&&this.props.onChange(null,""),this.props.onSave&&this.props.onSave(""),this.onClearInput()}},{key:"onFocus",value:function(e){this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0})}},{key:"onBlur",value:function(e){this.props.onBlur?this.props.onBlur(e):this.onSave(),this.setState({focus:!1});try{(0,b.weiXinScrollIntoView)()}catch(e){console.error(e)}}},{key:"onChange",value:function(e){var t=e.target.value,a="";if("number"===this.props.type&&this.hasValue(t)){var n=this.__("numberOutput",{value:t});a=this.hasValue(n)&&n.toString()||""}else a=t;this.setState({value:a}),this.props.onChange&&this.props.onChange(e,a)}},{key:"onKeyDown",value:function(e){e&&e.stopPropagation();var t=e.keyCode;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 13:this.onSave();break;case 27:this.onClear()}}},{key:"onClearInput",value:function(){this.setInputValue("")}},{key:"setInputValue",value:function(e){this.setState({value:e})}},{key:"setFocus",value:function(e){var t=v.default.findDOMNode(this.refs.input);e&&t&&setTimeout(function(){return t.focus()},100)}},{key:"getNotice",value:function(){var e=this.props.errorText;return(e?{text:e,type:y.default.failed}:null)||this.props.notice||{}}},{key:"getText",value:function(){return this.refs.input.value}},{key:"getValue",value:function(e){return this.hasValue(e)?e:""}},{key:"hasValue",value:function(e){return""!==e&&null!==e&&void 0!==e}},{key:"focus",value:function(){var e=this.refs.input;e&&e.focus()}},{key:"renderNoticeText",value:function(){var e=this.props,t=e.noticeClassName,a=e.noticePosition,n=this.getNotice(),r=n.text,o=n.type;if(!o)return null;var i=["notice",t,a,o,this.state.hide&&"hide"];return _.default.createElement("div",{className:this.ss.apply(this,i)},r||this.__(o))}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.className,o=t.iconName,i=t.iconClassName,s=t.inputClassName,l=t.closeIconClassName,u=t.borderClassName,c=(t.noticeClassName,t.noticePosition,t.disabled),d=(t.autoFocus,t.autoClear,t.errorText,t.onSave,t.onClear,t.notice,t.theme),f=t.showNoticeText,m=t.readOnly,h=t.focusTheme,g=t.rightHint,v=r(t,["type","className","iconName","iconClassName","inputClassName","closeIconClassName","borderClassName","noticeClassName","noticePosition","disabled","autoFocus","autoClear","errorText","onSave","onClear","notice","theme","showNoticeText","readOnly","focusTheme","rightHint"]),b=this.state.value,w="number"===a&&this.hasValue(b)?this.__("numberInput",{value:b}):this.getValue(b),E=_.default.createElement("div",{className:this.ss(i,"icon","ifont","ifont-"+o)}),k="small"===d,S=_.default.createElement("div",{className:this.ss(l,"close","ifont","ifont-icon-close"),onClick:function(t){return e.onClear(t)}}),O=this.getNotice().type===y.default.failed,T=["input-wrap",c&&"disabled",O&&"failed",u,"input-wrap-"+d];this.state.focus&&T.push("active-"+h);var P=_.default.createElement("div",{key:"input",className:this.ss.apply(this,T),onClick:function(){return e.focus()}},o&&E,_.default.createElement("input",p({},v,{className:this.ss("input",s),type:"number"!==a&&a||"text",value:w,disabled:c,readOnly:m,onChange:function(t){return e.onChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},onFocus:function(t){return e.onFocus(t)},onBlur:function(t){return e.onBlur(t)},ref:"input"})),!k&&!c&&!m&&this.hasValue(b)&&S,g&&_.default.createElement("div",{className:this.ss("right-hint")},g));return _.default.createElement("div",{className:this.ss("text-input",n,"theme-"+d)},P,f&&this.renderNoticeText())}}]),t}(),d.propTypes={type:h.default.string,value:h.default.oneOfType([h.default.string,h.default.number,h.default.array]),iconName:h.default.string,className:h.default.string,iconClassName:h.default.string,inputClassName:h.default.string,borderClassName:h.default.string,closeIconClassName:h.default.string,noticeClassName:h.default.string,showNoticeText:h.default.bool,errorText:h.default.any,autoFocus:h.default.bool,autoClear:h.default.bool,disabled:h.default.bool,readOnly:h.default.bool,onSave:h.default.func,onChange:h.default.func,onClear:h.default.func,onFocus:h.default.func,onBlur:h.default.func,onKeyDown:h.default.func,notice:h.default.shape({text:h.default.string,type:h.default.oneOf(["",y.default.initial,y.default.inProgress,y.default.succeeded,y.default.failed])}),theme:h.default.oneOf(["small","transparent","dark","light","egl"]),noticePosition:h.default.oneOf(["right","bottom"]),focusTheme:h.default.oneOf(["blue-green","primary-blue"]),rightHint:h.default.string},d.defaultProps={noticePosition:"right",showNoticeText:!0,theme:"dark",focusTheme:"blue-green"},c=f))||c)||c);t.default=O},function(e,t){e.exports={"author-wrap":"author-wrap_16ltdU6_",author:"author_1VX4EAqA",label:"label_2Qs3JCC5","author-name":"author-name_1cDRR9M5",dark:"dark_1-JeUKxl",gray:"gray_1Rkb7YMD",creator:"creator_2hatp727","creator-des":"creator-des_1umfH-Pk"}},function(e,t){e.exports={created_by:"created_by_3CgI"}},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover1.11afc8808f4eb99ed42e5d990061d7a3.jpg"},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover2.862db3f5daf7c6eb0c25a59086b58be5.jpg"},function(e,t,a){e.exports=a.p+"../styles/i/covers/cover3.b987e978934b1adfff96cff52cacea49.jpg"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(10)).default];t.default={httpAPI:n}},function(e,t){e.exports={statusBar:"statusBar_2AjgPJ_Q",searchInProgress:"searchInProgress_3TvZGExK",loading:"loading_VTnlnpjY","button-more":"button-more_1Q6rCr8d","theme-comment":"theme-comment_3gdrHVii","btn-link":"btn-link_zji5rC1C"}},function(e,t){e.exports={more:"more_-sLW"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData"],["quizData"]),_=s(["learner.quizMap"],["learner.quizMap"]),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=a(4),E=a(9),k=n(a(3)),S=n(a(352)),O=n(a(7)),T=n(a(128)),P=n(a(0)),j=(l=(0,y.decorator)({quizData:(0,b.state)(h),quizMap:(0,b.state)(_)}),u=(0,k.default)(S.default),c=(0,O.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,v.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.quizMap,n=(0,w.get)(t,"id"),r=(0,w.get)(a,n+".leftFreezingSeconds"),o=(0,E.ParseSecond)(r),i=o.hour,s=o.minute,l=o.second,u=i>0,c=s>0,d=l>0;return P.default.createElement("div",{className:this.ss("label-wrapper",!u&&"hide-hour")},u&&P.default.createElement("div",{className:this.ss("item","hour")},this.__("hours",{hour:i})),c&&P.default.createElement("div",{className:this.ss("item","minute")},this.__("minutes",{minute:s})),!u&&!c&&d&&P.default.createElement("div",{className:this.ss("item","second")},this.__("seconds",{second:l})))}}]),t}(),f.propTypes={quizData:g.default.object,quizMap:g.default.object},d=p))||d)||d)||d);t.default=j},,function(e,t){e.exports={"drag-drop-wrapper":"drag-drop-wrapper_2ezchGWk",handle:"handle_16sNUfnI","tutorial-step":"tutorial-step_3E6_oFqA","drag-handle-wrapper":"drag-handle-wrapper_1QoNPLFN",right:"right_3acu-JRY",line:"line_civ3Vbl5",top:"top_1ZpBl4Ek","transfer-img":"transfer-img_MFsUcPSU",selected:"selected_1hEXKg5L",up:"up_NUx6DXp6",down:"down_9AZEfPwB"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=n(a(448)),y=n(a(282)),b=n(a(30)),w=a(45),E=n(a(3)),k=n(a(297)),S=n(a(7)),O=n(a(298)),T=(l=(0,E.default)(k.default),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={candidateIndex:n.props.defaultIndex,isActive:!1},n.onRemoveCandidate=function(e,t){var a=n.props,r=a.selectedIds,o=a.idToCandidateMap,i=o[r[t]];if(n.props.onRemove&&n.props.onRemove(i),n.props.onSaveToMap&&n.props.onRemoveFromMap)n.props.onRemoveFromMap(i);else{var s=i.id;if(s&&o[s]){delete o[s];var l=r.findIndex(function(e){return e===s});l<0&&r.splice(l,1)}n.setState({selectedIds:r,idToCandidateMap:o})}},n.computedTextFieldTheme=function(){var e=n.props.theme;return"dark"===e?e:""},r=a,i(n,r)}return s(t,g.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.defaultIndex,a=e.defaultIndex;t!==a&&this.setState({candidateIndex:a})}},{key:"onSave",value:function(e){if(e){var t=this.getCandidate();t&&this.onAddCandidate(t)}}},{key:"onFocus",value:function(){this.props.onFocus&&this.props.onFocus(),this.setState({isActive:!0})}},{key:"onBlur",value:function(e){(0,w.isTouch)()||(this.props.onBlur&&this.props.onBlur(e),this.onClear(),this.setState({isActive:!1}))}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e),e&&e.trim()?this.props.onFetchCandidate&&this.props.onFetchCandidate(e):this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onKeyDown",value:function(e){var t=e.keyCode,a=this.getFullCandidates(),n=this.state.candidateIndex,r=a.length;switch(this.props.onKeyDown&&this.props.onKeyDown(e),t){case 40:e.preventDefault(),this.setState({candidateIndex:(n+1)%r});break;case 38:e.preventDefault(),this.setState({candidateIndex:(n+r-1)%r})}}},{key:"onInnerClear",value:function(){this.refs.textField&&this.refs.textField.onInnerClear()}},{key:"onClear",value:function(e){e&&e.preventDefault(),this.onInnerClear(),this.setState({candidateIndex:this.props.defaultIndex}),this.props.onClearCandidate&&this.props.onClearCandidate()}},{key:"onAddCandidate",value:function(e,t){if(t&&t.preventDefault(),this.props.onSelected&&this.props.onSelected(e),this.props.onRemoveFromMap&&this.props.onSaveToMap)this.props.onSaveToMap(e);else{var a=e.id,n=this.props,r=n.selectedIds,o=n.idToCandidateMap;a&&!o[a]&&(o[a]=e,r.push(a)),this.setState({selectedIds:r,idToCandidateMap:o})}this.onClear()}},{key:"getFullCandidates",value:function(){var e=this.props.candidates;return void 0===e?[]:e}},{key:"getSelectedValues",value:function(){var e=this.props,t=e.selectedIds,a=e.idToCandidateMap,n=[];return t&&t.length>0&&t.forEach(function(e){e&&a&&a[e]&&n.push(a[e].name)}),n}},{key:"getCandidate",value:function(){var e=this.getFullCandidates(),t=this.state.candidateIndex,a=e.length,n=null;return t>=0&&t<a&&(n=e[t]),n}},{key:"setFocus",value:function(e){this.refs.textField.setFocus(e)}},{key:"renderCandidates",value:function(){var e=this,t=this.getFullCandidates(),a=this.props,n=a.onRenderCandidate,r=a.tagType;return t.map(function(t,a){var o=t.text,i=t.type,s=t.name,l=function(){e.setState({candidateIndex:a})},u=function(){e.setState({candidateIndex:e.props.defaultIndex})},c=void 0;return n?c=n(t):"q"===i?"tag"===r&&(c=_.default.createElement("li",null,e.__("create_new_tag",{name:s}))):c=_.default.createElement("li",null,(0,v.default)(o)),c?a===e.state.candidateIndex?_.default.cloneElement(c,{className:e.ss("active"),key:""+a,onMouseEnter:l,onMouseLeave:u,onMouseDown:function(a){return e.onAddCandidate(t,a)}}):_.default.cloneElement(c,{key:""+a,onMouseEnter:l,onMouseLeave:u}):null})}},{key:"renderCandidatesWrap",value:function(){var e=this.props,t=e.maxCandidatesCount,a=e.maxCandidatesHeight,n=void 0,r=this.renderCandidates();n=0!==r.length?this.ss("candidates","expand"):this.ss("candidates");var o={};return t&&a&&r.length>t&&(o.height=a),_.default.createElement("ul",{className:n},_.default.createElement(b.default,null,_.default.createElement("div",{style:o},r)))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.maxCandidatesCount,t.maxCandidatesHeight,t.onRenderCandidate,t.onSelected,t.onFetchCandidate,t.onClearCandidate,t.onSaveToMap,t.onRemoveFromMap,t.selectedIds,t.idToCandidateMap,t.candidates,t.defaultIndex,t.theme),n=(t.tagType,r(t,["maxCandidatesCount","maxCandidatesHeight","onRenderCandidate","onSelected","onFetchCandidate","onClearCandidate","onSaveToMap","onRemoveFromMap","selectedIds","idToCandidateMap","candidates","defaultIndex","theme","tagType"])),o=(this.state.isActive,this.getSelectedValues());return _.default.createElement("div",{className:this.ss("text-auto",a&&"theme-"+a)},_.default.createElement(y.default,p({},n,{ref:"textField",valueList:o,theme:this.computedTextFieldTheme(),onChange:function(t,a){return e.onChange(a)},onBlur:function(t){return e.onBlur(t)},onClear:function(t){return e.onClear(t)},onKeyDown:function(t){return e.onKeyDown(t)},onSave:function(t){return e.onSave(t)},onFocus:function(){return e.onFocus()},onRemove:this.onRemoveCandidate})),this.renderCandidatesWrap())}}]),t}(),d.propTypes={candidates:h.default.arrayOf(h.default.shape({value:h.default.oneOfType([h.default.string,h.default.number]),text:h.default.string,name:h.default.string})),defaultIndex:h.default.number,maxCandidatesCount:h.default.number,maxCandidatesHeight:h.default.number,selectedIds:h.default.array,idToCandidateMap:h.default.object,tagType:h.default.oneOf(["skill","tag","category"]),onSelected:h.default.func,onRemove:h.default.func,onBlur:h.default.func,onFocus:h.default.func,onChange:h.default.func,onFetchCandidate:h.default.func,onClearCandidate:h.default.func,onSaveToMap:h.default.func,onRemoveFromMap:h.default.func,onRenderCandidate:h.default.func,onKeyDown:h.default.func,theme:h.default.oneOf(["small","normal","grey","dark"])},d.defaultProps={defaultIndex:0,tagType:"skill"},c=f))||c)||c);t.default=T},function(e,t){e.exports={"text-field":"text-field_2mr3IPJl","input-wrapper":"input-wrapper_1ArhiRhl",dark:"dark_fmaX2Jsn","value-wrap":"value-wrap_3X_Nz5eH","value-gray":"value-gray_1X-b4H33","close-icon":"close-icon_18PNG2-S",single:"single_1sAQKaqh",value:"value_WFxssWza","full-primary":"full-primary_PYgZyGLm",name:"name_1mI9AYHJ",delete:"delete_3mtWJhLn",loading:"loading_2BIUQrdA","loading-wrap":"loading-wrap_32LiyK9S"}},function(e,t){e.exports={"text-auto":"text-auto_1VsFCzy2",candidates:"candidates_XNDsUfey",active:"active_1RKAgmsH",expand:"expand_35FT8Tg6","theme-normal":"theme-normal_3XqEAWun","theme-dark":"theme-dark_3Dm7tPI4",hide:"hide_11LcVx7f"}},function(e,t){e.exports={create_new_tag:"create_new_tag_1Q-6"}},function(e,t){e.exports={candidate:"candidate_AloyQG0o","candidate-info":"candidate-info_3ujN2VB0",name:"name_1YHzFUwP",split:"split_2hINiM05",description:"description_3cXSGbgc","learn-info":"learn-info_1C7OzTij",title:"title_1uW6u89a","architecture-auto-complete-wrapper":"architecture-auto-complete-wrapper_18vSm39j","architecture-auto-complete":"architecture-auto-complete_2wkUmfzo","architecture-item-info":"architecture-item-info_2q3jS6it","internal-id":"internal-id_1PvZ9LN5",result:"result_3_YauBk1","item-row-wrapper":"item-row-wrapper_2YZA2vCj","item-row":"item-row_3JL2Xd48",content:"content_3noH6Jfc","info-item":"info-item_1WWWorSA",dot:"dot_9sVbDtqr","item-buttons":"item-buttons_qjvywzxn",button:"button_2CZcaixy",edit:"edit_18EOw8-g"}},function(e,t){e.exports={button_edit:"button_edit_1Xdh",button_delete:"button_delete_ko2C",search_for_skills:"search_for_skills_8Wka",skill_internalID:"skill_internalID_3TYU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=n(a(20)),k=a(6),S=a(5),O=a(11),T=n(a(3)),P=n(a(121)),j=n(a(154)),C=n(a(155)),I=n(a(156)),N=n(a(157)),M=n(a(158)),D=n(a(159)),x=n(a(113)),R=n(a(341)),L=(l=(0,k.decorator)({editorState:(0,S.state)(_,(0,S.props)(g)),setEditorState:(0,S.signal)(v)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme,registerActionPath:e.registerActionPath};return n.blockBreakoutPlugin=(0,C.default)(i),n.richTextPlugin=(0,j.default)(i),n.navigationPlugin=(0,x.default)(i),n.inlineToolbarPlugin=(0,I.default)(i),n.mentionToolbarPlugin=(0,M.default)(i),n.mentionLearnToolbarPlugin=(0,D.default)(i),n.sideToolbarPlugin=(0,N.default)(m({},i,{allowImage:!1,allowVideo:!1,allowAttachment:!1,allowHtml:!1,allowTip:!1})),n.autoSavePlugin=(0,R.default)(i),n.draftPlugins=[n.sideToolbarPlugin,n.inlineToolbarPlugin,n.mentionToolbarPlugin,n.mentionLearnToolbarPlugin,n.blockBreakoutPlugin,n.richTextPlugin,n.navigationPlugin,n.autoSavePlugin],n}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.defaultEditable,r=e.renderOnly,o=e.theme,i=e.offsetKey,s=e.style,l=this.sideToolbarPlugin,u=this.inlineToolbarPlugin,c=this.mentionToolbarPlugin,d=this.mentionLearnToolbarPlugin;return y.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only",o),style:m({},s),onClick:r?void 0:this.focus},y.default.createElement(O.Editor,{editorKey:t,offsetKey:i,defaultEditorState:a,defaultEditable:n,renderOnly:r,stripPastedStyles:!1,plugins:this.draftPlugins}),y.default.createElement(u.InlineToolbar,null),y.default.createElement(l.SideToolbar,null),y.default.createElement(c.MentionToolbar,null),y.default.createElement(d.MentionLearnToolbar,null))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,offsetKey:b.default.string,prevEditorKey:b.default.string,placeholder:b.default.string,defaultEditorState:b.default.object,defaultEditable:b.default.bool,renderOnly:b.default.bool,theme:b.default.oneOf(["normal","popup","error","transparent","question-title","architecture","question-option","transparent-live-session","transparent-submission","normal-content-summary"]),editorState:b.default.object,setEditorState:b.default.func,registerActionPath:b.default.string,style:b.default.object},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal",style:{}},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;if(E.default.findDOMNode(e)===t.target){var i=r.getSelection();o({editorKey:n,editorState:O.EditorState.forceSelection(r,i)})}}},c=f))||c)||c);t.default=L},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.default=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=n.editorKey,h=n.placeholder,_=n.withScroller,g=(a=t=function(t){function a(){return r(this,a),o(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return i(a,c.default),s(a,[{key:"render",value:function(){var t=[];this.props.children.forEach(function(e){var a=e.key;t.push(l.default.createElement(d.default,{key:"separator-"+a,blockKey:a})),h&&t.push(l.default.createElement(f.default,{key:"placeholder-"+a,editorKey:m,blockKey:a,text:h})),t.push(e)});var a=_?l.default.createElement("div",{className:"public-DraftStyleDefault-scroller"},l.default.createElement(p.default,{theme:"white"},l.default.createElement("div",{className:"public-DraftStyleDefault-scroller-inner"},t))):t;return l.default.cloneElement(e,{children:a})}}]),a}(),t.propTypes={children:u.default.array},a);return l.default.createElement(g,null)};var l=n(a(0)),u=n(a(2)),c=n(a(1)),d=n(a(303)),f=n(a(305)),p=n(a(30))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.dragOverBlockKey"],["editor.dragOverBlockKey"]),h=s(["editor.internalDrag"],["editor.internalDrag"]),_=s(["editor.dragStartBlockKey"],["editor.dragStartBlockKey"]),g=s(["editor.dragStartBlockAfterKey"],["editor.dragStartBlockAfterKey"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(5),k=a(11),S=n(a(3)),O=n(a(304)),T=(l=(0,w.decorator)({dragOverBlockKey:(0,E.state)(m),internalDrag:(0,E.state)(h),dragStartBlockKey:(0,E.state)(_),dragStartBlockAfterKey:(0,E.state)(g)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.blockKey,a=e.dragOverBlockKey,n=e.internalDrag,r=e.dragStartBlockKey,o=e.dragStartBlockAfterKey,i=k.DraftOffsetKey.encode(t,0,0),s=v.default.createElement("div",{"data-offset-key":i});return t===a&&(!n||r&&a!==r&&a!==o)?v.default.createElement("div",{className:this.ss("dragover"),"data-offset-key":i}):s}}]),t}(),d.propTypes={blockKey:y.default.string.isRequired,dragOverBlockKey:y.default.string,internalDrag:y.default.bool,dragStartBlockKey:y.default.string,dragStartBlockAfterKey:y.default.string},c=f))||c)||c);t.default=T},function(e,t){e.exports={dragover:"dragover_TukAOXqJ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.editorEditable.",""],["draft.editorEditable.",""]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(5),E=a(11),k=n(a(3)),S=n(a(306)),O=(l=(0,b.decorator)({editorState:(0,w.state)(m,(0,w.props)(h)),editable:(0,w.state)(_,(0,w.props)(h))}),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.blockKey,n=e.editorState,r=e.editable,o=E.DraftOffsetKey.encode(a,0,0),i=g.default.createElement("div",{"data-offset-key":o});if(!n)return i;if(n.isInCompositionMode())return i;var s=n.getCurrentContent(),l=s.getBlocksAsArray().filter(function(e){if("atomic"===e.getType()){var t=!1;return e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&("SHOWCASEGALLERY"===s.getEntity(t).getType()||"GAMEGALLERY"===s.getEntity(t).getType()||"WEBGLGALLERY"===s.getEntity(t).getType())},function(){t=!0}),!t}return!0});if(1!==l.length||l[0].getLength()>0||l[0].getKey()!==a)return i;var u=n.getSelection().getHasFocus()&&r;return g.default.createElement("div",{className:this.ss("placeholder",u&&"has-focus"),"data-offset-key":o},t)}}]),t}(),d.propTypes={editorKey:v.default.string.isRequired,blockKey:v.default.string.isRequired,text:v.default.string.isRequired,editorState:v.default.object,editable:v.default.bool},c=f))||c)||c);t.default=O},function(e,t){e.exports={placeholder:"placeholder_3-Ynd1VO","has-focus":"has-focus_3xJGT4wZ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.inlineToolbars.",""],["editor.inlineToolbars.",""]),g=s(["editor.showInlineToolbar"],["editor.showInlineToolbar"]),v=s(["editor.hideInlineToolbar"],["editor.hideInlineToolbar"]),y=n(a(0)),b=n(a(20)),w=n(a(2)),E=n(a(1)),k=a(6),S=a(5),O=n(a(3)),T=n(a(55)),P=a(11),j=n(a(73)),C=a(308),I=n(a(310)),N=n(a(311)),M=(l=(0,k.decorator)({editorState:(0,S.state)(m,(0,S.props)(h)),inlineToolbarState:(0,S.state)(_,(0,S.props)(h)),showInlineToolbar:(0,S.signal)(g),hideInlineToolbar:(0,S.signal)(v)}),u=(0,O.default)(T.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),p(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.editorState,n=e.inlineToolbarState,r=e.showInlineToolbar,o=e.hideInlineToolbar;if(a.getSelection().isCollapsed())o({editorKey:t});else{var i=(0,P.getVisibleSelectionRect)(window);if(i&&i.width&&i.height){var s=b.default.findDOMNode(this),l=((0,j.default)(s.parentElement)||document.body).getBoundingClientRect(),u=i.top-l.top-16,c=i.left-l.left+i.width/2;r({editorKey:t,top:Math.round(u),left:Math.round(c)})}else{if(n&&"linkInput"===n.mode)return;o({editorKey:t})}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.inlineToolbarState,n=!!a,r=a&&{top:a.top,left:a.left},o=void 0;return a&&(o="linkInput"===a.mode?[y.default.createElement(C.LinkInput,{editorKey:t,key:"linkInput"})]:[y.default.createElement(D,{editorKey:t,key:"bold"}),y.default.createElement(x,{editorKey:t,key:"italic"}),y.default.createElement(R,{editorKey:t,key:"underline"}),y.default.createElement(L,{editorKey:t,key:"code"}),y.default.createElement(C.LinkButton,{editorKey:t,key:"link"}),y.default.createElement(I.default,{editorKey:t,key:"clear"})]),y.default.createElement("div",{className:this.ss("inline-toolbar",n&&"show"),style:r},o)}}]),t}(),d.propTypes={editorKey:w.default.string.isRequired,editorState:w.default.object,inlineToolbarState:w.default.object,showInlineToolbar:w.default.func,hideInlineToolbar:w.default.func},c=f))||c)||c);t.default=M;var D=(0,N.default)("BOLD","icons_inline_bold"),x=(0,N.default)("ITALIC","icons_inline_italic"),R=(0,N.default)("UNDERLINE","icons_inline_underline"),L=(0,N.default)("CODE","icons_code")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),k=s(["editor.showLinkInput"],["editor.showLinkInput"]),S=s(["editor.inlineToolbars.",""],["editor.inlineToolbars.",""]),O=s(["editor.changeLinkInputValue"],["editor.changeLinkInputValue"]),T=s(["editor.hideLinkInput"],["editor.hideLinkInput"]),P=n(a(0)),j=n(a(2)),C=n(a(1)),I=a(6),N=a(5),M=a(11),D=n(a(418)),x=n(a(3)),R=n(a(55)),L=n(a(7)),A=n(a(309)),F=(l=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),setEditorState:(0,N.signal)(E),showLinkInput:(0,N.signal)(k)}),u=(0,x.default)(R.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.removeLinks=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState,i=r.getSelection(),s=i.getStartKey(),l=i.getStartOffset(),u=i.getEndOffset(),c=r.getCurrentContent(),d=c.getBlockForKey(s),f=c;d.findEntityRanges(function(e){var t=e.getEntity(),a=t&&c.getEntity(t);return a&&"LINK"===a.getType()},function(e,t){if(e=Math.max(e,l),t=Math.min(t,u),e<t){var a=new M.SelectionState({anchorKey:s,anchorOffset:e,focusKey:s,focusOffset:t});f=M.Modifier.applyEntity(f,a,null)}}),f!==c&&(f=f.merge({selectionAfter:i.merge({hasFocus:!0})}),o({editorKey:a,editorState:M.EditorState.push(r,f,"apply-entity")}))},n.showLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey;(0,t.showLinkInput)({editorKey:a})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this.props.editorState,t=e.getSelection();if(t.getStartKey()!==t.getEndKey())return null;var a=M.RichUtils.currentBlockContainsLink(e);return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:a?this.removeLinks:this.showLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",a&&"active")}))}}]),t}(),d.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,setEditorState:j.default.func,showLinkInput:j.default.func},c=f))||c)||c),K=(p=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),inlineToolbarState:(0,N.state)(S,(0,N.props)(w)),setEditorState:(0,N.signal)(E),changeLinkInputValue:(0,N.signal)(O),hideLinkInput:(0,N.signal)(T)}),m=(0,x.default)(R.default),h=(0,L.default)(A.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeLinkInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=n.props,a=t.inlineToolbarState,r=t.editorKey,o=t.editorState,i=t.setEditorState,s=t.hideLinkInput,l=a.value,u=D.default.match(l),c=u&&u[0]?u[0].url:"";if(!c)return;s({editorKey:r});var d=o.getSelection(),f=d.merge({hasFocus:!0}),p=o.getCurrentContent(),m=(p=p.createEntity("LINK","MUTABLE",{url:c})).getLastCreatedEntityKey();p=(p=M.Modifier.applyEntity(p,d,m)).merge({selectionAfter:f});var h=M.EditorState.forceSelection(o,p.getSelectionAfter());h=M.EditorState.push(h,p,"apply-entity"),n.inputRef.blur(),i({editorKey:r,editorState:h})}else"Escape"===e.key&&n.hideLinkInput(e)},n.hideLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideLinkInput)({editorKey:a}),n.inputRef.blur(),o({editorKey:a,editorState:M.EditorState.forceSelection(r,r.getSelection())})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.inlineToolbarState.value;return P.default.createElement("div",{className:this.ss("link-input-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideLinkInput}))}}]),t}(),g.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,inlineToolbarState:j.default.object,setEditorState:j.default.func,changeLinkInputValue:j.default.func,hideLinkInput:j.default.func},_=v))||_)||_)||_);e.exports={LinkButton:F,LinkInput:K}},function(e,t){e.exports={link_input_place_holder:"link_input_place_holder_1qKH"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.setEditorState"],["draft.setEditorState"]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(5),E=a(50),k=a(11),S=n(a(3)),O=n(a(55)),T=(l=(0,b.decorator)({editorState:(0,w.state)(m,(0,w.props)(h)),setEditorState:(0,w.signal)(_)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClear=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState,i=r.getSelection(),s=r.getCurrentContent(),l=s.getBlockMap(),u=i.getStartKey(),c=i.getStartOffset(),d=i.getEndKey(),f=i.getEndOffset(),p=l.skipUntil(function(e,t){return t===u}).takeUntil(function(e,t){return t===d}).concat((0,E.Map)([[d,l.get(d)]])).map(function(e,t){var a=void 0,n=void 0;u===d?(a=c,n=f):(a=t===u?c:0,n=t===d?f:e.getLength());for(var r=e.getCharacterList(),o=void 0;a<n;){if((o=r.get(a)).getStyle().size>0){var i=o.set("style",o.getStyle().clear());o=k.CharacterMetadata.create(i),r=r.set(a,o)}var l=o.getEntity(),p=l&&s.getEntity(l);p&&"LINK"===p.getType()&&(o=k.CharacterMetadata.applyEntity(o,null),r=r.set(a,o)),a++}return e.set("characterList",r)});s=s.merge({blockMap:l.merge(p),selectionBefore:i,selectionAfter:i}),o({editorKey:a,editorState:k.EditorState.set(r,{currentContent:s})})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"render",value:function(){return g.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},g.default.createElement("button",{type:"button",onClick:this.onClear,className:this.ss("toolbar-button","clear","ifont","ifont-icons_inline_clear")}))}}]),t}(),d.propTypes={editorKey:v.default.string.isRequired,editorState:v.default.object,setEditorState:v.default.func},c=f))||c)||c);t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var a,n,s,b,w;return a=(0,h.decorator)({editorState:(0,_.state)(u,(0,_.props)(c)),setEditorState:(0,_.signal)(d)}),n=(0,v.default)(y.default),a(s=n((w=b=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.applyStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState,o=a.setEditorState,s=r.getSelection(),l=r.getCurrentContent();l=g.Modifier.applyInlineStyle(l,s,e),o({editorKey:n,editorState:g.EditorState.push(r,l,"change-inline-style")})},i.removeStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState,o=a.setEditorState,s=r.getSelection(),l=r.getCurrentContent();l=g.Modifier.removeInlineStyle(l,s,e),o({editorKey:n,editorState:g.EditorState.push(r,l,"change-inline-style")})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,m.default),l(n,[{key:"render",value:function(){var a=this.props.editorState,n=(0,g.getSelectionInlineStyle)(a).has(e);return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:n?this.removeStyle:this.applyStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,n&&"active")}))}}]),n}(),b.displayName="InlineStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},s=w))||s)||s};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(5),g=a(11),v=n(a(3)),y=n(a(55))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(2)),m=n(a(1)),h=n(a(23)),_=n(a(3)),g=n(a(55)),v={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===a.getEntity(t).getType()},t)},component:(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=a.getEntity(t).getData().url;return f.default.createElement(h.default,{text:r,position:"bottom",isSpan:!0,clickToHide:!1},f.default.createElement("a",{href:r,target:"_blank"},n))}}]),t}(),u.propTypes={entityKey:p.default.string.isRequired,contentState:p.default.object.isRequired,children:p.default.any.isRequired},l=c))||l};t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.sideToolbars.",""],["editor.sideToolbars.",""]),g=s(["editor.showSideToolbar"],["editor.showSideToolbar"]),v=s(["editor.hideSideToolbar"],["editor.hideSideToolbar"]),y=s(["editor.toggleSideToolbar"],["editor.toggleSideToolbar"]),b=s(["editor.closeSideToolbar"],["editor.closeSideToolbar"]),w=n(a(0)),E=n(a(2)),k=n(a(1)),S=a(6),O=a(5),T=a(26),P=n(a(73)),j=a(11),C=n(a(314)),I=n(a(320)),N=n(a(321)),M=n(a(327)),D=n(a(328)),x=n(a(329)),R=n(a(3)),L=n(a(40)),A=(l=(0,S.decorator)({editorState:(0,O.state)(m,(0,O.props)(h)),sideToolbarState:(0,O.state)(_,(0,O.props)(h)),showSideToolbar:(0,O.signal)(g),hideSideToolbar:(0,O.signal)(v),toggleSideToolbar:(0,O.signal)(y),closeSideToolbar:(0,O.signal)(b)}),u=(0,R.default)(L.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickOutside=function(){var e=n.props,t=e.editorKey;(0,e.closeSideToolbar)({editorKey:t})},n.onTogglePlus=function(){var e=n.props,t=e.editorKey;(0,e.toggleSideToolbar)({editorKey:t})},i=a,o(n,i)}return i(t,k.default),p(t,[{key:"componentDidMount",value:function(){this.removeClickOutside=(0,T.addClickOutside)([this],this.onClickOutside)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.editorState,n=e.hideSideToolbar,r=e.showSideToolbar,o=a.getSelection().getStartKey(),i=a.getCurrentContent().getBlockForKey(o);if("atomic"!==i.getType()){var s='[data-block="true"][data-editor="'+t+'"][data-offset-key="'+j.DraftOffsetKey.encode(i.getKey(),0,0)+'"]',l=document.querySelector(s);if(l){var u=l.getBoundingClientRect(),c=((0,P.default)(l.parentElement)||document.body).getBoundingClientRect(),d=u.top-c.top;r({editorKey:t,blockType:i.getType(),top:d})}}else n({editorKey:t})}},{key:"componentWillUnmount",value:function(){this.removeClickOutside()}},{key:"render",value:function(){var e=this.props,t=e.sideToolbarState,a=e.editorKey,n=e.allowImage,r=e.allowVideo,o=e.allowAttachment,i=e.allowHtml,s=e.allowTip,l=!!t,u=t&&t.blockType,c=t&&{top:t.top},d=t&&t.isOpen,f=!1===n&&!1===r&&!1===o&&!1===i&&!1===s;return w.default.createElement("div",{className:this.ss("side-toolbar",l&&"show",u),style:c},!f&&w.default.createElement("div",{className:this.ss("ifont","ifont-icons-add","plus",d&&"open"),onClick:this.onTogglePlus}),w.default.createElement(x.default,{editorKey:a}),w.default.createElement("div",{className:this.ss("menu-icons",d&&"open")},!1!==n&&w.default.createElement(C.default,{editorKey:a}),!1!==r&&w.default.createElement(I.default,{editorKey:a}),!1!==o&&w.default.createElement(N.default,{editorKey:a}),!1!==i&&w.default.createElement(M.default,{editorKey:a}),!1!==s&&w.default.createElement(D.default,{editorKey:a})))}}]),t}(),d.propTypes={editorKey:E.default.string.isRequired,editorState:E.default.object,sideToolbarState:E.default.object,allowImage:E.default.bool,allowVideo:E.default.bool,allowAttachment:E.default.bool,allowHtml:E.default.bool,allowTip:E.default.bool,showSideToolbar:E.default.func,hideSideToolbar:E.default.func,toggleSideToolbar:E.default.func,closeSideToolbar:E.default.func},c=f))||c)||c);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["header.showMessage"],["header.showMessage"]),v=s(["upload.uploadAttachment"],["upload.uploadAttachment"]),y=s(["draft.setEditorState"],["draft.setEditorState"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),k=a(6),S=a(5),O=a(315),T=a(11),P=n(a(23)),j=n(a(3)),C=n(a(40)),I=n(a(7)),N=n(a(56)),M=9,D=(l=(0,k.decorator)({editorState:(0,S.state)(h,(0,S.props)(_)),showMessage:(0,S.signal)(g),uploadAttachment:(0,S.signal)(v),setEditorState:(0,S.signal)(y)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickUpload=function(){n.refs.imageSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.uploadAttachment,s=r.setEditorState,l=r.editorKey;a.length>M?o({message:"fileMaxLength_9"}):(0,O.readImages)(a).then(function(e){var t=r.editorState,a=t.getSelection().focusKey;e.forEach(function(e){t=(0,T.addAtomicBlockBefore)(t,a,"IMAGE",{uploadId:e.id}),i({upload:e})}),s({editorKey:l,editorState:t})}),n.refs.imageSelect.value=null}},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"render",value:function(){var e=this.props.type;return b.default.createElement(P.default,{text:this.__("image_tooltip"),position:"bottom"},b.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},b.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),b.default.createElement("input",{type:"file",ref:"imageSelect",multiple:!0,accept:"image/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={type:w.default.string,editorKey:w.default.string.isRequired,editorState:w.default.object,showMessage:w.default.func,uploadAttachment:w.default.func,setEditorState:w.default.func},f.defaultProps={type:"photo"},d=p))||d)||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){if(0!==e.type.indexOf("image/"))throw new Error("file is not an image");return new Promise(function(t){var a=window.URL.createObjectURL(e),n=new window.Image;n.onload=function(){var r=n.width,o=n.height;t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"image",dataUrl:a,width:r,height:o})},n.src=a})}function i(e){return e=[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("image/")}),Promise.all(e.map(o))}function s(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"IMAGE"===a.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=o,t.readImages=i,t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=c.default;return e.decorator&&(n=e.decorator(n)),n=(0,l.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,o=(0,a.getProps)().controller,s=o.getState("project.dragOverBlockKey");if(!s)return"not-handled";var l=t.some(function(e){return 0===e.type.indexOf("image/")});return i(t).then(function(e){var t=n();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,s,"IMAGE",{uploadId:e.id}),o.getSignal("project.uploadAttachment")({upload:e})}),r(t)}),l?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,o=a().getSelection().getStartKey(),s=e.some(function(e){return 0===e.type.indexOf("image/")});return i(e).then(function(e){var t=a();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,o,"IMAGE",{uploadId:e.id}),r.getSignal("project.uploadAttachment")({upload:e})}),n(t)}),s?"handled":"not-handled"},decorators:[{strategy:s,component:n}]}};var l=n(a(36)),u=a(11),c=n(a(316))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["header.setting.windowWidth"],["header.setting.windowWidth"]),v=l(["project.contentMap"],["project.contentMap"]),y=l(["project.uploads"],["project.uploads"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),k=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),S=l(["project.retryUploadAttachment"],["project.retryUploadAttachment"]),O=l(["project.openContent"],["project.openContent"]),T=n(a(0)),P=n(a(2)),j=n(a(1)),C=a(6),I=a(5),N=a(17),M=a(11),D=n(a(15)),x=n(a(105)),R=n(a(103)),L=n(a(3)),A=n(a(318)),F=n(a(7)),K=n(a(319)),q=(u=(0,C.decorator)({windowWidth:(0,I.state)(g),contentMap:(0,I.state)(v),uploads:(0,I.state)(y),editorState:(0,I.state)(b,(0,I.props)(w)),setEditorState:(0,I.signal)(E),setEditorEditable:(0,I.signal)(k),retryUploadAttachment:(0,I.signal)(S),openContent:(0,I.signal)(O)}),c=(0,L.default)(A.default),d=(0,F.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.props,r=n.renderOnly,o=n.focus,i=n.openContent;r?i({contentId:t,url:a}):o(e)}},{key:"checkUpload",value:function(){if(!this.props.renderOnly){var e=this.props,t=e.entityKey,a=e.uploads,n=e.contentMap,o=e.editorKey,i=e.editorState,s=e.setEditorState,l=i.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&n&&n[p.contentId]&&!d){var m=(0,M.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));s({editorKey:o,editorState:M.EditorState.set(i,{currentContent:m})}),this.__placeholderSrc=p.dataUrl}}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),T.default.createElement("div",{className:this.ss("loading-bar")},T.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),T.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},T.default.createElement("span",{className:this.ss("content")},T.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),T.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return T.default.createElement(x.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("image_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.editorState,i=t.entityKey,s=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.windowWidth,d=o.getCurrentContent().getEntity(i).getData(),f=d.uploadId,p=d.contentId,m=d.url,h=void 0===m?"":m,_=p&&l[p],g=s[f],v=c?Math.min(c,1e3):1e3,y=void 0;if(_){var b=this.__placeholderSrc,w=_.originalImage,E=w.url,k=w.width,S=w.height,O=w.gif,P=k<v?{width:k,height:S,margin:"0 auto",display:"block"}:{};y=T.default.createElement("div",{className:this.ss("image-wrap","content")},T.default.createElement("div",{className:this.ss("image",a&&"focus"),style:P,onClick:function(t){return e.onImageClick(t,p,h)},draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:E,sizes:"1000px",placeholderSrc:b,width:k,height:S,gif:!!O})))}else if(g){var j=g.dataUrl,C=g.width,I=g.height,M=C<v?{width:C,height:I,margin:"0 auto",display:"block"}:{};y=T.default.createElement("div",{className:this.ss("image-wrap","upload",a&&"focus")},T.default.createElement("div",{className:this.ss("image"),style:M,onClick:n,draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:j,sizes:"1000px",width:C,height:I})),(0,N.isLoading)(g.status)&&this.renderLoading(g),(0,N.isFailed)(g.status)&&this.renderFailed(g))}return T.default.createElement("div",{className:this.ss("image-wrapper",u&&"render-only")},T.default.createElement(R.default,{text:h,position:"bottom",clickToHide:!1},y),this.renderCaption(_))}}]),t}(),p.propTypes={windowWidth:P.default.number,isFocused:P.default.bool,entityKey:P.default.string,renderOnly:P.default.bool,offsetKey:P.default.string,uploads:P.default.object,contentMap:P.default.object,editorKey:P.default.string.isRequired,editorState:P.default.object,focus:P.default.func,onDragStart:P.default.func,setEditorState:P.default.func,setEditorEditable:P.default.func,retryUploadAttachment:P.default.func,openContent:P.default.func},f=m))||f)||f)||f);t.default=q},function(e,t){e.exports={caption:"caption_2W6VtqEE",hide:"hide_3WsfRMnn"}},function(e,t){e.exports={"image-wrapper":"image-wrapper_3dqAwXWn","image-wrap":"image-wrap_2hIHVxg4",upload:"upload_1gep5Qhf",focus:"focus_2unaBO4d",content:"content_1Z6Qs-jN",image:"image_1z_exUwH",caption:"caption_3zflifMe","render-only":"render-only_ThD25orX","loading-wrap":"loading-wrap_lnoeRNnR","loading-text":"loading-text_1ecGCLG1","loading-bar":"loading-bar_2qIJLZhB",loading:"loading_1scOZSM2","loading-button":"loading-button_1AiyV8fx",retry:"retry_jHqyJ8cE",text:"text_2-ifxOy9"}},function(e,t){e.exports={image_uploading:"image_uploading_S4H2",image_uploading_failed:"image_uploading_failed_UaVA",image_uploading_retry:"image_uploading_retry_1RAt",image_caption_placeholder:"image_caption_placeholder_3uu3"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openUploadVideo"],["editor.openUploadVideo"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(5),k=n(a(23)),S=n(a(3)),O=n(a(40)),T=n(a(7)),P=n(a(56)),j=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openUploadVideo:(0,E.signal)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickVideo=function(){var e=n.props.editorKey;n.props.openUploadVideo({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(k.default,{text:this.__("video_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickVideo},v.default.createElement("div",{className:this.ss("ifont","ifont-icons_embed","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openUploadVideo:y.default.func},f.defaultProps={type:"video"},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["header.showMessage"],["header.showMessage"]),v=s(["upload.uploadRecord"],["upload.uploadRecord"]),y=s(["draft.setEditorState"],["draft.setEditorState"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),k=a(6),S=a(5),O=a(102),T=a(11),P=n(a(23)),j=n(a(3)),C=n(a(40)),I=n(a(7)),N=n(a(56)),M=9,D=(l=(0,k.decorator)({editorState:(0,S.state)(h,(0,S.props)(_)),showMessage:(0,S.signal)(g),uploadRecord:(0,S.signal)(v),setEditorState:(0,S.signal)(y)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickUpload=function(){n.refs.fileSelect.click()},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t,r=n.props,o=r.showMessage,i=r.uploadRecord,s=r.setEditorState,l=r.editorKey,u=(0,O.getFiles)(a);if(a.length>M)o({message:"fileMaxLength_9"});else{var c=0!==u.length,d=n.props.editorState,f=d.getSelection().focusKey;u.forEach(function(e){d=(0,T.addAtomicBlockBefore)(d,f,"VIDEOATTACHMENT",{uploadId:e.id}),i({upload:e})}),c&&s({editorKey:l,editorState:d})}n.refs.fileSelect.value=null}},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"render",value:function(){var e=this.props.type;return b.default.createElement(P.default,{text:this.__("video_attachment_tooltip"),position:"bottom"},b.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickUpload},b.default.createElement("div",{className:this.ss("ifont","ifont-icons-"+e,"icon")}),b.default.createElement("input",{type:"file",ref:"fileSelect",multiple:!0,accept:"video/*",className:this.ss("hide"),onChange:this.onFilesChange})))}}]),t}(),f.propTypes={type:w.default.string,editorKey:w.default.string.isRequired,editorState:w.default.object,showMessage:w.default.func,uploadRecord:w.default.func,setEditorState:w.default.func},f.defaultProps={type:"upload"},d=p))||d)||d)||d);t.default=D},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["loginUser"],["loginUser"]),v=l(["upload.uploads"],["upload.uploads"]),y=l(["editor.contentMap"],["editor.contentMap"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["common.loginTo"],["common.loginTo"]),k=l(["draft.setEditorState"],["draft.setEditorState"]),S=l(["upload.retryUploadRecord"],["upload.retryUploadRecord"]),O=l(["editor.addContent"],["editor.addContent"]),T=l(["editor.downloadContent"],["editor.downloadContent"]),P=l(["editor.downloadDraftContent"],["editor.downloadDraftContent"]),j=n(a(0)),C=n(a(2)),I=n(a(1)),N=a(6),M=a(5),D=a(17),x=a(12),R=a(11),L=n(a(44)),A=n(a(15)),F=n(a(105)),K=n(a(3)),q=n(a(323)),z=n(a(7)),B=n(a(324)),U=["video/mp4"],H=a(104),V=(u=(0,N.decorator)({loginUser:(0,M.state)(g),uploads:(0,M.state)(v),contentMap:(0,M.state)(y),editorState:(0,M.state)(b,(0,M.props)(w)),loginTo:(0,M.signal)(E),setEditorState:(0,M.signal)(k),retryUploadRecord:(0,M.signal)(S),addContent:(0,M.signal)(O),downloadContent:(0,M.signal)(T),downloadDraftContent:(0,M.signal)(P)}),c=(0,K.default)(q.default),d=(0,z.default)(B.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,I.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onDownload",value:function(e){var t=e.id,a=this.props,n=a.downloadContent,r=a.downloadDraftContent;a.renderOnly?n&&n({id:t}):r&&r({id:t})}},{key:"onAttachmentClick",value:function(e){var t=this.props,a=t.renderOnly,n=t.focus;a||n(e)}},{key:"checkUpload",value:function(){var e=this.props,t=e.entityKey,a=e.uploads,n=e.editorKey,o=e.editorState,i=e.setEditorState,s=e.addContent,l=o.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&!d){var m=(0,R.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:n,editorState:R.EditorState.set(o,{currentContent:m})}),s({content:p.content})}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadRecord)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return j.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})}},{key:"renderFailed",value:function(e){var t=this;return j.default.createElement("div",{className:this.ss("loading-failed")},j.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),j.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},j.default.createElement("span",{className:this.ss("content")},j.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),j.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return j.default.createElement(F.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("player_caption_placeholder")})}},{key:"renderPlayer",value:function(e){var t=this,a=this.props,n=a.isFocused,r=a.onDragStart,o=a.renderOnly,i=j.default.createElement("div",{className:this.ss("footer")},j.default.createElement("div",{className:this.ss("caption")},this.renderCaption()));return j.default.createElement("div",{className:this.ss("attachment-media",n&&"selected",o&&"render-only"),onClick:function(e){return t.onAttachmentClick(e)},draggable:!!r,onDragStart:r},j.default.createElement("div",{className:this.ss("player")},j.default.createElement(L.default,{renderOnly:o,videoContent:e})),i)}},{key:"renderPrivatePlayer",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo;return j.default.createElement("div",{className:this.ss("private-player")},j.default.createElement("div",{className:this.ss("player-wrap",!t&&"no-login"),onClick:function(){return!t&&a()}},j.default.createElement("div",{className:this.ss("player-img")},j.default.createElement(A.default,{src:H,sizes:"160px",width:160,height:133})),j.default.createElement("span",null,this.__(t?"label_private_player":"label_private_player_no_login"))))}},{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.editorState,o=e.entityKey,i=e.uploads,s=e.contentMap,l=e.renderOnly,u=r.getCurrentContent().getEntity(o).getData(),c=u.uploadId,d=u.contentId,f=d&&s[d],p=i[c];if(f){var m=f.contentType,h=f.isPrivate;return-1===U.indexOf(m)?null:h&&l?this.renderPrivatePlayer(f):this.renderPlayer(f)}if(p){var _=p.filename,g=p.fileSize,v=p.status;return j.default.createElement("div",{className:this.ss("attachment",!(0,D.isLoading)(v)&&t&&"selected"),onClick:a,draggable:!!n,onDragStart:n},j.default.createElement("div",{className:this.ss("empty")}),j.default.createElement("div",{className:this.ss("file-icon","ifont","ifont-icons_attachment2")}),j.default.createElement("div",{className:this.ss("content-body")},j.default.createElement("div",{className:this.ss("title")},_),j.default.createElement("div",{className:this.ss("size")},(0,x.formatSize)(g))),(0,D.isFailed)(v)&&this.renderFailed(p),(0,D.isLoading)(v)&&this.renderLoading(p))}return null}}]),t}(),p.propTypes={loginUser:C.default.object,isFocused:C.default.bool,entityKey:C.default.string,offsetKey:C.default.string,renderOnly:C.default.bool,uploads:C.default.object,contentMap:C.default.object,editorKey:C.default.string,editorState:C.default.object,loginTo:C.default.func,focus:C.default.func,onDragStart:C.default.func,setEditorState:C.default.func,retryUploadRecord:C.default.func,addContent:C.default.func,downloadContent:C.default.func,downloadDraftContent:C.default.func},f=m))||f)||f)||f);t.default=V},function(e,t){e.exports={empty:"empty_3TuJkHKw","file-icon":"file-icon_g8Shz2xv","content-body":"content-body_2YNVAxGs",title:"title_2lCd9HiU",size:"size_1vDl-sut",download:"download_2qhOovRX",lock:"lock_1JR9Nz-1",nonpointer:"nonpointer_1Y_TBbMX",attachment:"attachment_36ZqN0eF",selected:"selected_2UcrG-bZ","render-only":"render-only_gqd6mzXT","attachment-media":"attachment-media_irnkTOJ0",player:"player_14uifr8C","private-player":"private-player_2xQg3pxa","player-wrap":"player-wrap_1J-QE5wG","no-login":"no-login_1HCYqgvL","player-img":"player-img_1qlsHdGh","video-cover":"video-cover_ssIkluLU","video-cover-text":"video-cover-text_2bWW733a",footer:"footer_3bmJ122x",caption:"caption__s-DDnB0",buttons:"buttons_3dmpnfPD","loading-failed":"loading-failed_2OTKCWgB","loading-text":"loading-text_1ccjiOll","loading-button":"loading-button_3-3tnLin",content:"content_3e5ncNUR",retry:"retry_1uCiOhly",text:"text_xy21lTLo",loading:"loading_KTvci8Uf"}},function(e,t){e.exports={file_uploading_failed:"file_uploading_failed_3EAl",file_uploading_retry:"file_uploading_retry_m-bi",player_caption_placeholder:"player_caption_placeholder_1_sb",label_private_player:"label_private_player_3MOq",label_private_player_no_login:"label_private_player_no_login_2ZbW"}},function(e,t){e.exports={hide:"hide_2x9HRbFl","subtitle-wrapper":"subtitle-wrapper_39NuH942",head:"head_1XX2uYOu",des:"des_1ZBZF1xP","button-close":"button-close_1BgBKiRM","upload-wrapper":"upload-wrapper_1R94wfbN","subtitle-lang":"subtitle-lang_3ROFMT-c","subtitle-upload":"subtitle-upload_1ZZIGo4c",button:"button_3JMd4Qnz","subtitle-list":"subtitle-list_16nLPyPe","subtitle-item-wrapper":"subtitle-item-wrapper_3Ab3bC5J","subtitle-item":"subtitle-item_i0VC8W3o","file-icon":"file-icon_2wSAeXm5","content-body":"content-body_1fQSJRsl","content-title":"content-title_1U1ah5AU",title:"title_3c4nneB1",size:"size_1rvYvizm",dot:"dot_1y64ZxCF",delete:"delete_XaUIubaQ","loading-failed":"loading-failed_1261ALtJ","loading-text":"loading-text_3k7J_IFT","loading-button":"loading-button_1y2l-7qI",content:"content_2RLYnI8k",retry:"retry_39tTESne",text:"text_sS9ewnGe",loading:"loading_DdRqIC6Z",foot:"foot_3aJrOqHo"}},function(e,t){e.exports={title_add_subtitle:"title_add_subtitle_3G1A",title_des:"title_des_2LCp",button_close:"button_close_1qVx",upload_subtitle_tooltip:"upload_subtitle_tooltip_1eJJ",file_uploading_failed:"file_uploading_failed_or5j",file_uploading_retry:"file_uploading_retry_18Y4"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openUploadHtml"],["editor.openUploadHtml"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(5),k=n(a(23)),S=n(a(3)),O=n(a(40)),T=n(a(7)),P=n(a(56)),j=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openUploadHtml:(0,E.signal)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickHtml=function(){var e=n.props.editorKey;n.props.openUploadHtml({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(k.default,{text:this.__("html_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickHtml},v.default.createElement("div",{className:this.ss("ifont","ifont-icons-public","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openUploadHtml:y.default.func},f.defaultProps={type:"html"},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.openTipDialog"],["editor.openTipDialog"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(5),k=n(a(23)),S=n(a(3)),O=n(a(40)),T=n(a(7)),P=n(a(56)),j=(l=(0,w.decorator)({editorState:(0,E.state)(h,(0,E.props)(_)),openTipDialog:(0,E.signal)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClickHtml=function(){var e=n.props.editorKey;n.props.openTipDialog({editorKey:e})},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props.type;return v.default.createElement(k.default,{text:this.__("tip_tooltip"),position:"bottom"},v.default.createElement("button",{className:this.ss("button",e),onClick:this.onClickHtml},v.default.createElement("div",{className:this.ss("ifont","ifont-lrn_icon_school","icon",e)})))}}]),t}(),f.propTypes={type:y.default.string,editorKey:y.default.string.isRequired,openTipDialog:y.default.func},f.defaultProps={type:"tip"},d=p))||d)||d)||d);t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=n(a(3)),E=n(a(40)),k=n(a(330)),S={"header-one":"icons_block_h1","header-two":"icons_block_h2","unordered-list-item":"icons_block_ul","ordered-list-item":"icons_block_ol",blockquote:"icons_block_quote","code-block":"icons_code"},O=(l=(0,y.decorator)({editorState:(0,b.state)(m,(0,b.props)(h))}),u=(0,w.default)(E.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1},n.onMouseEnter=function(){n.setState({hover:!0})},n.onMouseLeave=function(){n.setState({hover:!1})},i=a,o(n,i)}return i(t,v.default),p(t,[{key:"renderToolbar",value:function(){if(!this.state.hover)return null;var e=this.props.editorKey,t=[_.default.createElement(T,{editorKey:e,key:"h1"}),_.default.createElement(P,{editorKey:e,key:"h2"}),_.default.createElement(j,{editorKey:e,key:"ul"}),_.default.createElement(C,{editorKey:e,key:"ol"}),_.default.createElement(I,{editorKey:e,key:"quote"}),_.default.createElement(N,{editorKey:e,key:"code-block"})];return _.default.createElement("div",{className:this.ss("block-toolbar-wrapper")},_.default.createElement("div",{className:this.ss("block-toolbar")},t))}},{key:"render",value:function(){var e=this.props.editorState,t="icons_paragraph";if(e){var a=e.getSelection().getStartKey(),n=e.getCurrentContent().getBlockForKey(a).getType();S[n]&&(t=S[n])}return _.default.createElement("div",{className:this.ss("paragraph-icon-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_.default.createElement("div",{className:this.ss("ifont","ifont-"+t,"paragraph-icon")}),this.renderToolbar())}}]),t}(),d.propTypes={editorKey:g.default.string.isRequired,editorState:g.default.object},c=f))||c)||c);t.default=O;var T=(0,k.default)("header-one","icons_block_h1"),P=(0,k.default)("header-two","icons_block_h2"),j=(0,k.default)("unordered-list-item","icons_block_ul"),C=(0,k.default)("ordered-list-item","icons_block_ol"),I=(0,k.default)("blockquote","icons_block_quote"),N=(0,k.default)("code-block","icons_code")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e,t){var a,n,s,b,w;return a=(0,h.decorator)({editorState:(0,_.state)(u,(0,_.props)(c)),setEditorState:(0,_.signal)(d)}),n=(0,v.default)(y.default),a(s=n((w=b=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.toggleStyle=function(t){t.preventDefault();var a=i.props,n=a.editorKey,r=a.editorState;(0,a.setEditorState)({editorKey:n,editorState:(0,g.toggleBlockType)(r,e)})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,m.default),l(n,[{key:"render",value:function(){var a=this.props.editorState,n=a.getSelection().getStartKey(),r=a.getCurrentContent().getBlockForKey(n).getType()===e;return f.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},f.default.createElement("button",{type:"button",onClick:this.toggleStyle,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,r&&"active")}))}}]),n}(),b.displayName="BlockStyleButton("+e+")",b.propTypes={editorKey:p.default.string.isRequired,editorState:p.default.object,setEditorState:p.default.func},s=w))||s)||s};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(5),g=a(11),v=n(a(3)),y=n(a(40))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["editor.mentionToolbars.",""],["editor.mentionToolbars.",""]),g=s(["suggest.candidate"],["suggest.candidate"]),v=s(["editor.showMentionToolbar"],["editor.showMentionToolbar"]),y=s(["editor.hideMentionToolbar"],["editor.hideMentionToolbar"]),b=s(["editor.moveToMentionItem"],["editor.moveToMentionItem"]),w=s(["suggest.fetchCandidates"],["suggest.fetchCandidates"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),k=n(a(0)),S=n(a(20)),O=n(a(2)),T=n(a(1)),P=a(6),j=a(5),C=a(11),I=n(a(73)),N=n(a(39)),M=n(a(3)),D=n(a(122)),x=(l=(0,P.decorator)({editorState:(0,j.state)(m,(0,j.props)(h)),mentionToolbarState:(0,j.state)(_,(0,j.props)(h)),suggestCandidate:(0,j.state)(g),showMentionToolbar:(0,j.signal)(v),hideMentionToolbar:(0,j.signal)(y),moveToMentionItem:(0,j.signal)(b),fetchCandidates:(0,j.signal)(w),setEditorState:(0,j.signal)(E)}),u=(0,M.default)(D.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onMouseDown=function(e){e.preventDefault();var t=n.props,a=t.mentionToolbarState,r=t.suggestCandidate,o=t.editorKey,i=t.editorState,s=t.setEditorState,l=a.prefix,u=a.index,c=r.user,d=c.length;s({editorKey:o,editorState:(0,C.addUserMention)(i,l,c[(u%d+d)%d])})},n.onMouseEnter=function(e){var t=n.props,a=t.editorKey;(0,t.moveToMentionItem)({editorKey:a,index:e})},i=a,o(n,i)}return i(t,T.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=e.editorState,a=this.props,n=a.editorState,r=a.editorKey,o=a.showMentionToolbar,i=a.hideMentionToolbar,s=a.fetchCandidates,l=t.getSelection(),u=n.getSelection();if(l!==u)if(u.isCollapsed()&&u.getHasFocus()){var c=n.getCurrentContent(),d=u.getFocusKey(),f=c.getBlockForKey(d),p=u.getFocusOffset();if("atomic"!==f.getType()&&"code-block"!==f.getType()){for(var m="",h=p-1;h>=0&&h>=p-20&&!(f.getEntityAt(h)||/\s/.test(f.getText()[h])&&" "!==f.getText()[h]);h--)if("@"===f.getText()[h]){(0===h||f.getEntityAt(h-1)||/\s/.test(f.getText()[h-1]))&&h+1<p&&(m=f.getText().substring(h+1,p));break}if(m){var _=(0,C.getLeafOffsetKeyAndOffset)(n,d,p-1-m.length),g=_.offsetKey,v=_.offset,y=(0,C.getLeafBoundingClientRect)(r,g,v),b=S.default.findDOMNode(this),w=((0,I.default)(b.parentElement)||document.body).getBoundingClientRect();if(y.top+y.bottom<window.innerHeight){var E=y.bottom-w.top+5,k=y.left-w.left;o({editorKey:r,top:Math.round(E),left:Math.round(k),prefix:m})}else{var O=w.bottom-y.top+5,T=y.left-w.left;o({editorKey:r,bottom:Math.round(O),left:Math.round(T),prefix:m})}s({q:m,st:"user"})}else i({editorKey:r})}else i({editorKey:r})}else i({editorKey:r})}},{key:"renderCandidate",value:function(e,t,a){var n=this;return k.default.createElement("div",{className:this.ss("candidate",a&&"active"),key:e.id,onMouseEnter:function(){return n.onMouseEnter(t)},onMouseDown:this.onMouseDown},k.default.createElement(N.default,{className:this.ss("avatar"),user:e,size:"xxxsmall"}),k.default.createElement("span",{className:this.ss("name")},"@",e.name))}},{key:"renderCandidates",value:function(){var e=this,t=this.props,a=t.mentionToolbarState,n=t.suggestCandidate,r=[];if(a&&"user"===n.st&&n.q===a.prefix&&n.user&&(r=n.user),!r.length)return null;var o=r.length,i=(a.index%o+o)%o;return k.default.createElement("div",{className:this.ss("candidates")},r.map(function(t,a){return e.renderCandidate(t,a,a===i)}))}},{key:"render",value:function(){var e=this.props.mentionToolbarState,t=!!e,a=e&&{top:e.top,bottom:e.bottom,left:e.left};return k.default.createElement("div",{className:this.ss("mention-toolbar",t&&"show"),style:a},this.renderCandidates())}}]),t}(),d.propTypes={editorKey:O.default.string.isRequired,editorState:O.default.object,mentionToolbarState:O.default.object,suggestCandidate:O.default.object,showMentionToolbar:O.default.func,hideMentionToolbar:O.default.func,moveToMentionItem:O.default.func,fetchCandidates:O.default.func,setEditorState:O.default.func},c=f))||c)||c);t.default=x},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.userCards"],["editor.userCards"]),h=s(["editor.fetchUserCard"],["editor.fetchUserCard"]),_=n(a(0)),g=n(a(20)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(5),E=n(a(333)),k=n(a(28)),S=n(a(3)),O=n(a(122)),T={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===a.getEntity(t).getType()},t)},component:(l=(0,b.decorator)({userCards:(0,w.state)(m),fetchUserCard:(0,w.signal)(h)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1,top:void 0,bottom:void 0},n.onMouseEnter=function(){var e=n.props,t=e.entityKey,a=e.contentState;(0,e.fetchUserCard)({id:a.getEntity(t).getData().userId});var r=g.default.findDOMNode(n).getBoundingClientRect(),o=void 0,i=void 0;r.top+r.bottom<window.innerHeight?o=r.height:i=r.height,n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!0,top:o,bottom:i})},750)},n.onMouseLeave=function(){n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!1})},750)},i=a,o(n,i)}return i(t,y.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearHoverTimeout()}},{key:"clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"renderUserCard",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.userCards[a.getEntity(t).getData().userId],r=this.state,o=r.hover,i=r.top,s=r.bottom;return n&&o?_.default.createElement(E.default,{user:n,top:i,bottom:s}):null}},{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=a.getEntity(t).getData().userId;return _.default.createElement("span",{className:this.ss("mention-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},_.default.createElement("a",{className:this.ss("link"),href:k.default.DEFAULT_URL+"/u/"+r},n),this.renderUserCard())}}]),t}(),d.propTypes={entityKey:v.default.string.isRequired,contentState:v.default.object.isRequired,children:v.default.any.isRequired,userCards:v.default.object,fetchUserCard:v.default.func},c=f))||c)||c)};t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(12),g=n(a(520)),v=n(a(39)),y=n(a(15)),b=n(a(23)),w=n(a(3)),E=n(a(334)),k=n(a(7)),S=n(a(335)),O=a(136),T=(s=(0,w.default)(E.default),l=(0,k.default)(S.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"onAvatarClick",value:function(e){(0,_.pauseEvent)(e);var t="/u/"+this.props.user.id;window.open(t,"_blank")}},{key:"renderProjects",value:function(){var e=this,t=this.props.user.projects;if(!t||0===t.length)return null;var a=t.map(function(t){var a=t.id,n=t.thumbnail;return p.default.createElement("div",{key:a,className:e.ss("project-thumbnail")},p.default.createElement(y.default,{src:n&&n.url||O,sizes:"80px"}))});return p.default.createElement("div",{className:this.ss("projects")},a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.top,r=t.bottom,o=g.default.getCoverImage(a);return p.default.createElement("div",{className:this.ss("user-card"),style:{top:n,bottom:r},contentEditable:!1,onClick:function(t){return e.onAvatarClick(t)}},p.default.createElement("div",{className:this.ss("content-wrapper")},p.default.createElement("div",{className:this.ss("cover-image")},p.default.createElement(y.default,{src:o,sizes:"300px"})),p.default.createElement("div",{className:this.ss("avatar-area")},p.default.createElement(v.default,{user:a,size:"xlarge"})),p.default.createElement("div",{className:this.ss("card-desc")},p.default.createElement("div",{className:this.ss("card-desc-top")},p.default.createElement("div",{className:this.ss("card-name")},a.fullName),p.default.createElement("div",{className:this.ss("card-title")},a.title),p.default.createElement("div",{className:this.ss("social-wrapper")},p.default.createElement(b.default,{text:this.__("followers_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("followers")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-followers-icon")}),p.default.createElement("div",{className:this.ss("followers-count")},(0,_.formatNumber)(a.followCount)))),p.default.createElement("div",{className:this.ss("divider")}),p.default.createElement(b.default,{text:this.__("likes_count"),position:"bottom"},p.default.createElement("div",{className:this.ss("likes")},p.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-heart")}),p.default.createElement("div",{className:this.ss("likes-count")},(0,_.formatNumber)(a.likeCount))))),this.renderProjects()))))}}]),t}(),c.propTypes={user:m.default.object,top:m.default.number,bottom:m.default.number},u=d))||u)||u);t.default=T},function(e,t){e.exports={"user-card":"user-card_3QHGjl9W","content-wrapper":"content-wrapper_y4fqw5HR","cover-image":"cover-image_GV8vL2SY","avatar-area":"avatar-area_2kl-G2hH","card-desc":"card-desc_1-Nxhfja","card-desc-top":"card-desc-top_Qlffgx87","card-name":"card-name_Es-BaLPy","card-title":"card-title__wHs7SEq","social-wrapper":"social-wrapper_2PXzroBm",followers:"followers_eEDdPtME",likes:"likes_6srmNub_",icon:"icon_3luINJmE",divider:"divider_1Khef2S2",projects:"projects__9zoCfZp","project-thumbnail":"project-thumbnail_2mUQBu2q"}},function(e,t){e.exports={followers_count:"followers_count_1b1g",likes_count:"likes_count_2G8K"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=s(["draft.setEditorState"],["draft.setEditorState"]),g=s(["editor.mentionLearnToolbars.",""],["editor.mentionLearnToolbars.",""]),v=s(["editor.showMentionLearnToolbar"],["editor.showMentionLearnToolbar"]),y=s(["editor.hideMentionLearnToolbar"],["editor.hideMentionLearnToolbar"]),b=s(["editor.moveToMentionLearnItem"],["editor.moveToMentionLearnItem"]),w=s(["learnSuggest.fetchCandidates"],["learnSuggest.fetchCandidates"]),E=s(["learnSuggest.candidate"],["learnSuggest.candidate"]),k=n(a(0)),S=n(a(20)),O=n(a(2)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(15)),N=a(11),M=n(a(73)),D=n(a(3)),x=n(a(123)),R=(l=(0,P.decorator)({editorState:(0,j.state)(m,(0,j.props)(h)),setEditorState:(0,j.signal)(_),mentionLearnToolbarState:(0,j.state)(g,(0,j.props)(h)),showMentionLearnToolbar:(0,j.signal)(v),hideMentionLearnToolbar:(0,j.signal)(y),moveToMentionLearnItem:(0,j.signal)(b),fetchCandidates:(0,j.signal)(w),suggestCandidate:(0,j.state)(E)}),u=(0,D.default)(x.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onMouseDown=function(e){e.preventDefault();var t=n.props,a=t.mentionLearnToolbarState,r=t.suggestCandidate,o=t.editorKey,i=t.editorState,s=t.setEditorState,l=a.prefix,u=a.index,c=r.learn,d=c.length;s({editorKey:o,editorState:(0,N.addLearnMention)(i,l,c[(u%d+d)%d])})},n.onMouseEnter=function(e){var t=n.props,a=t.editorKey;(0,t.moveToMentionLearnItem)({editorKey:a,index:e})},i=a,o(n,i)}return i(t,T.default),p(t,[{key:"componentDidUpdate",value:function(e){var t=e.editorState,a=this.props,n=a.editorState,r=a.editorKey,o=a.showMentionLearnToolbar,i=a.hideMentionLearnToolbar,s=a.fetchCandidates,l=t.getSelection(),u=n.getSelection();if(l!==u)if(u.isCollapsed()&&u.getHasFocus()){var c=n.getCurrentContent(),d=u.getFocusKey(),f=c.getBlockForKey(d),p=u.getFocusOffset();if("atomic"!==f.getType()&&"code-block"!==f.getType()){for(var m="",h=p-1;h>=0&&h>=p-20&&!(f.getEntityAt(h)||/\s/.test(f.getText()[h])&&" "!==f.getText()[h]);h--)if("#"===f.getText()[h]){(0===h||f.getEntityAt(h-1)||/\s/.test(f.getText()[h-1]))&&h+1<p&&(m=f.getText().substring(h+1,p));break}if(m){var _=(0,N.getLeafOffsetKeyAndOffset)(n,d,p-1-m.length),g=_.offsetKey,v=_.offset,y=(0,N.getLeafBoundingClientRect)(r,g,v),b=S.default.findDOMNode(this),w=((0,M.default)(b.parentElement)||document.body).getBoundingClientRect();if(y.top+y.bottom<window.innerHeight){var E=y.bottom-w.top+5,k=y.left-w.left;o({editorKey:r,top:Math.round(E),left:Math.round(k),prefix:m})}else{var O=w.bottom-y.top+5,T=y.left-w.left;o({editorKey:r,bottom:Math.round(O),left:Math.round(T),prefix:m})}s({q:m,st:"learn"})}else i({editorKey:r})}else i({editorKey:r})}else i({editorKey:r})}},{key:"renderCandidate",value:function(e,t,a){var n=this;return k.default.createElement("div",{className:this.ss("candidate",a&&"active"),key:e.id,onMouseEnter:function(){return n.onMouseEnter(t)},onMouseDown:this.onMouseDown},k.default.createElement("div",{className:this.ss("avatar")},k.default.createElement(I.default,{src:(0,C.get)(e,"thumbnail.url"),sizes:"56px",height:32,width:56})),k.default.createElement("span",{className:this.ss("name")},"#",e.title))}},{key:"renderCandidates",value:function(){var e=this,t=this.props,a=t.mentionLearnToolbarState,n=t.suggestCandidate,r=[];if(a&&"learn"===n.st&&n.q===a.prefix&&n.learn&&(r=n.learn),!r.length)return null;var o=r.length,i=(a.index%o+o)%o;return k.default.createElement("div",{className:this.ss("candidates")},r.map(function(t,a){return e.renderCandidate(t,a,a===i)}))}},{key:"render",value:function(){var e=this.props.mentionLearnToolbarState,t=!!e,a=e&&{top:e.top,bottom:e.bottom,left:e.left};return k.default.createElement("div",{className:this.ss("mention-toolbar",t&&"show"),style:a},this.renderCandidates())}}]),t}(),d.propTypes={editorKey:O.default.string.isRequired,editorState:O.default.object,mentionLearnToolbarState:O.default.object,suggestCandidate:O.default.object,showMentionLearnToolbar:O.default.func,hideMentionLearnToolbar:O.default.func,moveToMentionLearnItem:O.default.func,fetchCandidates:O.default.func,setEditorState:O.default.func},c=f))||c)||c);t.default=R},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["editor.mentionLearnCards"],["editor.mentionLearnCards"]),h=s(["editor.fetchMentionLearnCard"],["editor.fetchMentionLearnCard"]),_=s(["currentHost"],["currentHost"]),g=n(a(0)),v=n(a(20)),y=n(a(2)),b=n(a(1)),w=a(6),E=a(5),k=n(a(338)),S=a(9),O=n(a(19)),T=n(a(3)),P=n(a(123)),j={strategy:function(e,t,a){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTIONLEARN"===a.getEntity(t).getType()},t)},component:(l=(0,w.decorator)({learnCards:(0,E.state)(m),fetchMentionLearnCard:(0,E.signal)(h),currentHost:(0,E.state)(_)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={hover:!1,top:void 0,bottom:void 0},n.onMouseEnter=function(){var e=n.props,t=e.entityKey,a=e.contentState,r=e.fetchMentionLearnCard,o=a.getEntity(t).getData().learnItemId,i=(0,S.GetTypeIdByItemId)(o);r({id:i.id,type:i.type});var s=v.default.findDOMNode(n).getBoundingClientRect(),l=void 0,u=void 0;s.top+s.bottom<window.innerHeight?l=s.height:u=s.height,n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!0,top:l,bottom:u})},750)},n.onMouseLeave=function(){n.clearHoverTimeout(),n.hoverTimeout=setTimeout(function(){n.setState({hover:!1})},750)},i=a,o(n,i)}return i(t,b.default),p(t,[{key:"componentWillUnmount",value:function(){this.clearHoverTimeout()}},{key:"clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"renderLearnCard",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.learnCards,r=a.getEntity(t).getData().learnItemId,o=n[(0,S.GetTypeIdByItemId)(r).id],i=this.state,s=i.hover,l=i.top,u=i.bottom;return o&&s?g.default.createElement(k.default,{learn:o,top:l,bottom:u}):null}},{key:"render",value:function(){var e=this.props,t=e.entityKey,a=e.contentState,n=e.children,r=e.currentHost,o=a.getEntity(t).getData().learnItemId,i=(0,S.GetTypeIdByItemId)(o),s=i.id,l=i.type;return g.default.createElement("span",{className:this.ss("mention-wrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},g.default.createElement("a",{className:this.ss("link"),target:"_blank",href:(0,O.default)("/"+l+"/"+s,r)},n),this.renderLearnCard())}}]),t}(),d.propTypes={entityKey:y.default.string.isRequired,contentState:y.default.object.isRequired,children:y.default.any.isRequired,learnCards:y.default.object,currentHost:y.default.string,fetchMentionLearnCard:y.default.func},c=f))||c)||c)};t.default=j},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(4),g=a(12),v=n(a(15)),y=n(a(41)),b=n(a(43)),w=n(a(38)),E=a(9),k=n(a(3)),S=n(a(339)),O=n(a(7)),T=n(a(340)),P=(s=(0,k.default)(S.default),l=(0,O.default)(T.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"onCardClick",value:function(e){(0,g.pauseEvent)(e);var t=this.props.learn,a=t.id,n=t.type;(0,w.default)("/"+n+"/"+a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.learn,n=t.top,r=t.bottom,o=a||{},i=o.title,s=o.type,l=o.skillLevel,u=(0,_.get)(a,"withManual")?(0,_.get)(a,"manualDuration"):(0,_.get)(a,"duration");return p.default.createElement("div",{className:this.ss("learn-card-wrapper"),style:{top:n,bottom:r},contentEditable:!1,onClick:function(t){return e.onCardClick(t)}},p.default.createElement("div",{className:this.ss("learn-card"),onClick:this.onClick},p.default.createElement("div",{className:this.ss("card-img")},p.default.createElement(v.default,{src:(0,_.get)(a,"thumbnail.url"),sizes:"280px",height:160,width:280})),p.default.createElement("div",{className:this.ss("card-content")},p.default.createElement("div",{className:this.ss("content-des")},p.default.createElement("div",{className:this.ss("title")},i),p.default.createElement("div",{className:this.ss("info")},this.__("type_"+s),p.default.createElement("div",{className:this.ss("dot")}),(0,E.GetSkillLevelText)(this.context,l),p.default.createElement("div",{className:this.ss("dot")}),p.default.createElement(b.default,{duration:u,theme:"minute"}))),p.default.createElement(y.default,{data:a}))))}}]),t}(),c.propTypes={learn:m.default.object,top:m.default.number,bottom:m.default.number},u=d))||u)||u);t.default=P},function(e,t){e.exports={"learn-card-wrapper":"learn-card-wrapper_3qsvh6Vs","complete-icon":"complete-icon_3H6KBEPN","learn-card":"learn-card_1kwhSL3u","card-img":"card-img_1vvtdUAk","collect-wrap":"collect-wrap_2mWWbykl","card-content":"card-content_1QS2bBsy","content-des":"content-des_2aJ0sCP8",title:"title_2-E3sWzp",info:"info_Zb8QEn5V",dot:"dot_1Qvd5BHY"}},function(e,t){e.exports={type_quiz:"type_quiz_vh_1",type_tutorial:"type_tutorial_cOzx",type_project:"type_project_1mIj",type_course:"type_course_3wUV"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly,n=e.registerActionPath;if(!t)throw new Error("editorKey is empty");return{onChange:a?void 0:function(e,t){var a=t.getEditorState,r=t.getProps,o=a();if(!o||o.getCurrentContent()!==e.getCurrentContent()){var i=r().controller,s=n||"editor.draftChanged",l=e.getCurrentContent().getPlainText();i.getSignal(s)({value:l&&l.trim()})}return e}}}},function(e,t){e.exports={"container-wrap":"container-wrap_ZH4_4VPI","size-medium":"size-medium_2xfQYT77",radio:"radio_zmNEI--x",radioInner:"radioInner_2XbzgXOB","size-small":"size-small_W9G7cN6q","size-large":"size-large_7mOXNe1V",active:"active_1nKuwA6A","theme-full-inner":"theme-full-inner_3nMtEtPh","size-normal":"size-normal_2iK-QWKD",container:"container_2vk1nNna",disabled:"disabled_43YZ0nf8",label:"label_20_tXt0Z",light:"light_29_nTCs-",inherit:"inherit_1Kr7Ad_R",hintLabel:"hintLabel_3pXyjYCE"}},function(e,t){e.exports={container:"container_1JtbqTM5",area:"area_29bxCL4i",disable:"disable_grZfB0uJ",check:"check_1B4WxH09",inner:"inner_1HcymOtv",checked:"checked_3IxCKko2",label:"label_2KG4biOt",reverse:"reverse_sHliWj7F"}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","tooltips"];t.default={name:e,depends:[],signals:{tooltipShow:[function(e){var t=e.props;e.state.set([].concat(a,[t.id]),t)}],tooltipHide:[function(e){var t=e.props;e.state.unset([].concat(a,[t.id]))}]},getState:function(){return{tooltips:{}}}}}).call(t,"views/learn/modules/common/TooltipStore.js")},function(e,t){e.exports={"breadcrumb-tip-content-wrap":"breadcrumb-tip-content-wrap_2cSQIvfv","breadcrumb-item":"breadcrumb-item_2bRadV00","content-last":"content-last_2a7TEuFx",title:"title_YTc0aYN_","level-0":"level-0_xOBrDoEq","level-1":"level-1_kHSjLUB6","line-horizontal":"line-horizontal_16RFye4G","level-2":"level-2_1yPxF6G1",content:"content_3R1gtHcU","content-link":"content-link_2u4dW4yR","breadcrumb-item-content":"breadcrumb-item-content_QGFnuj1w",line:"line_1ADw7BfX","line-vertical":"line-vertical_3n4nbQYo","line-top":"line-top_1azTeACg","line-bottom":"line-bottom_19Z5fipc","sticker-head":"sticker-head_2Qr1t-pc"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["",".statsMap"],["",".statsMap"]),h=s(["statsPath"],["statsPath"]),_=n(a(2)),g=n(a(0)),v=n(a(1)),y=a(6),b=a(5),w=a(4),E=n(a(15)),k=n(a(3)),S=n(a(410)),O=(l=(0,y.decorator)({statsMap:(0,b.state)(m,(0,b.props)(h))}),u=(0,k.default)(S.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),p(t,[{key:"calculateStar",value:function(){var e=this.props,t=e.statsMap,a=e.id,n=e.ids,r=void 0===n?[]:n;a&&r.push(a);var o={},i=0,s=0;if(r.forEach(function(e){if(!0!==o[e]){o[e]=!0;var a=(0,w.get)(t,e+".ratingCount");a&&Object.keys(a).forEach(function(e){i+=parseInt(e,10)*a[e],s+=a[e]})}}),s<5||!i)return null;var l=parseFloat((i/s).toFixed(2)),u=Math.floor(l),c=0;return c=l-u<.5?u:u+.5,{star:c,score:i}}},{key:"render",value:function(){var e=this.props.showScore,t=this.calculateStar();if(!t)return null;for(var n=[],r=1;r<=5;r++)n.push(g.default.createElement("div",{key:"rating-"+r,className:this.ss("star-wrapper")},g.default.createElement("div",{className:this.ss("star")},r<=t.star?g.default.createElement(E.default,{sizes:"100vw",src:a(411)}):g.default.createElement(E.default,{sizes:"100vw",src:a(412)})),r-t.star<1&&g.default.createElement("div",{className:this.ss("star","half")},g.default.createElement(E.default,{sizes:"100vw",src:a(413)}))));return 0===n.length?null:g.default.createElement("div",{className:this.ss("rating-container")},n,e&&g.default.createElement("div",{className:this.ss("score")},"(",t.score,")"))}}]),t}(),d.propTypes={id:_.default.string,ids:_.default.array,statsPath:_.default.string,statsMap:_.default.object,showScore:_.default.bool},d.defaultProps={showScore:!1},c=f))||c)||c);t.default=O},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.props,a=e.state,n=e.controller,r=t.options,o=void 0===r?{}:r,i=b.default.getCriteria(a),s={};Object.keys(i).forEach(function(e){s[e]=""});var l=t.query;n.getSignal("search.searchCall")(h({},b.default.updateCriteria(a,h({},s,l)),{options:h({},o,{isPOP:!0})}))}function i(e){var t=e.props,a=e.state,n=t.value,r=(0,w.get)(t,"key",k.CriteriaKeys.query),o={type:r,value:n};b.default.removeKeywordByKey({key:r},a),b.default.appendKeyword({candidate:o},a)}function s(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{ob:t.value})}function l(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{tod:t.value})}function u(e){var t=e.props,a=e.state;b.default.updateCriteria(a,{u:t.value})}function c(e){var t=e.state;b.default.updateCriteria(t,{u:""})}function d(e){var t=e.props,a=e.state,n=t.itemId;n&&b.default.updateCriteria(a,{itemId:n})}function f(e,t){return{schema:e,request:{endpoint:t,method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.config,n=(0,w.get)(a,"request.params",{}),r=b.default.getCriteria(t),o=t.get("search.pageSize"),i=t.get("userPremium");return{params:h({},n,r,{pageSize:o,prm:i})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=(0,E.ParseKeyword)(n.get("search.criteria.k")),o=(0,w.get)(r,"queries",[]).join(" ");if(200===t&&a&&o===a.text){n.merge("search",a);var i=(0,w.get)(a,"learner");n.merge("learner",i)}}}}function p(e,t){return{schema:e,request:{endpoint:t,method:"get",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.config,n=(0,w.get)(a,"request.params",{}),r=b.default.getCriteria(t),o=parseInt(t.get("search.page"),10),i=1;o&&(i=o+1);var s=t.get("search.pageSize"),l=t.get("userPremium");return{params:h({},n,r,{page:i,pageSize:s,prm:l})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){n.concat("search.results",a.results||[]),n.merge("search.quizMap",a.quizMap||{}),n.merge("search.projectMap",a.projectMap||{}),n.merge("search.tutorialMap",a.tutorialMap||{}),n.merge("search.userMap",a.userMap||{}),n.merge("search.statsMap",a.statsMap||{}),n.merge("search.industryMap",a.industryMap||{}),n.merge("search.topicMap",a.topicMap||{}),n.set("search.criteria",a.criteria),n.set("search.page",a.page),n.set("search.pageSize",a.pageSize),n.set("search.text",a.text),n.set("search.total",a.total);var r=(0,w.get)(a,"learner")||{};n.merge("learner.collectMap",r.collectMap||{}),n.merge("learner.likeMap",r.likeMap||{}),n.merge("learner.quizMap",r.quizMap||{}),n.merge("learner.recordMap",r.recordMap||{})}}}}function m(t){function a(e){var t=e.props,a=e.state,n=e.search,r=t.options,o=void 0===r?{}:r;if(!0!==(o=h({},k,o)).skipSyncToLocation){var i=b.default.getCriteria(a);if(!0===o.includeTab){var s=a.get("common.tab");i=h({},i,{tab:s})}o.isPOP||n.syncToHistory({criteria:i})}}var n=t.apiURL,m=t.ignoreKeys,w=t.searchSchema,E=t.loadMoreSchema,k=t.defaultOptions;m=m||O,k=k||{};var T=f(w,n),P=p(E,n),j=[a].concat(r((0,y.CallHTTP)(T)));return{name:e,depends:[],signals:{searchCall:(0,y.CallHTTP)(T),syncFromLocation:[o],syncToLocation:[a],changeSearchKeyword:[i],changeSearchKeywordCall:[i].concat(r(j)),checkKeyword:[function(e){var t=e.props,a=e.state,n=t.value,r=t.checked,o={type:t.key,value:n};r?b.default.appendKeyword({candidate:o},a):b.default.removeKeyword({candidate:o},a)}].concat(r(j)),removeKeywordByKey:[function(e){var t=e.props,a=e.state;b.default.removeKeywordByKey(t,a)}].concat(r(j)),clearKeyword:[function(e){var t=e.state;b.default.updateCriteria(t,{k:JSON.stringify([])})}].concat(r(j)),clearSearchFilters:[function(e){var t=e.state,a=e.props.criteria||{k:JSON.stringify([])};b.default.updateCriteria(t,a)},d].concat(r(j)),changeOwnerId:[u].concat(r(j)),removeOwnerId:[c].concat(r(j)),changeOrderBy:[s].concat(r(j)),changeItemId:[d].concat(r(j)),changeTimeOfDay:[l].concat(r(j)),getCalendarList:[function(e){var t=e.props,a=e.state,n=t.period;b.default.updateCriteria(a,{period:n,tod:"",k:JSON.stringify([])})}].concat(r((0,y.CallHTTP)(T))),doSearch:j,presetCriteriaSearch:[function(e){var t=e.state,a=e.props;b.default.updateCriteria(t,a.criteria)}].concat(r(j)),loadMore:(0,y.CallHTTP)(P),clearSearchStore:[function(e){e.state.set(["search"],{criteria:{}})}]},getServices:function(e){var t=(0,g.default)((0,v.default)(_.default))({basename:window.location.pathname});return t.listen(function(t){S&&"POP"===t.action&&!0!==k.skipSyncFromLocation&&e.getSignal("search.syncFromLocation")({query:t.query})}),S=!0,{syncToHistory:function(e){var a=e.criteria,n=h({},a);m.forEach(function(e){n[e]&&delete n[e]}),t.push({pathname:"/",query:n})}}},getState:function(){return{criteria:{}}}}}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetSearchConfig=f,t.GetLoadMoreConfig=p,t.SyncSearchStatsCommentCount=function(e,t,a){var n=["search","statsMap",t,"commentCount"],r=e.get(n)+a;e.set(n,r)},t.GetSearchStore=m;var _=n(a(62)),g=n(a(63)),v=n(a(64)),y=a(10),b=n(a(366)),w=a(4),E=a(9),k=a(8),S=!1,O=["page","u","open","tod","prm","itemId"],T=m({apiURL:"/api/learn/search",searchSchema:k.LEARNER_SEARCH,loadMoreSchema:k.SEARCH_LOAD_MORE});t.default=T}).call(t,"views/learn/modules/search/SearchStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["common.loginTo"],["common.loginTo"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(5),E=n(a(16)),k=n(a(3)),S=n(a(408)),O=n(a(7)),T=n(a(409)),P=(l=(0,b.decorator)({loginUser:(0,w.state)(h),loginTo:(0,w.signal)(_)}),u=(0,k.default)(S.default),c=(0,O.default)(T.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleLoginTo=function(){n.props.loginTo()},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){return this.props.loginUser?null:v.default.createElement("div",{className:this.ss("banner-wrapper")},v.default.createElement("div",{className:this.ss("banner-container")},v.default.createElement("div",{className:this.ss("text")},this.__("banner_text"),v.default.createElement("a",{className:this.ss("mobile","link"),onClick:this.handleLoginTo},this.__("sign_button_text"))),v.default.createElement("div",{className:this.ss("pc")},v.default.createElement(E.default,{label:this.__("sign_button_text"),theme:"white",onClick:this.handleLoginTo}))))}}]),t}(),f.propTypes={loginUser:g.default.object,loginTo:g.default.func},d=p))||d)||d)||d);t.default=P},,function(e,t){e.exports={"record-button":"record-button_1fjRHbDd",hint:"hint_1FYVvd3V","progress-info":"progress-info_xzdl0ir8"}},function(e,t){e.exports={button_start_tutorial:"button_start_tutorial_2NQF",button_start_project:"button_start_project_2UFY",button_start_course:"button_start_course_2-L4",button_continue:"button_continue_19wy",button_resume_tutorial:"button_resume_tutorial_QLAI",button_resume_project:"button_resume_project_FTtm",button_resume_course:"button_resume_course_2KK5",button_restart:"button_restart_39bM",hint_completed_tutorial:"hint_completed_tutorial_reGg",hint_completed_project:"hint_completed_project_1V_S",hint_completed_course:"hint_completed_course_1oqP",time_format:"time_format_2NDY",progress_info_tutorial:"progress_info_tutorial_ESwX",progress_info_project:"progress_info_project_RM1i",progress_info_course:"progress_info_course_FtD8"}},function(e,t){e.exports={"label-wrapper":"label-wrapper_2-i0mDq0","hide-hour":"hide-hour_1XDP8ZVP",minute:"minute_1TPWERBw",item:"item_2ZTR6dTo"}},function(e,t){e.exports={"record-button":"record-button_2UNC6q9-","record-item":"record-item_a7ppH6I4",tip:"tip_2AQp0BF1","retake-tip":"retake-tip_2AW7BKma","sticker-head":"sticker-head_KRn7cNws","retake-quiz-tip":"retake-quiz-tip_3ps127bO","submitted-hold":"submitted-hold_3WblEUcR","retake-button":"retake-button_2PnSZ6kd",tooltip:"tooltip_oI18MuUq"}},function(e,t){e.exports={center:"center_21qQXnVT","sticker-head-wrap":"sticker-head-wrap_19ZBEyoY","sticker-head":"sticker-head_3ZmmLkMC",breadcrumb:"breadcrumb_Wedf2ehI","sticker-head-body":"sticker-head-body_zrnJV7LP","breadcrumb-tip":"breadcrumb-tip_3CrOosP-","thumbnail-wrap":"thumbnail-wrap_1PDReFEj","button-group":"button-group_2uJs1jM-","breadcrumb-tip-content":"breadcrumb-tip-content_LsK6p8zg",icon:"icon_290z8nmj",fold:"fold_3z4Ymt5D","button-comment":"button-comment_-HL8u_Zi","comment-icon":"comment-icon_3GUkwV4k","button-share":"button-share_3c-zNBho","share-icon":"share-icon_o2cvURAQ",thumbnail:"thumbnail_CIlFHtu_","content-wrap":"content-wrap_2p64oHuD","root-link":"root-link_37oaO07Y","root-wrap":"root-wrap_2NTEuqk2",dot:"dot_Bkz22NGb","title-wrap":"title-wrap_253wJPTK",title:"title_2tkU0zPR","progress-bar":"progress-bar_1iipjNZT",dots:"dots_1V-wws-I",bars:"bars_36p-QJLX",bar:"bar_3KSH3l-G","outline-wrap":"outline-wrap_1T7nA-rg","outline-middle":"outline-middle_y58r-LVk","outline-title":"outline-title_XS-_L7ng","outline-items":"outline-items_1c-_oxHM",text:"text_2_r3alnw",active:"active_G8uUbhXJ","item-wrap":"item-wrap_39shHjpm","item-link":"item-link_f99k-kbM","item-title-wrap":"item-title-wrap_2XPM1_iY",item:"item_eF9wYLGW","item-title":"item-title_35rPmmn9","item-index":"item-index_uYf0-UTD",primary:"primary_2Kqh98Dr",secondary:"secondary_2yvU0Q1X","button-overview":"button-overview_2nKlcpqi","breadcrumb-tree":"breadcrumb-tree_3I7Ifsty","breadcrumb-tree-content":"breadcrumb-tree-content_rEwcrYN_","close-banner":"close-banner_1yxLz9fb","close-icon":"close-icon_wzaG7Eei","top-cover":"top-cover_2dwFle2P","bottom-cover":"bottom-cover_307e1HyI","overview-hidden":"overview-hidden_29_0duby",status:"status_11SnQd_T","dot-wrap":"dot-wrap_3ls6hv6j","dot-label":"dot-label_25EP3OKS","complete-icon":"complete-icon_1GE6P1Vu",completed:"completed_2lMGH6Xv","vertical-line":"vertical-line_1qbCOa5L","status-bg-up":"status-bg-up_2uXBCJRQ","status-bg-down":"status-bg-down_2Ar2wkQ7"}},function(e,t){e.exports={type_tutorial:"type_tutorial_39oX",type_project:"type_project_1IoE",type_course:"type_course_3agg",type_quiz:"type_quiz_Yu1w",button_start_tutorial:"button_start_tutorial_2EJp",button_start_project:"button_start_project_3n8I",button_start_course:"button_start_course_2VDa",button_show_tutorial:"button_show_tutorial_XSfp",button_show_project:"button_show_project_onpV",button_show_course:"button_show_course_2e_Z",button_hide_tutorial:"button_hide_tutorial_1fLt",button_hide_project:"button_hide_project_LDS0",button_hide_course:"button_hide_course_2brj",continue:"continue_N7Ef",start_here:"start_here_1cTC",start_again:"start_again_gEqK"}},function(e,t){e.exports={"project-wrapper":"project-wrapper_1mK4gpTB","premium-wrapper":"premium-wrapper_8_ptjDDt","complete-icon":"complete-icon_cclAQjNg",dark:"dark_1tcuTn5L","project-card":"project-card_2IEmEE2X","card-content":"card-content_3JsrtkXA","content-des":"content-des_2-cyLOtP",title:"title_Uoy-a_j9","card-link":"card-link_4dUBG1zb","card-img":"card-img_32ZoEDpg","collect-wrap":"collect-wrap_POxbTjKu",info:"info_dtlMneWO",author:"author_3Z_-Du5E","study-method-wrapper":"study-method-wrapper_2JprRRHR",dot:"dot_1mTwnbX2"}},function(e,t){e.exports={premium:"premium_1g2L"}},function(e,t){e.exports={"tutorial-wrapper":"tutorial-wrapper_38rBM9rp","eyebrow-wrapper":"eyebrow-wrapper_3KhTbYvM","complete-icon":"complete-icon_J7vTQ7a0",medium:"medium_1Hn0nUAT","card-content":"card-content_3j0dLJzR","content-des":"content-des_11lPGe5Z",title:"title_3s1qsBpS",dark:"dark_KbSZpPGb","tutorial-card":"tutorial-card_1cu2ihe1","card-link":"card-link_1svLTTsr","card-img":"card-img_GJgJ8KMH","collect-wrap":"collect-wrap_36sX4unn",info:"info_2tc_y7rY",author:"author_1-ANhwgf",parent:"parent_1PcbPtVj","part-of":"part-of_Do_utNMQ","parent-link":"parent-link_2qMZqXhs","link-text":"link-text_1Lr8MKic",hidden:"hidden_1-8k7TNy"}},function(e,t){e.exports={part_of:"part_of_1hfN"}},,,function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.props,a=e.state,n=e.upload,r=d({state:a,props:t});a.set([].concat(D,[r.id]),r),n.httpUpload(r)}function o(e){var t=e.props,a=e.state,n=e.upload,r=f(t.id,a),o=T({},r);o.loaded=0,o.total=0,o.speed=0,o.status=C.default.inProgress,delete o.err,a.set([].concat(D,[r.id]),o),n.httpUpload(o)}function i(e){var t=e.props,a=e.state,n=e.upload,r=d({state:a,props:t});a.set([].concat(D,[r.id]),r),n.httpUpload(r,0)}function s(e){var t=e.props,a=e.state,n=e.upload,r=f(t.id,a),o=T({},r);o.speed=0,o.status=C.default.inProgress,delete o.err;var i=t.result.end;i||(o.total=0),a.set([].concat(D,[r.id]),o),n.httpUpload(o,i)}function l(e){var t=e.controller,a=e.props,n=a.retryCount,r=void 0===n?0:n,o={id:a.id,err:a.err,retryCount:r+1};o.retryCount<=x?setTimeout(function(){t.getSignal("upload.uploadRecordAutoRetry")(o)},R):t.getSignal("upload.uploadFail")(o)}function u(e){var t=e.props,a=e.state,n=t.id;L[n]&&L[n].abort(),h(n,a)}function c(e){return{id:e.id||P.default.createNonce(),sort:e.sort||0,uploadType:e.uploadType||"",filename:e.file&&e.file.name||"",fileSize:e.file&&e.file.size||0,contentType:e.file&&e.file.type||"",width:e.width||0,height:e.height||0,dataUrl:e.dataUrl||"",url:e.url||"",title:e.title||"",file:e.file||{},location:e.location||"",loaded:0,speed:0,status:e.status||C.default.inProgress,itemId:e.itemId,itemType:e.itemType,contentId:e.contentId,language:e.language}}function d(e){var t=e.state,a=e.props,n=(0,M.get)(a,"upload")||{},r=(0,M.get)(a,"learnResourceType")||"",o=(0,M.get)(a,"result.location"),i=T({},n,{location:o}),s=void 0,l=void 0;if(r)l=r,r===N.DataTypeKeys.submission&&(s=t.get("submissionData.id"));else{var u=t.get("tutorialData")||t.get("quizData")||t.get("projectData")||t.get("courseData")||t.get("liveSessionData")||t.get("missionData")||t.get("pathwayData")||t.get("badgeData")||t.get("competencyData");s=(0,M.get)(u,"id"),l=(0,M.get)(u,"type")}return(0,M.merge)(i,{itemId:s,itemType:l}),c(i)}function f(e,t){return t.get([].concat(D,[e]))}function p(e,t){t.set([].concat(D,[e.id]),e)}function m(e,t){var a=f(e.id,t);t.set([].concat(D,[e.id]),T({},a,e))}function h(e,t){t.get([].concat(D,[e]))&&(t.unset([].concat(D,[e])),delete L[e])}function _(e){var t=e.props,a=e.http,n=e.path;return a.post("/api/resumableUpload",{fileName:t.upload.file.name,fileType:t.upload.file.type,fileSize:t.upload.file.size,private:!1}).then(n.success).catch(n.error)}function g(e){var t=e.props,a=e.state,n=e.http,r=e.path,o=f(t.id,a),i=encodeURIComponent(o.location);return n.get("/api/resumableUpload?location="+i).then(r.success).catch(r.error)}function v(e){p(e.props,e.state)}function y(e){var t=e.props,a=e.state,n=a.get([].concat(D,[t.id]));if(n){var r=0;if(n.processTime){var o=t.processTime-n.processTime;o<=0&&(o=1),r=1e3*(t.loaded-n.loaded)/o}t.speed=r,a.set([].concat(D,[n.id]),T({},n,t))}}function b(e){var t=e.props,a=e.state,n=t.id,r=t.result,o=r&&JSON.parse(r)||{};m({id:n,contentId:o.id,content:o,status:C.default.succeeded},a)}function w(e){var t=e.props,a=e.state;f(t.id,a)&&m({id:t.id,err:t.err,status:C.default.failed},a)}function E(e){var t=e.props,a=e.state,n=e.controller,r=f(t.id,a);if(r){var o=(0,I.getErrorMsg)("upload",r.err);n.getSignal("header.showMessage")({message:o})}}function k(e){var t=e.props,a=e.state;h(t.id,a)}function S(e){var t=e.controller,a=e.attachmentsAPIPath,n=e.apiPath,r=e.JSONTypes;return{httpUpload:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.file,s=e.fileSize,u=e.uploadType,c=e.location,d=e.filename,f=e.contentType,p=new XMLHttpRequest;if(p.open("POST",""+j.default.REQUEST_BASE_URL+(u&&n[u]||a),!0),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),p.timeout=0,p.upload.addEventListener("progress",function(a){return t.getSignal("upload.uploadProgress")({id:e.id,loaded:a.loaded+o,total:a.total+o,processTime:Date.now()})}),p.addEventListener("timeout",function(){return t.getSignal("upload.uploadFail")({id:e.id})}),p.addEventListener("error",function(){return t.getSignal("upload.uploadFail")({id:e.id,err:"network_error"})}),p.addEventListener("abort",function(){return t.getSignal("upload.uploadAbort")({id:e.id})}),p.addEventListener("readystatechange",function(){if(p&&4===p.readyState)if(p.status>=200&&p.status<300)t.getSignal("upload.uploadComplete")({id:e.id,sort:e.sort,result:p.response});else if(502===p.status){var a={id:e.id,err:"network_error"};"videoattachment"===u?l({controller:t,props:a}):t.getSignal("upload.uploadFail")(a)}else p.status>0&&t.getSignal("upload.uploadFail")({id:e.id,err:JSON.parse(p.responseText)})}),-1!==r.indexOf(u)){p.setRequestHeader("Content-Type","application/json");var m={url:e.url,title:e.title};e.itemId&&(m.itemId=e.itemId),e.itemType&&(m.itemType=e.itemType),p.send(JSON.stringify(m))}else{var h=new FormData;e.itemId&&h.append("itemId",e.itemId),e.itemType&&h.append("itemType",e.itemType),e.contentId&&h.append("contentId",e.contentId),e.language&&h.append("language",e.language),h.append("fileName",d),h.append("fileType",f),h.append("size",s-o),h.append("offset",o.toString()),c&&(h.append("location",c),h.append("uploadMode","resumable")),0!==o?h.append("file",i.slice(o)):h.append("file",i),p.send(h)}L[e.id]=p}}}function O(t){var a=t.attachmentsAPIPath,n=t.apiPath,c=t.JSONTypes;return{name:e,depends:[],signals:{uploadAttachment:[r],retryUploadAttachment:[o],uploadRecord:[_,{success:[i],error:[]}],retryUploadRecord:[g,{success:[s],error:[]}],uploadRecordAutoRetry:[g,{success:[s],error:[l]}],cancelUploadAttachment:[u],uploadCreate:[v],uploadProgress:[y],uploadComplete:[b],uploadFail:[w,E],uploadAbort:[k]},getServices:function(e){return S({controller:e,attachmentsAPIPath:a,apiPath:n,JSONTypes:c})},getState:function(){return{uploads:{}}},getUpload:f}}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.GetUploadStore=O;var P=n(a(132)),j=n(a(28)),C=n(a(17)),I=a(12),N=a(8),M=a(4),D=["upload","uploads"],x=12,R=5e3,L={},A=O({attachmentsAPIPath:"/api/learn/attachments",apiPath:{thumbnail:"/api/learn/thumbnail",video:"/api/learn/tutorial/0/video",image:"/api/learn/tutorial/0/image",audio:"/api/learn/tutorial/0/audio",model3d:"/api/learn/tutorial/0/sketchfab",assetstore:"/api/learn/tutorial/0/asset",videoattachment:"/api/learn/tutorial/0/videoattachment",videosubtitle:"/api/learn/tutorial/0/videosubtitle"},JSONTypes:["video","audio","model3d","assetstore"]});t.default=A}).call(t,"views/learn/modules/upload/UploadStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionCommentChannel=t.LearnComment=t.LoadMore=t.Message=t.CommentItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),V=r(["comment.focusMsgId"],["comment.focusMsgId"]),G=r(["comment.componentFocused"],["comment.componentFocused"]),W=r(["userGroups"],["userGroups"]),Q=r(["loginUser"],["loginUser"]),J=r(["learner.likeMap"],["learner.likeMap"]),Y=r(["learner.reportMap"],["learner.reportMap"]),X=r(["comment.currentReplyId"],["comment.currentReplyId"]),Z=r(["comment.currentEditId"],["comment.currentEditId"]),$=r(["comment.toggleCurrentReplyId"],["comment.toggleCurrentReplyId"]),ee=r(["comment.toggleEditId"],["comment.toggleEditId"]),te=r(["learner.toggleCommentLike"],["learner.toggleCommentLike"]),ae=r(["report.openReportDialog"],["report.openReportDialog"]),ne=r(["comment.deleteComment"],["comment.deleteComment"]),re=r(["comment.setFocusComponent"],["comment.setFocusComponent"]),oe=r(["comment.loadMore"],["comment.loadMore"]),ie=r(["comment.loadMoreStatus"],["comment.loadMoreStatus"]),se=r(["comment.loadBeforeMoreStatus"],["comment.loadBeforeMoreStatus"]),le=r(["commentData.commentIds"],["commentData.commentIds"]),ue=r(["submissionCommentData.authorMap"],["submissionCommentData.authorMap"]),ce=r(["submissionCommentData.commentMap.",""],["submissionCommentData.commentMap.",""]),de=r(["channelId"],["channelId"]),fe=n(a(2)),pe=n(a(0)),me=n(a(20)),he=a(6),_e=a(5),ge=n(a(1)),ve=a(4),ye=n(a(28)),be=n(a(39)),we=n(a(504)),Ee=a(17),ke=n(a(648)),Se=n(a(23)),Oe=n(a(650)),Te=a(12),Pe=n(a(653)),je=a(79),Ce=n(a(3)),Ie=n(a(655)),Ne=n(a(7)),Me=n(a(364)),De=(l=(0,he.decorator)({}),u=(0,Ce.default)(Ie.default),c=(0,Ne.default)(Me.default),l(d=u(d=c((p=f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channelId,a=e.channel,n=e.dataType,r=e.authorMap,o=((0,ve.get)(a,"messages.items")||[]).map(function(e,o){var i=(0,ve.get)(e,"id"),s=void 0;return s=n&&"submission"===n?"submissionCommentData.commentMap."+t+".messages.items."+o:"commentData.commentMap."+t+".messages.items."+o,pe.default.createElement(xe,{key:"comment-"+i,channelId:t,comment:e,channel:a,dataType:n,authorMap:r,statsPath:s})});return 0===o.length?null:pe.default.createElement("div",{className:this.ss("comments-wrapper",n+"Tim")},pe.default.createElement(Le,{channel:a,dataType:n,channelId:t,isBefore:!0}),o,pe.default.createElement(Le,{channel:a,dataType:n,channelId:t}))}}]),t}(),f.propTypes={channelId:fe.default.string,dataType:fe.default.string,channel:fe.default.object,authorMap:fe.default.object},f.defaultProps={},d=p))||d)||d)||d);t.default=De;var xe=t.CommentItem=(m=(0,he.decorator)({focusMsgId:(0,_e.state)(V),componentFocused:(0,_e.state)(G)}),h=(0,Ce.default)(Ie.default),_=(0,Ne.default)(Me.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={showAllReply:!1},n.handleViewMoreReplies=function(){n.setState({showAllReply:!0})},n.handleHideReplies=function(){n.setState({showAllReply:!1})},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.channel,a=e.comment,n=(0,ve.get)(a,"id");((0,ve.get)(t,"replyMap."+n+".items")||[]).length<=1&&!this.state.showAllReply&&this.setState({showAllReply:!0})}},{key:"renderSubItemsOperate",value:function(e){var t=e.message,a=this.props,n=a.channel,r=a.comment,o=(0,ve.get)(r,"id"),i=((0,ve.get)(n,"replyMap."+o+".items")||0).length,s=(0,ve.get)(t,"id"),l=[];return this.state.showAllReply?l.push(pe.default.createElement("button",{key:"hide-replies-"+s,className:this.ss("button-message-operate","button-more"),onClick:this.handleHideReplies},this.__("hide_replies",{total:i-1}))):l.push(pe.default.createElement("button",{key:"view-more-"+s,className:this.ss("button-message-operate","button-more"),onClick:this.handleViewMoreReplies},this.__("view_more_replies",{total:i-1}))),pe.default.createElement("div",{className:this.ss("subitems-operate")},l)}},{key:"renderSubItems",value:function(){var e=this,t=this.props,a=t.channelId,n=t.channel,r=t.comment,o=t.dataType,i=t.authorMap,s=(0,ve.get)(r,"id"),l=(0,ve.get)(n,"replyMap."+s+".items")||[],u=l.length,c=this.state.showAllReply;u>1&&!c&&(l=l.slice(0,1));var d=l.map(function(t,r){var l=(0,ve.get)(t,"id"),c=void 0;return c=o&&"submission"===o?"submissionCommentData.commentMap."+a+".replyMap."+s+".items."+r:"commentData.commentMap."+a+".replyMap."+s+".items."+r,0===r&&u>1?pe.default.createElement("div",{key:"message-"+l,className:e.ss("subitems-first")},pe.default.createElement(Re,{key:"message-"+l,channelId:a,channel:n,parentMessageId:s,dataType:o,message:t,authorMap:i,statsPath:c}),e.renderSubItemsOperate({message:t})):pe.default.createElement(Re,{key:"message-"+l,channelId:a,channel:n,parentMessageId:s,dataType:o,message:t,authorMap:i,statsPath:c})});return 0===d.length?null:pe.default.createElement("div",{className:this.ss("subitems")},pe.default.createElement(Le,{channel:n,dataType:o,channelId:a,parentMessageId:s,isBefore:!0}),d,c&&pe.default.createElement(Le,{dataType:o,channel:n,channelId:a,parentMessageId:s}))}},{key:"render",value:function(){var e=this.props,t=e.channelId,a=e.comment,n=e.statsPath,r=e.authorMap,o=e.dataType,i=e.focusMsgId,s=e.channel,l=e.componentFocused,u=(0,ve.get)(a,"id"),c=(0,ve.get)(s,"replyMap."+u+".items")||[];if(i&&""!==i&&!l){for(var d=!1,f=0;f<c.length;f++)if(c[f].id===i){d=!0;break}d&&!this.state.showAllReply&&(this.state.showAllReply=!0)}return pe.default.createElement("div",{className:this.ss("comment-item")},pe.default.createElement("div",{className:this.ss("root-message")},pe.default.createElement(Re,{key:"message-"+u,channelId:t,channel:s,dataType:o,message:a,authorMap:r,statsPath:n})),this.renderSubItems())}}]),t}(),v.propTypes={channelId:fe.default.string,focusMsgId:fe.default.string,dataType:fe.default.string,channel:fe.default.object,comment:fe.default.object,authorMap:fe.default.object,statsPath:fe.default.string,componentFocused:fe.default.bool},v.defaultProps={},g=y))||g)||g)||g),Re=t.Message=(b=(0,he.decorator)({userGroups:(0,_e.state)(W),loginUser:(0,_e.state)(Q),likeMap:(0,_e.state)(J),reportMap:(0,_e.state)(Y),currentReplyId:(0,_e.state)(X),currentEditId:(0,_e.state)(Z),toggleCurrentReplyId:(0,_e.signal)($),toggleEditId:(0,_e.signal)(ee),toggleLike:(0,_e.signal)(te),openReportDialog:(0,_e.signal)(ae),deleteComment:(0,_e.signal)(ne),setFocusComponent:(0,_e.signal)(re),focusMsgId:(0,_e.state)(V),componentFocused:(0,_e.state)(G)}),w=(0,Ce.default)(Ie.default),E=(0,Ne.default)(Me.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onToggleLike=function(e){e&&(0,Te.pauseEvent)(e);var t=n.props,a=t.message,r=t.toggleLike,o=t.statsPath,i=t.channelId,s=(0,ve.get)(a,"id"),l=(0,ve.get)(a,"parentMessageId")||"";s&&r&&r({id:s,parentMessageId:l,type:"message",statsPath:o,channelId:i})},n.getParseContent=function(e){return Pe.default.parse(e,!0)},n.handleReport=function(e){var t=e.hasReport,a=n.props,r=a.openReportDialog,o=a.channelId,i=a.message,s=(0,ve.get)(i,"id"),l=(0,ve.get)(i,"parentMessageId");r&&r({type:"message",channelId:o,itemId:s,parentMessageId:l,reportStatus:t&&"submitted"})},n.handleDelete=function(){var e=n.props,t=e.message,a=e.userGroups,r=e.loginUser,o=e.openReportDialog,i=e.deleteComment,s=e.dataType;if(r&&t){var l=(0,ve.get)(t,"id");(0,ve.get)(r,"id")===(0,ve.get)(t,"authorId")?i({messageId:l,dataType:s}):(0,je.isLearnModeratorAll)(a)&&o&&o({reportStatus:"delete",itemId:l,dataType:s})}},n.handleReply=function(){var e=n.props,t=e.message,a=e.toggleCurrentReplyId,r=(0,ve.get)(t,"id");a&&a({messageId:r})},n.handleEdit=function(){var e=n.props,t=e.message,a=e.toggleEditId,r=e.channelId,o=e.dataType,i=(0,ve.get)(t,"id"),s=(0,ve.get)(n.props,"parentMessageId")||"";a&&a({messageId:i,parentMessageId:s,channelId:r,dataType:o})},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"renderUserRole",value:function(){var e=this,t=this.props,a=t.authorMap,n=t.message,r=t.dataType,o=(0,ve.get)(n,"id"),i=(0,ve.get)(n,"authorId"),s=((0,ve.get)(a,i+".authorTypes")||[]).map(function(t){return pe.default.createElement("div",{key:"message-"+o+"-author-"+t,className:e.ss("user-role")},e.__("author_type_"+t))});return 0===s.length?null:pe.default.createElement("div",{className:this.ss("user-role-group")},"tutorial"===r&&s)}},{key:"renderEditUpdated",value:function(){var e=this.props.message,t=(0,ve.get)(e,"postTime"),a=(0,ve.get)(e,"updateTime");return a&&a>t?pe.default.createElement("div",{className:this.ss("from-update")},this.__("updateEdited")):null}},{key:"renderMessageHead",value:function(){var e=this.props,t=e.authorMap,a=e.message,n=e.parentMessageId,r=(0,ve.get)(a,"authorId"),o=(0,ve.get)(a,"postTime"),i=(0,ve.get)(t,r),s=(0,ve.get)(i,"fullname")||(0,ve.get)(i,"username"),l=ye.default.DEFAULT_URL+"/u/"+r;return pe.default.createElement("div",{className:this.ss("message-head")},pe.default.createElement("div",{className:this.ss("message_content")},pe.default.createElement("a",{className:this.ss("link","avatar"),href:l},pe.default.createElement(be.default,{user:i,size:n?"xxxsmall":"xxsmall"})),pe.default.createElement("a",{className:this.ss("link","user-name"),href:l},s),this.renderUserRole(),pe.default.createElement("div",{className:this.ss("from-now")},this.__("comment_created_at",{time:o})),this.renderEditUpdated()))}},{key:"renderMessageButtons",value:function(){var e=this.props,t=e.message,a=e.likeMap,n=(0,ve.get)(t,"id"),r=(0,ve.get)(a,""+n),o=(0,ve.get)(t,"likeCount"),i=(0,Te.formatNumber)(o);return pe.default.createElement("div",{className:this.ss("message-buttons")},pe.default.createElement("div",{className:this.ss("like-button-wrap")},pe.default.createElement("button",{className:this.ss("toggle-active-button","like-button"),onClick:this.onToggleLike},r?pe.default.createElement("div",{className:this.ss("icon","active","ifont","ifont-icon-like")}):pe.default.createElement("div",{className:this.ss("icon","inactive","ifont","ifont-material-outline-thumb_up")})),pe.default.createElement("div",{className:this.ss("like-num")},i)))}},{key:"renderMessageBody",value:function(){var e=this.props,t=e.message,a=e.currentEditId,n=(0,ve.get)(t,"content"),r=this.getParseContent(n),o=!!(0,ve.get)(t,"deletedTime");if(a===(0,ve.get)(t,"id"))return null;if(o){var i=(0,ve.get)(t,"authorId")===(0,ve.get)(t,"deletedBy");return pe.default.createElement("div",{className:this.ss("message-body","archived")},i?this.__("archived_tip_user"):this.__("archived_tip"))}return pe.default.createElement("div",{className:this.ss("message-body")},pe.default.createElement("div",{className:this.ss("message-content")},r),this.renderMessageButtons())}},{key:"renderOperateGroup",value:function(){var e=this,t=this.props,a=t.message,n=t.parentMessageId,r=t.currentEditId,o=t.reportMap,i=t.userGroups,s=t.loginUser;if(!!(0,ve.get)(a,"deletedTime"))return null;var l=(0,ve.get)(a,"id"),u=(0,ve.get)(a,"authorId"),c=!!(0,ve.get)(o,l),d=(0,ve.get)(s,"id")===u,f=(0,je.isLearnModeratorAll)(i)||d;if(r===l)return null;var p=[];return n||p.push(pe.default.createElement("div",{key:"reply-"+l,className:this.ss("reply")},pe.default.createElement("button",{className:this.ss("button-message-operate","button-reply"),onClick:this.handleReply},this.__("reply")))),p.push(pe.default.createElement("div",{key:"tool-buttons-"+l,className:this.ss("tool-buttons-wrap")},pe.default.createElement("div",{className:this.ss("flag_button")},pe.default.createElement(Se.default,{text:this.__("flag_this_comment"),position:"left"},pe.default.createElement("button",{className:this.ss("toggle-active-button","button"),onClick:function(){return e.handleReport({hasReport:c})}},pe.default.createElement("div",{className:this.ss("icon",c&&"active","ifont","ifont-icons-flag")})))),f&&pe.default.createElement("button",{className:this.ss("toggle-active-button","button","delete_button"),onClick:function(){return e.handleDelete()}},pe.default.createElement("div",{className:this.ss("text")},this.__("button_delete"))),d&&pe.default.createElement("button",{className:this.ss("toggle-active-button","button","edit_button"),onClick:function(){return e.handleEdit()}},pe.default.createElement("div",{className:this.ss("text")},this.__("button_edit"))))),pe.default.createElement("div",{className:this.ss("operate-group",n&&"flex-end")},p)}},{key:"renderReplyInput",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.message,r=e.currentReplyId,o=e.dataType;return(0,ve.get)(n,"id")!==r?null:pe.default.createElement("div",{className:this.ss("reply-input",o+"-input")},pe.default.createElement(we.default,{theme:"reply",channel:t,dataType:o,channelId:a}))}},{key:"renderEditInput",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.parentMessageId,r=e.message,o=e.currentEditId,i=e.dataType,s=(0,ve.get)(r,"id");return s!==o?null:pe.default.createElement("div",{className:this.ss("edit-input",i+"-input")},pe.default.createElement(we.default,{theme:"edit",channel:t,dataType:i,channelId:a,parentMessageId:n,messageId:s}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.parentMessageId,n=t.message,r=t.focusMsgId,o=t.setFocusComponent,i=t.componentFocused;return n.id!==r||i||setTimeout(function(){var t=me.default.findDOMNode(e);t&&o({component:t.offsetTop})},100),pe.default.createElement("div",{className:this.ss("message-item","message-level-"+(a?2:1),n.id===r?"selected":"")},this.renderMessageHead(),this.renderMessageBody(),this.renderOperateGroup(),this.renderReplyInput(),this.renderEditInput())}}]),t}(),S.propTypes={userGroups:fe.default.array,loginUser:fe.default.object,authorMap:fe.default.object,statsPath:fe.default.string,likeMap:fe.default.object,reportMap:fe.default.object,channelId:fe.default.string,message:fe.default.object,parentMessageId:fe.default.string,currentReplyId:fe.default.string,currentEditId:fe.default.string,theme:fe.default.string,dataType:fe.default.string,channel:fe.default.object.isRequired,openReportDialog:fe.default.func,toggleCurrentReplyId:fe.default.func,toggleEditId:fe.default.func,toggleLike:fe.default.func,deleteComment:fe.default.func,focusMsgId:fe.default.string,setFocusComponent:fe.default.func,componentFocused:fe.default.bool},S.defaultProps={},k=O))||k)||k)||k),Le=t.LoadMore=(T=(0,he.decorator)({loadMore:(0,_e.signal)(oe),loadMoreStatus:(0,_e.state)(ie),loadBeforeMoreStatus:(0,_e.state)(se)}),P=(0,Ce.default)(Ie.default),j=(0,Ne.default)(Me.default),T(C=P(C=j((N=I=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onLoadMore=function(){var e=n.props,t=e.channelId,a=e.parentMessageId,r=e.loadMore,o=e.loadMoreStatus,i=e.dataType,s=a?(0,ve.get)(o,a):(0,ve.get)(o,t);if(!(0,Ee.isLoading)(s)){var l={channelId:t,dataType:i};a&&(l.parentMessageId=a),r&&r(l)}},n.onLoadBeforeMore=function(){var e=n.props,t=e.channelId,a=e.parentMessageId,r=e.loadMore,o=e.loadBeforeMoreStatus,i=e.dataType,s=a?(0,ve.get)(o,a):(0,ve.get)(o,t);if(!(0,Ee.isLoading)(s)){var l={channelId:t,dataType:i,isBefore:!0};a&&(l.parentMessageId=a),r&&r(l)}},r=a,i(n,r)}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.channelId,n=t.channel,r=t.parentMessageId,o=t.loadMoreStatus,i=t.isBefore,s=t.dataType,l=void 0,u=void 0;if(r||(l=(0,ve.get)(n,"messages"),u=(0,ve.get)(o,a)),r&&(l=(0,ve.get)(n,"replyMap."+r),u=(0,ve.get)(o,r)),i){if(!(0,ve.get)(l,"hasBeforeMore"))return null}else{var c=(0,ve.get)(l,"hasMore"),d=((0,ve.get)(l,"items")||[]).length,f=(0,ve.get)(l,"total")||0;if(!c||d>=f)return null}var p=(0,Ee.isLoading)(u),m=null;return p?m=pe.default.createElement("div",{className:this.ss("loading")}):p||(m=s&&"tutorial"===s?pe.default.createElement("button",{className:this.ss("button-message-operate","button-load-more"),onClick:function(){return i?e.onLoadBeforeMore():e.onLoadMore()}},this.__("view_more")):pe.default.createElement("button",{className:this.ss("button-message-operate","button-view-more"),onClick:function(){return i?e.onLoadBeforeMore():e.onLoadMore()}},this.__("load_more"))),pe.default.createElement("div",{className:this.ss("load-more")},m)}}]),t}(),I.propTypes={channelId:fe.default.string,channel:fe.default.object,parentMessageId:fe.default.string,dataType:fe.default.string,loadMore:fe.default.func,loadMoreStatus:fe.default.object,loadBeforeMoreStatus:fe.default.object,isBefore:fe.default.bool},I.defaultProps={},C=N))||C)||C)||C);t.LearnComment=(M=(0,he.decorator)({channelIds:(0,_e.state)(le)}),D=(0,Ce.default)(Ie.default),x=(0,Ne.default)(Me.default),M(R=D(R=x((A=L=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channelIds,a=e.scrollToStep,n=e.type,r=(t||[]).map(function(e,t){return pe.default.createElement(ke.default,{key:"channel-"+e,scrollToStep:a,contentType:n,channelId:e,channelIdx:t})});return 0===r.length?null:pe.default.createElement("div",{className:this.ss("comment-wrap")},pe.default.createElement(Oe.default,null),r)}}]),t}(),L.propTypes={type:fe.default.string,channelIds:fe.default.array,scrollToStep:fe.default.func},L.defaultProps={},R=A))||R)||R)||R),t.SubmissionCommentChannel=(F=(0,he.decorator)({authorMap:(0,_e.state)(ue),channel:(0,_e.state)(ce,(0,_e.props)(de))}),K=(0,Ce.default)(Ie.default),q=(0,Ne.default)(Me.default),F(z=K(z=q((U=B=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,ge.default),H(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.channelId,n=e.authorMap,r=e.submissionType,o=Object.assign({},t);return pe.default.createElement("div",{className:this.ss("submission-wrap")},pe.default.createElement(we.default,{channel:o,channelId:a,dataType:r}),pe.default.createElement(De,{channelId:a,channel:o,dataType:r,authorMap:n}))}}]),t}(),B.propTypes={channel:fe.default.object,authorMap:fe.default.object,channelId:fe.default.string,submissionType:fe.default.string},B.defaultProps={},z=U))||z)||z)||z)},function(e,t){e.exports={general_discuss_tutorial:"general_discuss_tutorial_111d",tutorial_comment_input_placeholder:"tutorial_comment_input_placeholder_NzcA",submission_comment_input_placeholder:"submission_comment_input_placeholder_NMrs",reply_input_placeholder:"reply_input_placeholder_Aq1i",input_button_comment:"input_button_comment_2kuR",input_button_cancel:"input_button_cancel_uoOZ",input_button_reply:"input_button_reply_1eUt",comment_created_at:"comment_created_at_2NU5",reply:"reply_1DOi",view_more_replies:"view_more_replies_BS_E",hide_replies:"hide_replies_AQQM",view_more:"view_more_r9Pg",load_more:"load_more_39HN",author_type_admin:"author_type_admin_2BkC",author_type_unity:"author_type_unity_f6Il",author_type_creator:"author_type_creator_219k",archived_tip:"archived_tip_1IJM",archived_tip_user:"archived_tip_user_1OTH",button_sign_in:"button_sign_in_foHZ",sign_in_hint_title:"sign_in_hint_title_2Bsm",sign_in_hint_des:"sign_in_hint_des_1UXl",button_delete:"button_delete_3jja",show_list:"show_list_2Yp0",button_edit:"button_edit_1zIf",edit_button_save:"edit_button_save_15Uq",edit_button_cancel:"edit_button_cancel__FN5",updateEdited:"updateEdited_ibVj",flag_this_comment:"flag_this_comment_ko55"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectGroupCard=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(4),S=a(27),O=n(a(77)),T=n(a(3)),P=n(a(401)),j=n(a(7)),C=n(a(402)),I=(s=(0,T.default)(P.default),l=(0,j.default)(C.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleJoinNow=function(){var e=n.props,t=e.data,a=e.onJoinNow;a?a(t):(0,O.default)((0,k.get)(t,"url"))},i=a,o(n,i)}return i(t,w.default),v(t,[{key:"renderSubTitle",value:function(){var e=this.props.data,t=(0,k.get)(e,"onlineMembers",0),a=(0,k.get)(e,"membersCount",0);return b.default.createElement("div",{className:this.ss("sub-title")},b.default.createElement("div",{className:this.ss("sub-title-item")},t,b.default.createElement("span",{className:this.ss("sub-title-item-label")},this.__("sub_title_online_members"))),b.default.createElement("div",{className:this.ss("dot")}),b.default.createElement("div",{className:this.ss("sub-title-item")},a,b.default.createElement("span",{className:this.ss("sub-title-item-label")},this.__("sub_title_members_count"))))}},{key:"renderGroupInfo",value:function(){var e=this.props.data,t=(0,k.get)(e,"name");return b.default.createElement("div",{className:this.ss("group-head")},b.default.createElement("div",{className:this.ss("head-title")},b.default.createElement("span",null,t)),b.default.createElement("div",{className:this.ss("sub-title-wrap")},b.default.createElement("div",{className:this.ss("dot-icon")}),this.renderSubTitle()))}},{key:"renderFoot",value:function(){var e=[];return e.push(b.default.createElement("div",{key:"join-now",className:this.ss("link-item-wrap")},b.default.createElement("a",{className:this.ss("link"),onClick:this.handleJoinNow},this.__("button_view_group")))),b.default.createElement("div",{className:this.ss("group-foot")},e)}},{key:"render",value:function(){var e=this.props.disabled;return b.default.createElement("div",{className:this.ss("connect-group-wrap")},b.default.createElement("div",{className:this.ss("group-body")},this.renderGroupInfo()),!e&&this.renderFoot())}}]),t}(),c.propTypes={data:y.default.object,onJoinNow:y.default.func,theme:y.default.oneOf(["default"]),disabled:y.default.bool},c.defaultProps={theme:"default"},u=d))||u)||u);t.default=I;t.ConnectGroupCard=(f=(0,E.decorator)({}),p=(0,T.default)(P.default),m=(0,j.default)(C.default),f(h=p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),v(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.projectMap,n=e.disabled;return b.default.createElement("div",{className:this.ss("connect-group")},b.default.createElement("div",{className:this.ss("top")},b.default.createElement(S.ConnectGroupLabel,null)),b.default.createElement(I,{data:t,projectMap:a,disabled:n}))}}]),t}(),_.propTypes={data:y.default.object,projectMap:y.default.object,disabled:y.default.bool},h=g))||h)||h)||h)},function(e,t,a){"use strict";(function(e){function a(e){return e.get([].concat(s,["criteria"]))}function n(e,t){e.set([].concat(s,["criteria"]),t)}function r(e,t){var r=a(e);return t=i({},r,t,{page:t.page||""}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),n(e,t),{criteria:t}}function o(e){var t="",a=e||{},n=a.value,r=a.type,o=t=n;return t&&"string"==typeof t&&(o=t.replace(/:/g," ")),r+":"+o}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=["search"];t.default={name:e,depends:[],signals:{},getState:function(){return{placeMap:{},skillMap:{},loadMoreStatus:"initial"}},updateCriteria:r,getCriteria:a,setCriteria:n,unsetSearchResult:function(e){var t=e.state,n=a(t);t.set([].concat(s),{criteria:n})},appendKeyword:function(e,t){var n=e.candidate,i=a(t).k,s=i?JSON.parse(i):[],l=o(n),u=s.findIndex(function(e){return e===l});return u>=0&&s.splice(u,1),s.push(l),r(t,{k:JSON.stringify(s)})},removeKeyword:function(e,t){var n=e.index,i=e.candidate,s=a(t).k;if(!s)return{};var l=JSON.parse(s),u=n;if(!Number.isInteger(u)){var c=o(i);u=l.findIndex(function(e){return e===c})}return u>=0&&u<l.length&&l.splice(u,1),r(t,{k:JSON.stringify(l)})},removeKeywordByKey:function(e,t){var n=e.key,o=a(t).k;if(!o)return{};var i=JSON.parse(o).filter(function(e){return!e.startsWith(n+":")});return r(t,{k:JSON.stringify(i)})},updateKeyword:function(e,t){var n=e.index,i=e.candidate,s=a(t).k;if(!s)return{};var l=JSON.parse(s);if(Number.isInteger(n)){var u=o(i);return n>=0&&n<l.length&&l.splice(n,1,u),r(t,{k:JSON.stringify(l)})}return{}}}}).call(t,"views/learn/modules/search/SearchBarStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(20)),h=n(a(1)),_=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],g=void 0,v=(u=l=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={height:"auto"},r=a,i(n,r)}return s(t,h.default),d(t,[{key:"componentDidMount",value:function(){this.recalculateSize(),this.props.autoFocus&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){e&&e.value!==this.props.value&&this.recalculateSize(e.value)}},{key:"componentDidUpdate",value:function(e,t){var a=t.height,n=this.state.height;n!==a&&this.props.onResize&&this.props.onResize(n)}},{key:"onChange",value:function(e){this.recalculateSize(),this.props.onChange&&this.props.onChange(e)}},{key:"clear",value:function(){m.default.findDOMNode(this).value="",this.recalculateSize()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"recalculateSize",value:function(e){var t=m.default.findDOMNode(this);void 0!==e&&null!==e||(e=t.value);var a=this.props.fontWidthEstimate;if(null!==a&&-1===e.indexOf("\n")&&e.length*a<.8*t.offsetWidth)this.setState({height:"auto",overflow:"hidden"});else{g||(g=document.createElement("textarea"),document.body.appendChild(g));var n=this.calculateNodeStyling(t),r=n.paddingSize,o=n.borderSize,i=n.boxSizing,s=n.sizingStyle;g.setAttribute("style",s+";\n    height:0;\n    visibility:hidden;\n    overflow:hidden;\n    position:absolute;\n    z-index:-1000;\n    top:0;\n    right:0;\n"),g.value=e;var l=g.scrollHeight;"border-box"===i?l+=o:"content-box"===i&&(l-=r),this.setState({height:l,overflow:"hidden"})}}},{key:"calculateNodeStyling",value:function(e){var t=window.getComputedStyle(e),a=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),r=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:_.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:r,boxSizing:a}}},{key:"render",value:function(){var e=this,t=this.props,a=(t.fontWidthEstimate,t.onResize,r(t,["fontWidthEstimate","onResize"]));return p.default.createElement("textarea",c({ref:"input"},a,{style:this.state,onChange:function(t){return e.onChange(t)}}))}}]),t}(),l.propTypes={value:f.default.string,fontWidthEstimate:f.default.number,autoFocus:f.default.bool,onResize:f.default.func,onChange:f.default.func},l.defaultProps={fontWidthEstimate:null},u);t.default=v},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["userGroups"],["userGroups"]),g=s(["search"],["search"]),v=s(["topics.tagIds"],["topics.tagIds"]),y=s(["topics.tagMap"],["topics.tagMap"]),b=s(["industries.tagIds"],["industries.tagIds"]),w=s(["industries.tagMap"],["industries.tagMap"]),E=s(["xpCategories.tagIds"],["xpCategories.tagIds"]),k=s(["xpCategories.tagMap"],["xpCategories.tagMap"]),S=s(["unityVersions.versionIds"],["unityVersions.versionIds"]),O=s(["unityVersions.versionMap"],["unityVersions.versionMap"]),T=s(["option.supportedLanguages"],["option.supportedLanguages"]),P=s(["adminLanguages"],["adminLanguages"]),j=s(["tutorialExercises"],["tutorialExercises"]),C=s(["search.doSearch"],["search.doSearch"]),I=s(["search.changeOwnerId"],["search.changeOwnerId"]),N=s(["search.removeOwnerId"],["search.removeOwnerId"]),M=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),D=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),x=s(["search.changeDuration"],["search.changeDuration"]),R=s(["search.checkKeyword"],["search.checkKeyword"]),L=s(["search.changeOrderBy"],["search.changeOrderBy"]),A=s(["search.changeItemId"],["search.changeItemId"]),F=s(["search.removeKeywordByKey"],["search.removeKeywordByKey"]),K=n(a(2)),q=n(a(0)),z=n(a(1)),B=a(6),U=a(5),H=a(4),V=n(a(34)),G=n(a(83)),W=n(a(139)),Q=n(a(143)),J=a(229),Y=a(8),X=a(9),Z=a(26),$=a(12),ee=a(79),te=n(a(3)),ae=n(a(392)),ne=n(a(7)),re=n(a(53)),oe=n(a(168)),ie=a(370),se={normal:"normal",radio:"radio",multiple:"multiple"},le=(l=(0,B.decorator)({userGroups:(0,U.state)(_),search:(0,U.state)(g),topicIds:(0,U.state)(v),topicMap:(0,U.state)(y),industryIds:(0,U.state)(b),industryMap:(0,U.state)(w),xpTagIds:(0,U.state)(E),xpTagMap:(0,U.state)(k),versionIds:(0,U.state)(S),versionMap:(0,U.state)(O),supportedLanguages:(0,U.state)(T),adminLanguages:(0,U.state)(P),tutorialExercises:(0,U.state)(j),doSearch:(0,U.signal)(C),changeOwnerId:(0,U.signal)(I),removeOwnerId:(0,U.signal)(N),changeSearchKeyword:(0,U.signal)(M),changeSearchKeywordCall:(0,U.signal)(D),changeDuration:(0,U.signal)(x),checkKeyword:(0,U.signal)(R),changeOrderBy:(0,U.signal)(L),changeItemId:(0,U.signal)(A),removeKeywordByKey:(0,U.signal)(F)}),u=(0,te.default)(ae.default),c=(0,ne.default)(re.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={activeKey:null,hideMoreFilters:!0},n.onChangeKeyword=function(e,t,a,r,o){var i=n.props,s=i.checkKeyword,l=i.changeSearchKeywordCall,u=i.search,c=i.searchOptions,d=!((0,X.ParseKeywordMap)((0,H.get)(u,"criteria.k"))[r+":"+a]>=0),f={value:a,key:r,options:c};o===se.radio?l(f):s(m({},f,{checked:d}))},n.onChangeOrderBy=function(e,t,a,r){e&&(0,$.pauseEvent)(e),n.onCloseFilter(r),n.props.changeOrderBy({value:a})},n.onChangeItemId=function(e,t,a,r){e&&(0,$.pauseEvent)(e),n.onCloseFilter(r),n.props.changeItemId({itemId:a})},n.onRemoveKeywordByKey=function(e,t){e&&(0,$.pauseEvent)(e);var a=n.props,r=a.searchOptions,o=a.removeKeywordByKey,i=a.changeOrderBy;t===Y.CriteriaKeys.orderBy?i({value:""}):o({key:t,options:r})},n.onChangeText=function(e,t){var a=n.props.searchOptions;n.props.changeSearchKeyword({value:t,key:Y.CriteriaKeys.query,options:a})},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:Y.CriteriaKeys.query})},n.onCloseFilter=function(e){e===n.state.activeKey&&n.setState({activeKey:null})},n.onSearchKeyDown=function(e){if(e&&13===e.keyCode){var t=n.props.searchOptions;n.props.doSearch({options:t})}},n.onSelectedOwnerId=function(e){var t=e.id,a=n.props.changeOwnerId;a&&a({value:t})},n.onRemoveOwnerId=function(){var e=n.props.removeOwnerId;e&&e()},i=a,o(n,i)}return i(t,z.default),h(t,[{key:"getConfigByKey",value:function(e,t){var a=this,n=this,r=this.props,o=r.optionType,i=r.supportedLanguages,s=r.adminLanguages,l=r.userGroups,u=n.onChangeKeyword;t||(t=se.multiple);var c=[];switch(e){case Y.CriteriaKeys.skillLevel:c=Y.SkillLevelTypes;break;case Y.CriteriaKeys.language:c="creator"===o&&(0,ee.isLearnAdminEditorAll)(l)?s:i;break;case Y.CriteriaKeys.type:c=Y.ArchitectureDataTypes,"creator"===o&&(c=Y.DataTypesAdmin),"architecture"===o&&(c=Y.ArchitectureDataTypesAdmin);break;case Y.CriteriaKeys.duration:c=Y.FilterDurationTypes,t=se.radio;break;case Y.CriteriaKeys.instruction:c=Y.FilterInstructionTypes,t=se.radio;break;case Y.CriteriaKeys.premium:c=Y.FilterPremiumTypes;break;case Y.CriteriaKeys.hidden:c=Y.FilterHiddenTypes;break;case Y.CriteriaKeys.status:c=Y.FilterStatusTypes;break;case Y.CriteriaKeys.orderBy:c=Y.FilterPopularTypes,u=n.onChangeOrderBy,t=se.normal;break;case Y.CriteriaKeys.ageRange:c=Y.FilterAgeRangeOptions,t=se.radio}return{selects:c.map(function(t){return{text:a.__(e+"_"+t),value:t}}),onChange:u,selectItemType:t}}},{key:"renderSearchBar",value:function(){var e=this,t=this.props.search,a=(0,X.ParseKeyword)((0,H.get)(t,"criteria.k")),n=(0,H.get)(a,"queries[0]");return q.default.createElement("div",{className:this.ss("filter-item","input-item")},q.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-icons-search")}),q.default.createElement("div",{className:this.ss("search-input")},q.default.createElement(V.default,{theme:"transparent-inherit",size:"medium",value:n,placeholder:this.__("search_placeholder"),onChange:this.onChangeText,onKeyDown:this.onSearchKeyDown,onClear:function(){return e.onClear(n)}})))}},{key:"renderSelectItem",value:function(e,t,a,n){if(!e)return null;var r=void 0,o=e.value,i=e.text,s=a[t+":"+o]>=0,l=q.default.createElement("div",{className:this.ss("select-item-label")},i);switch(n){case se.normal:r=q.default.createElement("div",{className:this.ss("normal-item",s&&"checked")},l);break;case se.radio:r=q.default.createElement(W.default,{label:l,isChecked:s});break;default:r=q.default.createElement(G.default,{label:l,checked:s})}return q.default.createElement("div",{className:this.ss("item-wrapper",n)},r)}},{key:"renderFilterItem",value:function(e,t,a,n){var r=this,o=this.state.hideMoreFilters,i=this,s=null,l=i.state.activeKey;return l===a&&(s=q.default.createElement("div",{className:this.ss("expand-wrapper",a)},n)),q.default.createElement("div",{className:this.ss("filter-item",t,a,o&&"more-hide"),key:a},q.default.createElement(Z.ClickOutsideWrap,{onClickOutside:function(){return i.onCloseFilter(a)}},q.default.createElement("div",{className:this.ss("filter-item-inner")},q.default.createElement("div",{className:this.ss("filter-item-label-content")},q.default.createElement("button",{className:this.ss("filter-item-button"),onClick:function(){i.setState({activeKey:a===l?null:a})}},q.default.createElement("div",{className:this.ss("label")},e),q.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_unfold")}),q.default.createElement("div",{className:this.ss("icon-close","ifont","ifont-icon-close2"),onClick:function(e){return r.onRemoveKeywordByKey(e,a)}}))),s)))}},{key:"renderSelectsOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments[2],n=arguments[3],r=arguments[4],o=arguments[5],i=arguments[6],s=q.default.createElement(Q.default,{selects:e,renderItem:i,onSelect:function(e,a,n){return r(e,a,n,t,o)}});return this.renderFilterItem(a,n,t,s)}},{key:"renderKeywordOptionByKey",value:function(e){var t=this,a=e.keywordMap,n=e.key,r=e.filterType,o=e.config,i=e.label,s=this;o||(o=s.getConfigByKey(n,r));var l=o,u=l.selects,c=l.onChange,d=l.selectItemType,f=Object.keys(a).filter(function(e){return e.startsWith(n+":")}),p=f.length;if(!i)if(i=p?"":this.__("select_"+n),u.length===p)i=this.__(n+"_all");else{var m=", ";f.forEach(function(e,a){a===p-1&&(m="");var r=e.split(":");2===r.length&&(i+=t.__(n+"_"+r[1]),i+=m)})}var h=!!p&&d!==se.normal&&"active";return this.renderSelectsOption(u,n,i,h,c,d,function(e){return s.renderSelectItem(e,n,a,d)})}},{key:"renderTagsOption",value:function(e,t,a){var n=this,r=this.props,o=r.topicIds,i=r.topicMap,s=r.industryIds,l=r.industryMap,u=r.versionIds,c=r.versionMap,d=r.xpTagIds,f=r.xpTagMap,p=[];switch(t){case Y.CriteriaKeys.tag:p=o.map(function(e){return{text:(0,H.get)(i,e+".name"),value:e}});break;case Y.CriteriaKeys.industry:p=s.map(function(e){return{text:(0,H.get)(l,e+".name"),value:e}});break;case Y.CriteriaKeys.uv:p=u.map(function(e){return{text:(0,H.get)(c,e+".name"),value:(0,H.get)(c,e+".id")}}),a=se.radio;break;case Y.CriteriaKeys.xp:p=d.map(function(e){return{text:(0,H.get)(f,e+".name"),value:(0,H.get)(f,e+".id")}})}var m=Object.keys(e).filter(function(e){return e.startsWith(t+":")}),h=m.length,_=void 0;if(h&&a===se.radio){var g=m[0].split(":")[1];_=(0,H.get)(p.find(function(e){return e.value===g}),"text")}_||(_=this.__(h?"selected_"+t:"select_"+t,{count:h}));var v=!!h&&"active";return this.renderSelectsOption(p,t,_,v,n.onChangeKeyword,a,function(r){return n.renderSelectItem(r,t,e,a)})}},{key:"renderFilterSelects",value:function(e){var t=this,a=e,n=this.props.search,r=(0,X.ParseKeywordMap)((0,H.get)(n,"criteria.k")),o=[];return a.forEach(function(e){var a=e.selectType,i=e.filterType;if(a===Y.CriteriaKeys.tag||a===Y.CriteriaKeys.industry||a===Y.CriteriaKeys.uv||a===Y.CriteriaKeys.xp)o.push(t.renderTagsOption(r,a,i));else if(a===Y.CriteriaKeys.orderBy){var s=(0,H.get)(n,"criteria."+Y.CriteriaKeys.orderBy,Y.FilterPopularTypes[0]);s&&(r[Y.CriteriaKeys.orderBy+":"+s]=!0),o.push(t.renderKeywordOptionByKey({keywordMap:r,key:a,filterType:i}))}else o.push(t.renderKeywordOptionByKey({keywordMap:r,key:a,filterType:i}))}),o}},{key:"renderUserSearch",value:function(e){var t=this,a=e.key,n=this.props,r=n.userGroups,o=n.search;if(!(0,ee.isLearnAdminEditorAll)(r))return null;var i=(0,X.ParseKeywordMap)((0,H.get)(o,"criteria.k")),s=Object.keys(i).filter(function(e){return e.startsWith(a+":")}),l=[];if(s.length>0){var u=s[0].split(":")[1]||"";l.push(u)}return q.default.createElement("div",{className:this.ss("filter-item","input-item"),key:"owner-filter"},q.default.createElement("div",{className:this.ss("search-input")},q.default.createElement(J.UserAutoComplete,{inputTheme:"transparent-inherit",size:"medium",idToCandidateMap:(0,H.get)(o,"userMap",{}),selectedIds:l,resultTheme:"full-primary",hintText:this.__("owner_placeholder"),onSelected:function(e){var n=e.id;return t.onChangeKeyword(null,0,n,a)},onRemove:function(){return t.onRemoveKeywordByKey(null,a)}})))}},{key:"renderExercisesFilter",value:function(){var e=this,t=e.props,a=t.defaultItemId,n=t.search,r=e.props.tutorialExercises||[];if(!a)return null;var o=Y.CriteriaKeys.itemId,i={},s=(0,H.get)(n,"criteria."+o);s&&(i[o+":"+s]=!0);var l=this.__("all_exercises"),u=r.map(function(e){var t=(0,H.get)(e,"id"),a=(0,H.get)(e,"type"),n=(0,H.get)(e,"title"),r=(0,X.GetItemIdByType)({id:t,type:a});return r===s&&(l=n),{text:n,value:r}});u.unshift({text:this.__("all_exercises"),value:a});var c={selects:u,onChange:e.onChangeItemId,selectItemType:se.normal};return e.renderKeywordOptionByKey({keywordMap:i,key:o,config:c,label:l})}},{key:"renderSubmissionOrderBy",value:function(){var e=this,t=e.props.search,a=Y.CriteriaKeys.orderBy,n={},r=(0,H.get)(t,"criteria."+a,Y.FilterSubmissionPopularTypes[0]);r&&(n[a+":"+r]=!0);var o="",i={selects:Y.FilterSubmissionPopularTypes.map(function(t){var n="";return n="collects"===t?e.__("submission_"+a+"_"+t):e.__(a+"_"+t),t===r&&(o=n),{text:n,value:t}}),onChange:e.onChangeOrderBy,selectItemType:se.normal};return e.renderKeywordOptionByKey({keywordMap:n,key:a,config:i,label:o})}},{key:"renderLeftFilters",value:function(){var e=this,t=this.props.optionType,a=(0,H.get)(oe.default,t+".left")||[];if(0===a.length)return null;var n=this.state.hideMoreFilters,r=a.map(function(t){var a=t.split(":"),n=a[0],r=a[1],o=void 0;switch(n){case"search":o=e.renderSearchBar();break;case"owner":o=e.renderUserSearch({key:"u"});break;case"exercises":o=e.renderExercisesFilter();break;default:var i=(0,H.get)(Y.CriteriaKeys,n);if(!i)return null;o=e.renderFilterSelects([{selectType:i,filterType:r}])}return q.default.createElement("div",{key:t,className:e.ss("filter")},o)});if(r.length>1){var o=q.default.createElement("a",{key:"moreFilterLink",className:this.ss("filter-add"),onClick:function(){return e.setState({hideMoreFilters:!n})}},this.__(n?"filters_show":"filters_hide"));r.splice(1,0,o)}return q.default.createElement("div",{className:this.ss("filters-inner","left")},r)}},{key:"renderRightFilters",value:function(){var e=this,t=this.props.optionType,a=(0,H.get)(oe.default,t+".right",[]);if(0===a.length)return null;var n=a.map(function(t){var a=t.split(":"),n=a[0],r=a[1];if("submissionOrderBy"===t)return e.renderSubmissionOrderBy();var o=(0,H.get)(Y.CriteriaKeys,n);return o?e.renderFilterSelects([{selectType:o,filterType:r}]):null});return q.default.createElement("div",{className:this.ss("filters-inner","right")},n)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.optionType,n=e.onCreate;return q.default.createElement("div",{className:this.ss("filters-selects-bar",t,a)},q.default.createElement("div",{className:this.ss("center","filters-selects-container")},this.renderLeftFilters(),this.renderRightFilters(),"architecture"===a&&q.default.createElement(ie.ArchitectureCreateButton,{onCreate:n})))}}]),t}(),f.propTypes={xpTagIds:K.default.array,xpTagMap:K.default.object,userGroups:K.default.array,search:K.default.object,topicIds:K.default.array,topicMap:K.default.object,industryIds:K.default.array,industryMap:K.default.object,versionIds:K.default.array,versionMap:K.default.object,optionType:K.default.oneOf(["default","creator","search","landing","educators","submission","architecture","search_skill","mission"]),theme:K.default.oneOf(["default","dark"]),searchOptions:K.default.object,supportedLanguages:K.default.array,adminLanguages:K.default.array,defaultItemId:K.default.string,tutorialExercises:K.default.array,doSearch:K.default.func,changeOwnerId:K.default.func,removeOwnerId:K.default.func,changeSearchKeyword:K.default.func,changeSearchKeywordCall:K.default.func,changeDuration:K.default.func,checkKeyword:K.default.func,changeOrderBy:K.default.func,changeItemId:K.default.func,removeKeywordByKey:K.default.func,onCreate:K.default.func,searchType:K.default.string},f.defaultProps={optionType:"default",theme:"default",searchOptions:{}},d=p))||d)||d)||d);t.default=le},function(e,t){e.exports={selects:"selects_2Ukdeiuu",selectItem:"selectItem_9BbOy9fg",scroller:"scroller_1pJRZzF5"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ArchitectureCreateButton=t.CreateButtons=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),C=s(["search"],["search"]),I=s(["search.doSearch"],["search.doSearch"]),N=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),M=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),D=s(["common.createByType"],["common.createByType"]),x=n(a(2)),R=n(a(0)),L=n(a(1)),A=a(6),F=a(5),K=a(4),q=n(a(143)),z=n(a(34)),B=n(a(16)),U=a(26),H=a(8),V=a(9),G=n(a(3)),W=n(a(393)),Q=n(a(7)),J=n(a(53)),Y=(l=(0,A.decorator)({search:(0,F.state)(C),doSearch:(0,F.signal)(I),changeSearchKeyword:(0,F.signal)(N),changeSearchKeywordCall:(0,F.signal)(M)}),u=(0,G.default)(W.default),c=(0,Q.default)(J.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onChange=function(e,t){n.props.changeSearchKeyword({value:t,key:H.CriteriaKeys.query})},n.onKeyDown=function(e){e&&13===e.keyCode&&n.props.doSearch()},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:H.CriteriaKeys.query})},i=a,o(n,i)}return i(t,L.default),j(t,[{key:"renderSearchInput",value:function(e){var t=this,a=this.props.search,n=(0,V.ParseKeyword)((0,K.get)(a,"criteria.k")),r=(0,K.get)(n,"queries[0]");return R.default.createElement("div",{className:this.ss("search-input")},R.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-lrn_icon_search")}),R.default.createElement(z.default,{value:r,theme:"transparent-inherit",size:e,placeholder:this.__("search_input_placeholder"),onChange:this.onChange,onKeyDown:this.onKeyDown,onClear:function(){return t.onClear(r)}}))}},{key:"render",value:function(){var e=this.props,t=e.optionType,a=e.theme;return e.sticky?null:R.default.createElement("div",{className:this.ss("filters-search-input",a)},R.default.createElement("div",{className:this.ss("center","filters-search-container")},R.default.createElement("div",{className:this.ss("search-input-wrap")},R.default.createElement("div",{className:this.ss("pc")},this.renderSearchInput("xxxxlarge")),R.default.createElement("div",{className:this.ss("mobile")},this.renderSearchInput("xlarge"))),"creator"===t&&R.default.createElement(ee,null)))}}]),t}(),f.propTypes={search:x.default.object,doSearch:x.default.func,changeSearchKeyword:x.default.func,changeSearchKeywordCall:x.default.func,searchOptions:x.default.object,optionType:x.default.oneOf(["default","creator"]),theme:x.default.oneOf(["default"]),sticky:x.default.bool},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=Y;var X=t.CreateButtons=(m=(0,A.decorator)({createByType:(0,F.signal)(D)}),h=(0,G.default)(W.default),_=(0,Q.default)(J.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={active:!1},n.onClose=function(){n.setState({active:!1})},i=a,o(n,i)}return i(t,L.default),j(t,[{key:"onSelect",value:function(e,t,a){var n=this.props.onCreate,r=!0;e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)&&(r=!1),n?n({type:a,skipPopup:r}):this.props.createByType({type:a,skipPopup:r})}},{key:"renderOption",value:function(e){var t=e.value,a=e.isLast;return R.default.createElement("div",{className:this.ss("create-item-wrap",!0!==a&&"border")},R.default.createElement("div",{className:this.ss("content")},R.default.createElement("div",{className:this.ss("create-title")},this.__("create_title_"+t)),R.default.createElement("div",{className:this.ss("create-introduction")},this.__("create_introduction_"+t))))}},{key:"renderButton",value:function(){var e=this,t=this.state.active,a=R.default.createElement("div",{className:this.ss("selects-button-content")},R.default.createElement("div",{className:this.ss("label")},this.__("create_new")),R.default.createElement("div",{className:this.ss("plus-icon")},R.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")})));return R.default.createElement("div",{className:this.ss("selects-button")},R.default.createElement(B.default,{size:"large",label:a,onClick:function(){e.setState({active:!t})}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.buttonsMap,n=t.theme,r=null;return this.state.active&&(r=R.default.createElement("div",{className:this.ss("expand-wrapper")},R.default.createElement(q.default,{selects:a,renderItem:function(t){return e.renderOption(t)},onSelect:function(t,a,n){return e.onSelect(t,a,n)}}))),R.default.createElement("div",{className:this.ss("create-selects",n)},R.default.createElement(U.ClickOutsideWrap,{onClickOutside:function(){return e.onClose()}},R.default.createElement("div",{className:this.ss("selects-inner")},this.renderButton(),r)))}}]),t}(),v.propTypes={theme:x.default.oneOf(["default"]),buttonsMap:x.default.array,createByType:x.default.func,onCreate:x.default.func},v.defaultProps={theme:"default"},g=y))||g)||g)||g),Z=H.DataTypesAdmin.map(function(e,t){return{value:e,text:e,isLast:t===H.DataTypesAdmin.length-1}}),$=H.ArchitectureDataTypesAdmin.map(function(e,t){return{value:e,text:e,isLast:t===H.DataTypesAdmin.length-1}}),ee=(b=(0,G.default)(W.default),w=(0,Q.default)(J.default),b(E=w(E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,L.default),j(t,[{key:"render",value:function(){return R.default.createElement(X,{buttonsMap:Z})}}]),t}())||E)||E);t.ArchitectureCreateButton=(k=(0,G.default)(W.default),S=(0,Q.default)(J.default),k(O=S((P=T=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,L.default),j(t,[{key:"render",value:function(){var e=this.props.onCreate;return R.default.createElement(X,{buttonsMap:$,onCreate:e})}}]),t}(),T.propTypes={onCreate:x.default.func},O=P))||O)||O)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(240)),o=n(a(35)),i=n(a(242)),s=n(a(243)),l=n(a(372)),u=n(a(373)),c=n(a(255)),d=n(a(374)),f=n(a(256)),p=n(a(257)),m=n(a(344)),h=n(a(258)),_=n(a(375)),g=n(a(376)),v=n(a(377)),y=n(a(259)),b=n(a(378)),w=n(a(379)),E=n(a(380)),k=n(a(381)),S=n(a(260)),O=n(a(382)),T=n(a(224)),P=n(a(383)),j=n(a(384)),C=n(a(385)),I=n(a(386)),N=n(a(387)),M=n(a(388)),D=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default,y.default,b.default,w.default,E.default,k.default,S.default,O.default,T.default,P.default,j.default,C.default,I.default,N.default,M.default];t.default={common:D}},function(e,t,a){"use strict";(function(e){function n(e){return function(t){var a=t.props,n=t.state,r=a.payload,s=(0,i.get)(a,"key")||e;n.set([].concat(l,[s]),o({open:!0},r))}}function r(e){return function(t){var a=t.props,n=t.state,r=(0,i.get)(a,"key")||e;r?n.set([].concat(l,[r]),{open:!1}):n.set(l,{})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(4),s=a(71),l=["common","dialogs"];t.default={name:e,depends:[],signals:{openDialog:[n],closeDialog:[r],openPremiumTourDialog:[n("tourDialog")],closePremiumTourDialog:[function(e){var t=e.state;(0,s.closePremiumTour)(t.get("loginUser"))},r("tourDialog")]},getServices:function(){},getState:function(){return{dialogs:{tourDialog:{}}}}}}).call(t,"views/learn/modules/common/DialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function r(e){var t=e.props.content;(0,p.default)(t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=n(["common.shareDialog.show"],["common.shareDialog.show"]),s=n(["common.shareDialog.copied"],["common.shareDialog.copied"]),l=n(["common.shareSubmissionDialog.copied"],["common.shareSubmissionDialog.copied"]),u=n(["common.shareBadgeDialog.copied"],["common.shareBadgeDialog.copied"]),c=n(["common.shareTutorialStepDialog.copied"],["common.shareTutorialStepDialog.copied"]),d=a(22),f=a(5),p=function(e){return e&&e.__esModule?e:{default:e}}(a(273)),m=["common","shareSubmissionDialog"],h=["common","shareTutorialStepDialog"],_=["common","shareBadgeDialog"];t.default={name:e,depends:[],signals:{openShareDialog:[(0,d.set)((0,f.state)(i),!0)],closeShareDialog:[(0,d.set)((0,f.state)(i),!1)],copyLink:[r,(0,d.set)((0,f.state)(s),!0)],openShareSubmissionDialog:[function(e){var t=e.state,a=e.props.data;a&&t.merge([].concat(m),{data:a,show:!0})}],closeShareSubmissionDialog:[function(e){e.state.set([].concat(m),{data:null,copied:!1,show:!1})}],copySubmissionLink:[r,(0,d.set)((0,f.state)(l),!0)],openShareBadgeDialog:[function(e){var t=e.state,a=e.props.data;if(a){var n=o({thumbnail:{url:a.imageUrl}},a);t.merge([].concat(_),{data:n,show:!0})}}],closeShareBadgeDialog:[function(e){e.state.set([].concat(_),{data:null,copied:!1,show:!1})}],copyBadgeLink:[r,(0,d.set)((0,f.state)(u),!0)],openShareTutorialStepDialog:[function(e){var t=e.state,a=e.props,n=a.current,r=a.index;n&&t.merge([].concat(h),{current:n,show:!0,index:r+1})}],closeShareTutorialStepDialog:[function(e){e.state.set([].concat(h),{current:null,copied:!1,show:!1,index:0})}],copyShareTutorialStepLink:[r,(0,d.set)((0,f.state)(c),!0)]},getServices:function(){},getState:function(){return{shareDialog:{show:!1,copied:!1},shareSubmissionDialog:{show:!1,copied:!1,data:null},shareBadgeDialog:{show:!1,copied:!1,data:null},shareTutorialStepDialog:{show:!1,copied:!1,current:null,index:0}}}}}).call(t,"views/learn/modules/common/ShareDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","calendarDialog"];t.default={name:e,depends:[],signals:{openCalendarDialog:[function(e){var t=e.props,n=e.state,r=t.data;n.set(a,{show:!0,data:r})}],closeCalendarDialog:[function(e){e.state.set(a,{show:!1,data:{}})}]},getServices:function(){},getState:function(){return{calendarDialog:{show:!1}}}}}).call(t,"views/learn/modules/common/CalendarDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["common","learnPositions"];t.default={name:e,depends:[],signals:{setLearnItemPositions:[function(e){var t=e.state,r=e.props.positions;t.set(n,a({},r))}]},getState:function(){return{learnPositions:null}}}}).call(t,"views/learn/modules/common/LearnPositions.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","publishFlowDialog"];t.default={name:e,depends:[],signals:{closePublishFlowDialog:[function(e){e.state.set(a,{open:!1})}]},getServices:function(){return{}},getState:function(){return{open:!1}}}}).call(t,"views/learn/modules/common/PublishFlowDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=n(a(19)),i=n(a(496));t.default={name:e,depends:[],signals:{closeStreamingLabDialog:[function(){(0,i.default)((0,o.default)("/"))}]},getServices:function(){return{}},getState:function(e){var t=e.tutorialData,a=e.projectData,n=e.courseData,o=t||a||n,i=(0,r.get)(o,"hidden");return{streamingLabDialog:{open:!0===(0,r.get)(o,"withLab")&&!0===i}}}}}).call(t,"views/learn/modules/common/StreamingLabDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["common","backTop"];t.default={name:e,depends:[],signals:{setBackTopStatus:[function(e){var t=e.props;e.state.set([].concat(a,["showBackTop"]),t.show)}],setFootIsInView:[function(e){var t=e.props;e.state.set([].concat(a,["isFootInView"]),t.inView)}]},getState:function(){return{backTop:{showBackTop:!1,isFootInView:!1}}}}}).call(t,"views/learn/modules/common/BackTopStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.industryIds,a=e.topicIds,r=e.showLessTagIds,o=[];return[].concat(n(r),n(t),n(a)).forEach(function(e){o.indexOf(e)<0&&o.push(e)}),o}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(4),s=["common","saved"],l=["common","savedTagDialog"];t.default={name:e,depends:[],signals:{openSavedTagDialog:[function(e){e.state.set([].concat(l,["open"]),!0)}],closeSavedTagDialog:[function(e){e.state.set([].concat(l,["open"]),!1)}],syncProfileTags:[function(e){var t=e.state,a=t.get("industries"),l=t.get("topics"),u=t.get("tagListRecommend"),c=t.get("collectList"),d=(0,i.get)(a,"tagIds")||[],f=(0,i.get)(a,"tagMap"),p=(0,i.get)(l,"tagIds")||[],m=(0,i.get)(l,"tagMap"),h=(0,i.get)(c,"topicList.itemIds")||[],_=(0,i.get)(c,"topicList.topicMap")||{},g=(0,i.get)(c,"industryList.itemIds")||[],v=(0,i.get)(c,"industryList.industryMap")||{},y=[].concat(n(h),n(g)),b=o({},_,v),w=(0,i.get)(u,"tagIds")||[],E=(0,i.get)(u,"tagMap")||{},k=[].concat(n(y));0===y.length&&(k=w);var S=r({industryIds:d,topicIds:p,showLessTagIds:k}),O=o({},b,E,f,m);t.set([].concat(s,["showLessTagIds"]),k),t.set([].concat(s,["tagIds"]),S),t.set([].concat(s,["tagMap"]),O)}]},getState:function(){return{saved:{showLessTagIds:[],tagIds:[],tagMap:{}},savedTagDialog:{open:!1}}}}}).call(t,"views/learn/modules/common/SavedStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=["common","previewMediaPopup"];t.default={name:e,depends:[],signals:{openPreviewMediaPopup:[function(e){var t=e.props,a=e.state,o=(0,n.get)(t,"mediaContent")||{},i=(0,n.get)(t,"mediaContents")||[],s=!0;!1===(0,n.get)(t,"mustPlayList")&&(s=!1),a.set(r,{open:!0,mediaContent:o,mediaContents:i,mustPlayList:s})}],closePreviewMediaPopup:[function(e){e.state.set(r,{open:!1,mustPlayList:!0,mediaContent:{},mediaContents:[]})}],moveToMediaContent:[function(e){var t=e.props,a=e.state,o=t.step,i=a.get(r),s=i.mediaContent,l=i.mediaContents,u=(0,n.get)(s,"id"),c=l.findIndex(function(e){return(0,n.get)(e,"id")===u})+o;if(c>=0&&c<l.length){var d=(0,n.get)(l,c)||{};a.set([].concat(r,["mediaContent"]),d)}}]},getServices:function(){return{}},getState:function(){return{previewMediaPopup:{open:!1,mustPlayList:!0,mediaContent:{},mediaContents:[]}}}}}).call(t,"views/learn/modules/common/PreviewMediaPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){var t={uv:e},a=(0,_.GetUrlQueryObject)()||{},n=a.language,r=a.projectId,o=a.courseId;return n&&(t.language=n),r&&(t.projectId=r),o&&(t.courseId=o),t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(["common.uv"],["common.uv"]),s=r(["uv"],["uv"]),l=r(["common.loadingUVData"],["common.loadingUVData"]),u=a(22),c=a(5),d=n(a(62)),f=n(a(63)),p=n(a(25)),m=n(a(64)),h=n(a(19)),_=a(9),g=a(4);t.default={name:e,depends:[],signals:{changeContentUnityVersion:[(0,u.set)((0,c.state)(i),(0,c.props)(s)),(0,u.set)((0,c.state)(l),!0),function(e){var t=e.props,a=e.common,n=t.options,r=void 0===n?{}:n,i=t.uv;r.isPOP||a.syncVersionToHistory(o(i))},function(e){var t=e.props,a=e.state,n=t.uv,r=(0,_.GetContentDataByState)(a),i=(0,g.get)(r,"type"),s=(0,g.get)(r,"slug"),l=a.get("currentHost");(0,p.default)((0,_.AppendUrlQuery)((0,h.default)("/"+i+"/"+s,l),o(n)))}]},getServices:function(){var e=(0,f.default)((0,m.default)(d.default))({basename:window.location.pathname});return{syncVersionToHistory:function(t){e.push({pathname:"/",query:t})}}},getState:function(e){var t=e.option;return{uv:(0,g.get)(t,"unityVersion")||"",loadingUVData:!1}}}}).call(t,"views/learn/modules/common/LearnerUnityVersionStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t,a){var n=[],r=[],o=[],i=[];return t.forEach(function(t){e.find(function(e){return"badge"===e.type&&e.itemId===t.id})?n.push(t):r.push(t)}),a.forEach(function(t){e.find(function(e){return"asset"===e.type&&e.itemId===t.packageId})?o.push(t):i.push(t)}),{unlockBadges:n,lockBadges:r,unlockAssets:o,lockAssets:i}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(10),s=a(9),l=a(8),u=a(4),c=["common","checkpointDialog"],d={schema:l.GET_CHECKPOINT_STATE,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props.record;return{endpoint:"/api/learn/"+(0,u.get)(t,"type")+"/"+(0,u.get)(t,"itemId")+"/state"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&n.set([].concat(c,["status"]),a)}};t.default={name:e,depends:[],signals:{openCheckpointDialog:[function(e){var t=e.props,a=e.state,i=t.data,d=t.isSummary,f=void 0!==d&&d,p=t.isMode;if(i){var m=[],h={},_=[],g=0,v=0,y=null;i.nodes.forEach(function(e){var t=e.relation,a=e.status,n=e.id,r=e.type,o=(0,s.GetItemIdByType)({id:n,type:r}),i=(0,u.get)(e,"status.completed"),c=(0,u.get)(e,"submittedTime");if(t===l.LevelSelectsType.And)h[o]={completed:i,submitted:c,contents:[e]},y=o;else if(y){var d=h[y];d.completed=d.completed||i,d.submitted=d.submitted||c,d.contents.push(e)}a&&a.completed&&m.push(e)}),Object.keys(h).forEach(function(e){var t=h[e];t.completed?v+=1:_=[].concat(n(_),n(t.contents)),g+=1}),i.completedPercent=v/g,f&&(i.completedPercent=1);var b=r(a.get("learner.rewards")||[],(0,u.get)(i,"badgeRewards")||[],(0,u.get)(i,"assetRewards")||[]);a.merge(c,o({open:!0,isMode:!p,data:i,groupMap:h,completion:_,completed:m,isSummary:f},b))}}],openCheckpointSummary:[].concat(n((0,i.CallHTTP)(d)),[function(e){var t=e.state,a=e.props,n=e.controller,r=a.record,o=a.isMode,i=(0,u.get)(r,"type"),s=t.get("checkpoint."+i+"Checkpoint");n.getSignal("common.openCheckpointDialog")({data:s,isSummary:!0,isMode:o})}]),closeCheckpointDialog:[function(e){e.state.set(c,{open:!1,completion:[],completed:[]})}],openPathwayCheckpoint:[function(e){var t=e.state,a=e.controller,n=t.get(["checkpoint","pathwayCheckpoint"]);a.getSignal("common.openCheckpointDialog")({data:n})}],openMissionCheckpoint:[function(e){var t=e.state,a=e.controller,n=t.get(["checkpoint","missionCheckpoint"]);a.getSignal("common.openCheckpointDialog")({data:n})}]},getServices:function(){},getState:function(){return{checkpointDialog:{open:!1,data:{},completion:[],completed:[],status:{}}}}}}).call(t,"views/learn/modules/common/CheckpointDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(119),r=["breadcrumb","nextMissions"];t.default={name:e,depends:[],signals:{syncNextMissions:[function(e){var t=e.state,a=t.get("breadcrumb"),o=t.get("learner.parentIds.missionId"),i=(0,n.GetNextMissions)(a,o)||[];i.length>0&&t.merge(r,i)}]},getServices:function(){return{}},getState:function(){return{nextMissions:[]}}}}).call(t,"views/learn/modules/common/NextMissionsStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t,a,r){return{schema:e,request:{method:"get",endpoint:t,params:{}},onPrepareRequest:function(e){var t=e.state,n=e.props.type,o=t.get("pageUser.id"),i={page:t.get([].concat(u,["page"]))+1,userId:o,type:n};return!0===a&&(i.completed=a),!0===r&&(i.isHideActivity=r),{params:i}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state,i=e.props,d=i.type,f=i.tab,p=r.get(u),m=p.open,h=p.resourceType,_=p.resourceTab;if(200===t&&!0===m&&h===d&&_===f&&a){var g="",v="";switch(h){case l.DataTypeKeys.tutorial:g="tutorialList",v="tutorialMap";break;case l.DataTypeKeys.project:g="projectList",v="projectMap";break;case l.DataTypeKeys.course:g="courseList",v="courseMap";break;case l.DataTypeKeys.quiz:g="quizList",v="quizMap";break;case l.DataTypeKeys.mission:g="missionList",v="missionMap";break;case l.DataTypeKeys.pathway:g="pathwayList",v="pathwayMap"}var y=(0,s.get)(a,g);if(y){var b=r.get(c);y.itemIds=[].concat(n(new Set([].concat(n(b.itemIds||[]),n(y.itemIds||[]))))),y[v]=o({},b[v]||{},y[v]||{}),r.set(c,y),r.set([].concat(u,["total"]),y.total),r.set([].concat(u,["page"]),r.get([].concat(u,["page"]))+1),r.merge([].concat(u,["statsMap"]),a.statsMap||{}),r.merge("learner.collectMap",a.collectMap||{}),r.merge("learner.recordMap",a.recordMap||{})}}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(10),s=a(4),l=a(8),u=["common","recordAllListPopup"],c=["common","recordAllListPopup","activeList"],d={open:!1,page:-1,total:0,resourceType:"",activeList:{itemIds:[]}};t.default={name:e,depends:[],signals:{openRecordAllListPopup:[function(e){var t=e.state,a=e.props,n=e.controller,r=a.type,o=a.tab;t.merge(u,{open:!0,resourceType:r,resourceTab:o});var i="";switch(o){case l.MyLearningTabTypes.inProgress:i="common.getActiveRecordInProgressList";break;case l.MyLearningTabTypes.completed:i="common.getActiveRecordCompletedList";break;case l.MyLearningTabTypes.saved:i="common.getActiveRecordSavedList"}if(i){var s=n.getSignal(i);s&&s(a)}}],closeRecordAllListPopup:[function(e){e.state.set(u,o({},d))}],getActiveRecordCompletedList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_COMPLETED_LIST,"/api/learn/record/list",!0)),getActiveRecordInProgressList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_IN_PROGRESS_LIST,"/api/learn/record/list",!1,!0)),getActiveRecordSavedList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_SAVED_LIST,"/api/learn/collect/list")),getMoreActiveRecordCompletedList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_COMPLETED_MORE_LIST,"/api/learn/record/list",!0)),getMoreActiveRecordInProgressList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_IN_PROGRESS_MORE_LIST,"/api/learn/record/list",!1,!0)),getMoreActiveRecordSavedList:(0,i.CallHTTP)(r(l.GET_ACTIVE_RECORD_SAVED_MORE_LIST,"/api/learn/collect/list"))},getServices:function(){return{}},getState:function(){return{recordAllListPopup:o({},d)}}}}).call(t,"views/learn/modules/common/RecordAllListPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return{schema:e,request:{method:"get",endpoint:"/api/learn/reward/badges",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get("pageUser.id");return{params:{page:t.get([].concat(l,["page"]))+1,userId:a}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state,o=r.get(l).open;if(200===t&&!0===o&&a){var i=r.get([].concat(l,["badgesReward"]));r.set([].concat(l,["badgesReward"]),[].concat(n(a.badgesReward||[]),n(i))),r.merge([].concat(l,["badgeMap"]),a.badgeMap||{}),r.set([].concat(l,["total"]),a.total),r.set([].concat(l,["page"]),r.get([].concat(l,["page"]))+1)}}}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(10),s=a(8),l=["common","rewardBadgesPopup"],u={open:!1,page:-1,total:0,badgesReward:[]};t.default={name:e,depends:[],signals:{openRewardBadgesPopup:[function(e){e.state.set([].concat(l,["open"]),!0)}].concat(n((0,i.CallHTTP)(r(s.GET_BADGES_REWARD)))),closeRewardBadgesPopup:[function(e){e.state.set(l,o({},u))}],getMoreRewardBadges:(0,i.CallHTTP)(r(s.GET_BADGES_REWARD_MORE))},getServices:function(){return{}},getState:function(){return{rewardBadgesPopup:o({},u)}}}}).call(t,"views/learn/modules/common/RewardBadgesPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(10),i=a(8),s=["common","allSkillsPopup"],l={open:!1,total:0,competencies:[]};t.default={name:e,depends:[],signals:{openAllSkillsPopup:[function(e){e.state.set([].concat(s,["open"]),!0)}].concat(n((0,o.CallHTTP)(function(e){return{schema:e,request:{method:"get",endpoint:"/api/learn/record/skillList",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state,o=r.get(s).open;if(200===t&&!0===o&&a){var i=r.get([].concat(s,["competencies"]));r.set([].concat(s,["competencies"]),[].concat(n(a.competencies||[]),n(i))),r.merge([].concat(s,["learnSkillMap"]),a.learnSkillMap||{}),r.set([].concat(s,["total"]),a.total)}}}}(i.GET_SKILLS)))),closeAllSkillsPopup:[function(e){e.state.set(s,r({},l))}]},getServices:function(){return{}},getState:function(){return{allSkillsPopup:r({},l)}}}}).call(t,"views/learn/modules/common/AllSkillsPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(10),i=a(8),s=["common","allSubmissionsPopup"],l=function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=r.get(s);r.set([].concat(s,["hasMore"]),!!a.hasMore),r.set([].concat(s,["total"]),a.total||0),r.set([].concat(s,["submissions"]),[].concat(n(o.submissions||[]),n(a.submissions||[]))),r.merge([].concat(s,["statsMap"]),a.statsMap||{}),r.set([].concat(s,["tutorialMap"]),a.tutorialMap||{})}},u={schema:i.GET_SUBMISSIONS_LIST,request:{method:"get",endpoint:"/api/learn/record/submissionsList",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:l},c={schema:i.GET_SUBMISSIONS_MORE_LIST,request:{method:"get",endpoint:"/api/learn/record/submissionsList",params:{}},onPrepareRequest:function(e){var t=e.state,a={userId:e.props.userId},n=t.get("submissionList.submissions")||[];return n.length>0&&(a.before=get(n,n.length-1+".id",0)),{params:a}},onSuccess:l},d={open:!1,hasMore:!1,total:0,submissions:[]};t.default={name:e,depends:[],signals:{openAllSubmissionsPopup:[function(e){e.state.set([].concat(s,["open"]),!0)}].concat(n((0,o.CallHTTP)(u))),closeAllSubmissionsPopup:[function(e){e.state.set(s,r({},d))}],getMoreAllSubmissions:(0,o.CallHTTP)(c)},getServices:function(){return{}},getState:function(){return{allSubmissionsPopup:r({},d)}}}}).call(t,"views/learn/modules/common/AllSusbmissionsPopupStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t={},a=null;return e.forEach(function(e){var n=e.relation,r=e.id,o=e.type,u=(0,s.GetItemIdByType)({id:r,type:o}),c=(0,l.get)(e,"status.completed"),d=(0,l.get)(e,"submittedTime");if(n===i.LevelSelectsType.And)t[u]={completed:c,submitted:d,contents:[e]},a=u;else if(a){var f=t[a];f.completed=f.completed||c,f.submitted=f.submitted||d,f.contents.push(e)}}),t}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(10),i=a(8),s=a(9),l=a(4),u=["common","badgeOverlayDialog"],c={schema:i.GET_BADGE_OVERLAY,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.type,o=t.id,i=t.userId,s="/api/learn/"+n+"/"+o+"/badgeOverlay",l=a.get("learner.parentIds");return{endpoint:s,params:r({userId:i},l)}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=(0,l.get)(a,"checkpointNodes")||[];a.checkpointMap=n(o),r.set([].concat(u,["overlay"]),a)}}};t.default={name:e,depends:[],signals:{closeBadgeOverlayDialog:[function(e){e.state.set(u,{open:!1,overlay:null})}],openBadgeOverlayDialog:[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}((0,o.CallHTTP)(c)),[function(e){e.state.merge(u,{open:!0})}])},getServices:function(){return{}},getState:function(){return{badgeOverlayDialog:{open:!1}}}}}).call(t,"views/learn/modules/common/BadgeOverlayDialogStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.EducatorInstructionTag=t.EducatorAgeRange=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=s(["loginUser"],["loginUser"]),T=s(["common.loginTo"],["common.loginTo"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=a(11),x=n(a(43)),R=n(a(52)),L=a(97),A=n(a(3)),F=n(a(438)),K=n(a(7)),q=n(a(439)),z=(l=(0,I.decorator)({loginUser:(0,N.state)(O),loginTo:(0,N.signal)(T)}),u=(0,A.default)(F.default),c=(0,K.default)(q.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.leftSectionKeys=["description","outcome","objectives","alignment"],i=a,o(n,i)}return i(t,C.default),S(t,[{key:"renderSection",value:function(e){var t=e.key,a=this.props,n=a.data,r=a.theme,o=(0,M.get)(n,"educatorPlan"),i=(0,M.get)(o,t);return i&&(0,D.convertFromRaw)(JSON.parse(i)).getPlainText()?j.default.createElement("div",{key:t,className:this.ss("section")},j.default.createElement("div",{className:this.ss("section-title")},this.__("section_title_"+t)),j.default.createElement("div",{className:this.ss("section-content")},j.default.createElement(R.default,{value:i,editorKey:"editorTutorialEducatorPlan_"+t,renderOnly:!0,theme:r}))):null}},{key:"renderPreparationSection",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.theme,r=(0,M.get)(t,"educatorPlan"),o=(0,M.get)(r,"preparation"),i="architecture"===n?"architecture":"normal",s=!0;o||(s=!1),(0,D.convertFromRaw)(JSON.parse(o)).getPlainText()||(s=!1);var l=(0,M.get)(r,"materials",[]);return s||0!==l.length?j.default.createElement("div",{className:this.ss("section")},j.default.createElement("div",{className:this.ss("section-title")},this.__("section_title_preparation")),j.default.createElement(L.Downloads,{theme:"educator",data:{materials:l,type:(0,M.get)(t,"type"),id:(0,M.get)(t,"id")},disabled:a}),s&&j.default.createElement("div",{className:this.ss("section-content")},j.default.createElement(R.default,{value:o,theme:i,editorKey:"editorTutorialEducatorPlan_preparation",renderOnly:!0}))):null}},{key:"renderDetailLeft",value:function(){var e=this;return j.default.createElement("div",{className:this.ss("column")},j.default.createElement("div",{className:this.ss("left-column")},this.leftSectionKeys.map(function(t){return e.renderSection({key:t})})))}},{key:"renderDetailRight",value:function(){var e=this.props.data,t=(0,M.get)(e,"educatorPlan");return j.default.createElement("div",{className:this.ss("column")},j.default.createElement("div",{className:this.ss("right-column")},this.renderPreparationSection(),j.default.createElement("div",{className:this.ss("tag-wrap")},j.default.createElement("div",{className:this.ss("tag-item")},j.default.createElement(B,{ageRange:(0,M.get)(t,"ageRange",{})})),j.default.createElement("div",{className:this.ss("tag-item")},j.default.createElement(U,{minutes:(0,M.get)(t,"instruction")})))))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme;return(0,M.get)(t,"educatorPlan")?j.default.createElement("div",{className:this.ss("center","educator")},j.default.createElement("div",{className:this.ss("content",a)},this.renderDetailLeft(),this.renderDetailRight())):null}}]),t}(),f.propTypes={loginUser:P.default.object,loginTo:P.default.func,data:P.default.object,disabled:P.default.bool,scrollToStep:P.default.func,theme:P.default.string},d=p))||d)||d)||d);t.default=z;var B=t.EducatorAgeRange=(m=(0,A.default)(F.default),h=(0,K.default)(q.default),m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),S(t,[{key:"render",value:function(){var e=this.props,t=e.ageRange,a=e.theme,n=(0,M.get)(t,"min"),r=(0,M.get)(t,"max");if(!n&&!r)return null;var o="";return o=n?r?n===r?n:this.__("educator_age_range",{min:n,max:r}):this.__("educator_age_range_above",{value:n}):this.__("educator_age_range_below",{value:r}),j.default.createElement("div",{className:this.ss("educator-age-range-wrap",a)},j.default.createElement("div",{className:this.ss("educator-age-range-title")},this.__("title_educator_age_range")),j.default.createElement("div",{className:this.ss("educator-age-range")},j.default.createElement("div",{className:this.ss("tag")},o)))}}]),t}(),g.propTypes={ageRange:P.default.object,theme:P.default.oneOf(["default","preview"])},g.defaultProps={theme:"default"},_=v))||_)||_),U=t.EducatorInstructionTag=(y=(0,A.default)(F.default),b=(0,K.default)(q.default),y(w=b((k=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),S(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.minutes;return a?j.default.createElement("div",{className:this.ss("educator-instruction-time-wrap",t)},j.default.createElement("div",{className:this.ss("educator-age-range-title")},this.__("title_educator_instruct_time")),j.default.createElement("div",{className:this.ss("educator-age-range")},j.default.createElement("div",{className:this.ss("tag")},j.default.createElement(x.default,{duration:a})))):null}}]),t}(),E.propTypes={minutes:P.default.number,theme:P.default.oneOf(["default"])},E.defaultProps={theme:"default"},w=k))||w)||w)},function(e,t){e.exports={"live-session-wrap":"live-session-wrap_1q1bBk1H",pathway:"pathway_2k5DILPh",small:"small_2MvDDMkO","session-body":"session-body_1407OgWe",head:"head_12G8lzhL","head-title-image":"head-title-image_kCJtIViB","head-title-image-wrap":"head-title-image-wrap_2IKCZx7c","head-title":"head-title_17dlrZ4Q","head-sub-des":"head-sub-des_3XIObQ7o","sub-item":"sub-item_6YRgq4WX",dot:"dot_3KTF5eon","live-session-content":"live-session-content_3zjeLe_M","date-time-item":"date-time-item_21n72ZqM","date-item-icon":"date-item-icon_24sujWa0","date-item-label":"date-item-label_8ATegfu6","date-time-type":"date-time-type_xYqhW8ji","time-item":"time-item_38vAw9cO","video-preview-wrapper":"video-preview-wrapper_1RQyELcD","session-foot":"session-foot_30OmzqWc","link-item-wrap":"link-item-wrap_3CzVDvEa",link:"link_djhHB2gF","live-session":"live-session_2UjjFvwt",top:"top_155mD0B0"}},function(e,t){e.exports={time_format:"time_format_jxKG",live_session_time_diff:"live_session_time_diff_QU6k",live_session_referTo:"live_session_referTo_12q9",button_learn_more:"button_learn_more_1UaN",button_register:"button_register_3hSE",button_start_free_trial:"button_start_free_trial_9KNY",live_session_referTo_tutorial:"live_session_referTo_tutorial_2yvu",live_session_referTo_project:"live_session_referTo_project_m9w6",live_session_referTo_course:"live_session_referTo_course_3FY_"}},function(e,t){e.exports={center:"center_2PkZu5P9","filters-selects-bar":"filters-selects-bar_qURvn_kF",search_skill:"search_skill_QF7jx3yQ",mission:"mission_3TX5QInF",dark:"dark_22QvN6BJ","filter-item":"filter-item_3t2NNJ2A","input-item":"input-item_VGTSkJN-","filter-item-button":"filter-item-button_3pD52a19","expand-wrapper":"expand-wrapper_3sN6YDup","item-wrapper":"item-wrapper_2mPsv3C_","select-item-label":"select-item-label_2aepu3fq",normal:"normal_3yTd9NOx","normal-item":"normal-item_1EyfaN8c",checked:"checked_Av4jf_Af","filters-selects-container":"filters-selects-container_2u2MyFMY","filters-inner":"filters-inner_3ilfP_x2",left:"left_2aRJ_LZQ",right:"right_1POiKn8L",filter:"filter_B3Sfjr-1","filter-add":"filter-add_3W_ts_cw","more-hide":"more-hide_Ic26MX-m",active:"active_1qgdddjk",icon:"icon_28qKzwlT","icon-close":"icon-close_1oqZyAu8",ob:"ob_1l3Lqlhn",tag:"tag_3SJUv__e",ind:"ind_14VMkGab","filter-item-inner":"filter-item-inner_Xxyt_nmn","filter-item-label-content":"filter-item-label-content_xvNBZMrN",label:"label_3aPQpoFh","search-icon":"search-icon_3AdLfPii","search-input":"search-input_hzMmBc8a","select-title":"select-title_3zpaeI-y"}},function(e,t){e.exports={center:"center_1m6ri994","filters-search-input":"filters-search-input_1E7P09sf",dark:"dark_3ccvPgct","filters-search-container":"filters-search-container_F0WkJf2s","search-input-wrap":"search-input-wrap_3RLqQd7r","search-input":"search-input_2clUeJ1g","search-icon":"search-icon_1YSK8rHD",pc:"pc_1DfzPTIa",mobile:"mobile_1cp4WEx7","create-selects":"create-selects_2Z9hIxIA","selects-inner":"selects-inner_3-gCNhPP","create-item-wrap":"create-item-wrap_2BaRYEsk",content:"content_2KNXBMrL","create-title":"create-title_fgIQ49ea",border:"border_I8Ssq-yK","selects-button-content":"selects-button-content_1u6ZoUGC",label:"label_3se6qIBi","plus-icon":"plus-icon_1F1yMzwZ",icon:"icon_uRhu64vB","expand-wrapper":"expand-wrapper_3La4SkmS"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["search"],["search"]),g=s(["search.checkKeyword"],["search.checkKeyword"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=a(4),S=n(a(83)),O=a(8),T=a(9),P=n(a(3)),j=n(a(395)),C=n(a(7)),I=n(a(53)),N=n(a(168)),M=(l=(0,w.decorator)({search:(0,E.state)(_),checkKeyword:(0,E.signal)(g)}),u=(0,P.default)(j.default),c=(0,C.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={activeKey:null,hideMoreFilters:!0},i=a,o(n,i)}return i(t,b.default),h(t,[{key:"onChangeKeyword",value:function(e,t){var a=this.props,n=a.checkKeyword,r=a.search,o=a.searchOptions,i=(0,T.ParseKeywordMap)((0,k.get)(r,"criteria.k"))[t+":"+e];n(m({},{value:e,key:t,options:o},{checked:!(i>=0)}))}},{key:"getFiltersList",value:function(){var e=this.props.optionType,t=(0,k.get)(N.default,e+".check")||[];return 0===t.length?[]:t}},{key:"renderFilterItem",value:function(e){var t=this,a=e.filterValue,n=e.filterKey,r=this.props.search,o=(0,k.get)(O.CriteriaKeys,n),i=(0,T.ParseKeywordMap)((0,k.get)(r,"criteria.k"))[o+":"+a]>=0;return y.default.createElement("div",{key:"filters-checkbox-"+a,className:this.ss("checkbox-item-wrap")},y.default.createElement(S.default,{onCheck:function(){return t.onChangeKeyword(a,o)},label:this.__("checkbox_"+a),checked:i}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.optionType,r=this.getFiltersList().map(function(t){var a=t.value,n=t.key;return e.renderFilterItem({filterValue:a,filterKey:n})});return r&&0!==r.length?y.default.createElement("div",{className:this.ss("filters-checkbox-bar",a,n)},y.default.createElement("div",{className:this.ss("center","filters-checkbox-container")},y.default.createElement("div",{className:this.ss("filters-label")},y.default.createElement("div",{className:this.ss("filters-icon")},y.default.createElement("div",{className:this.ss("line","top")}),y.default.createElement("div",{className:this.ss("line","center")}),y.default.createElement("div",{className:this.ss("line","bottom")})),this.__("filters_checkbox_label")),r)):null}}]),t}(),f.propTypes={search:v.default.object,checkKeyword:v.default.func,searchOptions:v.default.object,optionType:v.default.oneOf(["default","creator","search","landing","educators","submission","architecture"]),theme:v.default.oneOf(["default","dark"])},f.defaultProps={optionType:"default",theme:"default",searchOptions:{}},d=p))||d)||d)||d);t.default=M},function(e,t){e.exports={center:"center_3sgl6Wtj","filters-checkbox-bar":"filters-checkbox-bar_15yyDymH",dark:"dark_jGoPpGaA","filters-label":"filters-label_2UQNy_EP","checkbox-item-wrap":"checkbox-item-wrap_2SS9mm0K","filters-icon":"filters-icon_3U34NHd2",line:"line_3v1-5bO-","filters-checkbox-container":"filters-checkbox-container_36Es8PhK",top:"top_1OagQC_W",bottom:"bottom_22LnweHB"}},function(e,t){e.exports={center:"center_190xO25c","search-bar-wrap":"search-bar-wrap_32ulf2Vp",educators:"educators_JtEprESO","search-bar":"search-bar_YQ-UGpBL",landing:"landing_6wx7HDR3",submission:"submission_2BzNZIG-",dark:"dark_3uXypBib",sticky:"sticky_1UlbylaB"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=s(["common.tooltips"],["common.tooltips"]),m=s(["common.tooltipShow"],["common.tooltipShow"]),h=s(["common.tooltipHide"],["common.tooltipHide"]),_=n(a(2)),g=n(a(0)),v=n(a(20)),y=n(a(1)),b=a(6),w=a(5),E=a(45),k=n(a(398)),S=0,O=["breadcrumb"],T=(l=(0,b.decorator)({tooltips:(0,w.state)(p),tooltipShow:(0,w.signal)(m),tooltipHide:(0,w.signal)(h)}))((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={tooltipId:(S++).toString()},i=a,o(n,i)}return i(t,y.default),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.tooltips,n=t.theme,r=this.state.tooltipId,o=e.theme;a[r]&&n!==o&&this.tooltipShow(o)}},{key:"componentWillUnmount",value:function(){this.tooltipHide()}},{key:"tooltipShow",value:function(e){if(!(0,E.isDevice)()){this.tid&&clearTimeout(this.tid);var t=v.default.findDOMNode(this.refs.child).getBoundingClientRect(),a=t.left,n=t.right,r=t.top,o=t.bottom,i=this.props,s=i.theme,l=i.type,u=i.position,c=i.tooltipShow,d=i.uv;c({id:this.state.tooltipId,type:l,theme:e||s,position:u,targetWidth:n-a,targetHeight:o-r,left:a,top:r,uv:d})}}},{key:"tooltipHide",value:function(){var e=this;(0,E.isDevice)()||(this.tid&&clearTimeout(this.tid),this.tid=setTimeout(function(){(0,e.props.tooltipHide)({id:e.state.tooltipId})},50))}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.isSpan,o=t.clickToHide;if(!a)return null;var i=g.default.Children.only(a);i=g.default.cloneElement(i,{ref:"child"});var s=r?"span":"div";return g.default.createElement(s,{onMouseOver:function(){return e.tooltipShow()},onMouseLeave:function(){return e.tooltipHide()},onClick:function(){return o&&e.tooltipHide()},className:n},i,g.default.createElement(k.default,{supportThemes:O}))}}]),t}(),c.propTypes={type:_.default.oneOf(["normal"]),position:_.default.oneOf(["top","left","bottom","right","lower-right","bottom-left"]),isSpan:_.default.bool,clickToHide:_.default.bool,children:_.default.any,className:_.default.string,tooltips:_.default.object,theme:_.default.oneOf(O).isRequired,uv:_.default.string,tooltipShow:_.default.func,tooltipHide:_.default.func},c.defaultProps={type:"normal",position:"top",isSpan:!1,clickToHide:!0},u=d))||u;t.default=T},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tooltips"],["common.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(20)),w=n(a(1)),E=a(6),k=a(5),S=n(a(4)),O=n(a(138)),T=n(a(3)),P=n(a(399)),j=(s=(0,T.default)(P.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"lower-right":s+=a,l+=n/2-i.offsetHeight/3;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"renderTipContent",value:function(){var e=this.props.tooltip,t=e.theme,a=e.uv,n=null;switch(t){case"breadcrumb":n=y.default.createElement(O.default,{uv:a})}return n}},{key:"render",value:function(){var e=this.props.tooltip,t=e.theme,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a,"theme-"+t),style:{left:o,top:i}},this.renderTipContent())}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,C=(d=(0,E.decorator)({tooltips:(0,k.state)(g)}),f=(0,T.default)(P.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props,t=e.tooltips,a=e.supportThemes,n=S.default.map(t,function(e){return e.theme&&a.indexOf(e.theme)>-1&&y.default.createElement(j,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},n)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired,supportThemes:v.default.array},p=h))||p)||p);t.default=C},function(e,t){e.exports={tooltips:"tooltips_2_E3fPTo",tooltip:"tooltip_3-Z8Cq10","tooltip-top":"tooltip-top_16i8OhMK","tooltip-bottom":"tooltip-bottom_1b4DznKK","tooltip-bottom-left":"tooltip-bottom-left_AH7hq19l","tooltip-left":"tooltip-left_ecOPLK7D","tooltip-right":"tooltip-right_3_AKrrOp","tooltip-lower-right":"tooltip-lower-right_3SObfS_H","theme-breadcrumb":"theme-breadcrumb_VZ2NslBr"}},function(e,t){e.exports={"breadcrumb-tip":"breadcrumb-tip_2_JlLRtz","breadcrumb-head":"breadcrumb-head_knC8ODMH","breadcrumb-item":"breadcrumb-item_28eXXQdf",last:"last_O7qjl5fV",link:"link_1YVPTI0c",title:"title_9xLlORO0","breadcrumb-arrow":"breadcrumb-arrow_e202nA7Z"}},function(e,t){e.exports={"connect-group-wrap":"connect-group-wrap_29emYbyf","group-body":"group-body_3ujnfmZf","group-head":"group-head_3Z49-r8U","head-title":"head-title_3kpPRftY","sub-title-wrap":"sub-title-wrap_1MZlG8sh","sub-title":"sub-title_MNpPqTHR","sub-title-item":"sub-title-item_qb-FCG7-","sub-title-item-label":"sub-title-item-label_2jLm7_ia",dot:"dot_HDdpy1Zn","group-foot":"group-foot_1cUjAOmP","link-item-wrap":"link-item-wrap_iYzGT3uu",link:"link_dm4Z_mcK","dot-icon":"dot-icon_TJu2TXaj","connect-group":"connect-group_oEz2bKDY",top:"top_1OmTXjvX"}},function(e,t){e.exports={sub_title_online_members:"sub_title_online_members_mv_0",sub_title_members_count:"sub_title_members_count_2w5J",button_view_group:"button_view_group_1d65"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDot=t.default=void 0;var l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=s(["learner.recordMap.",""],["learner.recordMap.",""]),y=s(["data.id"],["data.id"]),b=s(["learner.parentIds"],["learner.parentIds"]),w=s(["currentHost"],["currentHost"]),E=s(["locale"],["locale"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(4),P=a(6),j=a(5),C=n(a(19)),I=a(9),N=n(a(3)),M=n(a(404)),D=function(){},x=(l=(0,P.decorator)({record:(0,j.state)(v,(0,j.props)(y)),parentIds:(0,j.state)(b),currentHost:(0,j.state)(w),locale:(0,j.state)(E)}),u=(0,N.default)(M.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,O.default),g(t,[{key:"scrollToStep",value:function(e){this.props.scrollToStep&&this.props.scrollToStep(e)}},{key:"renderOutlineItem",value:function(e){var t=e.item,a=e.index,n=e.lastIndex,r=e.completed,o=(0,I.GetCompletedStatus)(a,r);return S.default.createElement("div",{key:"item_"+a,className:this.ss("item","text")},S.default.createElement(R,{isFirst:0===a,isLast:a===n,status:o}),S.default.createElement("div",{className:this.ss("item-title",o.completed&&"completed")},S.default.createElement("div",{className:this.ss("item-index")},a+1+"."),S.default.createElement("div",{className:this.ss("title")},(0,T.get)(t,"title"),("lab"===(0,T.get)(t,"type")||!0===(0,T.get)(t,"withLab"))&&S.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_streaming_lab")}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.record,r=t.parentIds,o=t.disabled,i=t.currentHost,s=t.locale,l=t.uv,u=t.versionId,c=a.type,d=(0,I.GetRecordSubItems)({data:a,record:n,versionId:u}),f=d.items,p=d.completed;if(!f||0===f.length)return null;var m=f.length-1,h=f.map(function(t,n){if("tutorial"===c)return S.default.createElement("a",{key:"item_"+n,className:e.ss("item-link"),onClick:o?D():function(){return e.scrollToStep({itemId:t.id})}},e.renderOutlineItem({item:t,index:n,lastIndex:m,completed:p}));var u=(0,C.default)((0,I.GetItemUrlInDetail)({parentIds:r,data:a,item:t,locale:s,uv:l}),i);return S.default.createElement("a",{key:"item_"+n,className:e.ss("item-link"),href:o?"#":u},e.renderOutlineItem({item:t,index:n,lastIndex:m,completed:p}))});return S.default.createElement("div",{className:this.ss("outline-items")},h)}}]),t}(),d.propTypes={data:k.default.object,record:k.default.object,parentIds:k.default.object,currentHost:k.default.string,locale:k.default.string,disabled:k.default.bool,uv:k.default.string,versionId:k.default.string,scrollToStep:k.default.func},c=f))||c)||c);t.default=x;var R=t.StatusDot=(p=(0,N.default)(M.default))((_=h=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,O.default),g(t,[{key:"render",value:function(){var e=this.props,t=e.isFirst,a=e.isLast,n=e.status,r=n.prevCompleted,o=n.nextCompleted,i=n.completed;return S.default.createElement("div",{className:this.ss("status-dot")},!t&&S.default.createElement("div",{className:this.ss("status-bg-up",i&&r&&"completed")},S.default.createElement("div",{className:this.ss("vertical-line")})),!a&&S.default.createElement("div",{className:this.ss("status-bg-down",i&&o&&"completed")},S.default.createElement("div",{className:this.ss("vertical-line")})),S.default.createElement("div",{className:this.ss("dot",i&&"completed")}))}}]),t}(),h.propTypes={isFirst:k.default.bool,isLast:k.default.bool,status:k.default.object},m=_))||m},function(e,t){e.exports={"outline-items":"outline-items_2zLjTXJj",text:"text_2GUFJu8v","item-link":"item-link_230NRe65","item-title":"item-title_My8ol-2D",item:"item_1NMLbnGa","title-wrap":"title-wrap_N7moP-pl",dot:"dot_2pW0m4nf",icon:"icon_1CEdrsGS",completed:"completed_3qpXrdB0","item-index":"item-index_2FWvVHUV","status-dot":"status-dot_203fed9E","vertical-line":"vertical-line_1QtyLSBI","status-bg-up":"status-bg-up_1bgOI9Io","status-bg-down":"status-bg-down_2_112rSl"}},function(e,t){e.exports={center:"center_1Se7LH-J","section-wrap":"section-wrap_-8vbwfDA","summary-wrap":"summary-wrap_3dXPGQR3","projectObjective-wrap":"projectObjective-wrap_2BV_ncwP","section-title":"section-title_UDJD7Kl8","parent-list-wrap":"parent-list-wrap_uXYNMig6","parent-list-item":"parent-list-item_10a6sg0J",type:"type_3MyGn154",title:"title_282pwgAn",dot:"dot_2Eehq28D","tags-wrap":"tags-wrap_1Mc3oanU",tags:"tags_1h8mZd0V","tag-item":"tag-item_skbQGPHX",active:"active_1Nj8wMow",tag:"tag_t13oztMw","keep-learn":"keep-learn_-YRFj2rx",language:"language_2_T4JdwN","unityVersion-wrap":"unityVersion-wrap_1eEDWlNW",select:"select_2HFDxdKa",unityVersion:"unityVersion_3tom5klw","detailVersion-title":"detailVersion-title_3eOaerOv","help-icon":"help-icon_17c2e_9p",version_tooltip:"version_tooltip_3i1eUcWv",preview:"preview_2en6fI7e","unityVersion-title":"unityVersion-title_1CA-wjN_","with-all":"with-all_3FwOgMsh",show:"show_PrpcjdQ9","download-wrap":"download-wrap_2scY3Z6C",educator:"educator_3j8JlOFH",quiz:"quiz_2QqfbWeq",material:"material_2PmvZgMB","material-icon":"material-icon_26-rszHA",solution:"solution_3v2VL_kF","links-wrap":"links-wrap_3JhqxQFg","buton-sign-in":"buton-sign-in_RlH-UlDH"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ContentEyebrow=t.ListRow=t.PageSearchResults=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=s(["search"],["search"]),D=s(["httpAPI.",""],["httpAPI.",""]),x=s(["common.closeSearchBox"],["common.closeSearchBox"]),R=s(["search.doSearch"],["search.doSearch"]),L=s(["search.changeSearchKeyword"],["search.changeSearchKeyword"]),A=s(["search.changeSearchKeywordCall"],["search.changeSearchKeywordCall"]),F=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),K=s(["search.clearKeyword"],["search.clearKeyword"]),q=s(["search.loadMore"],["search.loadMore"]),z=s(["learner.recordMap"],["learner.recordMap"]),B=s(["locale"],["locale"]),U=s(["currentHost"],["currentHost"]),H=s(["unityVersions.versionMap"],["unityVersions.versionMap"]),V=s(["xpCategories.tagMap"],["xpCategories.tagMap"]),G=n(a(2)),W=n(a(0)),Q=n(a(1)),J=a(6),Y=a(5),X=a(4),Z=n(a(108)),$=n(a(34)),ee=n(a(15)),te=n(a(41)),ae=n(a(112)),ne=n(a(37)),re=n(a(272)),oe=a(58),ie=n(a(16)),se=n(a(33)),le=n(a(346)),ue=a(106),ce=a(60),de=a(27),fe=a(97),pe=n(a(19)),me=a(9),he=a(17),_e=a(8),ge=n(a(3)),ve=n(a(414)),ye=n(a(7)),be=n(a(415)),we={"Unity Essentials":"lrn_icon_unity","Art & Animation":"lrn_icon_palette",Audio:"lrn_icon_headset","Systems Design":"lrn_icon_relation","Professional Skills":"lrn_icon_briefcase",Programming:"lrn_icon_programming"},Ee=(l=(0,J.decorator)({search:(0,Y.state)(M),searchData:(0,Y.state)(D,_e.LEARNER_SEARCH),closeSearchBox:(0,Y.signal)(x),doSearch:(0,Y.signal)(R),changeSearchKeyword:(0,Y.signal)(L),changeSearchKeywordCall:(0,Y.signal)(A)}),u=(0,ge.default)(ve.default),c=(0,ye.default)(be.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e,t){n.props.changeSearchKeyword({value:t,key:_e.CriteriaKeys.query})},n.onKeyDown=function(e){e&&13===e.keyCode&&n.props.doSearch()},n.onClear=function(e){e&&n.props.changeSearchKeywordCall({value:"",key:_e.CriteriaKeys.query})},i=a,o(n,i)}return i(t,Q.default),N(t,[{key:"componentWillMount",value:function(){this.props.closeSearchBox()}},{key:"renderSearchInput",value:function(e){var t=this,a=this.props.search,n=(0,me.ParseKeyword)((0,X.get)(a,"criteria.k")),r=(0,X.get)(n,"queries[0]"),o="pc"===e?"xxxxlarge":"xlarge",i="mobile"===e?W.default.createElement("button",{className:this.ss("search-input-button"),onClick:function(){return t.props.doSearch()}},this.__("search_button")):null;return W.default.createElement("div",{className:this.ss("search-input")},W.default.createElement("div",{className:this.ss("search-icon","ifont","ifont-lrn_icon_search")}),W.default.createElement($.default,{type:"search",value:r,theme:"transparent-inherit",size:o,placeholder:this.__("search_input_placeholder"),onChange:this.onChange,onKeyDown:this.onKeyDown,onClear:function(){return t.onClear(r)}}),i)}},{key:"renderSearchBar",value:function(e){return W.default.createElement("div",{className:this.ss("search-bar")},W.default.createElement("div",{className:this.ss("center","pc")},this.renderSearchInput("pc")),W.default.createElement("div",{className:this.ss("center","mobile")},this.renderSearchInput("mobile")),W.default.createElement(re.default,{theme:e,optionType:"search"}))}},{key:"render",value:function(){return W.default.createElement(Z.default,null,W.default.createElement("div",{className:this.ss("body-wrapper","dark")},this.renderSearchBar("dark"),W.default.createElement(ke,{theme:"dark"})))}}]),t}(),f.propTypes={search:G.default.object,searchData:G.default.object,closeSearchBox:G.default.func,doSearch:G.default.func,changeSearchKeyword:G.default.func,changeSearchKeywordCall:G.default.func},d=p))||d)||d)||d);t.default=Ee;var ke=t.PageSearchResults=(m=(0,J.decorator)({search:(0,Y.state)(M),searchData:(0,Y.state)(D,_e.LEARNER_SEARCH),loadMoreStatus:(0,Y.state)(F,_e.SEARCH_LOAD_MORE),clearKeyword:(0,Y.signal)(K),loadMore:(0,Y.signal)(q)}),h=(0,ge.default)(ve.default),_=(0,ye.default)(be.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClearAll=function(){n.props.clearKeyword()},i=a,o(n,i)}return i(t,Q.default),N(t,[{key:"renderSearchTotal",value:function(){var e=this.props,t=e.search,a=e.searchData,n=t.total,r=t.text,o=(0,X.get)(a,"updateStatus"),i=(0,he.isLoading)(o),s=this.__("search_in_progress"),l=this.__(r?"search_result_hint_text":"search_result_hint",{total:n,text:r});return W.default.createElement("div",{className:this.ss("result-total","center")},i?s:l)}},{key:"renderEmptyBody",value:function(){return W.default.createElement("div",{className:this.ss("center","empty-body")},W.default.createElement("div",{className:this.ss("empty-label")},this.__("search_result_empty")),W.default.createElement("div",{className:this.ss("button-clear")},W.default.createElement(ie.default,{ref:"clear",widthStyle:"full",label:this.__("button_clear"),onClick:this.onClearAll})))}},{key:"renderBodyNodes",value:function(){var e=this,t=this.props,a=t.search,n=t.theme,r=(0,X.get)((0,me.ParseKeyword)((0,X.get)(a,"criteria.k")),_e.CriteriaKeys.uv),o=(0,X.get)(a,"results");if(!o||0===o.length)return this.renderEmptyBody();var i=o.map(function(t){var a=(0,X.get)(t,"type"),o=(0,X.get)(t,a);return W.default.createElement("div",{key:"row_"+o.id,className:e.ss("card-wrapper")},W.default.createElement(Se,{data:o,theme:n,statsPath:"search",versionId:r}))});return W.default.createElement("div",{className:this.ss("center")},i)}},{key:"renderLoading",value:function(){return W.default.createElement("div",{className:this.ss("loading-container")},W.default.createElement("div",{className:this.ss("loading-wrap")},W.default.createElement("div",{className:this.ss("loading")})))}},{key:"render",value:function(){var e=this.props,t=e.search,a=e.searchData,n=e.loadMore,r=e.loadMoreStatus,o=e.theme,i=(0,X.get)(a,"updateStatus"),s=(0,he.isLoading)(i),l=(0,X.get)(t,"page","0"),u=(0,X.get)(t,"pageSize","0"),c=(0,X.get)(t,"total","0"),d={page:parseInt(l,10),pageSize:parseInt(u,10),total:parseInt(c,10),loadMoreStatus:r,searchStatus:i,onPage:n};return W.default.createElement("div",{className:this.ss("page-search-result",o)},this.renderSearchTotal(),s?this.renderLoading():this.renderBodyNodes(),!s&&W.default.createElement(ae.default,d))}}]),t}(),v.propTypes={search:G.default.object,searchData:G.default.object,loadMoreStatus:G.default.string,theme:G.default.oneOf(["default","dark"]),clearKeyword:G.default.func,loadMore:G.default.func},v.defaultProps={theme:"default"},g=y))||g)||g)||g),Se=t.ListRow=(b=(0,J.decorator)({recordMap:(0,Y.state)(z),locale:(0,Y.state)(B),currentHost:(0,Y.state)(U),versionMap:(0,Y.state)(H),xpCategoryMap:(0,Y.state)(V)}),w=(0,ge.default)(ve.default),E=(0,ye.default)(be.default),b(k=w(k=E((O=S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Q.default),N(t,[{key:"getRatingIds",value:function(){var e=this.props.data||{},t=e.id;if(e.type!==_e.DataTypeKeys.mission)return[t];var a=[];return((0,X.get)(this.props.data,"customContents")||[]).forEach(function(e){(e.contentIds||[]).forEach(function(e){a.push((0,me.GetIdByItemId)(e))})}),a}},{key:"renderFieldCategory",value:function(){var e=this,t=this.props,a=t.data,n=t.xpCategoryMap,r=(0,X.get)(a,"points")||[];return 0===r.length?null:r.map(function(t){var a=t.categoryId,r=(0,X.get)(n,a+".name");return W.default.createElement("div",{className:e.ss("point-category"),key:"point-"+a},W.default.createElement("div",{className:e.ss("icon","ifont","ifont-"+(0,X.get)(we,r))}),""+r)})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.recordMap,r=e.theme,o=e.navIds,i=e.locale,s=e.currentHost,l=e.versionMap,u=e.versionId,c=(0,X.get)(t,"thumbnail.url"),d=t||{},f=d.id,p=d.type,m=d.descPlain,h=(0,X.get)(n,""+t.id),_=p===_e.DataTypeKeys.quiz||p===_e.DataTypeKeys.mission||p===_e.DataTypeKeys.pathway,g=(0,X.get)(t,"withPay"),v=(0,me.GetRecordStatus)(h,u).completed,y=(0,X.get)(l,u+".name"),b=(0,pe.default)((0,me.GetUrlByNavIds)(o,(0,me.GetDetailPageURL)(t,i,y)),s),w=(0,X.get)(t,"unityVersionRange")||{};return W.default.createElement("div",{className:this.ss("row-wrapper",v&&"completed",r)},W.default.createElement("div",{className:this.ss("eyebrow-wrapper")},g&&W.default.createElement(de.PaymentLabel,null)),W.default.createElement("a",{className:this.ss("list-row"),href:b},W.default.createElement("div",{className:this.ss("row-img")},W.default.createElement("div",{className:this.ss("img-container")},W.default.createElement(ee.default,{src:c,sizes:"351px",height:198,width:351}),W.default.createElement("div",{className:this.ss("collect-wrap")},W.default.createElement(ne.default,{id:f,type:p,statsPath:a}))),h&&!_&&W.default.createElement(oe.ProgressBar,{data:t,record:h})),W.default.createElement("div",{className:this.ss("row-content")},W.default.createElement(Oe,{data:t}),W.default.createElement("div",{className:this.ss("content-title")},(0,X.get)(t,"title")),W.default.createElement("div",{className:this.ss("content-subtitle")},W.default.createElement(se.default,{data:t,theme:r,size:"small",showPoint:!0})),W.default.createElement("div",{className:this.ss("content-rating")},W.default.createElement(le.default,{ids:this.getRatingIds(),statsPath:a})),W.default.createElement("div",{className:this.ss("content-desc")},m),W.default.createElement("div",{className:this.ss("unityVersion-preview")},W.default.createElement(fe.UnityVersion,{data:{unityVersionRange:w},theme:"show"})),W.default.createElement("div",{className:this.ss("content-category")},this.renderFieldCategory()),W.default.createElement("div",{className:this.ss("author")},W.default.createElement(te.default,{data:t,theme:r})),W.default.createElement(ue.ParentLabel,{data:t,ref:"parentRef"}))),h&&v&&W.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),S.propTypes={data:G.default.object.isRequired,navIds:G.default.array,recordMap:G.default.object,currentHost:G.default.string,versionId:G.default.string,versionMap:G.default.object,xpCategoryMap:G.default.object,locale:G.default.string,statsPath:G.default.string.isRequired,url:G.default.string,theme:G.default.oneOf(["default","dark"])},S.defaultProps={theme:"default",navIds:[]},k=O))||k)||k)||k),Oe=t.ContentEyebrow=(T=(0,ge.default)(ve.default),P=(0,ye.default)(be.default),T(j=P((I=C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Q.default),N(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=t.withLab,r=t.liveSession,o=t.withPay;return n||r||o?W.default.createElement("div",{className:this.ss("content-eyebrow",a)},W.default.createElement("div",{className:this.ss("eyebrow-premium")},o&&W.default.createElement(de.PaymentLabel,{theme:a}),W.default.createElement("div",{className:this.ss("dot")})),W.default.createElement(ce.StudyMethod,{data:t,theme:a})):null}}]),t}(),C.propTypes={data:G.default.object,theme:G.default.oneOf(["default","dark"])},C.defaultProps={theme:"default"},j=I))||j)||j)},,function(e,t){e.exports={"banner-wrapper":"banner-wrapper_3eeGcsWF","banner-container":"banner-container_10x1PKHy",text:"text_3ywJBf1m",link:"link_1hu06uhE",pc:"pc_26f1LjtH",mobile:"mobile_abv0QOoe"}},function(e,t){e.exports={banner_text:"banner_text_5Hc5",sign_button_text:"sign_button_text_1pSG"}},function(e,t){e.exports={"rating-container":"rating-container_2N5ib5Vx","star-wrapper":"star-wrapper_weYasF9t",star:"star_3OFO5J9r",half:"half_1jmFGfGU",score:"score_2hCXMf34"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/star_rating_selected.37b4b498b4f9449d048189a641a688a6.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/star_rating.df1e46e5016ae6c9b3aaf70e8ccfede2.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/star_rating_left.001d27dbaa82abdbc8536a07360f1603.png"},function(e,t){e.exports={"body-wrapper":"body-wrapper_3JdUqpg8",dark:"dark_3aF3BPAw","search-bar":"search-bar_2Pk5KKwj","search-input":"search-input_2fN82YxJ","search-icon":"search-icon_a5Bve5GP","page-search-result":"page-search-result_27LHFD3q","result-total":"result-total_2sOM1ybP",barrier:"barrier_1B6VdLWL",light:"light_1YFC85FT",center:"center_2qDXH5q-","search-input-button":"search-input-button_1sUbEj_U","card-wrapper":"card-wrapper_1gg_Vntm","loading-container":"loading-container_3dDlv1jS","loading-wrap":"loading-wrap_3jOVL3Na",loading:"loading_1uPkgr-o","row-wrapper":"row-wrapper_wnFEbN2D",completed:"completed_1eKY8nGy","list-row":"list-row_3UarrcLH","row-content":"row-content_1h35PM-M","content-title":"content-title_aMREoBKV","content-subtitle":"content-subtitle_1CRadWm3","content-desc":"content-desc_1cPdiCaz",author:"author_2UF6Hd_b","author-name":"author-name_3GU8_2a0","eyebrow-wrapper":"eyebrow-wrapper_dfwDp3zv","complete-icon":"complete-icon_E6KgHRsp","row-img":"row-img_A--cyBoW","img-container":"img-container_2cfGLojp","collect-wrap":"collect-wrap_37VcoOk7","content-rating":"content-rating_2IvIlTId","content-category":"content-category_2gCJtp3G","point-category":"point-category_8WYEiMAt",icon:"icon_1ZT1dzQ1","content-eyebrow":"content-eyebrow_1Eldk64Q","eyebrow-premium":"eyebrow-premium_1UnfP1OS",dot:"dot_2XHCY00L","empty-body":"empty-body_2XAfo3hv","empty-label":"empty-label_RD2JiBKB","button-clear":"button-clear_36F_HWlE",pc:"pc_2usqEu6F",mobile:"mobile_16jv1cAp"}},function(e,t){e.exports={search_input_placeholder:"search_input_placeholder_25Iy",search_result_hint:"search_result_hint_3Gl3",search_result_hint_text:"search_result_hint_text_1QBR",search_result_empty:"search_result_empty_TMVG",search_in_progress:"search_in_progress_28ri",button_clear:"button_clear_2QGw",search_button:"search_button_1H--"}},function(e,t){e.exports={"head-bg-image-wrap":"head-bg-image-wrap_GiGEFRp_","head-bg-image":"head-bg-image_G4GX9OnR","head-bg-cover":"head-bg-cover_1UJQ_b8N"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.changeRecaptchaCode"],["header.changeRecaptchaCode"]),p=n(a(1)),m=n(a(0)),h=n(a(2)),_=n(a(28)),g=n(a(730)),v=a(6),y=a(5),b=(s=(0,v.decorator)({onChange:(0,y.signal)(f)}))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,p.default),d(t,[{key:"onChange",value:function(e){var t=this.props,a=t.onChange,n=t.onVerify;a({value:e}),n&&n(e)}},{key:"render",value:function(){var e=this,t=_.default.CAPTCHA_CLIENT_KEY;return _.default.RECAPTCHA_ENABLE?m.default.createElement(g.default,{sitekey:t,onChange:function(t){return e.onChange(t)}}):null}}]),t}(),u.propTypes={onChange:h.default.func,onVerify:h.default.func},l=c))||l;t.default=b},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e).indent||r};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(420)),r="  "},function(e,t,a){e.exports=a(14)(876)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||(0,r.default)(e),(0,n.List)(e.split(t))};var n=a(50),r=function(e){return e&&e.__esModule?e:{default:e}}(a(169))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){a=a||(0,r.default)(e);for(var n=0,i=0,s=0;i>=0&&i<t;)n++,s=i,i=e.indexOf(a,i+a.length);return new o({line:n-1,offset:t-s})};var n=a(50),r=function(e){return e&&e.__esModule?e:{default:e}}(a(169)),o=(0,n.Record)({line:Number(0),offset:Number(0)});o.prototype.getLine=function(){return this.get("line")},o.prototype.getOffset=function(){return this.get("offset")}},function(e,t){e.exports={image_link_input_place_holder:"image_link_input_place_holder_14SK",image_alt_input_place_holder:"image_alt_input_place_holder_r8Ld"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData"],["quizData"]),_=s(["learner.recordMap"],["learner.recordMap"]),g=s(["learner.quizMap"],["learner.quizMap"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(4),E=a(6),k=a(5),S=n(a(3)),O=n(a(445)),T=n(a(7)),P=n(a(446)),j=(l=(0,E.decorator)({quizData:(0,k.state)(h),recordMap:(0,k.state)(_),quizMap:(0,k.state)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.recordMap,n=e.quizMap,r=e.theme,o=(0,w.get)(t,"id"),i=(0,w.get)(n,o+".scoreStatus"),s=(0,w.get)(a,o),l=0;s&&(l=(0,w.get)(s,"answerScore"));var u=((0,w.get)(t,"questions")||[]).length,c=(0,w.get)(t,"quizSetting.passNumber"),d=void 0;return d=i?y.default.createElement("div",{className:this.ss("content","info")},y.default.createElement("div",{className:this.ss("score-percent")},l+"/"+u),y.default.createElement("div",{className:this.ss("score-res")},this.__("tracker_status_"+i))):y.default.createElement("div",{className:this.ss("content","info-none")},y.default.createElement("div",null,this.__("tracker_score")),y.default.createElement("div",{className:this.ss("dot")},"...")),y.default.createElement("div",{className:this.ss("tracker-wrap",r)},y.default.createElement("div",{className:this.ss("tracker",i||"none")},d),y.default.createElement("div",{className:this.ss("tracker-des")},this.__("correctly_to_pass",{percent:c+"/"+u})))}}]),t}(),f.propTypes={quizData:v.default.object,recordMap:v.default.object,quizMap:v.default.object,theme:v.default.oneOf(["default","brief"])},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=j},function(e,t){e.exports={"input-wrap":"input-wrap_37qHZuNK","active-blue-green":"active-blue-green_3WIO54QT","active-primary-blue":"active-primary-blue_3p_2lKf4",disabled:"disabled_XkbqWG6P",failed:"failed_3-4CaefV",icon:"icon_2BR9dnuD",close:"close_2ZtV7Eoy",input:"input_3yaUP2ah","input-wrap-egl":"input-wrap-egl_1dMm5a1u","text-input":"text-input_1zwaVtSr","theme-small":"theme-small_3BIyN2zD","theme-transparent":"theme-transparent_1qfAkTuT","theme-dark":"theme-dark_2f3h2N29","theme-egl":"theme-egl_1nm0wZsJ",notice:"notice_2SH_cyIz",succeeded:"succeeded_1E5Kcckx",inProgress:"inProgress_1aQUaJof",initial:"initial_1M_5HFm5",right:"right_1hrVYbeV",bottom:"bottom_2KFENrcf",hide:"hide_3RMsfyaL","right-hint":"right-hint_3e6r6uIL"}},function(e,t){e.exports={numberInput:"numberInput_2iuk",numberOutput:"numberOutput_14uS",inProgress:"inProgress_3sG-",succeeded:"succeeded_3Je8",failed:"failed_1WdK"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(428)),o=n(a(429)),i=n(a(430)),s=n(a(431)),l=n(a(432)),u=n(a(433)),c=n(a(434)),d=n(a(435)),f=n(a(436)),p=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default];t.default={learner:p}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(10),o=a(8),i=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),s=a(4),l=["learner","collectMap"],u=["learner","parentIds"],c={schema:o.POST_COLLECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,r=a.id,o=a.type,i=t.get(u)||{},s=t.get("userPremium");return{endpoint:"/api/learn/collect",params:n({},i,{id:r,type:o,userPremium:s})}}},d={schema:o.DELETE_COLLECT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,r=a.id,o=a.type,i=t.get(u)||{},s=t.get("userPremium");return{endpoint:"/api/learn/collect/delete",params:n({},i,{id:r,type:o,userPremium:s})}}},f={schema:o.GET_COLLECT_LIST,request:{method:"get",endpoint:"/api/learn/collect/list",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.props,r=e.state,o=n.tab,i=r.get("common.tab");200===t&&a&&i===o&&(r.set("collectList",a),r.set("learner.recordMap",(0,s.get)(a,"recordMap")||{}),r.set("learner.collectMap",(0,s.get)(a,"collectMap")||{}),r.set("privacyLimitation",(0,s.get)(a,"privacyLimitation")||{}))}};t.default={name:e,depends:[],signals:{toggleCollect:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.statsPath,i=[].concat(l,[r]),s=a.get(i),u=o+".statsMap."+r+".collectCount",c=a.get(u);return a.set(u,s?Math.max(0,c-1):c+1),a.set(i,!s),s?n.negative(t):n.positive(t)},{positive:(0,r.CallHTTP)(c),negative:(0,r.CallHTTP)(d)}]),getCollectList:(0,r.CallHTTP)(f)},getServices:function(){},getState:function(){return{collectMap:{}}}}}).call(t,"views/learn/modules/learner/CollectStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){var a=t.get(v)||{};return((0,d.get)(e,"navIds")||[]).forEach(function(e){switch((0,p.GetTypeByItemId)(e)){case u.DataTypeKeys.pathway:a.pathwayId=(0,p.GetIdByItemId)(e);break;case u.DataTypeKeys.mission:a.missionId=(0,p.GetIdByItemId)(e);break;case u.DataTypeKeys.course:a.courseId=(0,p.GetIdByItemId)(e);break;case u.DataTypeKeys.project:a.projectId=(0,p.GetIdByItemId)(e)}}),a}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(10),u=a(8),c=n(a(35)),d=a(4),f=n(a(25)),p=a(9),m=n(a(19)),h=n(a(224)),_=["learner","recordMap"],g=["learner","quizMap"],v=["learner","parentIds"],y=["learner","rewards"],b=function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=a.recordMap,o=a.breadcrumb,i=a.quizMap,s=a.checkpoint,l=a.rewards,u=void 0===l?[]:l;n.merge(_,r),n.merge(g,i),n.set("breadcrumb",o),n.set("checkpoint",s),n.merge(y,u)}},w=function(e){var t=e.status,a=e.props,n=e.result,r=e.state,o=a.tab,i=r.get("common.tab");if(200===t&&n&&i===o){r.set(o+"List",(0,d.get)(n,o+"List")||n),r.set("learner.hideContentId",""),r.set("learner.recordMap",(0,d.get)(n,"recordMap")||{}),r.set("learner.collectMap",(0,d.get)(n,"collectMap")||{}),r.set("privacyLimitation",(0,d.get)(n,"privacyLimitation")||{}),r.merge("pageUser",(0,d.get)(n,"pageUser")||{});var s=(0,d.get)(n,"recent");s?r.set("recent",s):r.unset("recent")}},E=function(e){var t=e.status,a=e.props,n=e.result,r=e.state,i=a.tab,l=a.loadMore,u=r.get("common.tab");if(200===t&&n&&u===i){var c=r.get("submissionList.statsMap")||{};if(n.statsMap=s({},c,n.statsMap||{}),!0===l){var f=r.get("submissionList.submissions")||{},p=(0,d.get)(n,"submissions")||{};n.submissions=[].concat(o(f),o(p))}r.set("submissionList",n),r.merge("learner.collectMap",(0,d.get)(n,"collectMap")||{})}},k=function(e){var t=e.props,a=e.status,n=e.result,r=e.state;if(200===a&&n){var o=t.next,i=t.checkpointRequired,s=t.isChecked,l=r.get("currentHost"),u=r.get("common.uv"),c=r.get("locale"),d=r.get("checkpoint.missionCheckpoint.startCheckPointTime")||i,h=s||!1;d&&(h=!0);var _=(0,m.default)((0,p.GetUrlByNavIds)(o.navIds,(0,p.GetDetailPageURL)(o,c,u,h)),l);(0,f.default)(_)}},S={schema:u.POST_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.versionId,i=t.currentId,l=a.get(v)||{},u=a.get("userPremium");return{endpoint:"/api/learn/record",params:s({},l,{id:n,type:r,versionId:o,userPremium:u,currentId:i})}},onSuccess:b},O={schema:u.RESTART_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.versionId,i=a.get(v)||{},l=a.get("userPremium");return{endpoint:"/api/learn/record/restart",params:s({},i,{id:n,type:r,versionId:o,userPremium:l})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(b({status:t,result:a,state:n}),(0,d.get)(r,"type")===u.DataTypeKeys.mission){var i=o.getSignal("mission.onRestartedMission");i&&i()}}},T={schema:u.START_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=a.get(v)||{},i=a.get("option.unityVersionId"),l=a.get("userPremium");return{endpoint:"/api/learn/record/start",params:s({},o,{id:n,type:r,versionId:i,userPremium:l})}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;b({status:t,result:a,state:n});var i=(0,d.get)(r,"id"),s=(0,d.get)(a,"recordMap")||{},l=(0,d.get)(s,i)||{};if((0,d.get)(l,"completed")){var u=o.getSignal("common.closeCheckpointDialog");u&&u();var c=o.getSignal("completion.startCompletion");c&&c({data:r})}else{var f=(0,d.get)(r,"completion")||!1;if(f&&f.length>0){var p=f[0],m=o.getSignal("learner.setVisitRecord");m&&m({next:p,isChecked:!0})}}}},P={schema:u.DELETE_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/record/delete",params:{id:e.props.id}}}},j={schema:u.TOGGLE_STEP_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.stepId,i=t.completed,l=t.versionId,u=a.get(v)||{},c=a.get("userPremium");return{endpoint:"/api/learn/record/tutorial/step",params:s({},u,{id:n,type:r,stepId:o,versionId:l,completed:i,userPremium:c})}},onSuccess:b},C={schema:u.GET_ACTIVITY_RECORD_LIST,request:{method:"get",endpoint:"/api/learn/record/activityStatistic",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:w},I={schema:u.GET_SUBMISSIONS_LIST,request:{method:"get",endpoint:"/api/learn/record/submissionsList",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:E},N={schema:u.GET_PROFILE_SETTINGS_LIST,request:{method:"get",endpoint:"/api/learn/profileSettingsList",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.props,n=e.result,r=e.state,o=a.tab,i=r.get("common.tab");200===t&&n&&i===o&&r.set("settings",(0,d.get)(n,"settings")||{})}},M={schema:u.GET_SUBMISSIONS_MORE_LIST,request:{method:"get",endpoint:"/api/learn/record/submissionsList",params:{}},onPrepareRequest:function(e){var t=e.state,a={userId:e.props.userId},n=t.get("submissionList.submissions")||[];return n.length>0&&(a.before=(0,d.get)(n,n.length-1+".id",0)),{params:a}},onSuccess:E},D={schema:u.GET_IN_PROGRESS_RECORD_LIST,request:{method:"get",endpoint:"/api/learn/record/list",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("common.tab"),r={completed:!1,userId:a.userId};return n===u.MyLearningTabTypes.inProgress&&(r.isHideActivity=!0),{params:r}},onSuccess:w},x={schema:u.GET_COMPLETED_RECORD_LIST,request:{method:"get",endpoint:"/api/learn/record/list",params:{}},onPrepareRequest:function(e){return{params:{completed:!0,userId:e.props.userId}}},onSuccess:w},R={schema:u.SET_QUIZ_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,i=t.versionId,l=a.get(v)||{},u=a.get("userPremium"),c=a.get("learner.recordMap."+n+".answers");return{endpoint:"/api/learn/record/quiz",params:s({},l,{id:n,type:r,completed:o,userPremium:u,versionId:i,answers:c})}},onSuccess:b},L={schema:u.RETAKE_QUIZ_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.data,r=t.versionId,o=(0,d.get)(n,"id"),i=(0,d.get)(n,"type"),l=a.get(v)||{},u=a.get("userPremium");return{endpoint:"/api/learn/record/quiz",params:s({},l,{id:o,type:i,completed:!1,userPremium:u,versionId:r})}},onSuccess:function(e){var t=e.props,a=e.status,n=e.result;if(200===a&&n){var r=t.data,o=t.currentHost,i=t.locale,s=t.uv,l=(0,m.default)((0,p.GetUrlByNavIds)(r.navIds,(0,p.GetDetailPageURL)(r,i,s)),o);(0,f.default)(l)}}},A={schema:u.POST_ARCHITECTURE_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.versionId,r=t.next,o=i(r,a),l=(0,d.get)(r,"type"),u=(0,d.get)(r,"id"),c=a.get("userPremium");return{endpoint:"/api/learn/record",params:s({},o,{id:u,type:l,userPremium:c,versionId:n})}},onSuccess:k},F={schema:u.SET_RECORD_VISIT,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.versionId,r=t.next,o=i(r,a),l=(0,d.get)(r,"type"),u=(0,d.get)(r,"id"),c=a.get("userPremium");return{endpoint:"/api/learn/record/visit",params:s({},o,{id:u,type:l,userPremium:c,versionId:n})}},onSuccess:k},K={schema:u.GET_PROFILE_LIST,request:{method:"get",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/u/"+e.props.userId}},onSuccess:w},q={schema:u.TOGGLE_TUTORIAL_RECORD,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.id,r=t.type,o=t.completed,i=t.versionId,l=a.get(v)||{},u=a.get("userPremium");return{endpoint:"/api/learn/record/tutorial",params:s({},l,{id:n,type:r,versionId:i,completed:o,userPremium:u})}},onSuccess:b};t.default={name:e,depends:[],signals:{postRecord:c.default.LoginRequired((0,l.CallHTTP)(S)),postArchitectureRecord:c.default.LoginRequired((0,l.CallHTTP)(A)),startRecord:c.default.LoginRequired((0,l.CallHTTP)(T)),restartRecord:c.default.LoginRequired((0,l.CallHTTP)(O)),toggleStepRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.stepId,i=[].concat(_,[r]),l=a.get(i);return(0,d.get)(l,"steps."+o+".completed")?n.negative(s({},t,{completed:!1})):n.positive(s({},t,{completed:!0}))},{positive:(0,l.CallHTTP)(j),negative:(0,l.CallHTTP)(j)}]),toggleTutorialRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=[].concat(_,[r]),i=a.get(o);return(0,d.get)(i,"completed")?n.negative(s({},t,{completed:!1})):n.positive(s({},t,{completed:!0}))},{positive:(0,l.CallHTTP)(q),negative:(0,l.CallHTTP)(q)}]),setQuestionRecord:c.default.LoginRequired([function(e){var t=e.props,a=e.state,n=t.id,o=t.questionId,i=t.answerId,l=t.checked,u=[].concat(_,[n,"answers",o]),c=a.get(u),f=(a.get("quizData.questions")||[]).find(function(e){return e.id===o}),p=1===((0,d.get)(f,"correctIds")||[]).length,m=(0,d.get)(c,"questionAnswers")||{};l?p?m=r({},i,{}):m[i]={}:m[i]&&delete m[i];var h=s({},c,{questionAnswers:m});a.set(u,h)},function(e){var t=e.state,a=e.props.id,n=[].concat(_,[a,"answers"]),r=t.get(n),o=(0,d.some)(r,function(e){var t=(0,d.get)(e,"questionAnswers")||{};return Object.keys(t).length>0});t.set([].concat(g,[a,"answered"]),o)}]),setQuizRecord:c.default.LoginRequired((0,l.CallHTTP)(R)),deleteRecord:c.default.LoginRequired((0,l.CallHTTP)(P)),setMissionContentRecord:c.default.LoginRequired((0,l.CallHTTP)(F)),setMissionContentRecordConfirm:c.default.LoginRequired([function(e){var t=e.props,a=e.path,n=t.selectedId,r=t.currentId;return n&&r!==n?a.open(s({},t)):a.close(s({},t))},{open:h.default.Confirmed("learner.setMissionContentRecord"),close:(0,l.CallHTTP)(F)}]),setPathwayRecord:c.default.LoginRequired((0,l.CallHTTP)(F)),setVisitRecord:c.default.LoginRequired((0,l.CallHTTP)(F)),startToLearn:[function(e){var t=e.props,a=e.state,n=t.data,r=t.parentData,o=void 0===r?{}:r,i=t.parentIds,l=void 0===i?{}:i,c=t.uv,d=a.get("locale"),f=a.get("currentHost"),h=(0,m.default)((0,p.GetDetailPageURL)(n,d,c),f),_=s({},l,{start:!0});return o.type===u.DataTypeKeys.project&&(_.projectId=o.id),o.type===u.DataTypeKeys.course&&(_.courseId=o.id),{url:(0,p.AppendUrlQuery)(h,_)}}].concat(o(c.default.LoginRequired(function(e){var t=e.props;(0,f.default)((0,d.get)(t,"url","."))}))),getActivityRecordList:(0,l.CallHTTP)(C),getInProgressRecordList:(0,l.CallHTTP)(D),getSubmissionsRecordList:(0,l.CallHTTP)(I),getProfileSettingsList:(0,l.CallHTTP)(N),getMoreSubmissionsRecordList:[function(e){var t=e.props;return s({},t,{tab:u.MyLearningTabTypes.submissions,loadMore:!0})}].concat(o((0,l.CallHTTP)(M))),getCompletedRecordList:(0,l.CallHTTP)(x),getProfileList:(0,l.CallHTTP)(K),syncRecordNextData:[function(e){var t=e.state,a=e.props,n=a.data,r=a.versionId,o=[].concat(_,[n.id]),i=t.get(o),s=(0,p.GetNextRecordData)({data:n,record:i,versionId:r});s&&t.merge(o,{nextRecordData:s})}],retakeQuizRecord:c.default.LoginRequired((0,l.CallHTTP)(L))},getServices:function(){},getState:function(){return{recordMap:{},quizMap:{}}}}}).call(t,"views/learn/modules/learner/RecordStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),r=a(8),o=a(4),i={schema:r.GET_CREATED_LIST,request:{method:"get",endpoint:"/api/learn/created/list",params:{}},onPrepareRequest:function(e){return{params:{userId:e.props.userId}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.props,r=e.state,i=n.tab,s=r.get("common.tab");200===t&&a&&s===i&&(r.set("createdList",a),r.set("learner.recordMap",(0,o.get)(a,"recordMap")||{}),r.set("learner.collectMap",(0,o.get)(a,"collectMap")||{}),r.set("privacyLimitation",(0,o.get)(a,"privacyLimitation")||{}))}};t.default={name:e,depends:[],signals:{getCreatedList:(0,n.CallHTTP)(i)},getServices:function(){},getState:function(){}}}).call(t,"views/learn/modules/learner/CreatedStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(){c&&(c.clear(),c=null)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(507)),i=n(a(17)),s=n(a(77)),l=["learner","lab"],u=240,c=null;t.default={name:e,depends:[],signals:{launchLab:[function(e){var t=e.props,a=e.state,n=e.controller,d=t.labUrl;(0,s.default)(d),r(),a.set([].concat(l,["status"]),i.default.inProgress),c=new o.default(function(){n.getSignal("learner.endLaunchLab")()},1e3*u)}],endLaunchLab:[function(e){e.state.set([].concat(l,["status"]),i.default.succeeded),r()}]},getServices:function(){},getState:function(){return{lab:{status:i.default.initial}}}}}).call(t,"views/learn/modules/learner/LabStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),r=a(9),o=a(8),i=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),s=["learner","likeMap"],l={schema:o.POST_LIKE,request:{method:"post",endpoint:"/api/learn/like",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{id:t.id,type:t.type}}}},u={schema:o.DELETE_LIKE,request:{method:"post",endpoint:"/api/learn/like/delete",params:{}},onPrepareRequest:function(e){var t=e.props;return{params:{id:t.id,type:t.type}}}};t.default={name:e,depends:[],signals:{toggleLike:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,r=t.id,o=t.statsPath,i=[].concat(s,[r]),l=a.get(i),u=o+".likeCount",c=a.get(u);return a.set(u,l?Math.max(0,c-1):c+1),a.set(i,!l),l?n.negative(t):n.positive(t)},{positive:(0,n.CallHTTP)(l),negative:(0,n.CallHTTP)(u)}]),toggleCommentLike:i.default.LoginRequired([function(e){var t=e.props,a=e.state,n=e.path,i=e.controller,l=t.id,u=t.parentMessageId,c=t.statsPath,d=t.channelId,f=[].concat(s,[l]),p=a.get(f),m=c+".likeCount",h=a.get(m);if(a.set(m,p?Math.max(0,h-1):h+1),a.set(f,!p),d){var _="commentData.commentMap."+d+".messages.likeCount",g=a.get(_);g>=0&&a.set(_,p?Math.max(0,g-1):g+1)}var v=i.getSignal("header.sendCDPRequest");if(v){var y=(0,r.GetSendMessageCDPParams)(a,d,l,u);y.interactionType=o.InteractionTypes.like,v({type:o.CDPLearnType.interaction,eventType:o.EventType.learn,data:y})}return p?n.negative(t):n.positive(t)},{positive:(0,n.CallHTTP)(l),negative:(0,n.CallHTTP)(u)}])},getServices:function(){},getState:function(){return{likeMap:{}}}}}).call(t,"views/learn/modules/learner/LikeStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=a(10),o=a(8),i=a(9),s=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),l=["learner","collectMap"],u={schema:o.POST_COLLECT_TAGS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=t.get(["learner","currentSelectTagIds"])||[],r=t.get(["tagListRecommend","tagMap"])||{},o=t.get("userPremium");return{endpoint:"/api/learn/tags/save",params:{tags:a.map(function(e){var t=(0,n.get)(r,e);return{id:e,type:(0,n.get)(t,"type")}}),userPremium:o}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state,o=e.controller;if(200===t&&a){var i=o.getSignal("common.openSavedTagDialog");i&&i();var s=o.getSignal("learner.getTagRecommend");s&&s();var u=(0,n.get)(a,"collectMap")||{};r.merge([].concat(l),u),r.set(["learner","hasSavedTags"],!0)}},onError:(0,i.onError)("save_tags")},c={schema:o.POST_COLLECT_TAGS,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/collect",params:{id:a.id,type:a.type,userPremium:t.get("userPremium")}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=(0,n.get)(a,"id");r.set([].concat(l,[o]),!0)}},onError:(0,i.onError)("tag")},d={schema:o.DELETE_COLLECT_TAG,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/collect/delete",params:{id:a.id,type:a.type,userPremium:t.get("userPremium")}}},onSuccess:function(e){var t=e.status,a=e.result,r=e.state;if(200===t&&a){var o=(0,n.get)(a,"id");r.unset([].concat(l,[o]))}},onError:(0,i.onError)("tag")},f={schema:o.GET_SAVED_TAGS_LEARN_LIST,request:{method:"get",params:{}},onPrepareRequest:function(){return{endpoint:"/api/learn/tags"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&n.merge(["learner","tagRecommend"],a)},onError:(0,i.onError)("get_tags")};t.default={name:e,depends:[],signals:{changeSelectTagIds:[function(e){var t=e.props,a=e.state,r=(0,n.get)(t,"id"),o=a.get([].concat(l))||{};if((0,n.get)(o,r)){a.unset([].concat(l,[r]));var i=a.get(["learner","currentSelectTagIds"])||[];a.set(["learner","currentSelectTagIds"],i.filter(function(e){return e!==r}))}else a.set([].concat(l,[r]),!0),a.push(["learner","currentSelectTagIds"],r)}],saveTagsWithSyncRecommend:(0,r.CallHTTP)(u),getTagRecommend:(0,r.CallHTTP)(f),toggleCollectTag:s.default.LoginRequired([function(e){var t=e.state,a=e.props,n=e.path,r=a.id,o=[].concat(l,[r]),i=t.get(o);return t.set(o,!i),i?n.negative():n.positive()},{positive:(0,r.CallHTTP)(c),negative:(0,r.CallHTTP)(d)}])},getState:function(){return{currentSelectTagIds:[]}}}}).call(t,"views/learn/modules/learner/SavedTagStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(8),o=a(4),i=["learner","recordMap"],s=["learner","parentIds"],l=["learner","cdpState"];t.default={name:e,depends:[],signals:{postScrollRecord:[function(e){var t=e.state,a=e.props,o=e.controller;if(t.get("loginUser")){var u=a.id,c=a.type,d=[l,u,"itemStart"];if(!t.get(d)){t.set(d,!0);var f=t.get(s)||{},p=t.get("userPremium"),m=[].concat(i,[u]),h=t.get(m),_=n({},f,{id:u,type:c,userPremium:p,scrollStart:!0,isStart:null!==h});o.getSignal("header.sendCDPRequest")({type:r.CDPLearnType.item_start,eventType:r.EventType.learn,data:_})}}}],postStepScrollRecord:[function(e){var t=e.state,a=e.props,u=e.controller;if(t.get("loginUser")){var c=a.id,d=a.type,f=a.stepId,p=[].concat(l,[c,f]);if(!t.get(p)){t.set(p,!0);var m=[].concat(i,[c]),h=t.get(m),_=(0,o.get)(h,"steps."+f+".completed"),g=t.get(s)||{},v=t.get("userPremium"),y=n({},g,{id:c,type:d,stepId:f,completed:_,userPremium:v,stepScrollComplete:!0});u.getSignal("header.sendCDPRequest")({type:r.CDPLearnType.step_update,eventType:r.EventType.learn,data:y})}}}]},getServices:function(){},getState:function(){return{cdpState:{}}}}}).call(t,"views/learn/modules/learner/RecordCdpStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(t){var a=e.get("currentHost"),n=e.get("common.uv"),r=e.get("locale"),o=(0,u.default)((0,l.GetUrlByNavIds)(t.navIds,(0,l.GetDetailPageURL)(t,r,n,!0)),a);(0,c.default)(o)}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(119),s=n(i),l=a(9),u=n(a(19)),c=n(a(48)),d=a(8),f=a(4),p=["breadcrumb"];t.default={name:e,depends:[],signals:{syncBreadcrumb:[function(e){var t=e.state,a=t.get(p),n=t.get("learner.recordMap");if(a){var r=o({},a);(0,s.default)(r,n),t.set(p,r)}}],syncUncompleted:[function(e){var t=e.state,a=t.get(p),n=t.get("learner.parentIds"),r=t.get("checkpointRequired");if(a){var s=o({},a),u=(0,f.get)(n,"contentId"),c=void 0;n.missionId?c=(0,l.GetItemIdByType)({id:n.missionId,type:d.DataTypeKeys.mission}):n.pathwayId&&(c=(0,l.GetItemIdByType)({id:n.pathwayId,type:d.DataTypeKeys.pathway})),(0,i.CheckUncompletedNextNode)(s,r,c,u),t.set(p,s)}}],syncMissionNextContent:[function(e){var t=e.state,a=e.props.id,n=t.get(p),r=t.get("learner.parentIds");if(n){var o=(0,f.get)(r,"contentId"),s=(0,i.GetMissionNextContent)(n,a,o);t.set([].concat(p,["nextMissionContent"]),s)}}],syncPathwayCurrentMission:[function(e){var t=e.state,a=e.props.id,n=t.get(p);if(n){var r=(0,i.GetPathwayCurrentMission)(n,a);t.set([].concat(p,["currentMission"]),r)}}],resumeMissionRecord:[function(e){var t=e.state,a=e.props.record,n=t.get(p),o=(0,f.get)(a,"recentVisit"),s=(0,i.GetCurrentVisit)(n,o),l=(0,f.get)(s,"status.completed");if(s){if(l){var u=(0,f.get)(o,"missionId"),c=(0,f.get)(o,"contentId");s=(0,i.GetMissionNextContent)(n,u,c,s)}}else{var d=(0,f.get)(a,"itemId"),m=(0,f.get)(a,"currentId");s=(0,i.GetMissionNextContent)(n,d,m,s)}r(t,s)}],resumePathwayRecord:[function(e){var t=e.state,a=e.props.record,n=t.get(p),o=(0,f.get)(a,"recentVisit");r(t,(0,i.GetCurrentVisit)(n,o))}],startPathwayCheckpoint:[function(e){var t=e.state,a=t.get([p,"root"]),n=(0,f.get)(a,"checkpointMap");if(n){var o=Object.keys(n).filter(function(e){var t=(0,f.get)(n,e);return!(0,f.get)(t,"state.completed")});if(o&&o.length>0){var i=(0,f.get)(n,o[0]);r(t,(0,f.get)(i,"groupNodes.0"))}}}],syncContentId:[function(e){var t=e.state,a=e.props.contentId,n=t.get("learner.parentIds.contentId");a&&n!==a&&t.merge("learner.parentIds",{contentId:a})}]},getServices:function(){}}}).call(t,"views/learn/modules/learner/BreadcrumbStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=a(12),i=a(9),s=a(10),l=a(8),u=["common","recordAllListPopup"],c=["common","recordAllListPopup","activeList"],d={schema:l.POST_HIDE_CURRENT_ACTIVITY,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=a.id,o=a.type,i=t.get("common.recordAllListPopup.activeList"),s=(0,r.get)(i,"itemIds")||[],l=Math.floor(s.length/4)-1;return-1===l&&(l=0),{endpoint:"/api/learn/current/hideActivity/create",params:{itemId:n,type:o,page:l}}},onSuccess:function(e){var t=e.status,a=e.result,i=e.state,s=e.props;if(200===t&&a){var d=s.id,f=s.type,p=i.get("common.tab");i.set("inProgressList.recordMap",a.recordMap||{});var m="",h="";switch(f){case l.DataTypeKeys.tutorial:m="tutorialList",h="tutorialMap";break;case l.DataTypeKeys.project:m="projectList",h="projectMap";break;case l.DataTypeKeys.course:m="courseList",h="courseMap";break;case l.DataTypeKeys.quiz:m="quizList",h="quizMap";break;case l.DataTypeKeys.mission:m="missionList",h="missionMap";break;case l.DataTypeKeys.pathway:m="pathwayList",h="pathwayMap"}var _=(0,r.get)(a,m),g=i.get("inProgressList");_?i.set("inProgressList."+m,_):(delete g[m],i.set("inProgressList",g),i.set([].concat(u,["open"]),!1));var v=i.get("common.recordAllListPopup.activeList"),y=(0,r.get)(_,"total"),b=(0,r.get)(v,"itemIds"),w=(0,r.get)(_,"itemIds"),E=(0,r.get)(_,h)||{},k=[].concat(n(b),n(w)),S=[].concat(n(new Set(k))),O=(0,o.arrayRemove)(S,d);i.set([].concat(c,["itemIds"]),O),i.merge([].concat(c,[h]),E),i.set([].concat(c,["total"]),O.length||0),i.set([].concat(u,["total"]),y||0),p===l.MyLearningTabTypes.activity&&(i.set("activityList.recent",a.recent||{}),i.set("activityList.inProgressCount",(0,r.get)(a,"inProgressCount")||0))}},onError:(0,i.onError)("mission")};t.default={name:e,depends:[],signals:{saveHideContentId:[function(e){var t=e.state,a=e.props,n=(0,r.get)(a,"id"),o=(0,r.get)(a,"isALLList");t.get("learner.hideContentId")===n&&(n=""),t.set("learner.hideContentId",n),t.set("learner.isALLList",o)}],saveHideCurrentActivity:(0,s.CallHTTP)(d)},getServices:function(){return{}},getState:function(){return{hideContentId:"",isALLList:!1}}}}).call(t,"views/learn/modules/learner/HideActivityStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){return(e=Math.round(e))>0?e=0:e<-t&&(e=-t),e}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailHeadForSubmission=t.DetailHeadForQuiz=t.DetailHeadForChallenge=t.DetailPreview=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=s(["loginUser"],["loginUser"]),F=s(["learner.recordMap.",""],["learner.recordMap.",""]),K=s(["data.id"],["data.id"]),q=s(["common.loginTo"],["common.loginTo"]),z=s(["common.uv"],["common.uv"]),B=s(["common.setting.headerTop"],["common.setting.headerTop"]),U=s(["common.setting.scrollTop"],["common.setting.scrollTop"]),H=s(["common.setCurrStickerTop"],["common.setCurrStickerTop"]),V=s(["common.setStickerPosition"],["common.setStickerPosition"]),G=s(["quiz.initFreeTime"],["quiz.initFreeTime"]),W=n(a(2)),Q=n(a(0)),J=n(a(20)),Y=n(a(1)),X=a(6),Z=a(5),$=a(46),ee=a(4),te=n(a(58)),ae=n(a(275)),ne=n(a(454)),re=n(a(348)),oe=a(457),ie=n(oe),se=n(a(144)),le=n(a(462)),ue=a(440),ce=n(ue),de=a(45),fe=a(127),pe=n(a(3)),me=n(a(464)),he=n(a(7)),_e=n(a(261)),ge=$.presets.stiff,ve=88,ye=412,be=(u=(0,X.decorator)({loginUser:(0,Z.state)(A),record:(0,Z.state)(F,(0,Z.props)(K)),loginTo:(0,Z.signal)(q),uv:(0,Z.state)(z),headerTop:(0,Z.state)(B),scrollTop:(0,Z.state)(U),setCurrStickerTop:(0,Z.signal)(H),setStickerPosition:(0,Z.signal)(V)}),c=(0,pe.default)(me.default),d=(0,he.default)(_e.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.headerTop,a=e.setStickerPosition;if(!e.disabled){var r=document.getElementById("pageBody").parentNode,o=r.scrollTop,i=r.scrollHeight,s=r.clientHeight;if((0,de.isTouch)())t<0&&a({headerTop:-ve,scrollTop:o});else{var l=J.default.findDOMNode(n.refs.detail);o<(l&&l.offsetTop||ye)?a({headerTop:-ve,scrollTop:o}):o<=i-s&&a({headerTop:Math.max(t,o>ve?0:-o),scrollTop:o})}}},i=a,o(n,i)}return i(t,Y.default),L(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.record,n=t.scrollToFirst,r=e.record,o=Object.keys((0,ee.get)(r,"steps")||{}).length>0;n&&void 0===a&&void 0!==r&&!0!==o&&n()}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.headerTop,n=t.setCurrStickerTop,r=t.data,o=t.theme,i=t.statsPath,s=t.scrollToStep,u=t.disabled,c=t.uv,d=t.versionId,f=(0,ee.get)(r,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",o)},Q.default.createElement(se.default,{url:f}),Q.default.createElement(le.default,{data:r,scrollToStep:s,versionId:d}),Q.default.createElement(ce.default,{data:r,statsPath:i,disabled:u}),Q.default.createElement(ie.default,{data:r,scrollToStep:s,disabled:u,uv:c,versionId:d}),Q.default.createElement(re.default,null),Q.default.createElement($.Motion,{style:{headerTop:(0,$.spring)(a,ge)}},function(t){var a={position:"fixed",top:l(t.headerTop,ve)};return"undefined"!=typeof window&&setTimeout(function(){n({currHeaderTop:a.top})},0),Q.default.createElement("div",{className:e.ss("sticker-head-wrap"),style:a},Q.default.createElement(te.default,{data:r,scrollToStep:s,versionId:d}))}),Q.default.createElement(ae.default,{data:r}),Q.default.createElement(ne.default,null))}}]),t}(),p.propTypes={data:W.default.object.isRequired,record:W.default.object,theme:W.default.string,loginUser:W.default.object,headerTop:W.default.number.isRequired,scrollTop:W.default.number.isRequired,statsPath:W.default.string.isRequired,disabled:W.default.bool,uv:W.default.string,versionId:W.default.string,setCurrStickerTop:W.default.func,setStickerPosition:W.default.func,loginTo:W.default.func,scrollToStep:W.default.func,scrollToFirst:W.default.func},f=m))||f)||f)||f);t.default=be;t.DetailPreview=(h=(0,pe.default)(me.default),_=(0,he.default)(_e.default),h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),L(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:r}),Q.default.createElement(ce.default,{data:t,statsPath:n}),Q.default.createElement(oe.DetailInfoForPreview,{data:t}))}}]),t}(),v.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired},g=y))||g)||g),t.DetailHeadForChallenge=(b=(0,pe.default)(me.default),w=(0,he.default)(_e.default),b(E=w((S=k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),L(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=e.disabled,o=e.versionId,i=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:i}),Q.default.createElement(le.default,{theme:"challenge",data:t,versionId:o}),Q.default.createElement(ue.BriefInfoForChallenge,{data:t,statsPath:n,disabled:r}),Q.default.createElement(oe.DetailInfoForChallenge,{data:t,disabled:r}),Q.default.createElement(re.default,null),Q.default.createElement(ae.default,{data:t}),Q.default.createElement(ne.default,null))}}]),t}(),k.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired,disabled:W.default.bool,versionId:W.default.string},E=S))||E)||E),t.DetailHeadForQuiz=(O=(0,X.decorator)({loginUser:(0,Z.state)(A),loginTo:(0,Z.signal)(q),uv:(0,Z.state)(z),headerTop:(0,Z.state)(B),scrollTop:(0,Z.state)(U),setCurrStickerTop:(0,Z.signal)(H),setStickerPosition:(0,Z.signal)(V),initFreeTime:(0,Z.signal)(G)}),T=(0,pe.default)(me.default),P=(0,he.default)(_e.default),O(j=T(j=P((I=C=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.headerTop,a=e.setStickerPosition;if(!e.disabled){var r=document.getElementById("pageBody").parentNode,o=r.scrollTop,i=r.scrollHeight,s=r.clientHeight;if((0,de.isTouch)())t<0&&a({headerTop:-ve,scrollTop:o});else{var l=J.default.findDOMNode(n.refs.detail);o<(l&&l.offsetTop||ye)?a({headerTop:-ve,scrollTop:o}):o<=i-s&&a({headerTop:Math.max(t,o>ve?0:-o),scrollTop:o})}}},i=a,o(n,i)}return i(t,Y.default),L(t,[{key:"componentDidMount",value:function(){document.getElementById("pageBody").parentNode.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.quizMapData,n=t.scrollToFirst,r=t.initFreeTime,o=(0,ee.get)(e,"quizMapData"),i=(0,ee.get)(o,"answered");n&&((0,fe.isUndefined)(a)&&(0,fe.isDraft)(o)&&!0!==i&&n(),(0,fe.isSubmitted)(a)&&(0,fe.isDraft)(o)&&!0!==i&&n()),(0,fe.isDraft)(a)&&(0,fe.isSubmitted)(o)&&r()}},{key:"componentWillUnmount",value:function(){document.getElementById("pageBody").parentNode.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this,t=this.props,a=t.headerTop,n=t.setCurrStickerTop,r=t.data,o=t.theme,i=t.statsPath,s=t.scrollToStep,u=t.disabled,c=t.uv,d=t.versionId,f=(0,ee.get)(r,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",o)},Q.default.createElement(se.default,{url:f}),Q.default.createElement(le.default,{theme:"quiz",data:r,scrollToStep:s,versionId:d}),Q.default.createElement(ce.default,{theme:"quiz",data:r,statsPath:i,disabled:u}),Q.default.createElement(oe.DetailInfoForQuiz,{data:r,disabled:u,uv:c}),Q.default.createElement(re.default,null),Q.default.createElement($.Motion,{style:{headerTop:(0,$.spring)(a,ge)}},function(t){var a={position:"fixed",top:l(t.headerTop,ve)};return"undefined"!=typeof window&&setTimeout(function(){n({currHeaderTop:a.top})},0),Q.default.createElement("div",{className:e.ss("sticker-head-wrap"),style:a},Q.default.createElement(te.default,{theme:"quiz",data:r,scrollToStep:s}))}),Q.default.createElement(ae.default,{data:r}))}}]),t}(),C.propTypes={data:W.default.object,theme:W.default.string,loginUser:W.default.object,headerTop:W.default.number.isRequired,scrollTop:W.default.number.isRequired,statsPath:W.default.string.isRequired,disabled:W.default.bool,quizMapData:W.default.object,uv:W.default.string,versionId:W.default.string,setCurrStickerTop:W.default.func,setStickerPosition:W.default.func,loginTo:W.default.func,scrollToStep:W.default.func,scrollToFirst:W.default.func,initFreeTime:W.default.func},j=I))||j)||j)||j),t.DetailHeadForSubmission=(N=(0,pe.default)(me.default),M=(0,he.default)(_e.default),N(D=M((R=x=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Y.default),L(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,ee.get)(t,"thumbnail.url");return Q.default.createElement("div",{className:this.ss("head",a)},Q.default.createElement(se.default,{url:n}),Q.default.createElement(re.default,null))}}]),t}(),x.propTypes={data:W.default.object,theme:W.default.string,statsPath:W.default.string.isRequired,disabled:W.default.bool},D=R))||D)||D)},function(e,t){e.exports={center:"center_31tiVqQM",educator:"educator_20kLhRtX",content:"content_2jy29LJv",architecture:"architecture_314MMX0D","section-content":"section-content_3noYQKoG","section-title":"section-title_2qWTGCGL",column:"column_1EA8IYwP","left-column":"left-column_2rptmDOs","right-column":"right-column_32Pfsc4H","tag-wrap":"tag-wrap_3oK1crvB","tag-item":"tag-item_3tPijpl6",downloads:"downloads_1R40685S",resources:"resources_2U6EZCzZ",material:"material_w4iPytQo","material-icon":"material-icon_3TsZVrGr",tag:"tag_3zH7fYa6","educator-age-range-wrap":"educator-age-range-wrap_1d-_Z4fn",preview:"preview_1E0HnQtL","educator-age-range-title":"educator-age-range-title_VC-GfrsH",default:"default_1kBrXCiC","educator-instruction-time-wrap":"educator-instruction-time-wrap_3NtiR6B5"}},function(e,t){e.exports={section_title_description:"section_title_description_3Pn5",section_title_outcome:"section_title_outcome_2IWl",section_title_objectives:"section_title_objectives_2wiJ",section_title_alignment:"section_title_alignment_24zL",section_title_preparation:"section_title_preparation_3IcK",title_educator_age_range:"title_educator_age_range_1XWU",educator_age_range:"educator_age_range_Bc9D",educator_age_range_below:"educator_age_range_below_1sX0",educator_age_range_above:"educator_age_range_above_Qf3e",title_educator_instruct_time:"title_educator_instruct_time_2XxK"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BriefInfoForChallenge=t.default=void 0;var l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=r(["learner.recordMap.",""],["learner.recordMap.",""]),y=r(["data.id"],["data.id"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),k=a(4),S=a(6),O=a(5),T=n(a(15)),P=n(a(41)),j=n(a(37)),C=n(a(33)),I=a(130),N=a(406),M=n(a(441)),D=n(a(424)),x=n(a(3)),R=n(a(447)),L=(l=(0,x.default)(R.default))((d=c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),g(t,[{key:"renderLiveSession",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,I.GetLiveSessionFromContentData)(a);return"default"===t&&n?w.default.createElement("div",{className:this.ss("learn-live")},w.default.createElement(I.LiveSessionWidget,{data:n})):null}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=e.theme,o=(0,k.get)(t,"thumbnail.url",""),i=t.id,s=t.title,l=t.type;return w.default.createElement("div",{className:this.ss("brief","brief-"+r)},w.default.createElement("div",{className:this.ss("center","brief-body")},w.default.createElement("div",{className:this.ss("thumbnail")},w.default.createElement(T.default,{src:o,sizes:"284px",width:284,height:160})),w.default.createElement("div",{className:this.ss("brief-info")},"default"===r&&w.default.createElement(N.ContentEyebrow,{data:t,theme:"dark"}),w.default.createElement("div",{className:this.ss("info-top")},w.default.createElement("h1",{className:this.ss("title")},s),w.default.createElement("div",{className:this.ss("info-tags")},w.default.createElement(C.default,{data:t,size:"large",theme:"dark"}),w.default.createElement("div",{className:this.ss("dot")}),w.default.createElement(j.default,{id:i,type:l,theme:"no-tip",size:"large",disabled:n,statsPath:a}))),w.default.createElement("div",{className:this.ss("author")},w.default.createElement(P.default,{data:t,theme:"dark"}))),this.renderLiveSession(),"quiz"===r&&w.default.createElement("div",{className:this.ss("quiz-score-tracker")},w.default.createElement(D.default,{theme:"brief"}))))}}]),t}(),c.propTypes={statsPath:b.default.string.isRequired,data:b.default.object,disabled:b.default.bool,theme:b.default.oneOf(["default","quiz"])},c.defaultProps={theme:"default"},u=d))||u;t.default=L;t.BriefInfoForChallenge=(f=(0,S.decorator)({record:(0,O.state)(v,(0,O.props)(y))}),p=(0,x.default)(R.default),f(m=p((_=h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,E.default),g(t,[{key:"getAssetUrl",value:function(){var e=this.props.data;return(0,k.get)(e,"asset.url")||null}},{key:"renderProgress",value:function(){var e=this.props,t=e.data,a=e.record,n=(0,k.get)(a,"subItems",{}),r=(0,k.get)(t,"contentIds")||[],o=r.length,i=r.filter(function(e){return!0===(0,k.get)(n,e+".completed")}).length;return 0===o?null:w.default.createElement("div",{className:this.ss("challenge-progress-wrap")},w.default.createElement(M.default,{totalCount:o,completedCount:i}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=(0,k.get)(t,"thumbnail.url",""),o=t.id,i=t.title,s=t.type,l=t.descPlain,u=t.asset;return w.default.createElement("div",{className:this.ss("brief","brief-challenge")},w.default.createElement("div",{className:this.ss("center","brief-body")},w.default.createElement("div",{className:this.ss("thumbnail")},w.default.createElement(T.default,{src:r,sizes:"284px",width:284,height:160})),w.default.createElement("div",{className:this.ss("brief-info")},w.default.createElement("div",{className:this.ss("title")},i),w.default.createElement("div",{className:this.ss("info-tags")},w.default.createElement(j.default,{id:o,type:s,theme:"no-tip",size:"large",disabled:n,statsPath:a})),w.default.createElement("div",{className:this.ss("des")},l),u&&w.default.createElement("div",{className:this.ss("link")},w.default.createElement("a",{className:this.ss("material"),href:this.getAssetUrl(),target:"_blank"},w.default.createElement("div",{className:this.ss("material-icon","ifont","ifont-icons_link")}),(0,k.get)(u,"name","")))),w.default.createElement("div",{className:this.ss("progress")},this.renderProgress())))}}]),t}(),h.propTypes={statsPath:b.default.string.isRequired,record:b.default.object,data:b.default.object,disabled:b.default.bool},m=_))||m)||m)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(2)),p=n(a(0)),m=n(a(1)),h=n(a(15)),_=n(a(3)),g=n(a(442)),v={inComplete:a(443),completed:a(444)},y=(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(e){this.props.completedCount!==e.completedCount&&this.updateCanvas()}},{key:"getTotalLevel",value:function(){var e=this.props.totalCount;return e?Math.min(3,e):0}},{key:"getOneLevelCount",value:function(){var e=this.props.totalCount;return e?Math.floor(e/this.getTotalLevel()):0}},{key:"getCompletedLevel",value:function(){var e=this.props,t=e.completedCount,a=e.totalCount,n=this.getTotalLevel();if(t===a)return n;var r=this.getOneLevelCount();if(!r)return 0;for(var o=1;t>=r*o&&o<n;)o++;return Math.max(0,o-1)}},{key:"getCurrentPercentage",value:function(){var e=this.props,t=e.completedCount,a=e.totalCount,n=this.getOneLevelCount(),r=this.getTotalLevel();if(!n||!t)return 0;var o=this.getCompletedLevel();if(o>=r)return 100;var i=Math.max(0,t-n*o),s=o===r-1?Math.max(1,a-n*o):n;return Math.round(100*i/s)}},{key:"updateCanvas",value:function(){var e=this.refs.canvas;if(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var a=e.width/2,n=e.height/2,r=2*Math.PI/100,o=t.createLinearGradient(0,0,0,180);o.addColorStop(0,"#42EB7E"),o.addColorStop(1,"#1FD348");var i=function(e,i){t.save(),t.beginPath(),t.strokeStyle=o,t.lineWidth=20,t.lineCap=i,t.arc(a,n,a-10,-Math.PI/2,-Math.PI/2+e*r,!1),t.stroke(),t.restore()};t.save(),t.beginPath(),t.strokeStyle="#5A5A5B",t.lineWidth=20,t.arc(a,n,a-10,0,2*Math.PI,!1),t.stroke(),t.closePath(),t.restore();var s=this.getCurrentPercentage();s>0&&(i(s,"round"),i(5,"square"))}}},{key:"renderStart",value:function(e){return e?p.default.createElement(h.default,{key:"completed",src:v.completed,sizes:"100px"}):p.default.createElement(h.default,{key:"inCompleted",src:v.inComplete,sizes:"100px"})}},{key:"render",value:function(){if(!this.props.totalCount)return null;var e=this.getTotalLevel(),t=this.getCompletedLevel(),a=t>=1,n=t>=2,r=t>=3,o=1===e,i=2===e,s=[];return e>=3&&s.push(p.default.createElement("div",{className:this.ss("star-icon"),key:"single-star"},this.renderStart(a))),e>=2&&s.push(p.default.createElement("div",{className:this.ss("star-icon"),key:"only-two"},this.renderStart(n))),p.default.createElement("div",{className:this.ss("progress-wrapper")},p.default.createElement("div",{className:this.ss("bgc-icon")},p.default.createElement("canvas",{ref:"canvas",width:174,height:174})),p.default.createElement("div",{className:this.ss("star-wrapper",o&&"single",i&&"only-two")},p.default.createElement("div",{className:this.ss("up")},p.default.createElement("div",{className:this.ss("star-icon")},this.renderStart(r||o&&a||i&&a))),!o&&p.default.createElement("div",{className:this.ss("down")},s)))}}]),t}(),u.propTypes={totalCount:f.default.number,completedCount:f.default.number},u.defaultProps={completedCount:0},l=c))||l;t.default=y},function(e,t){e.exports={"progress-wrapper":"progress-wrapper_3Gf1tylT","bgc-icon":"bgc-icon_3pcI39Zf","star-wrapper":"star-wrapper_T5P3Vmj1",single:"single_2wiv-h4E",up:"up_3h7L2GTR","only-two":"only-two_1WRQnudh",down:"down_1wL68Zve","star-icon":"star-icon_7lh5wUMs"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/star-incomplete.dcecc1ea04a51c26ef7f7c423e00a5e8.png"},function(e,t,a){e.exports=a.p+"../styles/i/learn/star-completed.03fc79874e433508a9d16ca99e580fa2.png"},function(e,t){e.exports={"tracker-wrap":"tracker-wrap_1XDqQ4AO",brief:"brief_1OYrLZwz","tracker-des":"tracker-des_38Uw-_06",tracker:"tracker_2ncefl_r",none:"none_2NUggO7_",pass:"pass_4TrgfaDO",perfect:"perfect_2SpyzKQc",notPass:"notPass_36kHx_Vn",content:"content_3bnusRRH",info:"info_1CCUiZ1Y","score-percent":"score-percent_69j3e0r2","score-res":"score-res_3iQlcsQq","info-none":"info-none_3nISC4ud",dot:"dot_3OE1ruOh"}},function(e,t){e.exports={tracker_score:"tracker_score_4SOK",tracker_status_pass:"tracker_status_pass_2oEf",tracker_status_perfect:"tracker_status_perfect_pctP",tracker_status_notPass:"tracker_status_notPass_2lk-",correctly_to_pass:"correctly_to_pass_2-U4"}},function(e,t){e.exports={center:"center_3nBoZWHN",brief:"brief_8rlR1aNg","brief-body":"brief-body_39VrevLt",thumbnail:"thumbnail_23DlvOQu","brief-info":"brief-info_3bZYTf8q","root-link":"root-link_3PZDYTWr","root-wrap":"root-wrap_1K5CGZnR",dot:"dot_SaTGXcs4",title:"title_2x-hNO8U","info-tags":"info-tags_3x1siYJt","collect-icon":"collect-icon_3bH6zh95",author:"author_3RNp0oyu","learn-live":"learn-live_3ImG3usl","brief-quiz":"brief-quiz_RyJ5VB2R","brief-challenge":"brief-challenge_28aCCMXb",des:"des_ibOiu0rj",link:"link_HODqXyBU",progress:"progress_1LBoXMXB","challenge-progress-wrap":"challenge-progress-wrap_1mOJHIwU",material:"material_5uxz0uaR","material-icon":"material-icon_2VuuzIt7","quiz-score-tracker":"quiz-score-tracker_2chKcl4J"}},,function(e,t){e.exports={content:"content_2EjLOlvu",body:"body_1MZVd-pp","share-title":"share-title_2yte8hsx","share-content":"share-content_3FMvQ7bB","img-wrap":"img-wrap_109CxkRQ","set-img-wrap":"set-img-wrap_1bSAnuL1","img-content":"img-content_jEE5dp1g","content-text":"content-text_3zKTtOKi","text-title":"text-title_3eXKGDFK","subtitle-wrapper":"subtitle-wrapper_3nV41tuq",author:"author_293xEAXZ","author-name":"author-name_38zTBAVo",dot:"dot_1Lsx5_v6","share-step":"share-step_ZDcdhXTW","share-step-title":"share-step-title_TDYDg-02","share-step-content":"share-step-content_3Cdo9ZrB","tutorial-title":"tutorial-title_18xFejk4","share-items":"share-items_36nOYNiw",item:"item_1VZoFD9x","item-icon":"item-icon_2GXezEih","item-icon-linked":"item-icon-linked_3UnxmpIh","item-facebook":"item-facebook_2ggmUJGL","item-img":"item-img_awXF-I30","item-title":"item-title_1n7smFDL","share-url":"share-url_13EcSSg8","input-wrap":"input-wrap_pk9Ujedi","input-link":"input-link_N4ulBqAf","btn-wrap":"btn-wrap_FS4Y664r",foot:"foot_3Mx_TOo-","button-close":"button-close_2w0yabJ-"}},function(e,t){e.exports={button_cancel:"button_cancel_3fsp",share_title:"share_title_20HG",copy_url:"copy_url_1n8h",share_subject:"share_subject_1c6N",share_body:"share_body_2azs",share_twitter_text:"share_twitter_text_3W-h",type_project:"type_project_1ZT6",type_tutorial:"type_tutorial_3unm",type_course:"type_course_1Nhl",type_submission:"type_submission_27Wv",type_mission:"type_mission_3jb9",type_quiz:"type_quiz_38bF",type_pathway:"type_pathway_vvwn",share_facebook:"share_facebook_2QrY",share_twitter:"share_twitter_2-L-",share_linkedIn:"share_linkedIn_2d3b",share_email:"share_email_2lAm",part_of:"part_of_3SA0"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/icon-socialmedia-twitter@2x.87d2da7062d7ea9cdc74d8826824fc60.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.lab.status"],["learner.lab.status"]),_=s(["learner.launchLab"],["learner.launchLab"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(5),E=a(27),k=n(a(16)),S=a(17),O=n(a(3)),T=n(a(606)),P=n(a(7)),j=n(a(607)),C=(l=(0,b.decorator)({status:(0,w.state)(h),launchLab:(0,w.signal)(_)}),u=(0,O.default)(T.default),c=(0,P.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleLaunch=function(){var e=n.props,t=e.labUrl;(0,e.launchLab)({labUrl:t})},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.status,n=(0,S.isLoading)(a),r=(0,S.isLoadingOrSucceeded)(a),o=r?"launching_lab_title":"launch_lab_title",i=r?"launching_lab_description":"launch_lab_description",s="card"===t;return v.default.createElement("div",{className:this.ss("path-stream-wrap",t,a)},!s&&v.default.createElement(E.StreamIconLabel,null),s&&v.default.createElement(E.StreamIconLabelWithHelp2,null),v.default.createElement("div",{className:this.ss("content")},v.default.createElement("div",{className:this.ss("info")},v.default.createElement("div",{className:this.ss("title")},this.__(o+"_"+t)),v.default.createElement("div",{className:this.ss("description")},this.__(i+"_"+t)),v.default.createElement("div",{className:this.ss("hint")},this.__("beta_hint"))),n&&v.default.createElement("div",{className:this.ss("loading")},v.default.createElement("div",{className:this.ss("lab-loading-wrap")},v.default.createElement("div",{className:this.ss("lab-loading")})))),!r&&v.default.createElement("div",{className:this.ss("button-group")},v.default.createElement(k.default,{onClick:this.handleLaunch,label:this.__("launch_lab_btn")})))}}]),t}(),f.propTypes={labUrl:g.default.string,status:g.default.string,theme:g.default.oneOf(["card","banner"]),launchLab:g.default.func},f.defaultProps={theme:"card"},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["draft.setEditorState"],["draft.setEditorState"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=n(a(20)),k=a(6),S=a(5),O=a(11),T=n(a(3)),P=n(a(611)),j=n(a(534)),C=n(a(154)),I=n(a(155)),N=n(a(157)),M=n(a(156)),D=n(a(535)),x=n(a(158)),R=n(a(159)),L=n(a(536)),A=n(a(537)),F=n(a(102)),K=n(a(538)),q=n(a(612)),z=n(a(618)),B=n(a(539)),U=n(a(113)),H=(l=(0,k.decorator)({editorState:(0,S.state)(_,(0,S.props)(g)),setEditorState:(0,S.signal)(v)}),u=(0,T.default)(P.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme};n.codeBlockPlugin=(0,j.default)(i),n.blockBreakoutPlugin=(0,I.default)(i),n.richTextPlugin=(0,C.default)(i),n.navigationPlugin=(0,U.default)(i),n.sideToolbarPlugin=(0,N.default)(m({},i,{allowAttachment:!0,allowHtml:!1})),n.inlineToolbarPlugin=(0,M.default)(i),n.mentionToolbarPlugin=(0,x.default)(i),n.mentionLearnToolbarPlugin=(0,R.default)(i),n.alignmentToolbarPlugin=(0,D.default)(i),n.dragDropPlugin=(0,L.default)(i),n.atomicPlugin=(0,B.default)(i);var s=(0,O.composeDecorators)(n.alignmentToolbarPlugin.decorator,n.dragDropPlugin.decorator,n.atomicPlugin.decorator),l=m({},i,{decorator:s});return n.imagePlugin=(0,K.default)(l),n.videoPlugin=(0,A.default)(l),n.videoAttachmentPlugin=(0,F.default)(l),n.htmlPlugin=(0,q.default)(l),n.tipPlugin=(0,z.default)(l),n.draftPlugins=[n.sideToolbarPlugin,n.inlineToolbarPlugin,n.mentionToolbarPlugin,n.mentionLearnToolbarPlugin,n.alignmentToolbarPlugin,n.imagePlugin,n.videoPlugin,n.videoAttachmentPlugin,n.htmlPlugin,n.tipPlugin,n.atomicPlugin,n.dragDropPlugin,n.codeBlockPlugin,n.blockBreakoutPlugin,n.richTextPlugin,n.navigationPlugin],n}return i(t,w.default),h(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.defaultEditable,r=e.renderOnly,o=this.dragDropPlugin,i=this.sideToolbarPlugin,s=this.inlineToolbarPlugin,l=this.mentionToolbarPlugin,u=this.mentionLearnToolbarPlugin,c=this.alignmentToolbarPlugin,d=this.videoPlugin,f=this.htmlPlugin,p=this.tipPlugin;return y.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only"),onClick:r?void 0:this.focus},y.default.createElement(o.EditorWrapper,null,y.default.createElement(O.Editor,{editorKey:t,defaultEditorState:a,defaultEditable:n,renderOnly:r,stripPastedStyles:!1,plugins:this.draftPlugins}),y.default.createElement(s.InlineToolbar,null),y.default.createElement(i.SideToolbar,null),y.default.createElement(l.MentionToolbar,null),y.default.createElement(u.MentionLearnToolbar,null),y.default.createElement(c.AlignmentToolbar,null),y.default.createElement(d.UploadVideoDialog,null),y.default.createElement(f.UploadHtmlDialog,null),y.default.createElement(p.TipDialog,null)))}}]),t}(),d.propTypes={editorKey:b.default.string.isRequired,prevEditorKey:b.default.string,placeholder:b.default.string,defaultEditorState:b.default.object,defaultEditable:b.default.bool,renderOnly:b.default.bool,theme:b.default.oneOf(["normal","popup"]),editorState:b.default.object,setEditorState:b.default.func},d.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;if(E.default.findDOMNode(e)===t.target){var i=r.getSelection();o({editorKey:n,editorState:O.EditorState.forceSelection(r,i)})}}},c=f))||c)||c);t.default=H},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.streamingLabDialog.open"],["common.streamingLabDialog.open"]),_=s(["common.closeStreamingLabDialog"],["common.closeStreamingLabDialog"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(5),w=a(6),E=n(a(32)),k=a(27),S=n(a(16)),O=n(a(3)),T=n(a(455)),P=n(a(7)),j=n(a(456)),C=(l=(0,w.decorator)({open:(0,b.state)(h),closeStreamingLabDialog:(0,b.signal)(_)}),u=(0,O.default)(T.default),c=(0,P.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.closeStreamingLabDialog()},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this.props.open;return v.default.createElement(E.default,{open:e,position:"center"},v.default.createElement("div",{className:this.ss("content-wrapper")},v.default.createElement("div",{className:this.ss("streaming-lab")},v.default.createElement(k.StreamIconLabel,{theme:"inherit"})),v.default.createElement("div",{className:this.ss("title")},this.__("title")),v.default.createElement("div",{className:this.ss("description")},v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_1")),v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_2")),v.default.createElement("div",{className:this.ss("paragraph")},this.__("description_paragraph_3"))),v.default.createElement("div",{className:this.ss("feedback")},this.__("feedback_text"),v.default.createElement("a",{className:this.ss("feedback-email"),href:"mailto:support@unity3d.com"},this.__("feedback_email"))),v.default.createElement(S.default,{label:this.__("got_it"),onClick:this.onClose}),v.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},v.default.createElement("div",{className:this.ss("ifont","ifont-icon-close")}))))}}]),t}(),f.propTypes={open:g.default.bool,closeStreamingLabDialog:g.default.func},d=p))||d)||d)||d);t.default=C},function(e,t){e.exports={"content-wrapper":"content-wrapper_1AzCyFOw","streaming-lab":"streaming-lab_1LhJgaPQ",title:"title_1Dm0cvmh",description:"description_1zzIjmB0",paragraph:"paragraph_2HO7XDnm",feedback:"feedback_2bLRynlB","feedback-email":"feedback-email_PPb5BfR4","button-close":"button-close_LeC5FRZs"}},function(e,t){e.exports={title:"title_3BAL",description_paragraph_1:"description_paragraph_1_2hzy",description_paragraph_2:"description_paragraph_2_POjO",description_paragraph_3:"description_paragraph_3_12TE",feedback_text:"feedback_text_2dX7",feedback_email:"feedback_email_1UYQ",got_it:"got_it_2zdv"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailInfoForPreview=t.DetailInfoForQuiz=t.DetailInfoForChallenge=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tab"],["common.tab"]),T=n(a(2)),P=n(a(0)),j=n(a(1)),C=a(6),I=a(5),N=a(4),M=a(458),D=n(M),x=n(a(389)),R=a(44),L=a(114),A=a(97),F=a(9),K=a(8),q=n(a(3)),z=n(a(461)),B=(s=(0,C.decorator)({tab:(0,I.state)(O)}),l=(0,q.default)(z.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleToggleExpand=function(){var e=n.state.expand;n.setState({expand:!e})},i=a,o(n,i)}return i(t,j.default),S(t,[{key:"renderTabOverview",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.scrollToStep,r=e.uv,o=e.versionId;return P.default.createElement("div",{className:this.ss("center","tab-container","overview")},P.default.createElement("div",{className:this.ss("left-column","left-column-overview")},P.default.createElement(A.Outline,{data:t,scrollToStep:n,disabled:a,uv:r,versionId:o}),P.default.createElement(A.ParentList,{data:t})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-overview")},P.default.createElement(A.Summary,{data:t}),P.default.createElement(R.LearnOverviewVideoWidget,{data:t,disabled:a}),P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("right-column","right-column-overview")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.Tags,{type:"industry",data:t,disabled:a}),P.default.createElement(A.Language,{data:t})))}},{key:"renderTabMaterials",value:function(){var e=this.props,t=e.data,a=e.disabled;return P.default.createElement("div",{className:this.ss("center","tab-container","materials")},P.default.createElement("div",{className:this.ss("middle-column","middle-column-materials")},P.default.createElement(A.Downloads,{data:t,disabled:a}),P.default.createElement(A.Resources,{data:t,disabled:a}),P.default.createElement(A.Assets,{data:t,disabled:a})))}},{key:"renderTabDetails",value:function(){var e=this.props.data;return P.default.createElement("div",{className:this.ss("center","tab-container","details")},P.default.createElement("div",{className:this.ss("left-column","left-column-details")},P.default.createElement(A.Tags,{type:"package",data:e,disabled:!0}),P.default.createElement(A.Tags,{type:"tag",data:e,disabled:!0})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-details")},P.default.createElement(A.ProjectObjective,{data:e}),P.default.createElement(A.CareerGoal,{data:e})),P.default.createElement("div",{className:this.ss("right-column","right-column-details")}))}},{key:"renderToggleCollapse",value:function(){var e=this.state.expand;return P.default.createElement("div",{className:this.ss("toggle-tool",e&&"static")},P.default.createElement("button",{className:this.ss("toggle-button"),onClick:this.handleToggleExpand},P.default.createElement("div",{className:this.ss("icon",e?"toggle-expand":"toggle-collapse","ifont","ifont-lrn_icon_unfold")})))}},{key:"render",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.disabled,r=t.tab,o=(0,N.get)(a,"type"),i=this.renderTabOverview();return r===K.DetailHeadTabs.educator&&(0,N.get)(a,"withEducator")&&(i=P.default.createElement(x.default,{data:a,disabled:n})),r===K.DetailHeadTabs.materials&&(i=this.renderTabMaterials()),r===K.DetailHeadTabs.detail&&(0,F.ValidDetailData)(a)&&(i=this.renderTabDetails()),P.default.createElement("div",{ref:"detail",className:this.ss("detail",!e&&"hidden")},P.default.createElement(D.default,{disabled:n,type:o}),i,this.renderToggleCollapse())}}]),t}(),c.propTypes={data:T.default.object.isRequired,tab:T.default.string,disabled:T.default.bool,uv:T.default.string,versionId:T.default.string,scrollToStep:T.default.func},c.defaultProps={},u=d))||u)||u);t.default=B;t.DetailInfoForChallenge=(f=(0,q.default)(z.default))((h=m=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={collapse:!0},n.handleTabChange=function(){var e=n.state.collapse;n.setState({collapse:!e})},i=a,o(n,i)}return i(t,j.default),S(t,[{key:"renderDetailsTab",value:function(){var e=this.props,t=e.data,a=e.disabled;return P.default.createElement("div",{className:this.ss("tab-content","tab-details")},P.default.createElement("div",{className:this.ss("column","left-column")},P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("column","middle-column")},P.default.createElement(A.Downloads,{data:t}),P.default.createElement(A.Resources,{data:t}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.Language,{data:t})),P.default.createElement("div",{className:this.ss("column","right-column")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a})))}},{key:"render",value:function(){var e=this,t=this.props.disabled,a=this.state.collapse,n=null;return a||(n=this.renderDetailsTab()),P.default.createElement("div",{ref:"detail",className:this.ss("detail-challenge")},P.default.createElement(M.TabBarForChallenge,{collapse:a,onChange:function(){return e.handleTabChange()},disabled:t}),P.default.createElement("div",{className:this.ss("center")},n))}}]),t}(),m.propTypes={data:T.default.object.isRequired,disabled:T.default.bool},m.defaultProps={},p=h))||p,t.DetailInfoForQuiz=(_=(0,q.default)(z.default))((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),S(t,[{key:"renderTabDetails",value:function(){var e=this.props,t=e.data,a=e.disabled,n=e.uv;return P.default.createElement("div",{className:this.ss("center","tab-container","details")},P.default.createElement("div",{className:this.ss("left-column","left-column-details")},P.default.createElement(L.BreadcrumbTip,{uv:n}),P.default.createElement(A.Summary,{data:t}),P.default.createElement(A.ProjectObjective,{data:t}),P.default.createElement(A.ParentList,{data:t})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-details")},P.default.createElement(A.Downloads,{statsPath:"prerequisites",data:t,disabled:a}),P.default.createElement(A.Downloads,{data:t,disabled:a}),P.default.createElement(A.Tags,{type:"topic",data:t,disabled:a}),P.default.createElement(A.UnityVersionDropDown,{data:t})),P.default.createElement("div",{className:this.ss("right-column","right-column-details")},P.default.createElement(A.ConnectGroup,{data:t,disabled:a}),P.default.createElement(A.Language,{data:t})))}},{key:"render",value:function(){var e=this.props.disabled,t=this.renderTabDetails();return P.default.createElement("div",{ref:"detail",className:this.ss("detail-quiz")},P.default.createElement(D.default,{disabled:e,type:K.DataTypeKeys.quiz}),t)}}]),t}(),v.propTypes={data:T.default.object.isRequired,disabled:T.default.bool,uv:T.default.string},v.defaultProps={},g=y))||g,t.DetailInfoForPreview=(b=(0,q.default)(z.default))((k=E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,j.default),S(t,[{key:"render",value:function(){var e=this.props.data;return P.default.createElement("div",{className:this.ss("detail")},P.default.createElement("div",{className:this.ss("center","tab-container","overview")},P.default.createElement("div",{className:this.ss("left-column","left-column-overview")},P.default.createElement(A.OutlineForPreview,{data:e})),P.default.createElement("div",{className:this.ss("middle-column","middle-column-overview")},P.default.createElement(A.Summary,{data:e}),P.default.createElement(A.Downloads,{data:e}),P.default.createElement(A.Resources,{data:e}),P.default.createElement(A.Assets,{data:e}),P.default.createElement(A.UnityVersion,{data:e})),P.default.createElement("div",{className:this.ss("right-column","right-column-overview")},P.default.createElement(A.Tags,{type:"topic",data:e}),P.default.createElement(A.Tags,{type:"industry",data:e}),P.default.createElement(A.Language,{data:e}))))}}]),t}(),E.propTypes={data:T.default.object.isRequired},w=k))||w},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TabBarForChallenge=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["supportedTabs"],["supportedTabs"]),E=s(["common.tab"],["common.tab"]),k=s(["tutorialData"],["tutorialData"]),S=s(["common.changeLearnDetailTab"],["common.changeLearnDetailTab"]),O=s(["common.openShareDialog"],["common.openShareDialog"]),T=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(8),D=a(4),x=a(12),R=n(a(3)),L=n(a(459)),A=n(a(7)),F=n(a(460)),K=(l=(0,I.decorator)({tabs:(0,N.state)(w),tab:(0,N.state)(E),tutorialData:(0,N.state)(k),changeLearnDetailTab:(0,N.signal)(S),openShareDialog:(0,N.signal)(O),openCommentDrawer:(0,N.signal)(T)}),u=(0,R.default)(L.default),c=(0,A.default)(F.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(e){e!==n.props.tab&&n.props.changeLearnDetailTab({tab:e})},i=a,o(n,i)}return i(t,C.default),b(t,[{key:"renderTabs",value:function(){var e=this,t=this.props,a=t.tabs,n=t.type,r=this.props.tab||"overview";return a.map(function(t){return j.default.createElement("div",{className:e.ss("tab-item",t===r?"active":"inactive"),onClick:function(){return e.handleClick(t)},key:"tab_"+t},j.default.createElement("div",{className:e.ss("tab-item-label")},t===M.DetailHeadTabs.materials?e.__("tab_"+t+"_"+n):e.__("tab_"+t)),t===r&&j.default.createElement("div",{className:e.ss("tab-item-line")}))})}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.type,n=e.openShareDialog,r=e.openCommentDrawer,o=e.tutorialData,i="tutorial"===a,s=(0,D.get)(o,"id"),l=(0,D.get)(o,"statsMap."+s),u=(0,x.formatNumber)((0,D.get)(l,"commentCount")||0);return j.default.createElement("div",{className:this.ss("tabs-wrap")},j.default.createElement("div",{className:this.ss("tabs-content")},j.default.createElement("div",{className:this.ss("tabs")},this.renderTabs()),j.default.createElement("div",{className:this.ss("button-group")},i&&j.default.createElement("a",{className:this.ss("button-comment"),onClick:t?function(){}:function(){return r()}},j.default.createElement("div",{className:this.ss("comment-icon","ifont","ifont-lrn_icon_comment")}),j.default.createElement("div",{className:this.ss("comment-count")},u)),j.default.createElement("a",{className:this.ss("button","button-share"),onClick:t?function(){}:function(){return n()}},j.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})))))}}]),t}(),f.propTypes={tabs:P.default.array,tab:P.default.string,type:P.default.string,tutorialData:P.default.object,changeLearnDetailTab:P.default.func,disabled:P.default.bool,openShareDialog:P.default.func,openCommentDrawer:P.default.func},d=p))||d)||d)||d);t.default=K;t.TabBarForChallenge=(m=(0,I.decorator)({openShareDialog:(0,N.signal)(O)}),h=(0,R.default)(L.default),_=(0,A.default)(F.default),m(g=h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),b(t,[{key:"onChange",value:function(){var e=this.props,t=e.onChange;!0!==e.disabled&&t&&t()}},{key:"renderTabs",value:function(){var e=this,t=this.props.collapse;return["detail"].map(function(a){return j.default.createElement("div",{className:e.ss("tab-item"),onClick:function(){return e.onChange()},key:"tab_"+a},j.default.createElement("div",{className:e.ss("tab-item-content")},j.default.createElement("div",{className:e.ss("tab-item-label")},e.__("tab_"+a)),!t&&j.default.createElement("div",{className:e.ss("tab-item-line")})),j.default.createElement("div",{className:e.ss("icon",!t&&"toggle-expand","ifont","ifont-lrn_icon_unfold")}))})}},{key:"render",value:function(){var e=this.props,t=e.collapse,a=e.disabled,n=e.openShareDialog;return j.default.createElement("div",{className:this.ss("tabs-challenge-wrap")},j.default.createElement("div",{className:this.ss("tabs-content",t&&"collapse")},j.default.createElement("div",{className:this.ss("tabs")},this.renderTabs()),j.default.createElement("div",{className:this.ss("button-group")},j.default.createElement("a",{className:this.ss("button-share"),onClick:a?function(){}:function(){return n()}},j.default.createElement("div",{className:this.ss("share-icon","ifont","ifont-lrn_icon_share")})))))}}]),t}(),v.propTypes={collapse:P.default.bool,onChange:P.default.func,disabled:P.default.bool,openShareDialog:P.default.func},g=y))||g)||g)||g)},function(e,t){e.exports={"tabs-wrap":"tabs-wrap__jRy0TZo","tabs-content":"tabs-content_2qrr7xon","button-group":"button-group_12UyzljE","button-comment":"button-comment_1tvi9VZT","comment-icon":"comment-icon_s_QPWYHu","button-share":"button-share_2h9IAdB5","share-icon":"share-icon_1kCPCXsi",tabs:"tabs_2zQ91rxZ","tab-item":"tab-item_139lL-2Q",active:"active_3a6DS044","tab-item-line":"tab-item-line_3MSsRFG2","tabs-challenge-wrap":"tabs-challenge-wrap_15pQmMFT",collapse:"collapse_1qFRZWd8","tab-item-content":"tab-item-content_1r_u2-Tb",icon:"icon_2gbVyuT_","toggle-expand":"toggle-expand_1t5_tAoj"}},function(e,t){e.exports={tab_overview:"tab_overview_37j7",tab_educator:"tab_educator_iIIs",tab_detail:"tab_detail_1LWY",tab_materials_tutorial:"tab_materials_tutorial_3tho",tab_materials_project:"tab_materials_project_2FcF",tab_materials_course:"tab_materials_course_xiAK",tab_materials_quiz:"tab_materials_quiz_1bl5"}},function(e,t){e.exports={center:"center_NCukgIeh","toggle-tool":"toggle-tool_2vUQ-0Ka",static:"static_208LrMSL","toggle-button":"toggle-button_hUXzEIYK",icon:"icon_2VbKCzXi","toggle-expand":"toggle-expand_2w9PWvVH",detail:"detail_1aZpzwwy",hidden:"hidden_3k8FBcGM","tab-container":"tab-container_3a4__NJt","left-column":"left-column_HeHP3jo6","middle-column":"middle-column_ZVFbHTr5","right-column":"right-column_hzJRmeCS","detail-challenge":"detail-challenge_3K9aD0AS","tab-content":"tab-content_3YHZluzi",column:"column_1NNn0D1_","detail-quiz":"detail-quiz_CSxMMUgY"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["loginUser"],["loginUser"]),h=s(["premiumRequired"],["premiumRequired"]),_=s(["paymentRequired"],["paymentRequired"]),g=s(["locale"],["locale"]),v=s(["common.uv"],["common.uv"]),y=s(["common.loginTo"],["common.loginTo"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),k=a(6),S=a(5),O=a(4),T=a(27),P=n(a(161)),j=n(a(118)),C=n(a(16)),I=n(a(114)),N=a(9),M=n(a(3)),D=n(a(463)),x=(l=(0,k.decorator)({loginUser:(0,S.state)(m),premiumRequired:(0,S.state)(h),paymentRequired:(0,S.state)(_),locale:(0,S.state)(g),uv:(0,S.state)(v),loginTo:(0,S.signal)(y)}),u=(0,M.default)(D.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),p(t,[{key:"renderTryPremium",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.data,r=e.scrollToStep,o=e.versionId;return t?w.default.createElement(P.default,{data:n,scrollToStep:r,versionId:o}):w.default.createElement(C.default,{onClick:function(){return a&&a()},label:w.default.createElement(T.LoginToStartLabel,null)})}},{key:"renderTryPayment",value:function(){var e=this.props,t=e.data,a=e.locale,n=(0,O.get)(t,"paymentItem.slug"),r=(0,O.get)(t,"type"),o=(0,N.GetPayUrl)({item:n,locale:a});return w.default.createElement(C.default,{label:w.default.createElement(T.TryPaymentLabel,{type:r}),href:o})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.scrollToStep,n=e.theme,r=e.premiumRequired,o=e.paymentRequired,i=e.uv,s=e.versionId,l=w.default.createElement(P.default,{data:t,scrollToStep:a,versionId:s});return"quiz"===n&&(l=w.default.createElement(j.default,{data:t,scrollToStep:a,versionId:s})),r?l=this.renderTryPremium():o&&(l=this.renderTryPayment()),w.default.createElement("div",{className:this.ss("top-bar",n)},w.default.createElement("div",{className:this.ss("center","top-bar-body")},w.default.createElement("div",{className:this.ss("breadcrumb")},w.default.createElement(I.default,{uv:i})),w.default.createElement("div",{className:this.ss("button-group")},l)))}}]),t}(),d.propTypes={loginUser:b.default.object,data:b.default.object,premiumRequired:b.default.bool,paymentRequired:b.default.bool,locale:b.default.string,uv:b.default.string,versionId:b.default.string,scrollToStep:b.default.func,theme:b.default.oneOf(["default","challenge","quiz"]),loginTo:b.default.func},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=x},function(e,t){e.exports={center:"center_2cSM-VIv","top-bar":"top-bar_2oGBfgza","top-bar-body":"top-bar-body_1RXYMB_C",breadcrumb:"breadcrumb_2sdqK1__","button-group":"button-group_1f9oHXde","button-try-premium-free":"button-try-premium-free_14trQBiS"}},function(e,t){e.exports={text:"text_32tyUwXG",center:"center_zLT7EF4q",head:"head_yq8obgY4",dialog:"dialog_i4CSiAJ_",brief:"brief_1NwOSaV9",detail:"detail_2ZDyb5SK","sticker-head-wrap":"sticker-head-wrap_2DM-xTZV"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.calendarDialog.show"],["common.calendarDialog.show"]),_=s(["common.calendarDialog.data"],["common.calendarDialog.data"]),g=s(["common.closeCalendarDialog"],["common.closeCalendarDialog"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=n(a(32)),S=a(540),O=n(a(3)),T=n(a(544)),P=n(a(7)),j=n(a(545)),C=(l=(0,w.decorator)({show:(0,E.state)(h),data:(0,E.state)(_),onClose:(0,E.signal)(g)}),u=(0,O.default)(T.default),c=(0,P.default)(j.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){n.props.onClose()},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.data;return y.default.createElement(k.default,{theme:"blur",open:a,position:"center",noScroller:!1,onCloseModal:this.onClose},a&&y.default.createElement("div",{className:this.ss("contents")},y.default.createElement("div",{className:this.ss("live-session-item-content")},y.default.createElement(S.LiveSessionCard,{theme:"dialog",data:n}),y.default.createElement(S.LiveSessionInfo,{theme:"dialog",data:n})),y.default.createElement("div",{onClick:function(){return e.props.onClose()},className:this.ss("close-button","ifont","ifont-udp-close")})))}}]),t}(),f.propTypes={show:v.default.bool,data:v.default.object,onClose:v.default.func},d=p))||d)||d)||d);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(467)),o=n(a(468)),i=n(a(469)),s=n(a(470)),l=n(a(471)),u=n(a(472)),c=n(a(473)),d=n(a(474)),f=n(a(475)),p=n(a(476)),m=n(a(477)),h=n(a(478)),_=n(a(479)),g=n(a(480)),v=n(a(481)),y=n(a(482)),b=[r.default,o.default,i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default,y.default];t.default={editor:b}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{toggleSettings:[function(e){var t=e.state,a=t.get("editor.openSettings");t.set("editor.openSettings",!a)}],closeSettings:[function(e){e.state.set("editor.openSettings",!1)}],toggleMenu:[function(e){var t=e.props,a=e.state,n=t.key,r=a.get("editor.openMenu."+n);a.set("editor.openMenu."+n,!r)}],closeMenu:[function(e){var t=e.props,a=e.state,n=t.key;a.set("editor.openMenu."+n,!1)}],openHoverMenu:[function(e){var t=e.props,a=e.state,n=t.top,r=t.left,o=t.width;a.merge("editor.hoverMenu",{open:!0,top:n,left:r,width:o})}],closeHoverMenu:[function(e){e.state.set("editor.hoverMenu",{open:!1,top:0,left:0,width:0})}]},getServices:function(){return{}},getState:function(){return{openSettings:!0,openMenu:{},hoverMenu:{open:!1,top:0,left:0,width:0}}}}}).call(t,"views/learn/modules/editor/CreateStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(48)),o=n(a(35)),i=a(4),s=["editor","contentMap"];t.default={name:e,depends:[],signals:{addContent:[function(e){var t=e.props,a=e.state,n=t.content;a.set([].concat(s,[n.id]),n)}],downloadContent:o.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.id,o=a.get("tutorialData"),i="";o&&o.id&&(i="/api/p/"+o.id+"/attachments/"+n),n&&""!==i&&(0,r.default)(i)}),downloadDraftContent:o.default.LoginRequired(function(e){var t=e.props,a=e.state,n=t.id,o=a.get("tutorialData"),i="";o&&o.id&&(i="/api/p/"+o.id+"/attachments/"+n+"/draft"),n&&""!==i&&(0,r.default)(i)})},getState:function(e){var t=e.tutorialData,a=e.quizData,n=(0,i.get)(t,"id"),r=(0,i.get)(a,"id"),o={};return n&&(o=(0,i.get)(t,"contentMap")||{}),r&&(o=(0,i.get)(a,"contentMap")||{}),{contentMap:(0,i.merge)({},o)}},getContent:function(e,t){return e.get([].concat(s,[t]))}}}).call(t,"views/learn/modules/editor/ContentStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){return t.get(f+".pendingUploadIds").findIndex(function(a){return l.default.getUpload(a,t).url===e})}function o(e,t){var a=t.get(f+".pendingUploadIds"),r=[].concat(n(a)),o=r.findIndex(function(t){return t===e});-1!==o&&r.splice(o,1),r.push(e),t.set(f+".pendingUploadIds",r)}function i(e,t){var a=t.get(f+".pendingUploadIds"),r=[].concat(n(a)),o=r.findIndex(function(t){return t===e});-1!==o&&(r.splice(o,1),t.set(f+".pendingUploadIds",r))}function s(e){var t=e.state,a=(e.props||{}).uploaderKey;t.unset(f+".uploadingId"),a&&t.unset(f+"."+a+".uploadingId"),t.unset(f+".url")}Object.defineProperty(t,"__esModule",{value:!0});var l=function(e){return e&&e.__esModule?e:{default:e}}(a(362)),u=a(210),c=a(17),d={video:/(.*\.?|^)(youtube|youtu|vimeo|qq|bilibili)\.(com|be)/i,audio:/(.*\.?|^)(soundcloud)\.(com)/i,model3d:/(.*\.?|^)(sketchfab|skfb)\.(com|ly)/i,assetstore:/(.*\.?|^)(assetstore).*\.(unity|unity3d)\.(com)/i},f="editor.uploadVideo";t.default={name:e,depends:[l.default],signals:{addEmbedAuto:[function(e){var t=e.props,a=e.state,n=e.path,o=t.uploaderKey,i=t.url;if(-1!==r(i,a))return n.duplicate();var s=a.get(f+".uploadingId");o&&(s=a.get(f+"."+o+".uploadingId"));var u=(l.default.getUpload(s,a)||{}).status;return(0,c.isLoading)(u)?n.loading():i?n.yes({url:i}):n.dummy()},{yes:[function(e){var t=e.props,a=e.state,n=e.controller,r=t.uploaderKey,o=t.url,i=t.learnResourceType;n.getSignal("editor.changeVideoUrl")({uploaderKey:r,value:o});var s=Object.keys(d).find(function(e){return!0===d[e].test(o)});if(s){var l=(0,u.createUpload)({url:o,uploadType:s}),c=f+".uploadingId";r&&(c=f+"."+r+".uploadingId"),a.set(c,l.id),n.getSignal("upload.uploadAttachment")({upload:l,learnResourceType:i})}else n.getSignal("header.showMessage")({message:"project_unsupported_url"})}],dummy:[],loading:[function(e){e.controller.getSignal("header.showMessage")({message:"project_embed_loading"})}],duplicate:[function(e){e.controller.getSignal("header.showMessage")({message:"project_embed_duplicate"})}]}],changeVideoUrl:[function(e){var t=e.state,a=e.props||{},n=a.uploaderKey,r=a.value,o=f+".url";n&&(o=f+"."+n+".url"),t.set(o,r)}],addPreviewEmbed:[function(e){var t=e.state,a=e.controller,n=t.get(f).uploadingId;if(n){s({state:t}),o(n,t);var r=l.default.getUpload(n,t).content;a.getSignal("editor.addContent")({content:r})}}],deletePreviewEmbed:[function(e){var t=e.props,a=e.state,n=t.uploadId;n&&i(n,a)}],openUploadVideo:[function(e){var t=e.props,a=e.state,n=e.controller;a.set(f+".open",!0),"editorKey"in t&&a.set(f+".parentEditorKey",t.editorKey),"url"in t&&n.getSignal("editor.addEmbedAuto")({url:t.url})}],closeUploadVideo:[function(e){e.state.set(f,{pendingUploadIds:[]})}],clearUploadVideo:[s]},getState:function(){return{uploadVideo:{pendingUploadIds:[]}}}}}).call(t,"views/learn/modules/editor/EmbedDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["editor.uploadHtml.pendingHtml"],["editor.uploadHtml.pendingHtml"]),o=n(["html"],["html"]),i=a(22),s=a(5),l="editor.uploadHtml";t.default={name:e,depends:[],signals:{changeHtmlValue:[(0,i.set)((0,s.state)(r),(0,s.props)(o))],openUploadHtml:[function(e){var t=e.props,a=e.state;a.set(l+".open",!0),"editorKey"in t&&a.set(l+".parentEditorKey",t.editorKey)}],closeUploadHtml:[function(e){e.state.set(l,{pendingHtml:""})}]},getState:function(){return{uploadHtml:{pendingHtml:""}}}}}).call(t,"views/learn/modules/editor/HtmlDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){return[function(t){var a=t.props;return{field:[].concat(f,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(i.chains.fieldChanged),[i.chains.validate])}function o(){return(0,i.Form)({tipValue:{value:"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},tipType:{value:"",validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}Object.defineProperty(t,"__esModule",{value:!0});var i=a(13),s=a(4),l=a(21),u=a(9),c=a(10),d="editor.tipDialog",f=["editor","tipDialog","tipDialogForm"],p={schema:a(8).POST_TIP,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/tip",params:{type:a.type,body:(0,l.parseEditorContent)(t,"editorTipBody").body}}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result;if(200===t&&n&&n.id){var r=(a.get(d)||{}).tipMap;r[n.id]=n,a.merge(d,{tipId:n.id,tipMap:r})}},onError:(0,u.onError)("tip")};t.default={name:e,depends:[],signals:{changeTipValue:r("tipValue"),openTipDialog:[function(e){var t=e.props,a=e.state;a.set(d+".open",!0),"editorKey"in t&&a.set(d+".parentEditorKey",t.editorKey)}],closeTipDialog:[function(e){var t=e.state,a=t.get(d).tipMap;t.set(d,{tipDialogForm:o(),tipMap:a,tipId:""})}],changeTipDialogFormField:r(),addTip:[function(){return{formPath:f}}].concat(n(i.chains.formValidated),[function(e){var t=e.state,a=e.path,n=t.get(f);return(0,i.isValidForm)(n)?a.yes():a.no()},{yes:(0,c.CallHTTP)(p),no:[]}])},getState:function(e){var t=(e.tutorialData||{}).tipMap;return{tipDialog:{tipDialogForm:o(),tipMap:(0,s.merge)({},t),tipId:""}}}}}).call(t,"views/learn/modules/editor/TipDialogStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","sideToolbars"];t.default={name:e,signals:{showSideToolbar:[function(e){var t=e.props,a=e.state,r=t.editorKey,o=t.blockType,i=t.top,s=[].concat(n,[r]),l=a.get(s);l&&l.blockType===o&&l.top===i||a.set(s,{isOpen:!1,blockType:o,top:i})}],hideSideToolbar:[function(e){var t=e.props,a=e.state,r=t.editorKey,o=[].concat(n,[r]);a.get(o)&&a.unset(o)}],toggleSideToolbar:[function(e){var t=e.props,r=e.state,o=t.editorKey,i=[].concat(n,[o]),s=r.get(i);s&&r.set(i,a({},s,{isOpen:!s.isOpen}))}],closeSideToolbar:[function(e){var t=e.props,r=e.state,o=t.editorKey,i=[].concat(n,[o]),s=r.get(i);s&&s.isOpen&&r.set(i,a({},s,{isOpen:!1}))}]},getState:function(){return{sideToolbars:{}}}}}).call(t,"views/learn/modules/editor/SideToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","inlineToolbars"];t.default={name:e,signals:{showInlineToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.left,s=[].concat(a,[r]),l=n.get(s);l&&l.top===o&&l.left===i||n.set(s,{top:o,left:i})}],hideInlineToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],showLinkInput:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.merge(o,{mode:"linkInput",value:""})}],changeLinkInputValue:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.value,i=[].concat(a,[r]),s=n.get(i);s&&"linkInput"===s.mode&&n.merge(i,{value:o})}],hideLinkInput:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&"linkInput"===i.mode&&n.merge(o,{mode:"",value:""})}]},getState:function(){return{inlineToolbars:{}}}}}).call(t,"views/learn/modules/editor/InlineToolbarStore.js")},function(e,t,a){"use strict";(function(e){function a(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=a.value,s=void 0===i?"":i,l=[].concat(o,[r]);n.get(l)&&n.merge(l,{mode:e,value:s})}]}function n(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=a.value,s=[].concat(o,[r]),l=n.get(s);l&&l.mode===e&&n.merge(s,{value:i})}]}function r(e){return[function(t){var a=t.props,n=t.state,r=a.editorKey,i=[].concat(o,[r]),s=n.get(i);s&&s.mode===e&&n.merge(i,{mode:"",value:""})}]}Object.defineProperty(t,"__esModule",{value:!0});var o=["editor","alignmentToolbar"];t.default={name:e,signals:{showAlignmentToolbar:[function(e){var t=e.props,a=e.state,n=t.editorKey,r=t.top,i=t.left,s=[].concat(o,[n]),l=a.get(s);l&&l.top===r&&l.left===i||a.set(s,{top:r,left:i})}],hideAlignmentToolbar:[function(e){var t=e.props,a=e.state,n=t.editorKey,r=[].concat(o,[n]);a.get(r)&&a.unset(r)}],showImageLinkInput:a("linkInput"),changeImageLinkInputValue:n("linkInput"),hideImageLinkInput:r("linkInput"),showImageAltInput:a("altInput"),changeImageAltInputValue:n("altInput"),hideImageAltInput:r("altInput")},getState:function(){return{alignmentToolbar:{}}}}}).call(t,"views/learn/modules/editor/AlignmentToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionToolbars"];t.default={name:e,signals:{showMentionToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.bottom,s=t.left,l=t.prefix,u=[].concat(a,[r]),c=n.get(u);c&&c.top===o&&c.bottom===i&&c.left===s&&c.prefix===l||n.set(u,{top:o,bottom:i,left:s,prefix:l,index:0})}],hideMentionToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],moveToMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.index,i=[].concat(a,[r]);n.get(i)&&n.merge(i,{index:o})}],moveToNextMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index+1})}],moveToPrevMentionItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index-1})}]},getState:function(){return{mentionToolbars:{}}}}}).call(t,"views/learn/modules/editor/MentionToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionLearnToolbars"];t.default={name:e,signals:{showMentionLearnToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.top,i=t.bottom,s=t.left,l=t.prefix,u=[].concat(a,[r]),c=n.get(u);c&&c.top===o&&c.bottom===i&&c.left===s&&c.prefix===l||n.set(u,{top:o,bottom:i,left:s,prefix:l,index:0})}],hideMentionLearnToolbar:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]);n.get(o)&&n.unset(o)}],moveToMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=t.index,i=[].concat(a,[r]);n.get(i)&&n.merge(i,{index:o})}],moveToNextMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index+1})}],moveToPrevMentionLearnItem:[function(e){var t=e.props,n=e.state,r=t.editorKey,o=[].concat(a,[r]),i=n.get(o);i&&n.merge(o,{index:i.index-1})}]},getState:function(){return{mentionLearnToolbars:{}}}}}).call(t,"views/learn/modules/editor/MentionLearnToolbarStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:e,depends:[],signals:{setDragOverBlockKey:[function(e){var t=e.props,a=e.state,n=t.blockKey,r=void 0===n?"":n,o=t.internalDrag,i=void 0!==o&&o,s=a.get(["editor","dragOverBlockKey"]),l=a.get(["editor","internalDrag"]);s!==r&&a.set(["editor","dragOverBlockKey"],r),l!==i&&a.set(["editor","internalDrag"],i)}],setDragStartBlockKey:[function(e){var t=e.props,a=e.state,n=t.blockKey,r=void 0===n?"":n,o=t.blockAfterKey,i=void 0===o?"":o,s=a.get(["editor","dragStartBlockKey"]),l=a.get(["editor","dragStartBlockAfterKey"]);s!==r&&a.set(["editor","dragStartBlockKey"],r),l!==i&&a.set(["editor","dragStartBlockAfterKey"],i)}]},getState:function(){return{dragOverBlockKey:"",internalDrag:!1,dragStartBlockKey:"",dragStartBlockAfterKey:""}}}}).call(t,"views/learn/modules/editor/DragDropStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","positions"];t.default={name:e,depends:[],signals:{setPressed:[function(e){var t=e.props,r=e.state,o=(t||{}).pos,i=r.get(n);r.set(n,a({},i,o,{isPressed:!0}))}],updatePressed:[function(e){var t=e.props,r=e.state,o=(t||{}).pos,i=r.get(n);r.set(n,a({},i,o))}],unsetPressed:[function(e){e.state.set(n,{})}]},getServices:function(){return{}},getState:function(){return{positions:{}}}}}).call(t,"views/learn/modules/editor/DragMoveStore.js")},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["project.autoSave.updateStatus"],["project.autoSave.updateStatus"]),o=a(22),i=a(5),s=a(17),l=n(s),u=n(a(705)),c=a(12),d=["editor","autoSave"];t.default={name:e,depends:[],signals:{draftChanged:[function(e){e.state.merge(d,{changedAt:Date.now()})},(0,o.debounce)(2e3),{continue:[function(e){var t=e.state,a=e.path,n=t.get(d),r=n.changedAt,o=n.savedAt,i=t.get("project.prePost.updateStatus");return!(0,s.isLoadingOrSucceeded)(i)&&r>o?a.yes():a.no()},{yes:[(0,o.set)((0,i.state)(r),l.default.inProgress),function(e){var t=e.state,a=e.http,n=e.path,r=t.get("tutorialData").id,o=(0,u.default)(t),i=Date.now();return a.put("/api/p/"+r,o).then(function(e){var a=t.get(d).savedAt;return i>a&&t.merge(d,{savedAt:i}),n.success(e)}).catch(n.error)},{success:[(0,o.set)((0,i.state)(r),l.default.succeeded)],error:[(0,c.onError)("project"),(0,o.set)((0,i.state)(r),l.default.failed)]}],no:[]}],discard:[]}]},getState:function(){return{autoSave:{changedAt:0,savedAt:0,updateStatus:""}}}}}).call(t,"views/learn/modules/editor/AutoSaveStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n=["editor","userCards"];t.default={name:e,depends:[],signals:{fetchUserCard:[function(e){var t=e.props,a=e.state,r=e.http,o=e.controller,i=t.id,s=a.get([].concat(n,[i])),l=a.get(["editor","userCardsInProgress"]);if(!s&&!l)return a.set(["editor","userCardsInProgress"],!0),r.get("/api/cardFull/u/"+i).then(function(e){var t=e.result;a.set(["editor","userCardsInProgress"],!1),o.getSignal("editor.addUserCard")(t)},function(){a.set(["editor","userCardsInProgress"],!1)})}],addUserCard:[function(e){var t=e.props,r=e.state,o=t.user,i=t.projects,s=a({},o,{projects:i});r.set([].concat(n,[o.id]),s)}]},getState:function(){return{userCards:{},userCardsInProgress:!1}}}}).call(t,"views/learn/modules/editor/UserStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["editor","mentionLearnCards"];t.default={name:e,depends:[],signals:{fetchMentionLearnCard:[function(e){var t=e.props,n=e.state,r=e.http,o=e.controller,i=t.id,s=t.type;if(i&&s){var l=n.get([].concat(a,[i])),u=n.get(["editor","mentionLearnCardsInProgress"]);return l||u?void 0:(n.set(["editor","mentionLearnCardsInProgress"],!0),r.get("/api/learn/"+s+"/"+i).then(function(e){var t=e.result;n.set(["editor","mentionLearnCardsInProgress"],!1),o.getSignal("editor.addMentionLearnCard")({result:t})},function(){n.set(["editor","mentionLearnCardsInProgress"],!1)}))}}],addMentionLearnCard:[function(e){var t=e.props,n=e.state,r=t.result,o=r.id;n.set([].concat(a,[o]),r)}]},getState:function(){return{mentionLearnCards:{},mentionLearnCardsInProgress:!1}}}}).call(t,"views/learn/modules/editor/MentionLearnCardStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.state,a=e.props.uploadId;t.set([].concat(d,["uploadId"]),a)}function r(e){var t=e.state,a=e.props.subtitleMap,n=(t.get(["option","supportedLanguages"])||[]).filter(function(e){return!(0,o.get)(a,e)});t.set([].concat(d,["subtitleLanguages"]),n);var r=(0,c.getLanguageFromLocale)(t.get("locale"));n.includes(r)?t.set([].concat(d,["selectLanguage"]),r):t.set([].concat(d,["selectLanguage"]),n[0]||"")}Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),i=a(9),s=a(10),l=a(8),u=function(e){return e&&e.__esModule?e:{default:e}}(a(18)),c=a(70),d=["editor","subtitle"],f=["editor","subtitleDialog"],p={schema:l.DELETE_VIDEO_SUBTITLE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/tutorial/"+t.get("tutorialData.id")+"/videosubtitle/delete",params:{contentId:a.contentId,language:a.language}}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result;if(200===t&&n){var i=(0,o.get)(n,"subtitleMap")||{};a.set([].concat(d,["content","subtitleMap"]),i),r({state:a,props:{subtitleMap:i}})}},onError:(0,i.onError)("delete video subtitle")};t.default={name:e,depends:[],signals:{openSubtitleDialog:[function(e){var t=e.props,a=e.state,n=t.content;a.set([].concat(d,["content"]),n),a.set([].concat(f,["open"]),!0),r({state:a,props:{subtitleMap:(0,o.get)(n,"subtitleMap")||{}}})}],closeSubtitleDialog:[function(e){var t=e.state;t.set(d,{}),t.set([].concat(f,["open"]),!1),t.set([].concat(f,["selectLanguage"]),"")}],changeSubtitleLang:[function(e){var t=e.state,a=e.props.selectLanguage;t.set([].concat(d,["selectLanguage"]),a)}],syncCurrentSubtitleUploadId:[n],syncSubtitleLanguages:[r],syncSubtitleMap:[function(e){var t=e.state,a=t.get("upload.uploads"),i=t.get([].concat(d,["uploadId"])),s=(0,o.get)(a,i+".content.subtitleMap");s&&(t.merge([].concat(d,["content","subtitleMap"]),s),r({state:t,props:{subtitleMap:s}}),n({state:t,props:{uploadId:""}}))}],deleteSubtitle:(0,s.CallHTTP)(p),deleteSubtitleConfirm:u.default.DeleteConfirmed("editor.deleteSubtitle")},getState:function(){return{subtitleDialog:{open:!1},subtitle:{selectLanguage:"",subtitleLanguages:[]}}}}}).call(t,"views/learn/modules/editor/SubtitleStore.js")},,,function(e,t,a){e.exports=a(14)(39)},function(e,t){e.exports=window.numbro},,,,,,,,function(e,t,a){e.exports=a(14)(786)},function(e,t,a){e.exports=a(14)(96)},,,function(e,t,a){e.exports=a(14)(62)},function(e,t,a){e.exports=a(14)(178)},function(e,t,a){e.exports=a(14)(5)},function(e,t,a){e.exports=a(14)(583)},function(e,t,a){e.exports=a(14)(281)},function(e,t,a){e.exports=a(14)(119)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["comment.inputValues"],["comment.inputValues"]),g=s(["comment.currentReplyId"],["comment.currentReplyId"]),v=s(["comment.currentEditId"],["comment.currentEditId"]),y=s(["comment.toggleCurrentReplyId"],["comment.toggleCurrentReplyId"]),b=s(["comment.toggleEditId"],["comment.toggleEditId"]),w=s(["comment.changeInputValue"],["comment.changeInputValue"]),E=s(["comment.createComment"],["comment.createComment"]),k=s(["comment.editComment"],["comment.editComment"]),S=s(["common.loginTo"],["common.loginTo"]),O=n(a(2)),T=n(a(0)),P=a(6),j=a(5),C=n(a(1)),I=a(4),N=n(a(39)),M=n(a(109)),D=n(a(16)),x=n(a(3)),R=n(a(647)),L=n(a(7)),A=n(a(364)),F=(l=(0,P.decorator)({loginUser:(0,j.state)(h),inputValues:(0,j.state)(_),currentReplyId:(0,j.state)(g),currentEditId:(0,j.state)(v),toggleCurrentReplyId:(0,j.signal)(y),toggleEditId:(0,j.signal)(b),changeInputValue:(0,j.signal)(w),createComment:(0,j.signal)(E),editComment:(0,j.signal)(k),loginTo:(0,j.signal)(S)}),u=(0,x.default)(R.default),c=(0,L.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleReplyCancel=function(){var e=n.props,t=e.channelId,a=e.currentReplyId,r=e.toggleCurrentReplyId,o=e.changeInputValue;a&&o({channelId:t,id:a,value:""}),r&&r()},n.handleEditCancel=function(){var e=n.props,t=e.channelId,a=e.currentEditId,r=e.toggleEditId,o=e.changeInputValue;a&&o({channelId:t,id:a,value:""}),r&&r()},n.handleInputChange=function(e){var t=n.props,a=t.theme,r=t.channelId,o=t.currentReplyId,i=t.currentEditId,s=t.changeInputValue,l=(0,I.get)(e,"target.value")||"";s&&("reply"===a&&s({channelId:r,id:o,value:l}),"comment"===a&&s({channelId:r,id:"new_comment",value:l}),"edit"===a&&s({channelId:r,id:i,value:l}))},n.handleCreateMessage=function(){var e=n.props,t=e.theme,a=e.channel,r=e.channelId,o=e.createComment,i=e.dataType;o&&o({type:t,channelId:r,dataType:i,tutorialId:a.tutorialId,submissionId:a.submissionId})},n.handleEditMessage=function(){var e=n.props,t=e.theme,a=e.channelId,r=e.messageId,o=e.editComment,i=e.dataType,s=(0,I.get)(n.props,"parentMessageId")||"";o&&o({type:t,channelId:a,parentMessageId:s,messageId:r,dataType:i})},i=a,o(n,i)}return i(t,C.default),m(t,[{key:"componentDidMount",value:function(){if("reply"===this.props.theme){var e=(0,I.get)(this.commentInput,"refs.input");e&&e.focus&&e.focus()}}},{key:"currentHead",value:function(){var e=this.props,t=e.theme,a=e.loginUser;return"edit"===t?null:T.default.createElement("div",{className:this.ss("avatar")},T.default.createElement(N.default,{user:a||{anonymous:!0},size:"xxsmall"}))}},{key:"renderButtons",value:function(e){var t=e.disabled,a=this.props,n=a.theme,r=a.channelId,o=[];return"comment"===n&&o.push(T.default.createElement("div",{key:"comment-input-"+r,className:this.ss("button","comment-button",t&&"disabled")},T.default.createElement(D.default,{disabled:t,label:this.__("input_button_comment"),widthStyle:"full",onClick:t?function(){}:this.handleCreateMessage}))),"reply"===n&&o.push(T.default.createElement("div",{key:"reply-input-cancel-"+r,className:this.ss("button","cancel-button")},T.default.createElement(D.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.handleReplyCancel})),T.default.createElement("div",{key:"reply-input-reply-"+r,className:this.ss("button","reply-button",t&&"disabled")},T.default.createElement(D.default,{disabled:t,size:"small",label:this.__("input_button_reply"),onClick:t?function(){}:this.handleCreateMessage}))),"edit"===n&&o.push(T.default.createElement("div",{key:"save-input-"+r,className:this.ss("button","input_save-button")},T.default.createElement(D.default,{disabled:t,size:"small",label:this.__("edit_button_save"),onClick:t?function(){}:this.handleEditMessage})),T.default.createElement("div",{key:"cancel-input-"+r,className:this.ss("button","input_cancel-button")},T.default.createElement(D.default,{theme:"thirdly",size:"small",label:this.__("edit_button_cancel"),onClick:this.handleEditCancel}))),T.default.createElement("div",{className:this.ss("buttons")},o)}},{key:"renderCommentSignIn",value:function(){var e=this.props.loginTo;return T.default.createElement("div",{className:this.ss("comment-sign-in")},T.default.createElement("div",{className:this.ss("hint-content")},T.default.createElement("div",{className:this.ss("hint-title")},this.__("sign_in_hint_title")),T.default.createElement("div",{className:this.ss("hint-des")},this.__("sign_in_hint_des"))),T.default.createElement("div",{className:this.ss("button")},T.default.createElement(D.default,{label:this.__("button_sign_in"),onClick:function(){return e()}})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=t.loginUser,r=t.channelId,o=t.currentReplyId,i=t.currentEditId,s=t.inputValues,l=t.dataType,u=(0,I.get)(s,r);if(!(0,I.get)(n,"id"))return this.renderCommentSignIn();var c="",d="";return"reply"===a&&(c=(0,I.get)(u,o)||"",d=this.__("reply_input_placeholder")),"comment"===a&&(c=(0,I.get)(u,"new_comment")||"",d=this.__(l+"_comment_input_placeholder")),"edit"===a&&(c=(0,I.get)(u,i)||"",d=""),T.default.createElement("div",{className:this.ss("comment-input",a,l+"-"+a)},T.default.createElement("div",{className:this.ss("input-wrap")},this.currentHead(),T.default.createElement("div",{className:this.ss("input")},T.default.createElement(M.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:d,value:c,onChange:this.handleInputChange}))),this.renderButtons({disabled:!c}))}}]),t}(),f.propTypes={loginUser:O.default.object,channelId:O.default.string,currentReplyId:O.default.string,currentEditId:O.default.string,channel:O.default.object,inputValues:O.default.object,theme:O.default.oneOf(["comment","reply","edit"]),messageId:O.default.string,parentMessageId:O.default.string,dataType:O.default.string,toggleCurrentReplyId:O.default.func,toggleEditId:O.default.func,changeInputValue:O.default.func,createComment:O.default.func,editComment:O.default.func,loginTo:O.default.func},f.defaultProps={theme:"comment"},d=p))||d)||d)||d);t.default=F},function(e,t,a){e.exports=a(14)(10)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentsRecord=t.ReportRecord=t.ReportForm=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),D=s(["adminComment.id"],["adminComment.id"]),x=s(["adminComment.type"],["adminComment.type"]),R=s(["report.reportDialog"],["report.reportDialog"]),L=s(["report.reportDialog.open"],["report.reportDialog.open"]),A=s(["report.reportDialog.reportStatus"],["report.reportDialog.reportStatus"]),F=s(["report.reportDialog.selects"],["report.reportDialog.selects"]),K=s(["report.reportDialog.inputValue"],["report.reportDialog.inputValue"]),q=s(["adminComment.inputValues"],["adminComment.inputValues"]),z=s(["adminReportStats.messageMap"],["adminReportStats.messageMap"]),B=s(["adminReportStats.tutorialMap"],["adminReportStats.tutorialMap"]),U=s(["adminReportStats.submissionMap"],["adminReportStats.submissionMap"]),H=s(["adminComment.userMap"],["adminComment.userMap"]),V=s(["adminComment.removalMap"],["adminComment.removalMap"]),G=s(["adminSubmission.type"],["adminSubmission.type"]),W=s(["adminSubmission.userMap"],["adminSubmission.userMap"]),Q=s(["adminSubmission.removalMap"],["adminSubmission.removalMap"]),J=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),Y=s(["report.closeReportDialog"],["report.closeReportDialog"]),X=s(["report.createReport"],["report.createReport"]),Z=s(["report.closeReportByAdmin"],["report.closeReportByAdmin"]),$=s(["report.undoReportByAdmin"],["report.undoReportByAdmin"]),ee=s(["report.undoCommentAdmin"],["report.undoCommentAdmin"]),te=s(["report.deleteCommentAction"],["report.deleteCommentAction"]),ae=s(["adminComment.changeInputValue"],["adminComment.changeInputValue"]),ne=s(["adminComment.createComment"],["adminComment.createComment"]),re=s(["adminComment.editComment"],["adminComment.editComment"]),oe=s(["report.deleteSubmissionAction"],["report.deleteSubmissionAction"]),ie=s(["report.undoSubmissionAdmin"],["report.undoSubmissionAdmin"]),se=s(["report.changeReportValue"],["report.changeReportValue"]),le=s(["adminReportStats.userMap"],["adminReportStats.userMap"]),ue=s(["adminReportStats.removalMap"],["adminReportStats.removalMap"]),ce=n(a(2)),de=n(a(0)),fe=n(a(1)),pe=a(6),me=a(5),he=a(4),_e=n(a(32)),ge=n(a(16)),ve=n(a(109)),ye=a(17),be=a(9),we=a(8),Ee=n(a(3)),ke=n(a(549)),Se=n(a(7)),Oe=n(a(550)),Te=(l=(0,pe.decorator)({contentId:(0,me.state)(D),contentType:(0,me.state)(x),reportDialog:(0,me.state)(R),show:(0,me.state)(L),reportStatus:(0,me.state)(A),selects:(0,me.state)(F),inputValue:(0,me.state)(K),inputValues:(0,me.state)(q),messageMap:(0,me.state)(z),tutorialMap:(0,me.state)(B),submissionMap:(0,me.state)(U),commentType:(0,me.state)(x),commentUserMap:(0,me.state)(H),commentRemovalMap:(0,me.state)(V),submissionType:(0,me.state)(G),submissionUserMap:(0,me.state)(W),submissionRemovalMap:(0,me.state)(Q),postReportHTTPStatus:(0,me.state)(J,we.POST_REPORT),deleteCommentHTTPStatus:(0,me.state)(J,we.DELETE_MESSAGE),deleteSubmissionHTTPStatus:(0,me.state)(J,we.DELETE_SUBMISSION),closeDialog:(0,me.signal)(Y),createReport:(0,me.signal)(X),closeReportByAdmin:(0,me.signal)(Z),undoReportByAdmin:(0,me.signal)($),undoCommentAdmin:(0,me.signal)(ee),deleteCommentAction:(0,me.signal)(te),changeInputValue:(0,me.signal)(ae),createComment:(0,me.signal)(ne),editComment:(0,me.signal)(re),deleteSubmission:(0,me.signal)(oe),undoSubmissionAdmin:(0,me.signal)(ie)}),u=(0,Ee.default)(ke.default),c=(0,Se.default)(Oe.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){var e=n.props.closeDialog;e&&e()},n.handleSubmit=function(){var e=n.props.createReport;e&&e()},n.handleBan=function(){var e=n.props.closeReportByAdmin;e&&e()},n.handleUndo=function(){var e=n.props.undoReportByAdmin;e&&e()},n.handleCommentsUndo=function(){var e=n.props.undoCommentAdmin;e&&e()},n.handleSubmissionsUndo=function(){var e=n.props.undoSubmissionAdmin;e&&e()},n.handleDelete=function(){var e=n.props.deleteCommentAction;e&&e()},n.handleDeleteSubmission=function(){var e=n.props.deleteSubmission;e&&e()},n.computedSubmitButtonStatus=function(){var e=n.props,t=e.selects,a=e.inputValue;return 0===(t||[]).length||!(!(t||[]).includes("other")||a.trim())},n.handleCreateMessage=function(){var e=n.props,t=e.contentId,a=e.contentType,r=e.createComment,o=n.props.reportDialog.itemData,i=(0,he.get)(o,"channelId");r&&r({type:"reply",channelId:i,contentId:t,contentType:a})},n.handleEditMessage=function(){var e=n.props.editComment,t=n.props.reportDialog.itemData,a=(0,he.get)(t,"channelId"),r=(0,he.get)(t,"parentMessageId")||"",o=(0,he.get)(t,"id")||"";e&&e({type:"edit",channelId:a,parentMessageId:r,messageId:o})},n.handleInputChange=function(e,t){var a=n.props.reportDialog.itemData,r=n.props.changeInputValue,o=(0,he.get)(e,"target.value")||"",i=(0,he.get)(a,"channelId"),s=(0,he.get)(a,"id");r&&("reply"===t&&r({channelId:i,id:s,value:o}),"edit"===t&&r({channelId:i,id:s,value:o}))},i=a,o(n,i)}return i(t,fe.default),M(t,[{key:"renderInitialReport",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props,a=t.reportDialog,n=t.postReportHTTPStatus,r="",o="";switch((0,he.get)(a,"reportType")){case we.ReportTypes.message:r=this.__("report_comment"),o=this.__("report_comment_des");break;case we.ReportTypes.submission:r=this.__("report_submission"),o=this.__("report_submission_des");break;default:r=this.__("report_title"),o=this.__("report_des")}return de.default.createElement("div",{className:this.ss("report")},de.default.createElement("div",{className:this.ss("head")},r),de.default.createElement("div",{className:this.ss("des")},o),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(n),disabled:e,label:this.__("foot_submit_report"),widthStyle:"full",onClick:this.handleSubmit})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderBanAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props,a=t.postReportHTTPStatus,n=t.reportDialog,r=t.tutorialMap,o=t.messageMap,i=t.submissionMap,s=(0,he.get)(n,"itemData"),l=(0,he.get)(s,"type"),u=(0,he.get)(s,"itemId"),c=(0,he.get)(s,"contentId"),d=(0,be.GetDataByItemId)({itemId:c,tutorialMap:r,submissionMap:i}),f=(0,he.get)(d,"title"),p="",m="",h="";switch(l){case we.ReportTypes.message:p=this.__("ban_comment_title",{title:f}),m=(0,he.get)(o,u+".content"),h=this.__("foot_submit_ban");break;case we.ReportTypes.submission:p=this.__("ban_submission_title",{title:f}),m=(0,he.get)(i,u+".title"),h=this.__("foot_submit_ban_submission")}return de.default.createElement("div",{className:this.ss("ban")},de.default.createElement("div",{className:this.ss("head")},p),de.default.createElement("div",{className:this.ss("des")},this.__("ban_comment_des",{message:m})),de.default.createElement("div",{className:this.ss("tips")},this.__("ban_comment_tips")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(a),disabled:e,label:h,onClick:this.handleBan})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderRecord",value:function(){return de.default.createElement("div",{className:this.ss("record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(je,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderCommentsRecord",value:function(){var e=this.props,t=e.commentUserMap,a=e.commentRemovalMap,n=e.commentType;return de.default.createElement("div",{className:this.ss("comments_record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(Ce,{type:n,userMap:t,removalMap:a}),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleCommentsUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderSubmissionsRecord",value:function(){var e=this.props,t=e.submissionUserMap,a=e.submissionRemovalMap,n=e.submissionType;return de.default.createElement("div",{className:this.ss("comments_record")},de.default.createElement("div",{className:this.ss("head")},this.__("record_comment_title")),de.default.createElement(Ce,{type:n,userMap:t,removalMap:a}),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit")},de.default.createElement(ge.default,{label:this.__("foot_submit_undo"),onClick:this.handleSubmissionsUndo})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderReportResultContent",value:function(){var e=this.props.reportDialog,t="";switch((0,he.get)(e,"reportType")){case we.ReportTypes.message:t=this.__("return_to_comment");break;case we.ReportTypes.submission:t=this.__("return_to_submission");break;default:t=this.__("close_report_result")}return de.default.createElement("div",{className:this.ss("report-result")},de.default.createElement("div",{className:this.ss("result-content")},de.default.createElement("div",{className:this.ss("head")},this.__("submitted_head")),de.default.createElement("div",{className:this.ss("des")},this.__("submitted_des"))),de.default.createElement("div",{className:this.ss("result-foot")},de.default.createElement("div",{className:this.ss("button-return")},de.default.createElement(ge.default,{label:t,widthStyle:"full",onClick:this.onClose}))))}},{key:"renderDeleteAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props.deleteCommentHTTPStatus;return de.default.createElement("div",{className:this.ss("delete")},de.default.createElement("div",{className:this.ss("head")},this.__("delete_comment")),de.default.createElement("div",{className:this.ss("des")},this.__("delete_comment_des")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(t),disabled:e,label:this.__("foot_submit_delete"),onClick:this.handleDelete})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderDeleteSubmissionAction",value:function(){var e=this.computedSubmitButtonStatus(),t=this.props.deleteSubmissionHTTPStatus;return de.default.createElement("div",{className:this.ss("delete")},de.default.createElement("div",{className:this.ss("head")},this.__("delete_submission")),de.default.createElement("div",{className:this.ss("des")},this.__("delete_submission_des")),de.default.createElement(Pe,null),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{className:this.ss("button-submit",e&&"disabled")},de.default.createElement(ge.default,{loading:(0,ye.isLoading)(t),disabled:e,label:this.__("foot_submission_delete"),onClick:this.handleDeleteSubmission})),de.default.createElement("div",{className:this.ss("cancel")},de.default.createElement("a",{className:this.ss("button-cancel"),onClick:this.onClose},this.__("dialog_foot_cancel")))))}},{key:"renderHandleReply",value:function(){var e=this,t=this.props.inputValues,a=this.props.reportDialog.itemData,n=(0,he.get)(a,"channelId"),r=(0,he.get)(a,"id"),o=(0,he.get)(t,n),i=(0,he.get)(o,r)||"";return de.default.createElement("div",{className:this.ss("comments_reply")},de.default.createElement("div",{className:this.ss("input")},de.default.createElement(ve.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:this.__("reply"),value:i,onChange:function(t){return e.handleInputChange(t,"reply")}})),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{key:"reply-input-reply-"+n,className:this.ss("button","reply-button")},de.default.createElement(ge.default,{disabled:0===i.length,size:"small",label:this.__("input_button_reply"),onClick:this.handleCreateMessage})),de.default.createElement("div",{key:"reply-input-cancel-"+n,className:this.ss("button","cancel")},de.default.createElement(ge.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.onClose}))))}},{key:"renderHandleEdit",value:function(){var e=this,t=this.props.inputValues,a=this.props.reportDialog.itemData,n=(0,he.get)(a,"channelId"),r=(0,he.get)(a,"id"),o=(0,he.get)(t,n),i=(0,he.get)(o,r)||"";return de.default.createElement("div",{className:this.ss("comments_edit")},de.default.createElement("div",{className:this.ss("input")},de.default.createElement(ve.default,{ref:function(t){e.commentInput=t},theme:"comment",placeholder:this.__("edit"),value:i,onChange:function(t){return e.handleInputChange(t,"edit")}})),de.default.createElement("div",{className:this.ss("foot")},de.default.createElement("div",{key:"reply-input-reply-"+n,className:this.ss("button","reply-button","disabled")},de.default.createElement(ge.default,{disabled:0===i.length,size:"small",label:this.__("input_button_edit"),onClick:this.handleEditMessage})),de.default.createElement("div",{key:"reply-input-cancel-"+n,className:this.ss("button","cancel")},de.default.createElement(ge.default,{theme:"default",size:"small",label:this.__("input_button_cancel"),onClick:this.onClose}))))}},{key:"renderDialogContent",value:function(){var e=null;switch(this.props.reportStatus){case"initial":e=this.renderInitialReport();break;case"submitted":e=this.renderReportResultContent();break;case"ban":e=this.renderBanAction();break;case"record":e=this.renderRecord();break;case"commentsRecord":e=this.renderCommentsRecord();break;case"submissionsRecord":e=this.renderSubmissionsRecord();break;case"delete":e=this.renderDeleteAction();break;case"delete_submission":e=this.renderDeleteSubmissionAction();break;case"commentReply":e=this.renderHandleReply();break;case"commentEdit":e=this.renderHandleEdit()}return e}},{key:"render",value:function(){var e=this.props.show;return de.default.createElement(_e.default,{open:e,position:"center",noScroller:!1,onCloseModal:this.onClose},de.default.createElement("div",{className:this.ss("contents")},this.renderDialogContent(),de.default.createElement("div",{className:this.ss("close")},de.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},de.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")})))))}}]),t}(),f.propTypes={contentId:ce.default.string,contentType:ce.default.string,reportDialog:ce.default.object,show:ce.default.bool,reportStatus:ce.default.string,commentType:ce.default.string,submissionType:ce.default.string,selects:ce.default.array,inputValue:ce.default.string,inputValues:ce.default.object,messageMap:ce.default.object,tutorialMap:ce.default.object,submissionMap:ce.default.object,commentUserMap:ce.default.object,commentRemovalMap:ce.default.object,submissionUserMap:ce.default.object,submissionRemovalMap:ce.default.object,postReportHTTPStatus:ce.default.string,deleteCommentHTTPStatus:ce.default.string,deleteSubmissionHTTPStatus:ce.default.string,closeDialog:ce.default.func,createReport:ce.default.func,closeReportByAdmin:ce.default.func,undoReportByAdmin:ce.default.func,undoCommentAdmin:ce.default.func,undoSubmissionAdmin:ce.default.func,deleteCommentAction:ce.default.func,changeInputValue:ce.default.func,deleteSubmission:ce.default.func,createComment:ce.default.func,editComment:ce.default.func},d=p))||d)||d)||d);t.default=Te;var Pe=t.ReportForm=(m=(0,pe.decorator)({selects:(0,me.state)(F),inputValue:(0,me.state)(K),changeReportValue:(0,me.signal)(se)}),h=(0,Ee.default)(ke.default),_=(0,Se.default)(Oe.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleCheck=function(e){var t=e.value,a=n.props.changeReportValue;a&&a({type:"radio",value:t})},n.handleInput=function(e){var t=e?e.target.value:"",a=n.props.changeReportValue;a&&a({type:"input",value:t})},i=a,o(n,i)}return i(t,fe.default),M(t,[{key:"renderOption",value:function(e){var t=this,a=e.label,n=e.value,r=(this.props.selects||[]).includes(n);return de.default.createElement("div",{key:"option-"+n,className:this.ss("option-item")},de.default.createElement("div",{className:this.ss("checkbox-wrap"),onClick:function(){return t.handleCheck(e)}},de.default.createElement("div",{className:this.ss("checkbox",r&&"active")})),de.default.createElement("div",{className:this.ss("option-text")},this.__("option_"+a)))}},{key:"renderInput",value:function(){var e=this.props,t=e.selects,a=e.inputValue;return(t||[]).includes("other")?de.default.createElement("div",{className:this.ss("other-input-wrap")},de.default.createElement("div",{className:this.ss("textarea")},de.default.createElement(ve.default,{theme:"transparent",value:a,placeholder:this.__("other_input_placeholder"),onChange:this.handleInput}))):null}},{key:"render",value:function(){var e=this,t=(we.CommentReportTypes.map(function(e){return{label:e,value:e}})||[]).map(function(t){return e.renderOption(t)});return 0===t.length?null:de.default.createElement("div",{className:this.ss("report-form")},t,this.renderInput())}}]),t}(),v.propTypes={selects:ce.default.array,inputValue:ce.default.string,changeReportValue:ce.default.func},g=y))||g)||g)||g),je=t.ReportRecord=(b=(0,pe.decorator)({reportDialog:(0,me.state)(R),messageMap:(0,me.state)(z),submissionMap:(0,me.state)(U),userMap:(0,me.state)(le),removalMap:(0,me.state)(ue)}),w=(0,Ee.default)(ke.default),E=(0,Se.default)(Oe.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getItemData=function(){var e=n.props,t=e.reportDialog,a=e.messageMap,r=e.submissionMap,o=(0,he.get)(t,"itemData")||{},i=(0,he.get)(o,"itemId")||{},s={};switch((0,he.get)(o,"type")){case we.ReportTypes.message:s=(0,he.get)(a,i);break;case we.ReportTypes.submission:s=(0,he.get)(r,i)}return s},i=a,o(n,i)}return i(t,fe.default),M(t,[{key:"renderField",value:function(e){var t=e.title,a=e.content,n=e.renderContent,r=[];return a&&r.push(de.default.createElement("div",{key:"text-content",className:this.ss("content")},a)),n&&r.push(de.default.createElement("div",{key:"component-content",className:this.ss("content")},n())),0===r.length?null:de.default.createElement("div",{className:this.ss("field")},de.default.createElement("div",{className:this.ss("title")},t),r)}},{key:"renderRemoveReason",value:function(){var e=this.getItemData(),t=(0,he.get)(e,"deletedTime"),a=(0,he.get)(e,"deletedReason");if(!a||!t)return null;var n=(0,he.get)(a,"type"),r=(0,he.get)(a,"content");return de.default.createElement("div",{className:this.ss("remove-reason")},de.default.createElement("div",null,this.__("option_"+n)),de.default.createElement("div",{className:this.ss("reason-content")},r))}},{key:"renderRecordTitle",value:function(e){var t=e.type,a=e.itemData,n=null;switch(t){case we.ReportTypes.message:n=this.renderField({title:this.__("field_comment"),content:(0,he.get)(a,"content")});break;case we.ReportTypes.submission:n=this.renderField({title:this.__("field_submission"),content:(0,he.get)(a,"title")})}return n}},{key:"renderRecordAuthor",value:function(e){var t=e.type,a=e.itemData,n=this.props.userMap,r=(0,he.get)(n,(0,he.get)(a,"authorId")),o=(0,he.get)(r,"fullName"),i=null;switch(t){case we.ReportTypes.message:i=this.renderField({title:this.__("field_commenterId"),content:o});break;case we.ReportTypes.submission:i=this.renderField({title:this.__("field_exerciserId"),content:o})}return i}},{key:"render",value:function(){var e=this,t=this.props,a=t.reportDialog,n=t.userMap,r=t.removalMap,o=(0,he.get)(a,"itemData")||{},i=(0,he.get)(o,"type");if("closed"!==(0,he.get)(o,"status"))return null;var s=this.getItemData(),l=(0,he.get)(r,(0,he.get)(s,"authorId")),u=(0,he.get)(n,(0,he.get)(o,"resolvedBy")),c=(0,he.get)(u,"fullName"),d=(0,he.get)(o,"resolvedTime"),f=(0,he.get)(s,"deletedTime")?we.ModeratorActionType.ban:we.ModeratorActionType.ignore,p=this.__("action_"+f,{time:d});return de.default.createElement("div",{className:this.ss("report-record")},this.renderRecordTitle({type:i,itemData:s}),this.renderRecordAuthor({type:i,itemData:s}),this.renderField({title:this.__("field_removals"),content:l}),this.renderField({title:this.__("field_moderator"),content:c}),this.renderField({title:this.__("field_action"),content:p}),f===we.ModeratorActionType.ban&&this.renderField({title:this.__("field_removal_reason"),renderContent:function(){return e.renderRemoveReason()}}))}}]),t}(),S.propTypes={reportDialog:ce.default.object,messageMap:ce.default.object,submissionMap:ce.default.object,userMap:ce.default.object,removalMap:ce.default.object},k=O))||k)||k)||k),Ce=t.CommentsRecord=(T=(0,pe.decorator)({reportDialog:(0,me.state)(R)}),P=(0,Ee.default)(ke.default),j=(0,Se.default)(Oe.default),T(C=P(C=j((N=I=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,fe.default),M(t,[{key:"renderField",value:function(e){var t=e.title,a=e.content,n=e.renderContent,r=[];return a&&r.push(de.default.createElement("div",{key:"text-content",className:this.ss("content")},a)),n&&r.push(de.default.createElement("div",{key:"component-content",className:this.ss("content")},n())),0===r.length?null:de.default.createElement("div",{className:this.ss("field")},de.default.createElement("div",{className:this.ss("title")},t),r)}},{key:"renderRemoveReason",value:function(){var e=this.props.reportDialog,t=(0,he.get)(e,"itemData")||{},a=(0,he.get)(t,"deletedTime"),n=(0,he.get)(t,"deletedReason");if(!n||!a)return null;var r=(0,he.get)(n,"type"),o=(0,he.get)(n,"content");return de.default.createElement("div",{className:this.ss("remove-reason")},de.default.createElement("div",null,this.__("option_"+r)),de.default.createElement("div",{className:this.ss("reason-content")},o))}},{key:"render",value:function(){var e=this,t=this.props,a=t.reportDialog,n=t.userMap,r=t.removalMap,o=t.type,i=(0,he.get)(a,"itemData")||{},s=void 0,l=void 0,u=void 0;switch(o){case we.ReportTypes.message:s=s=(0,he.get)(i,"content"),l=this.__("record_comment"),u=this.__("record_commentName");break;case we.ReportTypes.submission:s=s=(0,he.get)(i,"title"),l=this.__("field_submission"),u=this.__("field_exerciserId")}var c=(0,he.get)(n,(0,he.get)(i,"authorId")),d=(0,he.get)(c,"fullName")||(0,he.get)(c,"name"),f=(0,he.get)(n,(0,he.get)(i,"deletedBy")),p=(0,he.get)(f,"fullName")||(0,he.get)(f,"name"),m=(0,he.get)(r,(0,he.get)(i,"authorId")),h=(0,he.get)(i,"deletedTime"),_=h&&we.ModeratorActionType.ban,g=this.__("action_"+_,{time:h});return de.default.createElement("div",{className:this.ss("report-record")},this.renderField({title:l,content:s}),this.renderField({title:u,content:d}),this.renderField({title:this.__("record_removals"),content:m}),this.renderField({title:this.__("record_moderator"),content:p}),_&&this.renderField({title:this.__("record_action"),content:g}),(0,he.get)(i,"deletedTime")&&this.renderField({title:this.__("record_removal_reason"),renderContent:function(){return e.renderRemoveReason()}}))}}]),t}(),I.propTypes={type:ce.default.string,reportDialog:ce.default.object,userMap:ce.default.object,removalMap:ce.default.object},C=N))||C)||C)||C)},,,function(e,t,a){e.exports=a(14)(975)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(46),_=n(a(3)),g=n(a(518)),v=(s=(0,_.default)(g.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,m.default),d(t,[{key:"renderContainer",value:function(e){var t=this,a=e.x,n=this.props,r=n.renderLeftBtn,o=n.renderRightBtn,i=n.renderItem,s=n.items,l=n.ratio,u=n.itemPos,c=n.focusPos,d=n.pageSize,p=!1;d&&s.length>d&&u>0&&(p=!0);var m=!1;d&&s.length>d&&u<s.length-d&&(m=!0);var h=Math.abs(a-(u||0))>.01,_=Math.round(1e4*(l||.6666))/100,g={};if(d){var v=Math.round(1e4/(d||1))/100;g.width=v+"%"}var y=null;if(d&&s.length>d){var b=Math.min(Math.max(0,Math.floor(a)),s.length-d),w=Math.min(Math.ceil(a+d),s.length),E=100*(b-a);g.transform="translate3d("+E+"%, 0, 0)";var k=[];s.forEach(function(e,a){var n=a>=b&&a<w?g:{display:"none"},r=i({item:e,index:a,ratio:_/100,pageSize:d,animating:h});k.push(f.default.createElement("div",{ref:function(e){t.itemContainer=e},key:a,className:t.ss("itemContainer",c===a&&"focus"),style:n},r))}),y=f.default.createElement("div",{className:this.ss("itemsWrapper")},k)}else y=f.default.createElement("div",{className:this.ss("itemsWrapper")},s.map(function(e,a){return f.default.createElement("div",{ref:function(e){t.itemContainer=e},key:a,className:t.ss("itemContainer",c===a&&"focus"),style:g},i({item:e,index:a,ratio:_/100,pageSize:d}))}));return f.default.createElement("div",{className:this.ss("sliderContainer")},f.default.createElement("div",{className:this.ss("rowWrapper"),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},f.default.createElement("div",{ref:function(e){t.rowContainer=e},className:this.ss("rowContainer")},y),p&&r&&r({isActive:p,pageSize:d,animating:h}),m&&o&&o({isActive:m,pageSize:d,animating:h})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemPos,n=t.defaultItemPos,r={x:void 0===n?0:n},o={x:(0,h.spring)(a||0)};return f.default.createElement(h.Motion,{defaultStyle:r,style:o},function(t){return e.renderContainer(t)})}}]),t}(),u.propTypes={renderLeftBtn:p.default.func,renderRightBtn:p.default.func,renderItem:p.default.func,items:p.default.array,pageSize:p.default.number,defaultItemPos:p.default.number,itemPos:p.default.number,focusPos:p.default.number,ratio:p.default.number},l=c))||l;t.default=v},function(e,t){},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.StatusDot=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=s(["learner.recordMap.",""],["learner.recordMap.",""]),b=s(["course.id"],["course.id"]),w=s(["locale"],["locale"]),E=s(["currentHost"],["currentHost"]),k=s(["learner.startToLearn"],["learner.startToLearn"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(15)),N=n(a(41)),M=n(a(37)),D=n(a(33)),x=a(58),R=a(60),L=a(27),A=n(a(19)),F=a(9),K=n(a(3)),q=n(a(522)),z=n(a(7)),B=n(a(523)),U={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:600,thumbnailHeight:335}},H=(l=(0,P.decorator)({record:(0,j.state)(y,(0,j.props)(b)),locale:(0,j.state)(w),currentHost:(0,j.state)(E),startToLearn:(0,j.signal)(k)}),u=(0,K.default)(q.default),c=(0,z.default)(B.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={openDetails:!1},n.onStartCourse=function(){var e=n.props,t=e.startToLearn,a=e.course;t&&t({data:a})},i=a,o(n,i)}return i(t,T.default),v(t,[{key:"renderDetails",value:function(){var e=this,t=this.props,a=t.course,n=t.record,r=a||{},o=r.contentIds,i=r.tutorialMap,s=r.quizMap,l=r.projectMap,u=!o||0===o.length,c={};o.forEach(function(e,t){c[t]=(0,C.get)(n,"subItems."+e+".completed")});var d=!u&&o.map(function(t,a){return O.default.createElement("div",{key:t,className:e.ss("detail")},O.default.createElement(V,{isFirst:0===a,isLast:a===o.length-1,status:(0,F.GetCompletedStatus)(a,c)}),O.default.createElement("div",{className:e.ss("detail-title")},O.default.createElement("div",{className:e.ss("detail-index")},a+1+"."),(0,F.GetDataByItemId)({itemId:t,tutorialMap:i,quizMap:s,projectMap:l}).title))});return O.default.createElement("div",{className:this.ss("details")},d)}},{key:"renderDetailsSwitcher",value:function(){var e=this;if(this.props.hideDetails)return null;var t=this.state.openDetails;return O.default.createElement("div",{className:this.ss("buttons")},O.default.createElement("div",{className:this.ss("barrier")}),O.default.createElement("button",{ref:function(t){e.showDetailRef=t},onClick:function(){e.setState({openDetails:!t})}},this.__(t?"hide_details":"show_details")),O.default.createElement("button",{ref:function(t){e.startCourseRef=t},onClick:this.onStartCourse},this.__("start_course")))}},{key:"render",value:function(){var e=this,t=this.props||{},a=t.course,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.locale,u=t.currentHost,c=t.url,d=a||{},f=d.id,p=d.title,m=d.type,h=a.descPlain,_=this.state.openDetails,g=(0,C.get)(n,"completed"),v=(0,C.get)(a,"withPay"),y=c||(0,A.default)((0,F.GetUrlByNavIds)(void 0,(0,F.GetDetailPageURL)(a,l)),u),b=U[i].thumbnailHeight,w=U[i].thumbnailWidth;return O.default.createElement("div",{className:this.ss("course-wrapper",s,i)},O.default.createElement("div",{className:this.ss("premium-wrapper")},v&&O.default.createElement(L.PaymentLabel,null)),O.default.createElement("div",{className:this.ss("course-card")},O.default.createElement("a",{className:this.ss("card-link"),href:y},O.default.createElement("div",{className:this.ss("card-img")},O.default.createElement(I.default,{src:(0,C.get)(a,"thumbnail.url"),sizes:w+"px",height:b,width:w}),O.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},O.default.createElement(M.default,{id:f,type:m,statsPath:r})),o&&!!n&&O.default.createElement(x.ProgressBar,{data:a,record:n})),O.default.createElement("div",{className:this.ss("card-content")},O.default.createElement("div",{className:this.ss("content-des")},O.default.createElement(R.StudyMethod,{data:a}),O.default.createElement("div",{className:this.ss("title")},p),O.default.createElement("div",{className:this.ss("info")},O.default.createElement(D.default,{data:a,theme:s})),O.default.createElement("div",{className:this.ss("summary")},h)),O.default.createElement("div",{className:this.ss("author")},O.default.createElement(N.default,{data:a,theme:s}))),_&&this.renderDetails()),this.renderDetailsSwitcher()),o&&g&&O.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:S.default.string.isRequired,course:S.default.object,record:S.default.object,url:S.default.string,startToLearn:S.default.func,theme:S.default.oneOf(["default","dark"]),size:S.default.oneOf(["normal","medium"]),showProgress:S.default.bool,hideDetails:S.default.bool,currentHost:S.default.string,locale:S.default.string},f.defaultProps={size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=H;var V=t.StatusDot=(m=(0,K.default)(q.default))((g=_=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,T.default),v(t,[{key:"render",value:function(){var e=this.props,t=e.isFirst,a=e.isLast,n=e.status,r=n.prevCompleted,o=n.nextCompleted,i=n.completed;return O.default.createElement("div",{className:this.ss("status")},!t&&O.default.createElement("div",{className:this.ss("status-bg-up",i&&r&&"completed")},O.default.createElement("div",{className:this.ss("vertical-line")})),!a&&O.default.createElement("div",{className:this.ss("status-bg-down",i&&o&&"completed")},O.default.createElement("div",{className:this.ss("vertical-line")})),O.default.createElement("div",{className:this.ss("dot",i&&"completed")}))}}]),t}(),_.propTypes={isFirst:S.default.bool,isLast:S.default.bool,status:S.default.object},h=g))||h},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["submission.submissionDialog.show"],["submission.submissionDialog.show"]),_=s(["submissionData.channelId"],["submissionData.channelId"]),g=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),v=s(["submission.submissionDialog.submissionData"],["submission.submissionDialog.submissionData"]),y=s(["featured.featuredForm"],["featured.featuredForm"]),b=s(["featured.featuredFormShow"],["featured.featuredFormShow"]),w=s(["featured.isValidFeaturedForm"],["featured.isValidFeaturedForm"]),E=s(["featured.showFeaturedForm"],["featured.showFeaturedForm"]),k=s(["featured.saveForm"],["featured.saveForm"]),S=s(["featured.changeDescription"],["featured.changeDescription"]),O=s(["featured.checkFormStatus"],["featured.checkFormStatus"]),T=s(["submission.closeSubmissionDetail"],["submission.closeSubmissionDetail"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=n(a(32)),x=n(a(16)),R=n(a(109)),L=a(75),A=a(17),F=a(8),K=n(a(3)),q=n(a(688)),z=n(a(7)),B=n(a(689)),U=(l=(0,I.decorator)({show:(0,N.state)(h),channelId:(0,N.state)(_),submissionDataStatus:(0,N.state)(g,F.GET_SUBMISSION_DETAIL),featureDataStatus:(0,N.state)(g,F.POST_FEATURED_SUBMISSION),submissionData:(0,N.state)(v),form:(0,N.state)(y),featuredFormShow:(0,N.state)(b),isValidFeaturedForm:(0,N.state)(w),showFeaturedForm:(0,N.signal)(E),saveForm:(0,N.signal)(k),changeDescription:(0,N.signal)(S),checkFormStatus:(0,N.signal)(O),closeSubmissionDetail:(0,N.signal)(T)}),u=(0,K.default)(q.default),c=(0,z.default)(B.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClose=function(){var e=n.props.closeSubmissionDetail;e&&e()},n.handleSaveFeatured=function(){var e=n.props,t=e.saveForm,a=e.submissionData,r=(0,M.get)(a,"id"),o=(0,M.get)(a,"stepId");t&&t({id:r,stepId:o})},n.handleFeatureThis=function(){var e=n.props.showFeaturedForm;e&&e()},i=a,o(n,i)}return i(t,C.default),m(t,[{key:"componentDidUpdate",value:function(){var e=this.props.checkFormStatus;e&&e()}},{key:"renderLoading",value:function(){return j.default.createElement("div",{className:this.ss("loading-wrap")},j.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderDescriptionField",value:function(){var e=this.props,t=e.form,a=e.changeDescription,n=(0,M.get)(t,"description.value")||"";return j.default.createElement("div",{className:this.ss("form-field","field-description")},j.default.createElement("div",{className:this.ss("label")},this.__("field_title_description")),j.default.createElement("div",{className:this.ss("input","text-area-input")},j.default.createElement(R.default,{theme:"submission",limit:100,placeholder:this.__("field_description_placeholder"),value:n,onChange:function(e,t){return a({value:t})}})))}},{key:"renderFeaturedForm",value:function(){var e=this.props,t=e.featureDataStatus,a=e.isValidFeaturedForm;return j.default.createElement("div",{className:this.ss("featured-form")},j.default.createElement("div",{className:this.ss("button-save")},j.default.createElement(x.default,{widthStyle:"full",label:this.__("button_save"),disabled:!a,loading:(0,A.isLoading)(t),onClick:this.handleSaveFeatured})),j.default.createElement("div",{className:this.ss("form")},this.renderDescriptionField()))}},{key:"renderFeatured",value:function(e){var t=this.props,a=t.editable,n=t.submissionData,r=t.featuredFormShow,o=(0,M.get)(n,"published");if(!a||!o)return null;var i=null;return i=r?this.renderFeaturedForm():j.default.createElement("div",{className:this.ss("button-feature-this")},j.default.createElement(x.default,{widthStyle:"full",label:this.__("button_feature_this"),onClick:this.handleFeatureThis})),j.default.createElement("div",{className:this.ss("featured",!e&&"no-detail")},i)}},{key:"renderContent",value:function(){var e=this.props,t=e.theme,a=e.submissionData,n=e.submissionDataStatus,r=e.channelId;if((0,A.isLoading)(n))return this.renderLoading();if(!a)return null;var o=(0,M.get)(a,"submissionType")===F.SubmissionTypes.media;return j.default.createElement("div",{className:this.ss("content")},this.renderFeatured(o),o&&j.default.createElement("div",{className:this.ss("submission-detail")},j.default.createElement(L.SubmissionDetail,{theme:t,statsPath:"search",submissionData:a,channelId:r})))}},{key:"render",value:function(){var e=this.props.show;return j.default.createElement(D.default,{open:e,position:"center",noScroller:!1,onCloseModal:this.onClose},j.default.createElement("div",{className:this.ss("container")},this.renderContent(),j.default.createElement("div",{className:this.ss("close")},j.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")})))))}}]),t}(),f.propTypes={theme:P.default.oneOf(["default","moderator"]),show:P.default.bool,editable:P.default.bool,submissionDataStatus:P.default.string,featureDataStatus:P.default.string,channelId:P.default.string,submissionData:P.default.object,featuredFormShow:P.default.bool,form:P.default.object,isValidFeaturedForm:P.default.bool,showFeaturedForm:P.default.func,saveForm:P.default.func,changeDescription:P.default.func,checkFormStatus:P.default.func,closeSubmissionDetail:P.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=U},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(e){return[].concat(r(e)).map(function(e){return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"attachment"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["upload.uploads"],["upload.uploads"]),v=l(["upload.uploadAttachment"],["upload.uploadAttachment"]),y=l(["header.showMessage"],["header.showMessage"]),b=l(["common.openAddLinkDialog"],["common.openAddLinkDialog"]),w=l(["common.closeAddLinkDialog"],["common.closeAddLinkDialog"]);t.getFiles=u;var E=n(a(0)),k=n(a(2)),S=n(a(1)),O=a(6),T=a(5),P=n(a(524)),j=n(a(16)),C=n(a(527)),I=a(17),N=a(12),M=n(a(77)),D=a(8),x=n(a(3)),R=n(a(530)),L=n(a(7)),A=n(a(531)),F=(c=(0,O.decorator)({uploads:(0,T.state)(g),uploadAttachment:(0,T.signal)(v),showMessage:(0,T.signal)(y),openAddLinkDialog:(0,T.signal)(b),closeAddLinkDialog:(0,T.signal)(w)}),d=(0,x.default)(R.default),f=(0,L.default)(A.default),c(p=d(p=f((h=m=function(e){function t(){var e,a,n,s;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={open:!1},n.onFilesChange=function(e){if(e&&e.target){var t=(e.target||{}).files,a=void 0===t?[]:t;n.uploadFiles(a),n.refs.fileSelect.value=null}},n.onUploadSuccess=function(e){var t=e||{},a=t.id,o=t.content,i=n.getContents(),s=[].concat(r(i)),l=i.findIndex(function(e){return e.uploadId===a});if(-1!==l){var u=o.id,c=o.filename,d=o.size,f=o.url;s.splice(l,1,{uploadId:a,attachmentId:u,name:c,size:d,url:f,type:"file"}),n.syncToData(s)}},n.onAddLinkSuccess=function(e){var t=e||{},a=t.id,o=t.name,i=t.url,s=n.getContents(),l=[].concat(r(s)),u=s.findIndex(function(e){return e.uploadId===a}),c={uploadId:a,name:o,url:i,type:"link"};-1!==u?l.splice(u,1,c):l.push(c),n.syncToData(l)},n.onOpenDialog=function(){n.setState({open:!0},function(){n.props.openAddLinkDialog()})},n.onCloseDialog=function(){n.setState({open:!1},function(){n.props.closeAddLinkDialog()})},n.onDownload=function(e){var t=(e||{}).url;(0,M.default)(t)},n.syncToData=function(e){n.props.onChangeField&&n.props.onChangeField(e)},n.moveElement=function(e){var t=e.index,a=e.step;n.props.onMoveElement&&n.props.onMoveElement({index:t,step:a})},n.deleteItem=function(e,t){(0,N.pauseEvent)(e);var a=n.getContents(),o=[].concat(r(a));o.splice(t,1),n.syncToData(o)},n.renderItem=function(e,t){var a=n.props,r=a.singleFile,o=a.uploads,i=a.linkOnly,s=a.fileOnly,l=e||{},u=l.uploadId,c=!!l.url,d=u&&o[u]&&(0,I.isLoading)(o[u].status),f=E.default.createElement("button",{className:n.ss("button","delete","ifont","ifont-icons-trash"),onClick:function(e){return n.deleteItem(e,t)}}),p=E.default.createElement("button",{className:n.ss("button","download","ifont","ifont-icons_download"),onClick:function(){return n.onDownload(e)}}),m=E.default.createElement("button",{className:n.ss("button","up","ifont","ifont-icons_play"),onClick:function(){return n.moveElement({index:t,step:-1})}}),h=E.default.createElement("button",{className:n.ss("button","down","ifont","ifont-icons_play"),onClick:function(){return n.moveElement({index:t,step:1})}}),_=e||{},g=_.type,v=_.name;return"link"===g?E.default.createElement("div",{key:"file"+t,className:n.ss("file-item")},!i&&E.default.createElement("div",{className:n.ss("file-icon","ifont","ifont-"+D.MaterialTypeIconMap[g])}),E.default.createElement("div",{className:n.ss("item-name")},v),E.default.createElement("div",{className:n.ss("buttons")},p,f,m,h)):E.default.createElement("div",{key:"file"+t,className:n.ss("file-item")},!s&&E.default.createElement("div",{className:n.ss("file-icon","ifont","ifont-"+D.MaterialTypeIconMap[g])}),E.default.createElement(P.default,{item:e,onSuccess:n.onUploadSuccess}),E.default.createElement("div",{className:n.ss("buttons")},c&&p,!d&&f,!r&&m,!r&&h))},s=a,i(n,s)}return s(t,S.default),_(t,[{key:"getFormField",value:function(){return this.props.field||{}}},{key:"getContents",value:function(){return this.getFormField().value||[]}},{key:"openUpload",value:function(){this.refs.fileSelect&&this.refs.fileSelect.click()}},{key:"addUpload",value:function(e){var t=this.getContents(),a=[].concat(r(t));(e||[]).forEach(function(e){-1===t.findIndex(function(t){return t.uploadId===e})&&a.push({uploadId:e})}),this.syncToData(a)}},{key:"uploadFiles",value:function(e){var t=this.props.uploadAttachment;if(e.length>9);else{var a=[];u(e).forEach(function(e){a.push(e.id),t({upload:e})}),this.addUpload(a)}}},{key:"render",value:function(){var e=this,t=this.props,a=t.singleFile,n=t.multiple,r=t.uploads,o=t.linkOnly,i=t.fileOnly,s=t.theme,l=this.getContents(),u=this.getFormField(),c=u.isTouched&&u.errorMessage,d=0===l.length,f=l.map(function(t,a){return e.renderItem(t,a)}),p=l.find(function(e){var t=e.uploadId;return t&&r[t]&&(0,I.isLoading)(r[t].status)}),m=a&&l.length>=1;return E.default.createElement("div",{className:this.ss("upload-file")},E.default.createElement("div",{className:this.ss("upload-content",p&&"uploading",d&&"empty")},E.default.createElement("div",{className:this.ss("content")},f),c&&E.default.createElement("div",{className:this.ss("error-text")},this.__(c))),E.default.createElement("div",{className:this.ss("add-btn-group")},!i&&!m&&E.default.createElement("div",{className:this.ss("add-btn")},E.default.createElement(j.default,{widthStyle:"full",size:"medium",theme:s,label:this.__("add_link"),onClick:function(){return e.onOpenDialog()}})),!o&&!m&&E.default.createElement("div",{className:this.ss("add-btn")},E.default.createElement(j.default,{widthStyle:"full",size:"medium",theme:s,label:this.__("upload_file"),onClick:function(){return e.openUpload()}}))),E.default.createElement(C.default,{open:this.state.open,onClose:function(){return e.onCloseDialog()},onConfirm:function(t){return e.onAddLinkSuccess(t)}}),E.default.createElement("input",{type:"file",ref:"fileSelect",multiple:n,accept:"*/*",className:this.ss("hide"),onChange:this.onFilesChange}))}}]),t}(),m.propTypes={singleFile:k.default.bool,multiple:k.default.bool,linkOnly:k.default.bool,fileOnly:k.default.bool,theme:k.default.string,field:k.default.object,onChangeField:k.default.func,onMoveElement:k.default.func,uploads:k.default.object,uploadAttachment:k.default.func,showMessage:k.default.func,openAddLinkDialog:k.default.func,closeAddLinkDialog:k.default.func},m.defaultProps={multiple:!1,singleFile:!1},p=h))||p)||p)||p);t.default=F},function(e,t){e.exports={"text-area-wrap":"text-area-wrap_3BjTWoOD",comment:"comment_1Xpn8gf_","text-area":"text-area_3ivvYJDT","textarea-disabled":"textarea-disabled_3Qv2umHL",post:"post_2rU0Giof",submission:"submission_3zDBaU_Z",transparent:"transparent_Rvr8oVxw",error:"error_2NueknB2",disabled:"disabled_1h_2vPsZ","text-error":"text-error_2TJnSzC2",hide:"hide_3R0VrWPb",limit:"limit_1hIrtgk9"}},function(e,t){e.exports={error_isRequired:"error_isRequired_-l9A"}},function(e,t){e.exports={sliderContainer:"sliderContainer_QYGc1PuG",rowWrapper:"rowWrapper_273m-EM6",rowContainer:"rowContainer_2HWOzA_8",itemsWrapper:"itemsWrapper_21nEwS1Z",itemContainer:"itemContainer_231jJMmo",animating:"animating_9oB2aUqD",focus:"focus_31MC0Jsf"}},,,,function(e,t){e.exports={"course-wrapper":"course-wrapper_hywDfHqy","premium-wrapper":"premium-wrapper_eceWa6O4","complete-icon":"complete-icon_3kpjrDV0",medium:"medium_2XQ6EnSx","card-content":"card-content_1UQ-eWB2","content-des":"content-des_a2ELXkze",title:"title_1VxiLhbY",dark:"dark_swv_Dv1i","course-card":"course-card_81xLIkiH",summary:"summary_2nRJg8gD",details:"details_3BF7pxJE",buttons:"buttons_tQBu9sTH","card-link":"card-link_3UMgdWhl","card-img":"card-img_11kcuQig","collect-wrap":"collect-wrap_3nhf2wSa",info:"info_37CX088N",detail:"detail_2DrHSzcJ","detail-title":"detail-title_1dlS9GjA","detail-index":"detail-index_2SsPKL4e",status:"status_q9hJBQSP",dot:"dot_3s6PMUq7",completed:"completed_1RLNgZsv","vertical-line":"vertical-line_7YBQQA7R","status-bg-up":"status-bg-up_2k_MoTSk","status-bg-down":"status-bg-down_E_cqksti"}},function(e,t){e.exports={show_details:"show_details_qBkB",hide_details:"hide_details_1bd8",start_course:"start_course_QOsn"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["upload.uploads"],["upload.uploads"]),_=s(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),g=n(a(0)),v=n(a(2)),y=n(a(1)),b=a(6),w=a(5),E=a(17),k=a(12),S=n(a(3)),O=n(a(525)),T=n(a(7)),P=n(a(526)),j=(l=(0,b.decorator)({uploads:(0,w.state)(h),retryUploadAttachment:(0,w.signal)(_)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,a=e.item,n=e.onSuccess,r=a.uploadId,o=a.url,i=r&&t[r];i&&i.content&&!o&&n&&n(i)}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return g.default.createElement("div",{className:this.ss("loading")},g.default.createElement("div",{className:this.ss("loading-bar"),style:{width:r+"%"}}),g.default.createElement("div",{className:this.ss("percent")},(r&&Math.floor(r))+"%"))}},{key:"renderFailed",value:function(e){var t=this;return g.default.createElement("div",{className:this.ss("loading-failed")},g.default.createElement("div",{className:this.ss("loading-text")},this.__("file_uploading_failed")),g.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},g.default.createElement("span",{className:this.ss("content")},g.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),g.default.createElement("span",{className:this.ss("text")},this.__("file_uploading_retry")))))}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.uploads,n=t.uploadId,r=t.url,o=a[n];if(r){var i=t.name,s=t.size;return g.default.createElement("div",{className:this.ss("attachment")},g.default.createElement("div",{className:this.ss("content-body")},g.default.createElement("div",{className:this.ss("title")},i),g.default.createElement("div",{className:this.ss("size")},(0,k.formatSize)(s))))}if(o){var l=o.filename,u=o.fileSize,c=o.status;return g.default.createElement("div",{className:this.ss("attachment")},g.default.createElement("div",{className:this.ss("content-body")},g.default.createElement("div",{className:this.ss("title")},l),g.default.createElement("div",{className:this.ss("size")},(0,k.formatSize)(u))),(0,E.isFailed)(c)&&this.renderFailed(o),(0,E.isLoading)(c)&&this.renderLoading(o))}return null}}]),t}(),f.propTypes={uploads:v.default.object,item:v.default.object,onSuccess:v.default.func,retryUploadAttachment:v.default.func},d=p))||d)||d)||d);t.default=j},function(e,t){e.exports={attachment:"attachment_2E6fLL7d","file-icon":"file-icon_3nfEHoRk","content-body":"content-body_laENqHMz",title:"title_HYahH9yI",size:"size_3gSOZIyM","loading-failed":"loading-failed_2yXkjusk","loading-text":"loading-text_1n_Eml-q","loading-button":"loading-button_1rsrZbP5",content:"content_2AV04-nF",retry:"retry_2nQrLXm5",text:"text_2QQDAFvC",loading:"loading_SBjRkAP9","loading-bar":"loading-bar_3fjGzREs",percent:"percent_z0-gGcyw"}},function(e,t){e.exports={file_uploading_failed:"file_uploading_failed_1SS8",file_uploading_retry:"file_uploading_retry_2G3s"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.addLinkDialog.addLinkForm"],["common.addLinkDialog.addLinkForm"]),_=s(["common.changeAddLinkFormField"],["common.changeAddLinkFormField"]),g=s(["common.addLinkFormValidated"],["common.addLinkFormValidated"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(5),E=a(13),k=n(a(132)),S=a(6),O=n(a(32)),T=n(a(16)),P=n(a(34)),j=n(a(3)),C=n(a(528)),I=n(a(7)),N=n(a(529)),M=(l=(0,S.decorator)({addLinkForm:(0,w.state)(h),changeAddLinkFormField:(0,w.signal)(_),addLinkFormValidated:(0,w.signal)(g)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onConfirm=function(){var e=n.props,t=e.addLinkForm,a=e.onConfirm;if((0,e.addLinkFormValidated)(),(0,E.isValidForm)(t)&&a){var r=t.name,o=t.url;a({id:k.default.createNonce(),name:r&&r.value,url:o&&o.value}),n.onClose()}},n.onClose=function(){n.props.onClose&&n.props.onClose()},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"renderFieldName",value:function(){var e=this.props,t=e.addLinkForm,a=e.changeAddLinkFormField,n=t.name,r=n.isTouched&&n.errorMessage;return y.default.createElement("div",{className:this.ss("form-field")},y.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_resource_name"),r&&y.default.createElement("div",{className:this.ss("error_message")},this.__(r))),y.default.createElement("div",{className:this.ss("form-field-content")},y.default.createElement(P.default,{value:n.value,theme:r?"error":"default",onChange:function(e,t){return a({fieldName:"name",value:t})}})))}},{key:"renderFieldUrl",value:function(){var e=this.props,t=e.addLinkForm,a=e.changeAddLinkFormField,n=t.url,r=n.isTouched&&n.errorMessage;return y.default.createElement("div",{className:this.ss("form-field")},y.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_resource_url")),y.default.createElement("div",{className:this.ss("form-field-description")},this.__("field_resource_url_description")),y.default.createElement("div",{className:this.ss("form-field-content")},y.default.createElement(P.default,{value:n.value,theme:r?"error":"default",onChange:function(e,t){return a({fieldName:"url",value:t})}})),y.default.createElement("div",{className:this.ss("error_message")},r?this.__(r):""))}},{key:"renderBody",value:function(){return y.default.createElement("div",{className:this.ss("body")},this.renderFieldName(),this.renderFieldUrl())}},{key:"renderFoot",value:function(){var e=[];return e.push(y.default.createElement("div",{key:"cancel",className:this.ss("button")},y.default.createElement(T.default,{size:"small",widthStyle:"full",label:this.__("button_cancel"),onClick:this.onClose}))),e.push(y.default.createElement("div",{key:"ok",className:this.ss("button")},y.default.createElement(T.default,{size:"small",widthStyle:"full",label:this.__("button_ok"),onClick:this.onConfirm}))),y.default.createElement("div",{className:this.ss("foot")},e)}},{key:"render",value:function(){var e=this.props.open;return y.default.createElement(O.default,{open:e,position:"center",onCloseModal:this.onClose},y.default.createElement("div",{className:this.ss("content")},this.renderBody(),this.renderFoot()))}}]),t}(),f.propTypes={open:v.default.bool,addLinkForm:v.default.object,changeAddLinkFormField:v.default.func,addLinkFormValidated:v.default.func,onClose:v.default.func,onConfirm:v.default.func},d=p))||d)||d)||d);t.default=M},function(e,t){e.exports={content:"content_3lM0ToJe",body:"body_1-W1J6Ws","form-field":"form-field_27Y_UhkC","form-field-title":"form-field-title_19L3p2QO","form-field-description":"form-field-description_3z-z7KLo","form-field-hint":"form-field-hint_2vUyMNOA",foot:"foot_ZeLSwfhv",button:"button_3pFT8msf",error_message:"error_message_2yi4n9dA"}},function(e,t){e.exports={button_ok:"button_ok_3QRB",button_cancel:"button_cancel_3J6_",field_resource_name:"field_resource_name_1emi",field_resource_url:"field_resource_url_2J6P",field_resource_url_description:"field_resource_url_description_1ST_",error_isRequired:"error_isRequired_3FRw",error_isWebsite:"error_isWebsite_1OO_"}},function(e,t){e.exports={"upload-file":"upload-file_3gjWu7mV","upload-content":"upload-content_zgaWUYJP",empty:"empty_3J1gSSyI",content:"content_rZ8hjMTD","add-btn-group":"add-btn-group_1m0Rn3fa","add-btn":"add-btn_14kpG6Op","file-item":"file-item_3jMrUr-w","file-icon":"file-icon_2FU1F77w","item-name":"item-name_2C753ape",buttons:"buttons_4G0VNkne",button:"button_TrzTy0n_",download:"download_16WPMhV7",delete:"delete_3XFiz0v_",up:"up_1_-RPr_4",down:"down_3BzsGmXW","error-text":"error-text_jIV2URML",hide:"hide_L7nyr0HL"}},function(e,t){e.exports={add_link:"add_link_XOTT",upload_file:"upload_file_Wvgi",error_isRequired:"error_isRequired_334p",error_release_isRequired:"error_release_isRequired_3zqg"}},function(e,t,a){"use strict";function n(){return function(e){e&&e.preventDefault()}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=n();return e.addEventListener("copy",t),e.addEventListener("cut",t),e.addEventListener("paste",t),function(){e.removeEventListener("copy",t),e.removeEventListener("cut",t),e.removeEventListener("paste",t)}}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p,m,h,_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.tooltips"],["common.tooltips"]),v=n(a(2)),y=n(a(0)),b=n(a(20)),w=n(a(1)),E=a(6),k=a(5),S=n(a(4)),O=a(110),T=n(a(551)),P=n(a(554)),j=n(a(3)),C=n(a(557)),I=(s=(0,j.default)(C.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={left:0,top:0},i=a,o(n,i)}return i(t,w.default),_(t,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props!==e&&this.updatePosition()}},{key:"updatePosition",value:function(){var e=this.props.tooltip,t=e.position,a=e.targetWidth,n=e.targetHeight,r=e.left,o=e.top,i=b.default.findDOMNode(this),s=r,l=o;switch(t){case"left":s+=-i.offsetWidth,l+=n/2-i.offsetHeight/2;break;case"right":s+=a,l+=n/2-i.offsetHeight/2;break;case"lower-right":s+=a,l+=n/2-i.offsetHeight/3;break;case"bottom":s+=a/2-i.offsetWidth/2,l+=n;break;case"bottom-left":s+=a-i.offsetWidth,l+=n;break;case"top":default:s+=a/2-i.offsetWidth/2,l+=-i.offsetHeight}this.setState({left:s,top:l})}},{key:"renderTipContent",value:function(){var e=this.props.tooltip,t=null;switch(e.theme){case"stream":t=y.default.createElement(T.default,null);break;case"flagCount":t=y.default.createElement(P.default,{tooltip:e})}return t}},{key:"render",value:function(){var e=this.props.tooltip,t=e.theme,a=e.type,n=e.position,r=this.state,o=r.left,i=r.top;return y.default.createElement("div",{className:this.ss("tooltip","tooltip-"+n,"tooltip-"+a,"theme-"+t),style:{left:o,top:i}},this.renderTipContent())}}]),t}(),u.propTypes={tooltip:v.default.object.isRequired},l=c))||l,N=(d=(0,E.decorator)({tooltips:(0,k.state)(g)}),f=(0,j.default)(C.default),d(p=f((h=m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),_(t,[{key:"render",value:function(){var e=this.props.tooltips,t=S.default.map(e,function(e){return e.theme&&O.supportThemes.indexOf(e.theme)>-1&&y.default.createElement(I,{key:e.id,tooltip:e})});return y.default.createElement("div",{className:this.ss("tooltips")},t)}}]),t}(),m.propTypes={tooltips:v.default.object.isRequired},p=h))||p)||p);t.default=N},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection(),a=e.getCurrentContent(),n=t.getStartKey();return"code-block"===a.getBlockForKey(n).getType()}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.editorKey,n=t.renderOnly;if(!a)throw new Error("editorKey is empty");return{handleKeyCommand:n?void 0:function(t,a,n){var r=n.setEditorState;if(e(a)&&"backspace"===t){var o=(0,i.default)(a);if(o)return r(o),"handled"}return"not-handled"},handleReturn:n?void 0:function(t,a,n){var o=n.setEditorState;if(e(a)){if((0,r.isSoftNewlineEvent)(t)){var i=a.getSelection();if(i.isCollapsed()){var l=a.getCurrentContent(),u=(l=r.Modifier.splitBlock(l,i)).getSelectionAfter().getAnchorKey();return l=l.merge({blockMap:l.getBlockMap().set(u,l.getBlockForKey(u).merge({type:"unstyled",depth:0}))}),o(r.EditorState.push(a,l,"split-block")),"handled"}}var c=(0,s.default)(a);if(c)return o(c),"handled"}return"not-handled"},handlePastedText:n?void 0:function(t,a,n,i){var s=i.setEditorState;if(e(n)){t=t.replace(/\r/g,"");var l=r.CharacterMetadata.create(),u=new r.ContentBlock({key:(0,r.genKey)(),type:"unstyled",text:t,characterList:(0,o.List)((0,o.Repeat)(l,t.length))}),c=r.BlockMapBuilder.createFromArray([u]),d=r.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),c);return s(r.EditorState.push(n,d,"insert-fragment")),"handled"}return"not-handled"},onTab:n?void 0:function(t,a){var n=a.getEditorState,r=a.setEditorState,o=n();if(e(o)){var i=(0,l.default)(t,o);if(i)return r(i),!0}return!1},decorators:[new u.default]}};var r=a(11),o=a(50),i=n(a(570)),s=n(a(573)),l=n(a(575)),u=n(a(576))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{decorator:(0,o.default)(e),AlignmentToolbar:a?function(){return null}:(0,r.default)(i.default,{editorKey:t})}};var r=n(a(36)),o=n(a(578)),i=n(a(579))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=(0,r.default)(e),s=(0,o.default)(e);return{handleDrop:a?void 0:function(e,t,a,n){var r=n.getEditorState,o=n.setEditorState,s=n.getProps;if(!a)return"not-handled";if(!t.data.getData("CONNECT_BLOCK_DRAG"))return"handled";var l=s().controller,u=l.getState("editor.dragOverBlockKey"),c=l.getState("editor.dragStartBlockKey"),d=l.getState("editor.dragStartBlockAfterKey");if(u!==c&&u!==d){var f=r();o((0,i.moveAtomicBlockBefore)(f,u,c))}return"handled"},EditorWrapper:n,decorator:s}};var r=n(a(583)),o=n(a(584)),i=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"VIDEO"===a.getEntity(t).getType()},t)}function o(e){var t=e.uploadIds,a=e.uploads,n=e.editorKey,r=e.editorState,o=e.setEditorState;if(t&&t.length>0){var i=r.getSelection().getFocusKey(),s=r;t.forEach(function(e){var t=a[e];s=(0,u.addAtomicBlockBefore)(s,i,"VIDEO",{contentId:t.contentId})}),o({editorKey:n,editorState:s})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],UploadVideoDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(36)),s=n(a(585)),l=n(a(589)),u=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){if(0!==e.type.indexOf("image/"))throw new Error("file is not an image");return new Promise(function(t){var a=window.URL.createObjectURL(e),n=new window.Image;n.onload=function(){var r=n.width,o=n.height;t({id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,uploadType:"image",dataUrl:a,width:r,height:o})},n.src=a})}function i(e){return e=[].concat(r(e)).filter(function(e){return 0===e.type.indexOf("image/")}),Promise.all(e.map(o))}function s(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"IMAGE"===a.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.readImage=o,t.readImages=i,t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=c.default;return e.decorator&&(n=e.decorator(n)),n=(0,l.default)(n,{editorKey:t,renderOnly:a}),{handleDroppedFiles:a?void 0:function(e,t,a){var n=a.getEditorState,r=a.setEditorState,o=(0,a.getProps)().controller,s=o.getState("editor.dragOverBlockKey");if(!s)return"not-handled";var l=t.some(function(e){return 0===e.type.indexOf("image/")});return i(t).then(function(e){var t=n();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,s,"IMAGE",{uploadId:e.id}),o.getSignal("upload.uploadAttachment")({upload:e})}),r(t)}),l?"handled":"not-handled"},handlePastedFiles:a?void 0:function(e,t){var a=t.getEditorState,n=t.setEditorState,r=(0,t.getProps)().controller,o=a().getSelection().getStartKey(),s=e.some(function(e){return 0===e.type.indexOf("image/")});return i(e).then(function(e){var t=a();e.forEach(function(e){t=(0,u.addAtomicBlockBefore)(t,o,"IMAGE",{uploadId:e.id}),r.getSignal("upload.uploadAttachment")({upload:e})}),n(t)}),s?"handled":"not-handled"},decorators:[{strategy:s,component:n}]}};var l=n(a(36)),u=a(11),c=n(a(592))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e){var t=e.getSelection();if(!t.isCollapsed())return null;var a=e.getCurrentContent(),r=t.getStartKey(),o=a.getBlockForKey(r);if("atomic"===o.getType()){var i=new n.ContentBlock({key:o.getKey()}),s=a.getBlockMap().set(o.getKey(),i),l=a.merge({blockMap:s,selectionAfter:t});return n.EditorState.push(e,l,"remove-range")}if(0!==t.getStartOffset())return null;var u=a.getBlockBefore(r);if(u&&"atomic"===u.getType()){var c=new n.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return n.EditorState.forceSelection(e,c);var d=a.getBlockMap().delete(o.getKey()),f=a.merge({blockMap:d,selectionAfter:c});return n.EditorState.push(e,f,"remove-range")}return null}function t(e){var t=e.getSelection();if(!t.isCollapsed())return null;var a=e.getCurrentContent(),r=t.getStartKey(),o=a.getBlockForKey(r);if("atomic"===o.getType()){var i=new n.ContentBlock({key:o.getKey()}),s=a.getBlockMap().set(o.getKey(),i),l=a.merge({blockMap:s,selectionAfter:t});return n.EditorState.push(e,l,"remove-range")}if(t.getStartOffset()<o.getLength())return null;var u=a.getBlockAfter(r);if(u&&"atomic"===u.getType()){var c=new n.SelectionState({anchorKey:u.getKey(),anchorOffset:0,focusKey:u.getKey(),focusOffset:0,hasFocus:!0});if(o.getLength())return n.EditorState.forceSelection(e,c);var d=a.getBlockMap().delete(o.getKey()),f=a.merge({blockMap:d,selectionAfter:c});return n.EditorState.push(e,f,"remove-range")}return null}var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a.editorKey,i=a.renderOnly;if(!o)throw new Error("editorKey is empty");return{blockRendererFn:function(e){if("atomic"===e.getType())return{component:n.EditorBlock,editable:!1}},keyBindingFn:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if(37===e.keyCode&&((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockBeforeAtomic)(o)&&(0,n.isSelectionAtBlockStart)(o))){var i=(0,n.moveToPrevBlock)(o);if(i)return r(i),""}if(39===e.keyCode&&((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockAfterAtomic)(o)&&(0,n.isSelectionAtBlockEnd)(o))){var s=(0,n.moveToNextBlock)(o);if(s)return r(s),""}}},onDownArrow:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockAfterAtomic)(o)&&(0,n.isFocusAtLastLine)()){var i=(0,n.moveToNextBlock)(o);i&&(r(i),e.preventDefault())}}},onUpArrow:i?void 0:function(e,t){var a=t.getEditorState,r=t.setEditorState;if(!e.shiftKey){var o=a();if((0,n.isAtomicBlockSelected)(o)||(0,n.isBlockBeforeAtomic)(o)&&(0,n.isFocusAtFirstLine)()){var i=(0,n.moveToPrevBlock)(o);i&&(r(i),e.preventDefault())}}},handleKeyCommand:i?void 0:function(a,n,r){var o=r.setEditorState,i=void 0;switch(a){case"backspace":case"backspace-word":case"backspace-to-start-of-line":if((i=e(n))&&i!==n)return o(i),"handled";break;case"delete":case"delete-word":case"delete-to-end-of-block":if((i=t(n))&&i!==n)return o(i),"handled"}return"not-handled"},handleReturn:i?void 0:function(e,t,a){var r=a.setEditorState,o=t.getSelection();if(!o.isCollapsed())return"not-handled";var i=t.getCurrentContent(),s=o.getStartKey(),l=i.getBlockForKey(s);return"atomic"===l.getType()?(r((0,n.addEmptyBlockBefore)(t,l.getKey())),"handled"):"not-handled"},handleBeforeInput:i?void 0:function(e,t){var a=t.getSelection();if(!a.isCollapsed())return"not-handled";var n=t.getCurrentContent(),r=a.getStartKey();return"atomic"===n.getBlockForKey(r).getType()?"handled":"not-handled"},handlePastedText:i?void 0:function(e,t,a,r){var o=r.setEditorState,i=r.getProps,s="CONNECT_ATOMIC_ENTITY:";if(e.startsWith(s)){e=e.substring(s.length);try{var l=JSON.parse(e),u=i().controller,c=u.getState("editor.uploads"),d=u.getState("editor.contentMap");if(l.data.uploadId&&c[l.data.uploadId]||l.data.contentId&&d[l.data.contentId]){var f=a.getSelection().getStartKey();o((0,n.addAtomicBlockBefore)(a,f,l.type,l.data))}}catch(e){console.warn("failed to parse entity: ",e)}return"handled"}return"not-handled"},decorator:(0,r.default)(a)}};var n=a(11),r=function(e){return e&&e.__esModule?e:{default:e}}(a(597))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DateIcon=t.LiveSessionInfo=t.LiveSessionCard=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),I=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["currentHost"],["currentHost"]),N=n(a(2)),M=n(a(0)),D=n(a(1)),x=a(6),R=a(4),L=a(5),A=n(a(19)),F=a(78),K=n(a(52)),q=a(44),z=a(130),B=a(8),U=n(a(3)),H=n(a(542)),V=n(a(7)),G=n(a(543)),W=(s=(0,x.decorator)({}),l=(0,U.default)(H.default),u=(0,V.default)(G.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),C(t,[{key:"render",value:function(){var e=this.props.data;return M.default.createElement("div",{className:this.ss("live-session-wrap")},M.default.createElement("div",{className:this.ss("live-session-content")},M.default.createElement(Q,{data:e}),M.default.createElement(J,{data:e})))}}]),t}(),d.propTypes={data:N.default.object},c=f))||c)||c)||c);t.default=W;var Q=t.LiveSessionCard=(p=(0,U.default)(H.default),m=(0,V.default)(G.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),C(t,[{key:"renderTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;return 0===t?"":1===t?e[0]:2===t?e[0]+" & "+e[1]:e.slice(0,t-1).join(", ")+" & "+e.slice(-1)[0]}},{key:"renderSessionTime",value:function(){var e=this.props.data,t=(0,R.get)(e,"rangeTime.startTime"),a=(0,R.get)(e,"rangeTime.endTime"),n=(0,F.GetLiveSessionTime)({startTime:t,endTime:a},this.moment().utcOffset()),r=n.sessionTime,o=n.timeZone,i=n.daysDiff;return i>0?r+" ("+this.__("live_session_time_diff",{total:i})+") "+o:r+" "+o}},{key:"renderCardInfoList",value:function(){var e=this.props.data,t=(0,R.get)(e,"topicMap")||{},a=(0,R.get)(e,"industryMap")||{},n=(0,R.get)(e,"industryIds")||[],r=(0,R.get)(e,"topicIds")||[],o=n.map(function(e){return a[e]&&a[e].name}),i=r.map(function(e){return t[e]&&t[e].name});return M.default.createElement("div",{className:this.ss("card-info-list")},M.default.createElement("div",{className:this.ss("info-item","date-item")},M.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icon-schedule")}),M.default.createElement("div",{className:this.ss("item-label")},this.renderSessionTime())),o.length>0&&M.default.createElement("div",{className:this.ss("info-item","industry-item")},M.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-icon-manufacturing")}),M.default.createElement("div",{className:this.ss("item-label")},this.renderTags(o))),i.length>0&&M.default.createElement("div",{className:this.ss("info-item","message-item")},M.default.createElement("div",{className:this.ss("item-icon","ifont","ifont-lrn_icon_comment")}),M.default.createElement("div",{className:this.ss("item-label")},this.renderTags(i))))}},{key:"renderCardFoot",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,R.get)(t,"previousVideo"),r=[];switch((0,R.get)(t,"period")){case B.CalendarTabs.opening:"default"===a&&r.push(M.default.createElement(z.RegisterButton,{key:"register",size:"small",data:t}));break;case B.CalendarTabs.coming:"default"===a&&r.push(M.default.createElement("div",{key:"coming_soon_tips",className:this.ss("tips")},this.__("calendar_coming_soon_tips")));break;case B.CalendarTabs.previous:r.push(M.default.createElement(q.LearnPlayerPreview,{key:"video-preview",videoContent:n}))}return 0===r.length?null:M.default.createElement("div",{className:this.ss("card-foot")},r)}},{key:"renderDateIcon",value:function(){var e=this.props.data,t=(0,R.get)(e,"rangeTime.startTime"),a=this.moment(t),n=a.format("MMM"),r=a.format("DD");return M.default.createElement(Y,{month:n,day:r})}},{key:"render",value:function(){var e=this.props.theme;return M.default.createElement("div",{className:this.ss("live-session-card",e)},M.default.createElement("div",{className:this.ss("live-session-card-content")},this.renderDateIcon(),M.default.createElement("div",{className:this.ss("card-main")},this.renderCardInfoList(),this.renderCardFoot())))}}]),t}(),_.propTypes={data:N.default.object,theme:N.default.oneOf(["default","dialog"])},_.defaultProps={theme:"default"},h=g))||h)||h),J=t.LiveSessionInfo=(v=(0,x.decorator)({currentHost:(0,L.state)(I)}),y=(0,U.default)(H.default),b=(0,V.default)(G.default),v(w=y(w=b((k=E=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={expand:!1},n.handleToggleExpand=function(){var e=n.state.expand;n.setState({expand:!e})},i=a,o(n,i)}return i(t,D.default),C(t,[{key:"renderHeader",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.theme,r=(0,R.get)(a,"title")||"";return M.default.createElement("div",{className:this.ss("info-header")},M.default.createElement("div",{className:this.ss("header-title")},r),"dialog"!==n&&M.default.createElement("div",{className:this.ss("header-toggle",e&&"toggle-expand"),onClick:this.handleToggleExpand},M.default.createElement("div",{className:this.ss("toggle-icon","ifont","ifont-lrn_icon_unfold")})))}},{key:"renderReferTo",value:function(){var e=this.props,t=e.data,a=e.currentHost,n=(0,z.GetLiveSessionContentData)(t);if(!n)return null;var r=n.id,o=n.type,i=n.title;return M.default.createElement("div",{className:this.ss("info-refer")},this.__("live_session_referTo_"+o),M.default.createElement("a",{className:this.ss("link"),href:(0,A.default)("/"+o+"/"+r,a)},i))}},{key:"renderMainInfo",value:function(){var e=this.state.expand,t=this.props,a=t.data,n=t.theme,r=(0,R.get)(a,"descPlain",""),o=(0,R.get)(a,"period")===B.CalendarTabs.opening;return M.default.createElement("div",{className:this.ss("info-main")},M.default.createElement("div",{className:this.ss("info-main-des",!e&&"no-expand")},e||"dialog"===n?M.default.createElement("div",{className:this.ss("info-main-expand-wrap")},M.default.createElement(K.default,{value:(0,R.get)(a,"description"),editorKey:"editorLiveSessionDescription_"+(0,R.get)(a,"id"),renderOnly:!0,theme:"transparent-live-session"}),o&&M.default.createElement("div",{className:this.ss("register")},M.default.createElement(z.RegisterButton,{data:a}))):M.default.createElement("div",{className:this.ss("info-main-des-content")},M.default.createElement("span",null,r))))}},{key:"render",value:function(){var e=this.props.theme;return M.default.createElement("div",{className:this.ss("live-session-info",e)},this.renderHeader(),this.renderReferTo(),this.renderMainInfo())}}]),t}(),E.propTypes={currentHost:N.default.string,data:N.default.object,theme:N.default.oneOf(["default","dialog"])},E.defaultProps={theme:"default"},w=k))||w)||w)||w),Y=t.DateIcon=(S=(0,U.default)(H.default),O=(0,V.default)(G.default),S(T=O((j=P=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),C(t,[{key:"getMonth",value:function(){var e=this.props.month;return e.length>3?e.slice(0,3).toUpperCase():e.toUpperCase()}},{key:"getDay",value:function(){var e=this.props.day;return 1===e.length?"0"+e:e}},{key:"render",value:function(){return M.default.createElement("div",{className:this.ss("date-icon-wrap")},M.default.createElement("div",{className:this.ss("month")},this.getMonth()),M.default.createElement("div",{className:this.ss("day")},this.getDay()))}}]),t}(),P.propTypes={month:N.default.string,day:N.default.string},P.defaultProps={month:"JAN",day:"01"},T=j))||T)||T)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["locale"],["locale"]),g=s(["common.loginTo"],["common.loginTo"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=n(a(16)),S=a(27),O=a(9),T=n(a(3)),P=n(a(628)),j=n(a(7)),C=n(a(629)),I=(l=(0,w.decorator)({loginUser:(0,E.state)(h),locale:(0,E.state)(_),loginTo:(0,E.signal)(g)}),u=(0,T.default)(P.default),c=(0,j.default)(C.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.renderLoginBanner=function(){var e=n.props,t=e.loginUser,a=e.loginTo;return t?null:y.default.createElement("div",{className:n.ss("login-banner")},y.default.createElement("span",null,n.__("login_banner_left")),y.default.createElement("a",{className:n.ss("login-banner-link"),onClick:function(){return a()}},n.__("login_banner_right")))},i=a,o(n,i)}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.locale,a=e.slug,n=e.type,r=(0,O.GetPayUrl)({item:a,locale:t});return y.default.createElement("div",{className:this.ss("payment-cover")},y.default.createElement("div",{className:this.ss("cover-banner")},this.renderLoginBanner(),y.default.createElement("div",{className:this.ss("banner-word")},y.default.createElement("span",null,this.__("banner_word_first_line")),y.default.createElement("span",null,this.__("banner_word_second_line"))),y.default.createElement("div",{className:this.ss("button","button-free")},y.default.createElement(k.default,{widthStyle:"full",theme:"white",label:y.default.createElement(S.TryPaymentLabel,{type:n}),href:r}))))}}]),t}(),f.propTypes={loginUser:v.default.object,locale:v.default.string,loginTo:v.default.func,slug:v.default.string,type:v.default.string.isRequired},d=p))||d)||d)||d);t.default=I},function(e,t){e.exports={"live-session-wrap":"live-session-wrap_2j9jGuBk","live-session-content":"live-session-content_3tfQR-r8","live-session-card":"live-session-card_GmOM-gUc","live-session-card-content":"live-session-card-content_1hWhzSiZ","card-main":"card-main_3JO1JTkG","info-item":"info-item_2ZjrawL8","item-icon":"item-icon_1zdAY7Ze","item-label":"item-label_2ovTzFlH","card-foot":"card-foot_2lOgq3p7",tips:"tips_9n9YXDyl",link:"link_2QwA7ANW","live-session-info":"live-session-info_3imzBNj6","info-header":"info-header_2U4jJVya","header-title":"header-title_1_cB1RVb","header-toggle":"header-toggle_1CQzrpZs","toggle-icon":"toggle-icon_2oq6byXo","toggle-expand":"toggle-expand_13r8gmdG","info-refer":"info-refer_24z_4htg","info-main":"info-main_Fl_g1Yne","info-main-des-content":"info-main-des-content_3bxr3cvW","info-main-expand":"info-main-expand_2TSu18n-","agenda-title":"agenda-title_1sqRHr_w","agenda-list":"agenda-list_145PjFLq","agenda-item":"agenda-item_2WaHsK3f","agenda-item-text":"agenda-item-text_3ELQzXPB",dialog:"dialog_3TEHlj1Z","date-icon-wrap":"date-icon-wrap_SZnNNwrl",month:"month_2k8XKHbH",day:"day_2OJ8iX6Y"}},function(e,t){e.exports={register:"register_3Kdk",live_session_referTo:"live_session_referTo_2sRC",live_session_register:"live_session_register_1LAm",live_session_time_diff:"live_session_time_diff_3wiN",calendar_coming_soon_tips:"calendar_coming_soon_tips_rfQ5",live_session_referTo_tutorial:"live_session_referTo_tutorial_13PQ",live_session_referTo_project:"live_session_referTo_project_2f9j",live_session_referTo_course:"live_session_referTo_course_2yuZ"}},function(e,t){e.exports={contents:"contents_3kbG0gIj","live-session-item-content":"live-session-item-content_3acSgEHR","close-button":"close-button_3ZiK-8xR"}},function(e,t){e.exports={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.sendCDPRequest"],["header.sendCDPRequest"]),h=s(["learner.parentIds"],["learner.parentIds"]),_=s(["userPremium"],["userPremium"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=n(a(812)),w=a(5),E=a(6),k=a(8),S=(l=(0,E.decorator)({sendCDPRequest:(0,w.signal)(m),parentIds:(0,w.state)(h),userPremium:(0,w.state)(_)}))((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),p(t,[{key:"componentDidMount",value:function(){var e=this;this.onActive(),window.onbeforeunload=function(){e.onLeave()}}},{key:"onIdle",value:function(){this.onLeave()}},{key:"onActive",value:function(){var e=Date.now();this.setState({timeArrived:e})}},{key:"onLeave",value:function(){var e=Date.now(),t=this.state.timeArrived,a=this.props,n=a.sendCDPRequest,r=a.id,o=a.type,i=a.parentIds,s=a.userPremium,l=Math.max(e-k.TIME_ON_PAGE_EXPIRE_TIME,t),u=f({},i,{id:r,type:o,userPremium:s,timeArrived:l,timeLeft:e});n({type:k.CDPLearnType.time_on_page,eventType:k.EventType.learn,data:u})}},{key:"render",value:function(){var e=this;return v.default.createElement(b.default,{onActive:function(){return e.onActive()},onIdle:function(){return e.onIdle()},timeout:k.TIME_ON_PAGE_EXPIRE_TIME})}}]),t}(),c.propTypes={id:g.default.string,type:g.default.string,sendCDPRequest:g.default.func,parentIds:g.default.object,userPremium:g.default.bool},u=d))||u;t.default=S},function(e,t){e.exports={title_summary:"title_summary_2tki",title_career_goal:"title_career_goal_22ge",title_quiz_objective:"title_quiz_objective_2nn8",title_project_objective:"title_project_objective_2yHo",title_tutorial_objective:"title_tutorial_objective_1PxB",title_course_objective:"title_course_objective_3HN5",title_tag_topic:"title_tag_topic_2GCT",title_tag_tag:"title_tag_tag_pEM6",title_tag_package:"title_tag_package_EWuk",title_tag_industry:"title_tag_industry_1upV",title_language:"title_language_1haD",title_assets:"title_assets_1eiR",title_included_in:"title_included_in_gGU1",title_materials:"title_materials_MzmH",title_document:"title_document_2uy2",type_course:"type_course_38_n",type_project:"type_project_1Mk9",type_tutorial:"type_tutorial_29AA",type_quiz:"type_quiz_-ebG",title_detail_version_range:"title_detail_version_range_1LuW",title_unity_version_range:"title_unity_version_range_3_Cs",unity_version_range:"unity_version_range_3Csf",unity_version_range_below:"unity_version_range_below_h94W",unity_version_range_above:"unity_version_range_above_1G__",support_all_unity_version:"support_all_unity_version_1gV1",last_updated:"last_updated_ZDld",notification_action_tutorial:"notification_action_tutorial_3eBJ",notification_action_quiz:"notification_action_quiz_3B9x",notification_action_project:"notification_action_project__iyO",notification_action_course:"notification_action_course_pvKG",mission_created_time:"mission_created_time_cW_0",view_new_version:"view_new_version_3ows",mission_briefing:"mission_briefing_CG2P",title_what_you_will_learn:"title_what_you_will_learn_1nDg",title_skill_you_use:"title_skill_you_use_3uYX",already_know:"already_know_30vj",mission_skip_to_checkpoint:"mission_skip_to_checkpoint_1qEf",pathway_skip_to_checkpoint:"pathway_skip_to_checkpoint_32U3",mission_view_summary:"mission_view_summary_1oc0",pathway_view_summary:"pathway_view_summary_17Qw",start_pathway:"start_pathway_10w5",mission:"mission_1yUR",what_you_will_learn:"what_you_will_learn_1ypc",start_mission:"start_mission_3ioz",resume_mission:"resume_mission_2rZM",view_mission:"view_mission_1w--",mission_completed_count:"mission_completed_count_1x0u",assessment_completed:"assessment_completed_ulHu",zoom_out:"zoom_out_2kHK",zoom_in:"zoom_in_2kZR",start_here:"start_here_1lIJ",title_unity_pro:"title_unity_pro_2C-E",button_learn_more:"button_learn_more_2kL_",unity_learn_group:"unity_learn_group_3d08",Join_pathway_discussion:"Join_pathway_discussion_1mlT",content_unity_pro:"content_unity_pro_nBh7"}},,function(e,t){e.exports={contents:"contents_1_c3O3mW",report:"report_3i6gshap",ban:"ban_P0Hu8uDL",record:"record_2Jicrc13",delete:"delete_2j5VjpQK",comments_record:"comments_record_1UUi-g_W",comments_reply:"comments_reply_oHdqu2PU",comments_edit:"comments_edit_1RiWgLhs",head:"head_2H95abFZ",des:"des_3f6wnyup",tips:"tips_-UIiJM9i",input:"input_1bv6T3Y0",foot:"foot_1-XWK53-","button-submit":"button-submit_1REPQZQr",disabled:"disabled_1AMigCqf",cancel:"cancel_3-NkQ6iB","button-cancel":"button-cancel_MzEwDLf2","report-form":"report-form_3SrRubdS","option-item":"option-item_T_EEp47d","checkbox-wrap":"checkbox-wrap_2OvnEJL9",checkbox:"checkbox_27440QCu",active:"active_U5BLfsW3","other-input-wrap":"other-input-wrap_2fGOF_7Q",textarea:"textarea_2hqGcxoS","report-result":"report-result_15GJHdqk","result-content":"result-content_NgC1NsqI","result-foot":"result-foot_3Uhitw0A","button-return":"button-return_1R6dX0hI",close:"close_U9Wdv_dW","button-close":"button-close_3lhAa6WR",icon:"icon_pU75CmPj","report-record":"report-record_18lfXA_G",field:"field_2pmjYc6C",title:"title_1NysU1Do",content:"content_z7Nrt9A7","reason-content":"reason-content_2O8O8-C2",record_delete_title:"record_delete_title_1kvwyoFf",record_delete_content:"record_delete_content_1KNOXlzH"}},function(e,t){e.exports={report_comment:"report_comment_eC9O",report_submission:"report_submission_1NGw",report_comment_des:"report_comment_des_3TWU",report_submission_des:"report_submission_des_3_37",foot_submit_report:"foot_submit_report_pRww",foot_submit_ban:"foot_submit_ban_3Jk5",foot_submit_ban_submission:"foot_submit_ban_submission_26Ga",foot_submit_undo:"foot_submit_undo_Yxcw",dialog_foot_cancel:"dialog_foot_cancel_3j6k",option_disrespectful:"option_disrespectful_34EA",option_obscene:"option_obscene_2E72",option_spam:"option_spam_6HAe",option_solicitation:"option_solicitation_CJRW",option_illegal:"option_illegal_3DY1",option_irrelevant:"option_irrelevant_DzTi",option_other:"option_other_2r5r",other_input_placeholder:"other_input_placeholder_1U-u",submitted_head:"submitted_head_12Dj",submitted_des:"submitted_des_2pvt",return_to_comment:"return_to_comment_19EW",return_to_submission:"return_to_submission_3Nga",close_report_result:"close_report_result_2n_4",ban_comment_title:"ban_comment_title_1aN5",ban_submission_title:"ban_submission_title_A51-",ban_comment_des:"ban_comment_des_3PK5",ban_comment_tips:"ban_comment_tips_3nMi",record_comment_title:"record_comment_title_14pR",field_comment:"field_comment_2KhT",field_submission:"field_submission_1DN9",field_commenterId:"field_commenterId_3aCm",field_exerciserId:"field_exerciserId_3Hpu",field_removals:"field_removals_3IeI",field_moderator:"field_moderator_3UmB",field_action:"field_action_3REc",field_removal_reason:"field_removal_reason_3TYA",action_ban:"action_ban_2624",action_ignore:"action_ignore_1Hiy",delete_comment:"delete_comment_1b7I",delete_comment_des:"delete_comment_des_-odF",foot_submit_delete:"foot_submit_delete_3uXU",delete_submission:"delete_submission_2obt",delete_submission_des:"delete_submission_des_7hDX",foot_submission_delete:"foot_submission_delete_1Vb-",record_comment:"record_comment_1OE8",record_commentName:"record_commentName_1Dpo",record_moderator:"record_moderator_18bP",record_removal_reason:"record_removal_reason_3kwO",record_action:"record_action_3--t",record_removals:"record_removals_2N8d",input_button_cancel:"input_button_cancel_3WOw",input_button_reply:"input_button_reply_pOZk",input_button_edit:"input_button_edit_1DlU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(1)),p=n(a(3)),m=n(a(552)),h=n(a(7)),_=n(a(553)),g=["tips01","tips02","tips03","tips04","tips05"],v=(s=(0,p.default)(m.default),l=(0,h.default)(_.default),s(u=l(u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,f.default),c(t,[{key:"renderItem",value:function(e,t){return d.default.createElement("div",{key:"tips_"+t,className:this.ss("tip-item")},this.__(e))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:this.ss("tooltip-stream")},d.default.createElement("div",{className:this.ss("title")},this.__("tip_title")+":"),d.default.createElement("div",{className:this.ss("content")},g.map(function(t,a){return e.renderItem(t,a)})))}}]),t}())||u)||u);t.default=v},function(e,t){e.exports={"tooltip-stream":"tooltip-stream_XLAnJ7aw",title:"title_3zaz4U5P","tip-item":"tip-item_2_dfklaY"}},function(e,t){e.exports={tip_title:"tip_title_2mZQ",tips01:"tips01_5vRk",tips02:"tips02_1n41",tips03:"tips03_3M6I",tips04:"tips04_3WhG",tips05:"tips05_2XTk"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=a(4),g=a(8),v=n(a(3)),y=n(a(555)),b=n(a(7)),w=n(a(556)),E=(s=(0,v.default)(y.default),l=(0,b.default)(w.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"render",value:function(){var e=this,t=this.props.tooltip,a=(0,_.get)(t,"contentData")||{},n=[];if(g.CommentReportTypes.forEach(function(e){var t=(0,_.get)(a,e);t&&n.push({label:e,count:t})}),0===n.length)return null;var r=n.map(function(t){var a=t.label,n=t.count;return m.default.createElement("div",{key:"tip-count-"+a,className:e.ss("item")},e.__("report_reason_"+a,{count:n}))});return m.default.createElement("div",{className:this.ss("tooltip-flag-count")},r)}}]),t}(),c.propTypes={tooltip:p.default.object},u=d))||u)||u);t.default=E},function(e,t){e.exports={"tooltip-flag-count":"tooltip-flag-count_McIFlaKx",item:"item_MKjGPOpg"}},function(e,t){e.exports={report_reason_disrespectful:"report_reason_disrespectful_Z8ZT",report_reason_obscene:"report_reason_obscene_2YG9",report_reason_spam:"report_reason_spam_2ys6",report_reason_solicitation:"report_reason_solicitation_1D9a",report_reason_illegal:"report_reason_illegal_3U_X",report_reason_irrelevant:"report_reason_irrelevant_n3k0",report_reason_other:"report_reason_other_1-0x"}},function(e,t){e.exports={tooltips:"tooltips_237Elk50",tooltip:"tooltip_hUVcSBNB","tooltip-top":"tooltip-top_3PrFdnFC","tooltip-bottom":"tooltip-bottom_2DqJ735a","tooltip-bottom-left":"tooltip-bottom-left_3wQyJzrG","tooltip-left":"tooltip-left_3UAvzszZ","tooltip-right":"tooltip-right_2DLnX7Op","tooltip-lower-right":"tooltip-lower-right_2OMZ4Omk","tooltip-error":"tooltip-error_Nn2wInzt","tooltip-success":"tooltip-success_1HwwAaGJ","tooltip-green":"tooltip-green_IxFsfMOk","tooltip-warning":"tooltip-warning_3tS_4ttn"}},function(e,t,a){function n(e){return a(r(e))}function r(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./cover1.jpg":286,"./cover2.jpg":287,"./cover3.jpg":288};n.keys=function(){return Object.keys(o)},n.resolve=r,e.exports=n,n.id=558},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["locale"],["locale"]),E=s(["currentHost"],["currentHost"]),k=s(["featured"],["featured"]),S=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),O=s(["",".statsMap.",".collectCount"],["",".statsMap.",".collectCount"]),T=s(["statsPath"],["statsPath"]),P=s(["id"],["id"]),j=s(["",".statsMap.",".viewCount"],["",".statsMap.",".viewCount"]),C=s(["learner.collectMap.",""],["learner.collectMap.",""]),I=s(["learner.toggleCollect"],["learner.toggleCollect"]),N=n(a(2)),M=n(a(0)),D=n(a(1)),x=a(6),R=a(5),L=a(4),A=n(a(28)),F=n(a(15)),K=n(a(23)),q=a(41),z=a(75),B=a(12),U=n(a(38)),H=a(9),V=a(8),G=n(a(3)),W=n(a(677)),Q=n(a(7)),J=n(a(678)),Y={normal:{thumbnailWidth:390,thumbnailHeight:220},small:{thumbnailWidth:285,thumbnailHeight:160},xsmall:{thumbnailWidth:265,thumbnailHeight:139},medium:{thumbnailWidth:381,thumbnailHeight:160}},X=(l=(0,x.decorator)({locale:(0,R.state)(w),currentHost:(0,R.state)(E),featured:(0,R.state)(k),openSubmissionDetail:(0,R.signal)(S)}),u=(0,G.default)(W.default),c=(0,Q.default)(J.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getFeaturedContent=function(){var e=n.props.featured;return(0,L.get)(e,["listMap",(0,L.get)(e,"listName")])||{}},n.handleDetail=function(e){(0,B.pauseEvent)(e);var t=n.props,a=t.preview,r=t.submission,o=t.openSubmissionDetail,i=(0,L.get)(r,"submissionType");if(i===V.SubmissionTypes.media){var s=(0,L.get)(r,"id");o&&o({id:s,preview:a})}if(i===V.SubmissionTypes.webgl){var l=(0,L.get)(r,"webGLProject")||{},u=(0,L.get)(l,"slug"),c=A.default.PLAY_BASE_URL+"/p/"+u;(0,U.default)(c)}},n.handleParentDetail=function(e,t){(0,H.stopPropagation)(e);var a=n.props,r=a.locale,o=a.currentHost;(0,U.default)((0,H.GetDetailPageURL)(t,r),o)},i=a,o(n,i)}return i(t,D.default),b(t,[{key:"renderCardImg",value:function(){var e=this.props||{},t=e.submission,a=e.size,n=(0,L.get)(t,"thumbnail.url")||"",r=Y[a].thumbnailHeight,o=Y[a].thumbnailWidth;return n?M.default.createElement("div",{className:this.ss("card-img")},M.default.createElement(F.default,{src:n,sizes:o+"px",height:r,width:o})):M.default.createElement("div",{className:this.ss("img-holder"),style:{paddingBottom:100*r/o+"%"}})}},{key:"renderDescription",value:function(){var e=this.props.submission,t=(0,L.get)(e,"published"),a=(0,L.get)(e,"descPlain")||"";return t||a?M.default.createElement(K.default,{type:"dark",delay:1e3,position:"bottom-left",text:a},M.default.createElement("div",{className:this.ss("des")},a)):M.default.createElement("div",{className:this.ss("description-holder")},M.default.createElement("div",{className:this.ss("holder","top")}),M.default.createElement("div",{className:this.ss("holder","bottom")}))}},{key:"renderFeaturedOperator",value:function(){var e=this.props,t=e.submission,a=e.onDeleteFeature,n=e.onAddFeature,r=(0,L.get)(t,"published"),o=(0,L.get)(t,"id"),i=(0,L.get)(t,"stepId");return r?a?M.default.createElement(K.default,{type:"dark",delay:1e3,position:"top-left",text:this.__("tooltip_delete_featured_submission")},M.default.createElement("button",{className:this.ss("featured-button","button-delete-submission"),onClick:function(){return a({id:o,stepId:i})}},M.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")}))):n?M.default.createElement(K.default,{type:"dark",delay:1e3,position:"top-left",text:this.__("tooltip_add_featured_submission")},M.default.createElement("button",{className:this.ss("featured-button","button-add-submission"),onClick:function(){return n({id:o})}},M.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-plus")}))):null:null}},{key:"renderFeaturedDescription",value:function(){var e=this.props,t=e.type,a=e.submission;if("featured"!==t)return null;var n=(0,L.get)(a,"id"),r=this.getFeaturedContent(),o=(0,L.get)(r,"contentMap.listItemMap."+n)||{},i=(0,L.get)(o,"description");return M.default.createElement("div",{className:this.ss("featured-description-wrap")},M.default.createElement(K.default,{type:"dark",delay:1e3,position:"bottom-left",text:i},M.default.createElement("div",{className:this.ss("featured-description")},i)))}},{key:"renderSubmissionParent",value:function(){var e=this,t=this.props.parent;if(!t)return null;var a=(0,L.get)(t,"title");return M.default.createElement("div",{className:this.ss("parent")},M.default.createElement("div",{className:this.ss("label")},this.__("made_with")),M.default.createElement("a",{className:this.ss("a-link"),onClick:function(a){return e.handleParentDetail(a,t)}},a))}},{key:"renderSubmissionCardContent",value:function(){var e=this.props||{},t=e.submission,a=e.theme,n=e.preview,r=e.size,o=e.statsPath,i=e.parent,s=(0,L.get)(t,"id"),l=(0,L.get)(t,"type"),u=(0,L.get)(t,"title"),c="small"===r||"xsmall"===r;if((0,L.get)(t,"submissionType")===V.SubmissionTypes.webgl){var d=(0,L.get)(t,"webGLProject")||{};return M.default.createElement(z.WebGLProjectCardInternal,{theme:a,size:r,submission:t,project:d,parent:i})}return M.default.createElement("div",{className:this.ss("content","content-media")},this.renderCardImg(),M.default.createElement("div",{className:this.ss("card-content")},M.default.createElement("div",{className:this.ss("content-des")},M.default.createElement("div",{className:this.ss("title")},u||M.default.createElement("div",{className:this.ss("holder","title-holder")})),this.renderDescription()),M.default.createElement("div",{className:this.ss("card-footer")},M.default.createElement("div",{className:this.ss("author")},M.default.createElement(q.SubmissionAuthorLabel,{data:t,theme:a,showLoginUser:n,hideUserName:c}),o&&M.default.createElement(Z,{statsPath:o,id:s,type:l})),this.renderSubmissionParent())))}},{key:"render",value:function(){var e=this,t=this.props||{},a=t.theme,n=t.size,r=t.parent;return M.default.createElement("div",{className:this.ss("submission-wrapper",a,n,{showParent:!!r})},M.default.createElement("div",{className:this.ss("submission-card")},M.default.createElement("div",{className:this.ss("card-link"),onClick:function(t){return e.handleDetail(t)}},this.renderSubmissionCardContent(),this.renderFeaturedDescription())),this.renderFeaturedOperator())}}]),t}(),f.propTypes={locale:N.default.string,currentHost:N.default.string,featured:N.default.object,submission:N.default.object,preview:N.default.bool,type:N.default.oneOf(["default","featured"]),size:N.default.oneOf(["xsmall","small","normal","medium"]),theme:N.default.oneOf(["default","dark"]),statsPath:N.default.string,parent:N.default.object,onAddFeature:N.default.func,onDeleteFeature:N.default.func,openSubmissionDetail:N.default.func},f.defaultProps={preview:!1,type:"default",theme:"default",size:"normal"},d=p))||d)||d)||d);t.default=X;var Z=(m=(0,x.decorator)({collectCount:(0,R.state)(O,(0,R.props)(T),(0,R.props)(P)),viewCount:(0,R.state)(j,(0,R.props)(T),(0,R.props)(P)),collected:(0,R.state)(C,(0,R.props)(P)),toggleCollect:(0,R.signal)(I)}),h=(0,G.default)(W.default),_=(0,Q.default)(J.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onCollect=function(e){e&&(0,B.pauseEvent)(e);var t=n.props,a=t.id,r=t.type,o=t.toggleCollect,i=t.statsPath;o&&o({id:a,type:r,statsPath:i})},i=a,o(n,i)}return i(t,D.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.collectCount,a=e.viewCount,n=e.collected;return M.default.createElement("div",{className:this.ss("stats-wrapper"),onClick:this.on},M.default.createElement("div",{className:this.ss("stats-item","stats-item-view")},M.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),a),M.default.createElement("div",{className:this.ss("stats-item",n&&"collected"),onClick:this.onCollect},M.default.createElement("div",{className:this.ss("icon","ifont",n?"ifont-icon-heart":"ifont-icon-heart-o")}),t))}}]),t}(),v.propTypes={id:N.default.string,type:N.default.string,submission:N.default.object,collected:N.default.bool,collectCount:N.default.number,viewCount:N.default.number,statsPath:N.default.string.isRequired,toggleCollect:N.default.func},g=y))||g)||g)||g)},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["quiz.id"],["quiz.id"]),g=s(["locale"],["locale"]),v=s(["currentHost"],["currentHost"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(15)),T=n(a(41)),P=n(a(37)),j=(a(58),n(a(33))),C=a(60),I=a(106),N=a(27),M=n(a(19)),D=a(9),x=n(a(3)),R=n(a(565)),L=n(a(7)),A=n(a(566)),F={medium:{thumbnailWidth:390,thumbnailHeight:220},normal:{thumbnailWidth:285,thumbnailHeight:160}},K=(l=(0,E.decorator)({record:(0,k.state)(h,(0,k.props)(_)),locale:(0,k.state)(g),currentHost:(0,k.state)(v)}),u=(0,x.default)(R.default),c=(0,L.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.quiz,n=t.record,r=t.statsPath,o=t.showProgress,i=t.size,s=t.theme,l=t.navIds,u=t.uv,c=t.locale,d=t.currentHost,f=a||{},p=f.id,m=f.title,h=f.type,_=(0,S.get)(n,"completed"),g=(0,S.get)(a,"withPay"),v=(0,M.default)((0,D.GetUrlByNavIds)(l,(0,D.GetDetailPageURL)(a,c,u)),d),y=F[i].thumbnailHeight,w=F[i].thumbnailWidth;return b.default.createElement("div",{className:this.ss("quiz-wrapper",s,i)},b.default.createElement("div",{className:this.ss("premium-wrapper")},g&&b.default.createElement(N.PaymentLabel,null)),b.default.createElement("div",{className:this.ss("quiz-card")},b.default.createElement("a",{className:this.ss("card-link"),href:v},b.default.createElement("div",{className:this.ss("card-img")},b.default.createElement(O.default,{src:(0,S.get)(a,"thumbnail.url"),sizes:w+"px",height:y,width:w}),b.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},b.default.createElement(P.default,{id:p,type:h,statsPath:r})),!1),b.default.createElement("div",{className:this.ss("card-content")},b.default.createElement("div",{className:this.ss("content-des")},b.default.createElement(C.StudyMethod,{data:a}),b.default.createElement("div",{className:this.ss("title")},m),b.default.createElement("div",{className:this.ss("info")},b.default.createElement(j.default,{data:a,theme:s,durationTheme:"minute"}))),b.default.createElement("div",{className:this.ss("author")},b.default.createElement(T.default,{data:a,theme:s})),b.default.createElement(I.ParentLabel,{data:a,ref:function(t){e.parentRef=t}})))),o&&_&&b.default.createElement("div",{className:this.ss("complete-icon","ifont","ifont-lrn_icon_finish")}))}}]),t}(),f.propTypes={statsPath:y.default.string.isRequired,quiz:y.default.object,navIds:y.default.array,record:y.default.object,url:y.default.string,size:y.default.oneOf(["normal","medium"]),theme:y.default.oneOf(["default","dark"]),showProgress:y.default.bool,currentHost:y.default.string,locale:y.default.string,uv:y.default.string},f.defaultProps={navIds:[],size:"normal",theme:"default",showProgress:!1},d=p))||d)||d)||d);t.default=K},function(e,t){e.exports={"quiz-wrapper":"quiz-wrapper_3uqO4Oen","premium-wrapper":"premium-wrapper_25BIfH__","complete-icon":"complete-icon_pNm54kRb",medium:"medium_2HtP3BpL","card-content":"card-content_21yYOmSS","content-des":"content-des_1XbGasI7",title:"title_2PEEs8Nk",dark:"dark_10cZcQa-","quiz-card":"quiz-card_1zCN6bpD","card-link":"card-link_3XI3xxbi","card-img":"card-img_1KjOcIL4","collect-wrap":"collect-wrap_3nL_bp6g",info:"info_292pAjr4",author:"author_1FJDk6oz"}},function(e,t){e.exports={part_of:"part_of_3XoB"}},function(e,t,a){e.exports=a(14)(896)},function(e,t,a){e.exports=a(14)(902)},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),a=e.getSelection();if(!a.isCollapsed())return null;var n=a.getStartKey(),c=a.getStartOffset(),d=t.getBlockForKey(n).getText(),f=(0,i.default)(d),p=(0,s.default)(d),m=(0,l.default)(d,f),h=(0,u.default)(d,c,f),_=m.get(h.getLine()).slice(0,h.getOffset());if(!(0,o.default)(_,p))return null;var g=c-p.length,v=a.merge({focusKey:n,focusOffset:g,anchorKey:n,anchorOffset:c,isBackward:!0}),y=r.Modifier.removeRange(t,v,"backward"),b=r.EditorState.push(e,y,"remove-range");return r.EditorState.forceSelection(b,y.getSelectionAfter())};var r=a(11),o=n(a(571)),i=n(a(169)),s=n(a(419)),l=n(a(421)),u=n(a(422))},function(e,t,a){e.exports=a(14)(878)},function(e,t,a){e.exports=a(14)(877)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getCurrentContent(),a=e.getSelection(),n=a.getStartKey(),u=a.getStartOffset(),c=t.getBlockForKey(n).getText(),d=(0,o.default)(c),f=void 0;if(a.isCollapsed()){var p=(0,i.default)(c,d),m=(0,s.default)(c,u,d).getLine(),h=p.get(m),_=d+(0,l.default)(h);f=r.Modifier.insertText(t,a,_)}else f=r.Modifier.replaceText(t,a,d);var g=r.EditorState.push(e,f,"insert-characters");return r.EditorState.forceSelection(g,f.getSelectionAfter())};var r=a(11),o=n(a(169)),i=n(a(421)),s=n(a(422)),l=n(a(574))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e).indent||""};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(420))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.preventDefault();var a=t.getCurrentContent(),o=t.getSelection(),i=o.getStartKey(),s=a.getBlockForKey(i),l=(0,r.default)(s.getText()),u=void 0;return u=o.isCollapsed()?n.Modifier.insertText(a,o,l):n.Modifier.replaceText(a,o,l),n.EditorState.push(t,u,"insert-characters")};var n=a(11),r=function(e){return e&&e.__esModule?e:{default:e}}(a(419))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,a,n){for(var r=t;r<a;r++)e[r]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(2)),p=a(50),m=n(a(569)),h=n(a(577)),_=function(){function e(){i(this,e)}return c(e,[{key:"getDecorations",value:function(e){var t=new Array(e.getLength()).fill(null);if("code-block"!==e.getType())return(0,p.List)(t);var a=e.getText(),n=m.default.highlightAuto(a),r=0,o=[],i=new h.default;return i.on("open",function(e,t){if("span"===e){var a=t.class||"";o.push(a)}}),i.on("close",function(e){"span"===e&&o.pop()}),i.on("text",function(e){var a=o.join(" ");s(t,r,r+e.length,a),r+=e.length}),i.parse(n.value),(0,p.List)(t)}},{key:"getComponentForKey",value:function(){return g}},{key:"getPropsForKey",value:function(e){return{className:e}}}]),e}();t.default=_;var g=(u=l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,d.default.Component),c(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.children;return t.split(" ").reverse().reduce(function(e,t){return d.default.createElement("span",{className:t},e)},a)}}]),t}(),l.propTypes={className:f.default.string,children:f.default.any},u)},function(e,t,a){e.exports=a(14)(871)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editor.openSettings"],["editor.openSettings"]);t.default=function(e){var t=e.editorKey,a=e.theme;return function(e){var n,s,v,y,b;return n=(0,m.decorator)({editorState:(0,h.state)(u,t),openSettings:(0,h.state)(c)}),s=(0,_.default)(g.default),n(v=s((b=y=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,p.default),l(n,[{key:"render",value:function(){var t=this.props,n=t.editorState,r=t.entityKey,o=t.openSettings,i=(n.getCurrentContent().getEntity(r).getData()||{}).alignment,s=void 0===i?"default":i;return d.default.createElement("div",{className:this.ss("alignment-"+s,a,o&&"openSettings")},d.default.createElement(e,this.props))}}]),n}(),y.propTypes={editorState:f.default.object,entityKey:f.default.string,openSettings:f.default.bool},v=b))||v)||v}};var d=n(a(0)),f=n(a(2)),p=n(a(1)),m=a(6),h=a(5),_=n(a(3)),g=n(a(115))},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),v=s(["editor.showAlignmentToolbar"],["editor.showAlignmentToolbar"]),y=s(["editor.hideAlignmentToolbar"],["editor.hideAlignmentToolbar"]),b=n(a(0)),w=n(a(20)),E=n(a(2)),k=n(a(1)),S=a(6),O=a(5),T=n(a(73)),P=n(a(3)),j=n(a(115)),C=n(a(580)),I=a(581),N=a(582),M=(0,C.default)("default","icons_alignment_normal"),D=(0,C.default)("left","icons_alignment_left"),x=(0,C.default)("right","icons_alignment_right"),R=(0,C.default)("center","icons_alignment_center"),L=(0,C.default)("fullscreen","icons_alignment_fullscreen"),A=(u=(0,S.decorator)({editorState:(0,O.state)(h,(0,O.props)(_)),alignmentToolbarState:(0,O.state)(g,(0,O.props)(_)),showAlignmentToolbar:(0,O.signal)(v),hideAlignmentToolbar:(0,O.signal)(y)}),c=(0,P.default)(j.default),u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,k.default),m(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.editorKey,a=e.showAlignmentToolbar,n=e.hideAlignmentToolbar;if(this.getEntityKey()){var r=w.default.findDOMNode(this),o=window.getSelection().focusNode;if(!l(r,o)){var i=o&&o.getBoundingClientRect&&o.getBoundingClientRect();if(i&&i.width&&i.height){var s=((0,T.default)(r.parentElement)||document.body).getBoundingClientRect(),u=i.top-s.top-21,c=i.left-s.left+i.width/2;a({editorKey:t,top:Math.round(u),left:Math.round(c)})}}}else n({editorKey:t})}},{key:"getEntityKey",value:function(){var e=this.props.editorState;if(e){var t=e.getSelection(),a=t.getAnchorKey(),n=t.getFocusKey(),r=e.getCurrentContent(),o=r.getBlockForKey(n);if(a===n&&"atomic"===o.getType()){var i=o.getEntityAt(0),s=r.getEntity(i).getType();if("IMAGE"===s||"VIDEO"===s||"VIDEOATTACHMENT"===s)return i}}}},{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.alignmentToolbarState,n=!!a,r=a&&{top:a.top,left:a.left},o=void 0,i=this.getEntityKey();return i&&a&&(o="linkInput"===a.mode?[b.default.createElement(I.ImageLinkInput,{editorKey:t,entityKey:i,key:"linkInput"})]:"altInput"===a.mode?[b.default.createElement(N.ImageAltInput,{editorKey:t,entityKey:i,key:"altInput"})]:[b.default.createElement(D,{editorKey:t,entityKey:i,key:"left"}),b.default.createElement(R,{editorKey:t,entityKey:i,key:"center"}),b.default.createElement(M,{editorKey:t,entityKey:i,key:"default"}),b.default.createElement(L,{editorKey:t,entityKey:i,key:"fullscreen"}),b.default.createElement(x,{editorKey:t,entityKey:i,key:"right"}),b.default.createElement(I.ImageLinkButton,{editorKey:t,entityKey:i,key:"link"}),b.default.createElement(N.ImageAltButton,{editorKey:t,entityKey:i,key:"alt"})]),b.default.createElement("div",{className:this.ss("alignment-toolbar",n&&"show"),style:r},o)}}]),t}(),f.propTypes={editorKey:E.default.string.isRequired,editorState:E.default.object,alignmentToolbarState:E.default.object,showAlignmentToolbar:E.default.func,hideAlignmentToolbar:E.default.func},d=p))||d)||d);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editorKey"],["editorKey"]),d=s(["draft.setEditorState"],["draft.setEditorState"]),f=s(["editor.contentMap"],["editor.contentMap"]);t.default=function(e,t){var a,n,s,k,S;return a=(0,_.decorator)({editorState:(0,g.state)(u,(0,g.props)(c)),setEditorState:(0,g.signal)(d),contentMap:(0,g.state)(f)}),n=(0,y.default)(b.default),a(s=n((S=k=function(a){function n(){var t,a,i,s;r(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=i=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),i.onClick=function(){var t=i.props,a=t.editorKey,n=t.editorState,r=t.entityKey,o=t.setEditorState,s=n.getCurrentContent(),l=(0,v.mergeAtomicEntityData)(s,r,{alignment:e});o({editorKey:a,editorState:v.EditorState.set(n,{currentContent:l})})},i.preventBubblingUp=function(e){e.preventDefault()},s=a,o(i,s)}return i(n,h.default),l(n,[{key:"render",value:function(){var a=this.props,n=a.entityKey,r=a.editorState,o=a.contentMap,i=r.getCurrentContent().getEntity(n).getData()||{},s=i.alignment,l=void 0===s?"default":s,u=i.contentId,c=l===e,d=((u&&o&&o[u]||{}).originalImage||{}).width;return d&&d<w&&-1===E.indexOf(e)?null:p.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},p.default.createElement("button",{type:"button",onClick:c?void 0:this.onClick,className:this.ss("toolbar-button",e,"ifont","ifont-"+t,c&&"active")}))}}]),n}(),k.displayName="AlignmentButton("+e+")",k.propTypes={editorKey:m.default.string.isRequired,editorState:m.default.object,contentMap:m.default.object,entityKey:m.default.string.isRequired,setEditorState:m.default.func},s=S))||s)||s};var p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(6),g=a(5),v=a(11),y=n(a(3)),b=n(a(115)),w=1e3,E=["left","default","right","center"]},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),k=s(["editor.showImageLinkInput"],["editor.showImageLinkInput"]),S=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),O=s(["editor.changeImageLinkInputValue"],["editor.changeImageLinkInputValue"]),T=s(["editor.hideImageLinkInput"],["editor.hideImageLinkInput"]),P=n(a(0)),j=n(a(2)),C=n(a(1)),I=a(6),N=a(5),M=a(11),D=n(a(418)),x=n(a(3)),R=n(a(115)),L=n(a(7)),A=n(a(423)),F=(l=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),setEditorState:(0,N.signal)(E),showImageLinkInput:(0,N.signal)(k)}),u=(0,x.default)(R.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.removeLinks=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.entityKey,i=t.setEditorState,s=r.getCurrentContent();if((s.getEntity(o).getData()||{}).url){var l=(0,M.mergeAtomicEntityData)(s,o,{url:""});i({editorKey:a,editorState:M.EditorState.push(r,l,"apply-entity")})}},n.showImageLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey;(0,t.showImageLinkInput)({editorKey:a})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,a=e.entityKey,n=t.getCurrentContent().getEntity(a);if("IMAGE"!==n.getType())return null;var r=!!(n.getData()||{}).url;return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:r?this.removeLinks:this.showImageLinkInput,className:this.ss("toolbar-button","link","ifont","ifont-icons_inline_link",r&&"active")}))}}]),t}(),d.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,entityKey:j.default.string.isRequired,setEditorState:j.default.func,showImageLinkInput:j.default.func},c=f))||c)||c),K=(p=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),alignmentToolbarState:(0,N.state)(S,(0,N.props)(w)),setEditorState:(0,N.signal)(E),changeImageLinkInputValue:(0,N.signal)(O),hideImageLinkInput:(0,N.signal)(T)}),m=(0,x.default)(R.default),h=(0,L.default)(A.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){e.preventDefault();var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeImageLinkInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"===e.key){e.preventDefault();var t=n.props,a=t.alignmentToolbarState,r=t.editorKey,o=t.editorState,i=t.entityKey,s=t.setEditorState,l=t.hideImageLinkInput,u=a.value,c=D.default.match(u),d=c&&c[0]?c[0].url:"";if(!d)return;l({editorKey:r}),n.inputRef.blur();var f=o.getCurrentContent(),p=(0,M.mergeAtomicEntityData)(f,i,{url:d});s({editorKey:r,editorState:M.EditorState.push(o,p,"apply-entity")})}else"Escape"===e.key&&n.hideImageLinkInput(e)},n.hideImageLinkInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideImageLinkInput)({editorKey:a}),n.inputRef.blur(),o({editorKey:a,editorState:M.EditorState.forceSelection(r,r.getSelection())})},n.preventBubblingUp=function(e){e.preventDefault()},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.alignmentToolbarState.value;return P.default.createElement("div",{className:this.ss("input-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("input",{type:"text",className:this.ss("link-input"),autoFocus:!0,value:t,placeholder:this.__("image_link_input_place_holder"),onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.inputRef=t}}),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideImageLinkInput}))}}]),t}(),g.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,entityKey:j.default.string.isRequired,alignmentToolbarState:j.default.object,setEditorState:j.default.func,changeImageLinkInputValue:j.default.func,hideImageLinkInput:j.default.func},_=v))||_)||_)||_);e.exports={ImageLinkButton:F,ImageLinkInput:K}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["draft.editorStates.",""],["draft.editorStates.",""]),w=s(["editorKey"],["editorKey"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),k=s(["editor.showImageAltInput"],["editor.showImageAltInput"]),S=s(["editor.alignmentToolbar.",""],["editor.alignmentToolbar.",""]),O=s(["editor.changeImageAltInputValue"],["editor.changeImageAltInputValue"]),T=s(["editor.hideImageAltInput"],["editor.hideImageAltInput"]),P=n(a(0)),j=n(a(2)),C=n(a(1)),I=a(6),N=a(5),M=n(a(4)),D=n(a(367)),x=a(11),R=a(12),L=n(a(3)),A=n(a(115)),F=n(a(7)),K=n(a(423)),q=(l=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),setEditorState:(0,N.signal)(E),showImageAltInput:(0,N.signal)(k)}),u=(0,L.default)(A.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.showImageAltInput=function(e){(0,R.pauseEvent)(e);var t=n.props,a=t.editorKey,r=t.showImageAltInput,o=n.props,i=o.editorState,s=o.entityKey,l=i.getCurrentContent().getEntity(s);r({editorKey:a,value:M.default.get(l.getData(),"altText","")})},n.preventBubblingUp=function(e){(0,R.pauseEvent)(e)},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,a=e.entityKey,n=t.getCurrentContent().getEntity(a);if("IMAGE"!==n.getType())return null;var r=!!(n.getData()||{}).altText;return P.default.createElement("div",{className:this.ss("toolbar-button-wrapper"),onMouseDown:this.preventBubblingUp},P.default.createElement("button",{type:"button",onClick:this.showImageAltInput,className:this.ss("toolbar-button","ifont","ifont-lrn_icon_art_track",r&&"active")}))}}]),t}(),d.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,entityKey:j.default.string.isRequired,setEditorState:j.default.func,showImageAltInput:j.default.func},c=f))||c)||c),z=(p=(0,I.decorator)({editorState:(0,N.state)(b,(0,N.props)(w)),alignmentToolbarState:(0,N.state)(S,(0,N.props)(w)),setEditorState:(0,N.signal)(E),changeImageAltInputValue:(0,N.signal)(O),hideImageAltInput:(0,N.signal)(T)}),m=(0,L.default)(A.default),h=(0,F.default)(K.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){(0,R.pauseEvent)(e);var t=e.currentTarget.value,a=n.props,r=a.editorKey;(0,a.changeImageAltInputValue)({editorKey:r,value:t})},n.onKeyDown=function(e){if("Enter"!==e.key||e.shiftKey)"Escape"===e.key&&n.hideImageAltInput(e);else{(0,R.pauseEvent)(e);var t=n.props,a=t.alignmentToolbarState,r=t.editorKey,o=t.editorState,i=t.entityKey,s=t.setEditorState,l=t.hideImageAltInput,u=a.value||"";l({editorKey:r}),n.textAreaRef.refs.input.blur();var c=o.getCurrentContent(),d=(0,x.mergeAtomicEntityData)(c,i,{altText:u});s({editorKey:r,editorState:x.EditorState.push(o,d,"apply-entity")})}},n.hideImageAltInput=function(e){e.preventDefault();var t=n.props,a=t.editorKey,r=t.editorState,o=t.setEditorState;(0,t.hideImageAltInput)({editorKey:a}),n.textAreaRef.refs.input.blur(),o({editorKey:a,editorState:x.EditorState.forceSelection(r,r.getSelection())})},i=a,o(n,i)}return i(t,C.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.alignmentToolbarState.value;return P.default.createElement("div",{className:this.ss("input-wrapper")},P.default.createElement("div",{className:this.ss("text-area")},P.default.createElement(D.default,{autoFocus:!0,placeholder:this.__("image_alt_input_place_holder"),value:t,onChange:this.onChange,onKeyDown:this.onKeyDown,ref:function(t){e.textAreaRef=t}})),P.default.createElement("button",{type:"button",className:this.ss("close-button","ifont","ifont-icon-close2"),onClick:this.hideImageAltInput}))}}]),t}(),g.propTypes={editorKey:j.default.string.isRequired,editorState:j.default.object,entityKey:j.default.string.isRequired,alignmentToolbarState:j.default.object,setEditorState:j.default.func,changeImageAltInputValue:j.default.func,hideImageAltInput:j.default.func},_=v))||_)||_)||_);e.exports={ImageAltButton:q,ImageAltInput:z}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=s(["draft.editorStates.",""],["draft.editorStates.",""]),c=s(["editor.dragOverBlockKey"],["editor.dragOverBlockKey"]),d=s(["editor.dragStartBlockKey"],["editor.dragStartBlockKey"]),f=s(["editor.dragStartBlockAfterKey"],["editor.dragStartBlockAfterKey"]),p=s(["editor.setDragOverBlockKey"],["editor.setDragOverBlockKey"]),m=s(["editor.setDragStartBlockKey"],["editor.setDragStartBlockKey"]);t.default=function(e){var t,a,n,s=e.editorKey,E=e.renderOnly;return(0,y.decorator)({editorState:(0,b.state)(u,s),dragOverBlockKey:(0,b.state)(c),dragStartBlockKey:(0,b.state)(d),dragStartBlockAfterKey:(0,b.state)(f),setDragOverBlockKey:(0,b.signal)(p),setDragStartBlockKey:(0,b.signal)(m)})((n=a=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.onDragEnter=function(){n.counter++},n.onDragLeave=function(){if(n.counter--,0===n.counter){var e=n.props,t=e.dragOverBlockKey,a=e.setDragOverBlockKey;t&&a()}},n.onDragOver=function(e){e.preventDefault();var t=void 0;_.default.findDOMNode(n).querySelectorAll('[data-editor="'+s+'"][data-block="true"]').forEach(function(a){t||a.getBoundingClientRect().bottom>e.clientY&&(t=a)});var a=n.props,r=a.dragOverBlockKey,o=a.setDragOverBlockKey,i=a.dragStartBlockKey,l=a.dragStartBlockAfterKey,u=t&&t.getAttribute("data-offset-key"),c=(u&&w.DraftOffsetKey.decode(u)||{}).blockKey,d=void 0===c?"":c;if(d!==r){var f=n.props.editorState.getCurrentContent(),p=["GAMEGALLERY","SHOWCASEGALLERY","WEBGLGALLERY"],m=f.getBlockForKey(d);if(m&&"atomic"===m.getType()){var h=m.getEntityAt(0),g=f.getEntity(h).getType();if(-1!==p.indexOf(g))return void o()}o({blockKey:d,internalDrag:n.internalDrag})}!n.internalDrag||i&&d!==i&&d!==l||(e.dataTransfer.dropEffect="none")},n.onDrop=function(){var e=n.props,t=e.dragOverBlockKey,a=e.setDragOverBlockKey;t&&a(),n.counter=0},n.onDragStart=function(){n.internalDrag=!0},n.onDragEnd=function(){n.internalDrag=!1,(0,n.props.setDragStartBlockKey)()},n.counter=0,n.internalDrag=!1,n}return i(t,v.default),l(t,[{key:"render",value:function(){var e=this.props.children;return h.default.createElement("div",{onDragEnter:E?void 0:this.onDragEnter,onDragLeave:E?void 0:this.onDragLeave,onDragOver:E?void 0:this.onDragOver,onDrop:E?void 0:this.onDrop,onDragStart:E?void 0:this.onDragStart,onDragEnd:E?void 0:this.onDragEnd,style:{paddingTop:"1px",paddingBottom:"1px"}},e)}}]),t}(),a.propTypes={editorState:g.default.object,dragOverBlockKey:g.default.string,dragStartBlockKey:g.default.string,dragStartBlockAfterKey:g.default.string,setDragOverBlockKey:g.default.func,setDragStartBlockKey:g.default.func,children:g.default.any},t=n))||t};var h=n(a(0)),_=n(a(20)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=s(["draft.editorStates.",""],["draft.editorStates.",""]),d=s(["editor.setDragStartBlockKey"],["editor.setDragStartBlockKey"]);t.default=function(e){var t=e.editorKey,a=e.renderOnly;return function(e){var n,s,v;return(0,h.decorator)({editorState:(0,_.state)(c,t),setDragStartBlockKey:(0,_.signal)(d)})((v=s=function(t){function n(){var e,t,a,i;r(this,n);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return t=a=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),a.onDragStart=function(e){var t=a.props,n=t.offsetKey,r=t.editorState,o=g.DraftOffsetKey.decode(n).blockKey;e.dataTransfer.dropEffect="move",e.dataTransfer.setData("CONNECT_BLOCK_DRAG",1);var i=r.getCurrentContent().getKeyAfter(o);(0,a.props.setDragStartBlockKey)({blockKey:o,blockAfterKey:i})},i=t,o(a,i)}return i(n,m.default),u(n,[{key:"render",value:function(){return f.default.createElement(e,l({},this.props,{onDragStart:a?void 0:this.onDragStart}))}}]),n}(),s.propTypes={offsetKey:p.default.string,editorState:p.default.object,setDragStartBlockKey:p.default.func},n=v))||n}};var f=n(a(0)),p=n(a(2)),m=n(a(1)),h=a(6),_=a(5),g=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["editor.uploadVideo.parentEditorKey"],["editor.uploadVideo.parentEditorKey"]),k=l(["draft.editorStates.",""],["draft.editorStates.",""]),S=l(["editorKey"],["editorKey"]),O=l(["editor.uploadVideo.open"],["editor.uploadVideo.open"]),T=l(["editor.uploadVideo.url"],["editor.uploadVideo.url"]),P=l(["editor.uploadVideo.uploadingId"],["editor.uploadVideo.uploadingId"]),j=l(["editor.uploadVideo.pendingUploadIds"],["editor.uploadVideo.pendingUploadIds"]),C=l(["upload.uploads"],["upload.uploads"]),I=l(["editor.addEmbedAuto"],["editor.addEmbedAuto"]),N=l(["editor.changeVideoUrl"],["editor.changeVideoUrl"]),M=l(["editor.addPreviewEmbed"],["editor.addPreviewEmbed"]),D=l(["editor.closeUploadVideo"],["editor.closeUploadVideo"]),x=l(["draft.setEditorState"],["draft.setEditorState"]),R=l(["upload.uploads.",""],["upload.uploads.",""]),L=l(["uploadId"],["uploadId"]),A=l(["editor.contentMap"],["editor.contentMap"]),F=l(["editor.deletePreviewEmbed"],["editor.deletePreviewEmbed"]),K=n(a(2)),q=n(a(0)),z=n(a(1)),B=a(6),U=a(5),H=n(a(81)),V=n(a(57)),G=n(a(283)),W=n(a(15)),Q=n(a(30)),J=a(12),Y=a(17),X=n(a(3)),Z=n(a(586)),$=n(a(7)),ee=n(a(587)),te=a(588),ae=(u=(0,B.decorator)({parentEditorKey:(0,U.state)(E),editorState:(0,U.state)(k,(0,U.props)(S)),open:(0,U.state)(O),url:(0,U.state)(T),uploadingId:(0,U.state)(P),uploadIds:(0,U.state)(j),uploads:(0,U.state)(C),addEmbedAuto:(0,U.signal)(I),changeVideoUrl:(0,U.signal)(N),addPreviewEmbed:(0,U.signal)(M),closeUploadVideo:(0,U.signal)(D),setEditorState:(0,U.signal)(x)}),c=(0,X.default)(Z.default),d=(0,$.default)(ee.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onPaste=function(e){e&&(0,J.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.props.addEmbedAuto({url:t})},n.onKeyDown=function(e){switch(e.keyCode){case 13:n.props.addEmbedAuto({url:e.target.value})}},n.onChange=function(e,t){n.props.changeVideoUrl({value:t})},n.onClose=function(){n.props.closeUploadVideo()},n.onOK=function(){if(n.isActive()){var e=n.props.onOK;if(e){var t=n.props;e({editorKey:t.editorKey,editorState:t.editorState,uploadIds:t.uploadIds,uploads:t.uploads,setEditorState:t.setEditorState})}n.onClose()}},r=a,i(n,r)}return s(t,z.default),w(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"checkUpload",value:function(){var e=this.props,t=e.uploads,a=e.uploadingId,n=e.addPreviewEmbed,r=a&&t[a];(0,Y.isSucceeded)(r&&r.status)&&n()}},{key:"renderLoading",value:function(){return q.default.createElement("div",{className:this.ss("loading-wrap")},q.default.createElement("div",{className:this.ss("loading")}))}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.url,n=e.uploadingId,o=e.uploads,i=e.uploadIds,s=void 0===i?[]:i,l=o[n],u=(0,Y.isLoading)(l&&l.status);return q.default.createElement(H.default,{open:this.isActive()&&t,noScroller:!0,position:"center",onCloseModal:this.onClose},q.default.createElement("div",{className:this.ss("content")},q.default.createElement("div",{className:this.ss("head")},q.default.createElement("div",{className:this.ss("title")},this.__("title_add_embed")),q.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},q.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),q.default.createElement("div",{className:this.ss("input-wrap")},q.default.createElement("div",{className:this.ss("input")},q.default.createElement(G.default,{ref:"input",placeholder:this.__("input_placeholder"),value:a,autoFocus:!0,disabled:u,onKeyDown:this.onKeyDown,onChange:this.onChange,onPaste:this.onPaste}),u&&this.renderLoading()),q.default.createElement("div",{className:this.ss("supported-hint")},this.__("supported_hint"))),q.default.createElement(Q.default,null,q.default.createElement("div",{className:this.ss("embed-wrap")},q.default.createElement("div",{className:this.ss("title")},this.__("total_embeds",{n:s.length})),q.default.createElement("div",{className:this.ss("embed-previews")},[].concat(r(s||[])).reverse().map(function(e,t){return q.default.createElement(ne,{key:"item-"+e+"-"+t,uploadId:e})})))),q.default.createElement("div",{className:this.ss("foot")},q.default.createElement("div",{className:this.ss("button")},q.default.createElement(V.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),q.default.createElement("div",{className:this.ss("button")},q.default.createElement(V.default,{theme:"blue",size:"xlarge",widthType:"full",disabled:u||0===s.length,label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),p.propTypes={parentEditorKey:K.default.string,editorKey:K.default.string,editorState:K.default.object,open:K.default.bool,url:K.default.string,uploadingId:K.default.string,uploadIds:K.default.array,uploads:K.default.object,addEmbedAuto:K.default.func,changeVideoUrl:K.default.func,addPreviewEmbed:K.default.func,closeUploadVideo:K.default.func,setEditorState:K.default.func,onOK:K.default.func},f=m))||f)||f)||f);t.default=ae;var ne=(h=(0,B.decorator)({upload:(0,U.state)(R,(0,U.props)(L)),contentMap:(0,U.state)(A),deletePreviewEmbed:(0,U.signal)(F)}),_=(0,X.default)(Z.default),g=(0,$.default)(ee.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onDeleteEmbed=function(){var e=n.props,t=e.uploadId,a=e.deletePreviewEmbed;a&&a({uploadId:t})},r=a,i(n,r)}return s(t,z.default),w(t,[{key:"render",value:function(){var e=this.props,t=e.upload,a=e.contentMap;if(!t)return null;var n="",r="",o=0,i="";if((0,Y.isSucceeded)(t.status)){var s=a&&a[t.contentId],l=s||{},u=l.oembed,c=l.thumbnail;if(u){var d=(c||{}).url;i=u.title,n=u.provider_name,r=d||(0,J.securedURL)(u.thumbnail_url),o=u.thumbnail_width}else if(s&&"img"===s.type){var f=s||{},p=f.externalType,m=f.package,h=f.originalImage;i=m&&m.name,n=this.__(p),r=h&&h.url,o=h&&h.width}else s&&"webgl"===s.type&&(i=t.url,r=te,o=400)}return q.default.createElement("div",{className:this.ss("item")},q.default.createElement("div",{className:this.ss("item-thumbnail")},q.default.createElement(W.default,{src:r,sizes:o+"px"})),q.default.createElement("div",{className:this.ss("item-content")},q.default.createElement("div",{className:this.ss("item-info")},q.default.createElement("div",{className:this.ss("item-title")},i),q.default.createElement("div",{className:this.ss("item-provider")},n&&this.__("from_provider",{providerName:n}))),q.default.createElement("div",{className:this.ss("item-delete")},q.default.createElement("a",{className:this.ss("delete"),onClick:this.onDeleteEmbed},this.__("button_delete")))))}}]),t}(),y.propTypes={uploadId:K.default.string.isRequired,upload:K.default.object,contentMap:K.default.object,deletePreviewEmbed:K.default.func},v=b))||v)||v)||v)},function(e,t){e.exports={content:"content_1ArJEd7k",head:"head_2h78BSdG","button-close":"button-close_2n2mU1D6","input-wrap":"input-wrap_3Q97Co9n",input:"input_ocBLYm2e","supported-hint":"supported-hint_3XBVPBjk","embed-wrap":"embed-wrap_1OGVUttF",title:"title_1BI_RlXc","embed-previews":"embed-previews_1DcMKrWD",item:"item_3A6LZG8N","item-thumbnail":"item-thumbnail_DPGCU-JN","item-content":"item-content_rZyF0cVm","item-info":"item-info_2DyZ3TX4","item-title":"item-title_q4YEdjMn","item-provider":"item-provider_1dKyejvR","item-delete":"item-delete_1ToeGmft",delete:"delete_2B4Ix95i",foot:"foot_2MUHJxKc",button:"button_tgAYfzov","loading-wrap":"loading-wrap_2Za1BSVF",loading:"loading_3yMF__wW"}},function(e,t){e.exports={title_add_embed:"title_add_embed_14Bi",input_placeholder:"input_placeholder_1ZxR",supported_hint:"supported_hint_3G22",total_embeds:"total_embeds_2ENq",from_provider:"from_provider_1vmN",asset_store:"asset_store_3YLw",button_delete:"button_delete_2KCC",button_cancel:"button_cancel_37gi",button_ok:"button_ok_22cW"}},function(e,t,a){e.exports=a.p+"../styles/i/default-webgl.113f9bc6f0c4d4ce118450d77b3b180d.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["countryByIp"],["countryByIp"]),_=s(["header.setting.windowWidth"],["header.setting.windowWidth"]),g=s(["editor.contentMap"],["editor.contentMap"]),v=s(["draft.editorStates.",""],["draft.editorStates.",""]),y=s(["editorKey"],["editorKey"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),k=a(6),S=a(5),O=n(a(105)),T=n(a(15)),P=n(a(116)),j=n(a(117)),C=a(210),I=a(12),N=n(a(77)),M=n(a(3)),D=n(a(590)),x=n(a(7)),R=n(a(591)),L=(l=(0,k.decorator)({countryByIp:(0,S.state)(h),windowWidth:(0,S.state)(_),contentMap:(0,S.state)(g),editorState:(0,S.state)(v,(0,S.props)(y))}),u=(0,M.default)(D.default),c=(0,x.default)(R.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),m(t,[{key:"onThumbClick",value:function(e){(0,N.default)(e)}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return b.default.createElement(O.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("video_caption_placeholder")})}},{key:"renderEmbed",value:function(e,t){var a=this.props,n=a.isFocused,r=a.focus,o=a.onDragStart,i=a.renderOnly;return b.default.createElement("div",{className:this.ss("video-wrap",n&&"focus")},b.default.createElement("div",{style:{paddingBottom:e+"%"}}),!i&&b.default.createElement("div",{className:this.ss("mark-wrap"),onClick:r,draggable:!!o,onDragStart:o}),b.default.createElement("div",{className:this.ss("iframe-wrap")},b.default.createElement(j.default,{html:t})))}},{key:"renderAssetStore",value:function(e){if(!e)return null;var t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.renderOnly,i=t.windowWidth,s=e.originalImage,l=s.url,u=s.width,c=s.height,d=s.gif,f=u<(i?Math.min(i,772):772)?{width:u,height:c,margin:"0 auto",display:"block"}:{};return b.default.createElement("div",{className:this.ss("image-wrap")},b.default.createElement("div",{className:this.ss("image",a&&"focus"),style:f,onClick:n,draggable:!!r,onDragStart:r},b.default.createElement(T.default,{src:l,sizes:"100vw",width:u,height:c,gif:!!d}),b.default.createElement(P.default,{contentId:e.id,renderOnly:o})))}},{key:"renderEmbedThumbnail",value:function(e){var t=this;if(!e)return null;var a=this.props,n=a.isFocused,r=a.focus,o=a.onDragStart,i=a.renderOnly,s=a.windowWidth,l=e.thumbnail,u=l.url,c=l.width,d=l.height,f=c<(s?Math.min(s,772):772)?{width:c,height:d,margin:"0 auto",display:"block"}:{};return b.default.createElement("div",{className:this.ss("image-wrap","content")},b.default.createElement("div",{className:this.ss("image",n&&"focus"),style:f,onClick:i?function(){return t.onThumbClick(e.url)}:r,draggable:!!o,onDragStart:o},b.default.createElement(T.default,{src:u,sizes:"100vw",width:c,height:d}),b.default.createElement("div",{className:this.ss("video-icon-wrap")},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-play")}))))}},{key:"render",value:function(){var e=this.props,t=e.countryByIp,a=e.editorState,n=e.entityKey,r=e.contentMap,o=e.renderOnly,i=r[a.getCurrentContent().getEntity(n).getData().contentId],s=void 0;if(i.oembed)if("CN"!==t||!i.oembed||"YouTube"!==i.oembed.provider_name&&"Vimeo"!==i.oembed.provider_name){var l=i.oembed,u=l.html,c=l.height,d=l.width,f=d?Math.round(100*c/d):1;s=this.renderEmbed(f,(0,C.normalizeHtml)({html:u}))}else s=this.renderEmbedThumbnail(i);else if(i&&"webgl"===i.type){var p='<iframe width="100%" height="100%" src="'+(0,I.securedURL)(i.url)+'" scrolling="yes" frameborder="0" allowfullscreen="allowfullscreen"></iframe>';s=this.renderEmbed(66,p)}else i&&"img"===i.type&&(s=this.renderAssetStore(i));return b.default.createElement("div",{className:this.ss("video-container",o&&"render-only")},s,this.renderCaption(i))}}]),t}(),f.propTypes={windowWidth:w.default.number,isFocused:w.default.bool,entityKey:w.default.string,renderOnly:w.default.bool,offsetKey:w.default.string,contentMap:w.default.object,editorKey:w.default.string.isRequired,editorState:w.default.object,countryByIp:w.default.string,focus:w.default.func,onDragStart:w.default.func},d=p))||d)||d)||d);t.default=L},function(e,t){e.exports={"video-container":"video-container_ohsTlwLo","render-only":"render-only_6nvdGtmD","video-wrap":"video-wrap_wXIRyGnJ",focus:"focus_2YYxK5BO","mark-wrap":"mark-wrap_1Nsof1iz","iframe-wrap":"iframe-wrap_1xparr8z","video-icon-wrap":"video-icon-wrap_-2_AoDI3",icon:"icon_sGKNXvPZ","image-wrap":"image-wrap_2VjJrTL8",image:"image_2tYDj_Dl"}},function(e,t){e.exports={video_caption_placeholder:"video_caption_placeholder_3G-1"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["header.setting.windowWidth"],["header.setting.windowWidth"]),v=l(["editor.contentMap"],["editor.contentMap"]),y=l(["upload.uploads"],["upload.uploads"]),b=l(["draft.editorStates.",""],["draft.editorStates.",""]),w=l(["editorKey"],["editorKey"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),k=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),S=l(["upload.retryUploadAttachment"],["upload.retryUploadAttachment"]),O=l(["editor.addContent"],["editor.addContent"]),T=n(a(0)),P=n(a(2)),j=n(a(1)),C=a(6),I=a(5),N=a(17),M=a(11),D=n(a(15)),x=n(a(593)),R=n(a(23)),L=n(a(3)),A=n(a(595)),F=n(a(7)),K=n(a(596)),q=(u=(0,C.decorator)({windowWidth:(0,I.state)(g),contentMap:(0,I.state)(v),uploads:(0,I.state)(y),editorState:(0,I.state)(b,(0,I.props)(w)),setEditorState:(0,I.signal)(E),setEditorEditable:(0,I.signal)(k),retryUploadAttachment:(0,I.signal)(S),addContent:(0,I.signal)(O)}),c=(0,L.default)(A.default),d=(0,F.default)(K.default),u(f=c(f=d((m=p=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"onImageClick",value:function(e){var t=this.props,a=t.renderOnly,n=t.focus;a||n(e)}},{key:"checkUpload",value:function(){if(!this.props.renderOnly){var e=this.props,t=e.entityKey,a=e.uploads,n=e.editorKey,o=e.editorState,i=e.setEditorState,s=e.addContent,l=o.getCurrentContent(),u=l.getEntity(t).getData(),c=u.uploadId,d=u.contentId,f=r(u,["uploadId","contentId"]),p=c&&a[c];if(p&&p.contentId&&!d){var m=(0,M.mergeAtomicEntityData)(l,t,h({},f,{contentId:p.contentId}));i({editorKey:n,editorState:M.EditorState.set(o,{currentContent:m})}),s({content:p.content}),this.__placeholderSrc=p.dataUrl}}}},{key:"retry",value:function(e,t){e.preventDefault(),(0,this.props.retryUploadAttachment)(t)}},{key:"renderLoading",value:function(e){var t=e.loaded,a=void 0===t?0:t,n=e.total,r=100*a/(void 0===n?1:n);return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading")),T.default.createElement("div",{className:this.ss("loading-bar")},T.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderFailed",value:function(e){var t=this;return T.default.createElement("div",{className:this.ss("loading-wrap")},T.default.createElement("div",{className:this.ss("loading-text")},this.__("image_uploading_failed")),T.default.createElement("button",{className:this.ss("loading-button"),onClick:function(a){return t.retry(a,e)}},T.default.createElement("span",{className:this.ss("content")},T.default.createElement("span",{className:this.ss("ifont","ifont-icons_refresh","retry")}),T.default.createElement("span",{className:this.ss("text")},this.__("image_uploading_retry")))))}},{key:"renderCaption",value:function(){var e=this.props,t=e.isFocused,a=e.offsetKey,n=e.editorKey,r=e.entityKey,o=e.renderOnly;return T.default.createElement(x.default,{parentEditorKey:n,parentIsFocused:t,parentOffsetKey:a,editorKey:n+":"+a,entityKey:r,renderOnly:o,placeholder:this.__("image_caption_placeholder")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.isFocused,n=t.focus,r=t.onDragStart,o=t.editorState,i=t.entityKey,s=t.uploads,l=t.contentMap,u=t.renderOnly,c=t.windowWidth,d=o.getCurrentContent().getEntity(i).getData(),f=d.uploadId,p=d.contentId,m=d.url,h=void 0===m?"":m,_=d.altText,g=void 0===_?"":_,v=p&&l[p],y=s[f],b=c?Math.min(c,600):600,w=void 0;if(v){var E=this.__placeholderSrc,k=v.originalImage,S=k.url,O=k.width,P=k.height,j=k.gif,C=O<b?{width:O,height:P,margin:"0 auto",display:"block"}:{};w=T.default.createElement("div",{className:this.ss("image-wrap","content")},T.default.createElement("div",{className:this.ss("image",a&&"focus"),style:C,onClick:function(t){return e.onImageClick(t,p,h)},draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:S,alt:g,sizes:"100vw",placeholderSrc:E,width:O,height:P,gif:!!j})))}else if(y){var I=y.dataUrl,M=y.width,x=y.height,L=M<b?{width:M,height:x,margin:"0 auto",display:"block"}:{};w=T.default.createElement("div",{className:this.ss("image-wrap","upload",a&&"focus")},T.default.createElement("div",{className:this.ss("image"),style:L,onClick:n,draggable:!!r,onDragStart:r},T.default.createElement(D.default,{src:I,sizes:"100vw",width:M,height:x})),(0,N.isLoading)(y.status)&&this.renderLoading(y),(0,N.isFailed)(y.status)&&this.renderFailed(y))}return T.default.createElement("div",{className:this.ss("image-wrapper",u&&"render-only")},T.default.createElement(R.default,{text:h,position:"bottom",clickToHide:!1},w),this.renderCaption(v))}}]),t}(),p.propTypes={windowWidth:P.default.number,isFocused:P.default.bool,entityKey:P.default.string,renderOnly:P.default.bool,offsetKey:P.default.string,uploads:P.default.object,contentMap:P.default.object,editorKey:P.default.string.isRequired,editorState:P.default.object,focus:P.default.func,onDragStart:P.default.func,setEditorState:P.default.func,setEditorEditable:P.default.func,retryUploadAttachment:P.default.func,addContent:P.default.func},f=m))||f)||f)||f);t.default=q},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=l(["draft.editorStates.",""],["draft.editorStates.",""]),g=l(["parentEditorKey"],["parentEditorKey"]),v=l(["editorKey"],["editorKey"]),y=l(["draft.editorEditable.",""],["draft.editorEditable.",""]),b=l(["draft.editorDirty.",""],["draft.editorDirty.",""]),w=l(["editor.contentMap"],["editor.contentMap"]),E=l(["draft.setEditorState"],["draft.setEditorState"]),k=l(["draft.setEditorEditable"],["draft.setEditorEditable"]),S=l(["draft.setEditorDirty"],["draft.setEditorDirty"]),O=n(a(0)),T=n(a(2)),P=n(a(1)),j=a(6),C=a(5),I=a(11),N=n(a(3)),M=n(a(594)),D=(u=(0,j.decorator)({parentEditorState:(0,C.state)(_,(0,C.props)(g)),editorState:(0,C.state)(_,(0,C.props)(v)),editable:(0,C.state)(y,(0,C.props)(v)),dirty:(0,C.state)(b,(0,C.props)(v)),contentMap:(0,C.state)(w),setEditorState:(0,C.signal)(E),setEditorEditable:(0,C.signal)(k),setEditorDirty:(0,C.signal)(S)}),c=(0,N.default)(M.default),u(d=c((p=f=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onEscape=function(){n.syncToEditor(!0)},n.onBlur=function(){n.syncToEntity()},n.onDownArrow=function(e){e.shiftKey||(0,I.isFocusAtLastLine)()&&(n.moveToNextBlock(),e.preventDefault())},n.onUpArrow=function(e){e.shiftKey||(0,I.isFocusAtFirstLine)()&&(n.moveToPrevBlock(),e.preventDefault())},n.keyBindingFn=function(e){if(!e.shiftKey){if(37===e.keyCode){var t=n.props.editorState;if((0,I.isSelectionAtBlockStart)(t))return n.moveToPrevBlock(),""}if(39===e.keyCode){var a=n.props.editorState;if((0,I.isSelectionAtBlockEnd)(a))return n.moveToNextBlock(),""}}},n.handleReturn=function(){var e=n.syncToEntity();return n.moveToNextBlock(e),"handled"},r=a,i(n,r)}return s(t,P.default),h(t,[{key:"componentWillMount",value:function(){var e=this.getEntityTitle();this.defaultEditorState=(0,I.createEditorStateWithText)(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getEntityTitle(e);t!==this.getEntityTitle()&&(this.defaultEditorState=(0,I.createEditorStateWithText)(t));var a=e.editable;this.props.editable&&!a&&this.syncToEntity(e);var n=e.dirty,r=e.editorKey,o=e.setEditorDirty;if(!n){var i=e.editorState,s=this.props.editorState;if(s&&i){var l=i.getCurrentContent();s.getCurrentContent()!==l&&o({editorKey:r})}}}},{key:"getEntityData",value:function(e){var t=e||this.props,a=t.entityKey;return t.parentEditorState.getCurrentContent().getEntity(a).getData()}},{key:"getEntityTitle",value:function(e){var t=void 0;switch((e=e||this.props).type){case"single":t=this.getEntityData(e).title;break;case"gallery":if("itemPos"in e){var a=e.itemPos,n=this.getEntityData(e).contents,r=void 0===n?[]:n;t=r[a]&&r[a].title}}return t||""}},{key:"mergeEntityTitle",value:function(e,t,a){var n=void 0;switch(this.props.type){case"single":n=(0,I.mergeAtomicEntityData)(e,t,{title:a});break;case"gallery":if("itemPos"in this.props){var o=this.props.itemPos,i=this.getEntityData().contents,s=void 0===i?[]:i,l=s[o]||{},u=[].concat(r(s));u.splice(o,1,m({},l,{title:a})),n=(0,I.mergeAtomicEntityData)(e,t,{contents:u})}}return n||e}},{key:"syncToEntity",value:function(e){var t=e||this.props,a=t.dirty,n=t.parentEditorKey,r=t.parentEditorState,o=t.entityKey,i=t.editorKey,s=t.editorState,l=t.setEditorDirty,u=t.setEditorState;if(a){var c=s.getCurrentContent().getPlainText(),d=r.getCurrentContent();d=this.mergeEntityTitle(d,o,c);var f=I.EditorState.push(r,d,"apply-entity");return u({editorKey:n,editorState:f}),l({editorKey:i,dirty:!1}),f}return null}},{key:"syncToEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getEntityTitle(),a=this.props,n=a.dirty,r=a.editorState,o=a.editorKey,i=a.setEditorState,s=a.setEditorDirty;n&&!e||((r&&r.getCurrentContent().getPlainText()||"")!==t&&i({editorKey:o,editorState:(0,I.createEditorStateWithText)(t)}),n&&s({editorKey:o,dirty:!1}))}},{key:"moveToNextBlock",value:function(e){var t=this.props,a=t.parentEditorKey,n=t.parentEditorState,r=t.parentOffsetKey,o=t.setEditorEditable,i=t.setEditorState,s=(e=e||n).getCurrentContent(),l=I.DraftOffsetKey.decode(r).blockKey,u=s.getKeyAfter(l);if(u){o({editorKey:a});var c=new I.SelectionState({anchorKey:u,anchorOffset:0,focusKey:u,focusOffset:0});i({editorKey:a,editorState:I.EditorState.forceSelection(I.EditorState.set(e,{currentContent:s.merge({selectionAfter:c})}),c)})}}},{key:"moveToPrevBlock",value:function(){var e=this.props,t=e.parentEditorKey,a=e.parentEditorState,n=e.parentOffsetKey,r=e.setEditorEditable,o=e.setEditorState,i=a.getCurrentContent(),s=I.DraftOffsetKey.decode(n).blockKey,l=i.getBlockBefore(s);if(l){r({editorKey:t});var u=new I.SelectionState({anchorKey:l.getKey(),anchorOffset:"atomic"===l.getType()?0:l.getLength(),focusKey:l.getKey(),focusOffset:"atomic"===l.getType()?0:l.getLength()});o({editorKey:t,editorState:I.EditorState.forceSelection(I.EditorState.set(a,{currentContent:i.merge({selectionAfter:u})}),u)})}}},{key:"handlePastedText",value:function(e){return e.startsWith("CONNECT_ATOMIC_ENTITY:")?"handled":"not-handled"}},{key:"render",value:function(){var e=this.props,t=e.parentIsFocused,a=e.parentOffsetKey,n=e.editorKey,r=e.editorState,o=e.editable,i=e.dirty,s=e.placeholder,l=e.renderOnly,u=!(i&&r.getCurrentContent().getPlainText()||this.getEntityTitle()||"")&&!t&&!o;return O.default.createElement("div",{className:this.ss("caption",u&&"hide")},O.default.createElement(I.Editor,{offsetKey:a,editorKey:n,defaultEditorState:this.defaultEditorState,renderOnly:l,textAlignment:"center",placeholder:s,keyBindingFn:l?void 0:this.keyBindingFn,onDownArrow:l?void 0:this.onDownArrow,onUpArrow:l?void 0:this.onUpArrow,handleReturn:l?void 0:this.handleReturn,onEscape:l?void 0:this.onEscape,onBlur:l?void 0:this.onBlur,handlePastedText:l?void 0:this.handlePastedText}))}}]),t}(),f.propTypes={parentEditorKey:T.default.string.isRequired,parentEditorState:T.default.object,parentIsFocused:T.default.bool,parentOffsetKey:T.default.string.isRequired,editorKey:T.default.string.isRequired,editorState:T.default.object,editable:T.default.bool,dirty:T.default.bool,entityKey:T.default.string,renderOnly:T.default.bool,placeholder:T.default.any,setEditorState:T.default.func,setEditorEditable:T.default.func,setEditorDirty:T.default.func,itemPos:T.default.number,type:T.default.oneOf(["single","gallery"])},f.defaultProps={type:"single"},d=p))||d)||d);t.default=D},function(e,t){e.exports={caption:"caption_1rcTkjOX",hide:"hide_BbjFJf0p"}},function(e,t){e.exports={"image-wrapper":"image-wrapper_1BwyB1AH","image-wrap":"image-wrap_qRKH_iYn",upload:"upload_37skdY5x",focus:"focus_2iLng6KN",content:"content_2_SydHMx",image:"image_2TOsxhor",caption:"caption_aoITWG4j","render-only":"render-only_3gdv1yrA","loading-wrap":"loading-wrap_3fJ-F9Hw","loading-text":"loading-text_1aeOrUtd","loading-bar":"loading-bar_1CNt3YWt",loading:"loading_1_GTxsYT","loading-button":"loading-button_doxL_ZyD",retry:"retry_3XsDIpsj",text:"text_Qfh4vthj"}},function(e,t){e.exports={image_uploading:"image_uploading_1KTu",image_uploading_failed:"image_uploading_failed_IfO0",image_uploading_retry:"image_uploading_retry_1A53",image_caption_placeholder:"image_caption_placeholder_37tm"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=s(["draft.editorStates.",""],["draft.editorStates.",""]),d=s(["draft.editorEditable.",""],["draft.editorEditable.",""]),f=s(["draft.setEditorState"],["draft.setEditorState"]);t.default=function(e){var t=e.editorKey,a=e.renderOnly;return function(e){var n,s,w;return(0,g.decorator)({editorState:(0,v.state)(c,t),editable:(0,v.state)(d,t),setEditorState:(0,v.signal)(f)})((w=s=function(n){function s(){var e,a,n,i;r(this,s);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(u))),n.onCopy=function(e){if(n.props.editorKey===(0,b.findEditorKey)(e.target)){e.preventDefault();var t=n.props,a=t.offsetKey,r=t.editorState,o=b.DraftOffsetKey.decode(a).blockKey,i=r.getCurrentContent(),s=i.getBlockForKey(o).getEntityAt(0),l=i.getEntity(s),u={type:l.getType(),data:l.getData()};e.clipboardData.setData("text","CONNECT_ATOMIC_ENTITY:"+JSON.stringify(u))}},n.onCut=function(e){if(n.props.editorKey===(0,b.findEditorKey)(e.target)){n.onCopy(e);var a=n.props,r=a.offsetKey,o=a.editorState,i=a.setEditorState,s=b.DraftOffsetKey.decode(r).blockKey,l=new b.ContentBlock({key:s}),u=o.getCurrentContent(),c=u.getBlockMap().set(s,l),d=u.merge({blockMap:c,selectionAfter:new b.SelectionState({anchorKey:s,anchorOffset:0,focusKey:s,focusOffset:0,hasFocus:!0})});i({editorKey:t,editorState:b.EditorState.push(o,d,"remove-range")})}},n.onFocus=function(e){e.stopPropagation()},n.onBlur=function(e){e.stopPropagation()},n.onSelect=function(e){e.stopPropagation()},n.focus=function(){var e=n.props,a=e.offsetKey,r=e.editorState,o=e.setEditorState,i=b.DraftOffsetKey.decode(a).blockKey;o({editorKey:t,editorState:b.EditorState.forceSelection(r,new b.SelectionState({anchorKey:i,anchorOffset:0,focusKey:i,focusOffset:0}))})},i=a,o(n,i)}return i(s,_.default),u(s,[{key:"componentDidMount",value:function(){this.setSelection()}},{key:"componentDidUpdate",value:function(){this.setSelection()}},{key:"setSelection",value:function(){if(!a){var e=this.props,t=e.offsetKey,n=e.editorState,r=e.editable,o=b.DraftOffsetKey.decode(t).blockKey,i=n.getSelection();if(r&&i.getHasFocus()&&i.hasEdgeWithin(o,0,1)){var s=m.default.findDOMNode(this);(0,b.setDraftEditorSelection)(i,s,o,0,1)}}}},{key:"isFocused",value:function(){var e=this.props,t=e.offsetKey,a=e.editorState,n=b.DraftOffsetKey.decode(t).blockKey,r=a.getSelection();return r.getHasFocus()&&r.hasEdgeWithin(n,0,1)}},{key:"render",value:function(){var t=!a&&this.isFocused();return p.default.createElement("div",{onCopy:a?void 0:this.onCopy,onCut:a?void 0:this.onCut,onFocus:a?void 0:this.onFocus,onBlur:a?void 0:this.onBlur,onSelect:a?void 0:this.onSelect},p.default.createElement(e,l({},(0,y.default)(this.props,"editorState","editable","setEditorState"),{isFocused:t,focus:a?void 0:this.focus})))}}]),s}(),s.propTypes={offsetKey:h.default.string.isRequired,editorKey:h.default.string.isRequired,editorState:h.default.object,editable:h.default.bool,setEditorState:h.default.func},n=w))||n}};var p=n(a(0)),m=n(a(20)),h=n(a(2)),_=n(a(1)),g=a(6),v=a(5),y=n(a(76)),b=a(11)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["search"],["search"]),_=s(["httpAPI.",""],["httpAPI.",""]),g=s(["search.tutorialMap"],["search.tutorialMap"]),v=s(["search.quizMap"],["search.quizMap"]),y=s(["search.projectMap"],["search.projectMap"]),b=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),w=s(["search.loadMore"],["search.loadMore"]),E=s(["search.clearSearchFilters"],["search.clearSearchFilters"]),k=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(8),I=a(4),N=a(17),M=n(a(112)),D=n(a(106)),x=n(a(60)),R=n(a(512)),L=n(a(16)),A=a(75),F=n(a(3)),K=n(a(668)),q=n(a(7)),z=n(a(669)),B=(l=(0,P.decorator)({search:(0,j.state)(h),searchData:(0,j.state)(_,C.LEARNER_SEARCH),tutorialMap:(0,j.state)(g),quizMap:(0,j.state)(v),projectMap:(0,j.state)(y),loadMoreStatus:(0,j.state)(b,C.SEARCH_LOAD_MORE),loadMore:(0,j.signal)(w),clearSearchFilters:(0,j.signal)(E),openSubmissionDetail:(0,j.signal)(k)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClearAll=function(){var e=n.props,t=e.defaultItemId,a=e.defaultCriteria,r=e.clearSearchFilters,o={};t&&(o.itemId=t),a&&(o.criteria=a),r(o)},n.handleAddFeatured=function(e){var t=e.id,a=n.props.openSubmissionDetail;a&&a({id:t,showFeaturedForm:!0})},i=a,o(n,i)}return i(t,T.default),m(t,[{key:"renderLoading",value:function(){return O.default.createElement("div",{className:this.ss("loading-container")},this.__("search_in_progress"))}},{key:"renderCard",value:function(e){var t=this.props,a=t.theme,n=t.author,r=t.size;switch(this.props.type){case"tutorial":return O.default.createElement(D.default,{theme:a,tutorial:e,statsPath:"search",showProgress:!0});case"course":var o=this.props,i=o.tutorialMap,s=o.quizMap,l=o.projectMap;return e.tutorialMap=i,e.quizMap=s,e.projectMap=l,O.default.createElement(R.default,{theme:a,course:e,statsPath:"search",showProgress:!0});case"project":return O.default.createElement(x.default,{theme:a,project:e,statsPath:"search",showProgress:!0});case"submission":return O.default.createElement(A.SubmissionCard,{theme:a,submission:e,preview:!0,statsPath:"search",size:r,onAddFeature:n?this.handleAddFeatured:void 0});default:return null}}},{key:"renderEmptyBody",value:function(){return O.default.createElement("div",{className:this.ss("center","empty-body")},O.default.createElement("div",{className:this.ss("empty-label")},this.__("search_result_empty")),O.default.createElement("div",{className:this.ss("button-clear")},O.default.createElement(L.default,{ref:"clear",widthStyle:"full",label:this.__("button_clear"),onClick:this.onClearAll})))}},{key:"renderResults",value:function(){var e=this,t=this.props,a=t.search,n=t.searchData,r=t.loadMore,o=t.loadMoreStatus,i=a.page,s=a.pageSize,l=a.total,u=(0,I.get)(n,"updateStatus"),c=(0,N.isLoading)(u),d={page:parseInt(i,10),pageSize:parseInt(s,10),total:parseInt(l,10),loadMoreStatus:o,searchStatus:u,onPage:r},f=((0,I.get)(a,"results")||[]).map(function(e){return e[e.type]});if(0===f.length)return this.renderEmptyBody();var p=O.default.createElement("div",{className:this.ss("result-body",c&&"hide")},f.map(function(t){return O.default.createElement("div",{key:t.id,className:e.ss("card-wrapper")},e.renderCard(t))}));return O.default.createElement("div",{className:this.ss("results")},!!c&&this.renderLoading(),p,!c&&O.default.createElement(M.default,d))}},{key:"render",value:function(){return O.default.createElement("div",{className:this.ss("search-results")},this.renderResults())}}]),t}(),f.propTypes={search:S.default.object,searchData:S.default.object,author:S.default.bool,tutorialMap:S.default.object,quizMap:S.default.object,projectMap:S.default.object,theme:S.default.oneOf(["default","dark"]),size:S.default.oneOf(["small","normal","medium"]),defaultItemId:S.default.string,defaultCriteria:S.default.object,loadMoreStatus:S.default.string,loadMore:S.default.func,clearSearchFilters:S.default.func,openSubmissionDetail:S.default.func,type:S.default.string},f.defaultProps={theme:"default",size:"small"},d=p))||d)||d)||d);t.default=B},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorial.sections.",".title"],["tutorial.sections.",".title"]),_=s(["index"],["index"]),g=s(["tutorial.sections.",".body"],["tutorial.sections.",".body"]),v=s(["commentData.commentMap"],["commentData.commentMap"]),y=s(["tutorial.sections.",""],["tutorial.sections.",""]),b=s(["tutorial.collapseMap"],["tutorial.collapseMap"]),w=s(["tutorial.sections"],["tutorial.sections"]),E=s(["tutorial.moveSection"],["tutorial.moveSection"]),k=s(["tutorial.deleteSectionConfirm"],["tutorial.deleteSectionConfirm"]),S=s(["tutorial.deleteSubmissionSectionConfirm"],["tutorial.deleteSubmissionSectionConfirm"]),O=s(["tutorial.changeLabUrl"],["tutorial.changeLabUrl"]),T=s(["tutorial.changeSubmissionType"],["tutorial.changeSubmissionType"]),P=s(["tutorial.changeCollapseStatus"],["tutorial.changeCollapseStatus"]),j=s(["tutorial.changeSectionOption"],["tutorial.changeSectionOption"]),C=s(["common.openShareTutorialStepDialog"],["common.openShareTutorialStepDialog"]),I=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),N=n(a(0)),M=n(a(2)),D=n(a(1)),x=a(6),R=a(5),L=a(4),A=a(11),F=a(8),K=n(a(34)),q=n(a(452)),z=a(27),B=n(a(131)),U=a(12),H=n(a(608)),V=n(a(453)),G=n(a(47)),W=n(a(3)),Q=n(a(625)),J=n(a(7)),Y=n(a(626)),X=[F.SubmissionTypes.media,F.SubmissionTypes.webgl],Z=(l=(0,x.decorator)({defaultTitleState:(0,A.$editorStateFromText)((0,R.state)(h,(0,R.props)(_))),defaultBodyState:(0,A.$editorStateFromJSON)((0,R.state)(g,(0,R.props)(_))),channel:(0,R.state)(v),current:(0,R.state)(y,(0,R.props)(_)),collapseMap:(0,R.state)(b),articleTitle:(0,R.state)(h,(0,R.props)(_)),sections:(0,R.state)(w),moveSection:(0,R.signal)(E),deleteSection:(0,R.signal)(k),deleteSubmissionSection:(0,R.signal)(S),changeLabUrl:(0,R.signal)(O),changeSubmissionType:(0,R.signal)(T),changeCollapseStatus:(0,R.signal)(P),changeSectionOption:(0,R.signal)(j),openShareDialog:(0,R.signal)(C),openCommentDrawer:(0,R.signal)(I)}),u=(0,W.default)(Q.default),c=(0,J.default)(Y.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onDeleteSection=function(){var e=n.props,t=e.index,a=e.current,r=e.deleteSection,o=e.deleteSubmissionSection;a.type===F.StepTypes.submission?o({index:t}):r({index:t})},n.handleOperate=function(e){var t=e.key,a=n.props,r=a.current,o=a.index,i=a.openShareDialog,s=a.openCommentDrawer;"comment"===t&&s&&s({current:r}),"share"===t&&i&&i({current:r,index:o})},n.changeLabUrl=function(e){var t=e.index,a=e.value;n.props.changeLabUrl&&n.props.changeLabUrl({index:t,value:a})},n.changeSubmissionType=function(e){var t=e.index,a=e.value,r=n.props.changeSubmissionType;r&&r({index:t,value:a})},n.changeSectionOption=function(e){var t=e.index,a=e.value,r=n.props.changeSectionOption;r&&r({index:t,value:a})},i=a,o(n,i)}return i(t,D.default),m(t,[{key:"renderStepOption",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,L.get)(a,"type")||"tutorial",o=[F.StepOptionTypes.required,F.StepOptionTypes.optional].map(function(t){return{text:e.__("step_option_"+t),value:t}});return N.default.createElement("div",{className:this.ss("step-option")},N.default.createElement("div",{className:this.ss("step-type")},this.__("step_type_"+r)),N.default.createElement(G.default,{selects:o,size:"xxsmall",value:(0,L.get)(a,"optionType"),theme:"underline",onChange:function(t,a,r){return e.changeSectionOption({value:r,index:n})}}))}},{key:"renderLabUrl",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,L.get)(a,"labForm.labUrl"),o=r.isTouched&&r.errorMessage;return N.default.createElement("div",{className:this.ss("form-field")},N.default.createElement("div",{className:this.ss("form-field-title")},this.__("field_labUrl_title")),N.default.createElement("div",{className:this.ss("form-field-content","input-wrapper",o&&"error")},N.default.createElement(K.default,{size:"medium",placeholder:this.__("labUrl_placeholder"),value:r.value,theme:"transparent",onChange:function(t,a){return e.changeLabUrl({value:a,index:n})}})))}},{key:"renderSubmissionType",value:function(){var e=this,t=this.props,a=t.current,n=t.index,r=(0,L.get)(a,"submissionForm.submissionType")||{},o=r.isTouched&&r.errorMessage,i=r.value,s=X.map(function(t){return{text:e.__("submission_type_"+t),value:t}});s.unshift({text:this.__("submission_none"),value:""});var l=!!(0,L.get)(a,"publishedTime");return N.default.createElement("div",{className:this.ss("form-field","submission",o&&"error")},l&&N.default.createElement("div",{className:this.ss("submission-type-note")},this.__("note_submission_type_"+i)),N.default.createElement(G.default,{selects:s,size:"medium",value:r.value,theme:"gray",disabled:l,onChange:function(t,a,r){return e.changeSubmissionType({value:r,index:n})}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.index,n=t.showStepNo,r=t.renderOnly,o=t.theme,i=t.current,s=t.moveSection,l=t.changeCollapseStatus,u=t.collapseMap,c=t.onDrag,d=t.articleTitle,f=t.channel,p="editorTitle_"+a,m="editorBody_"+a,h=(0,L.get)(i,"channelId"),_=(0,L.get)(f,""+h)||{},g=(0,L.get)(_,"messages.total")||0,v=(0,L.get)(i,"type"),y=v===F.StepTypes.lab,b=v===F.StepTypes.submission,w=!y&&!b,E=this.__(w?"step_title_index":"step_title_"+v,{index:a+1}),k=this.__(y?"tutorial_"+v+"_title_placeholder":"tutorial_step_title_placeholder"),S=this.__(w?"tutorial_step_body_placeholder":"tutorial_"+v+"_body_placeholder"),O=(0,L.get)(i,"id"),T=!!(0,L.get)(u,""+O),P=N.default.createElement("div",{ref:"container",className:this.ss("editor-container",r&&"render-only",o)},"learn-edit"===o&&N.default.createElement("div",{className:this.ss("step-top")},N.default.createElement("div",{className:this.ss("step-title")},E,N.default.createElement("div",{className:this.ss("buttons-wrapper")},N.default.createElement("button",{className:this.ss(T?"expand":"collapse","icon","ifont","ifont-icon-triangle-right"),onClick:function(){return l({id:O})}}),N.default.createElement("button",{className:this.ss("delete","icon","ifont","ifont-lrn-icon-delete"),onClick:this.onDeleteSection}))),this.renderStepOption()),r&&i.optionType===F.StepOptionTypes.optional&&N.default.createElement("div",{className:this.ss("step-option-type")},this.__("step_option_type_optional")),y&&r&&N.default.createElement(z.StreamIconLabelWithHelp2,null),b&&!r&&this.renderSubmissionType(),N.default.createElement("div",{className:this.ss("title-wrap",r&&"render-only")},N.default.createElement("div",{className:this.ss("title-wrap-inner")},r?N.default.createElement("h2",{className:this.ss("article-title")},n&&N.default.createElement("span",{className:this.ss("step-index")},this.__("step_index",{index:n})),d):N.default.createElement(H.default,{renderOnly:r,editorKey:p,nextEditorKey:m,theme:o,placeholder:k,defaultEditorState:this.props.defaultTitleState}))),r&&N.default.createElement("div",{className:this.ss("operate-wrap")},N.default.createElement("a",{className:this.ss("operate-item"),onClick:function(){return e.handleOperate({key:"comment"})}},N.default.createElement("div",{className:this.ss("icon ifont ifont-lrn_icon_comment")}),N.default.createElement("div",{className:this.ss("num")},(0,U.formatNumber)(g))),N.default.createElement("a",{className:this.ss("operate-item"),onClick:function(){return e.handleOperate({key:"share"})}},N.default.createElement("div",{className:this.ss("icon ifont ifont-lrn_icon_share")}))),N.default.createElement("div",{className:this.ss("fold-wrap",T&&"collapsed")},N.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only")},N.default.createElement(V.default,{renderOnly:r,editorKey:m,prevEditorKey:p,placeholder:S,defaultEditorState:this.props.defaultBodyState}),y&&r&&N.default.createElement("div",{className:this.ss("path-stream-wrap")},N.default.createElement("div",{className:this.ss("path-stream")},N.default.createElement(q.default,{labUrl:(0,L.get)(i,"labUrl"),theme:"banner"})))),y&&!r&&this.renderLabUrl()));return r?P:N.default.createElement(B.default,{index:a,theme:"tutorial-step",onChange:s,onDrag:c},P)}}]),t}(),f.propTypes={defaultTitleState:M.default.object,defaultBodyState:M.default.object,current:M.default.object,channel:M.default.object,index:M.default.number.isRequired,showStepNo:M.default.string,renderOnly:M.default.bool,sections:M.default.array,collapseMap:M.default.object,theme:M.default.oneOf(["learn-edit","default"]),articleTitle:M.default.string,moveSection:M.default.func,deleteSection:M.default.func,deleteSubmissionSection:M.default.func,changeLabUrl:M.default.func,changeSubmissionType:M.default.func,changeCollapseStatus:M.default.func,changeSectionOption:M.default.func,onDrag:M.default.func,openShareDialog:M.default.func,openCommentDrawer:M.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=Z},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorial.solutionPlan.body"],["tutorial.solutionPlan.body"]),_=s(["tutorial.solutionPlan"],["tutorial.solutionPlan"]),g=s(["tutorial.showSolution"],["tutorial.showSolution"]),v=s(["tutorialData"],["tutorialData"]),y=s(["learner.recordMap"],["learner.recordMap"]),b=s(["tutorial.addSolutionPlan"],["tutorial.addSolutionPlan"]),w=s(["tutorial.removeSolutionPlanConfirm"],["tutorial.removeSolutionPlanConfirm"]),E=s(["tutorial.toggleSolutionRequiredComplete"],["tutorial.toggleSolutionRequiredComplete"]),k=s(["tutorial.showSuggestSolution"],["tutorial.showSuggestSolution"]),S=s(["tutorial.hideSuggestSolution"],["tutorial.hideSuggestSolution"]),O=s(["tutorial.changeSolutionMaterials"],["tutorial.changeSolutionMaterials"]),T=s(["tutorial.deleteSolutionMaterial"],["tutorial.deleteSolutionMaterial"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=n(a(16)),x=n(a(15)),R=a(27),L=n(a(453)),A=n(a(83)),F=n(a(515)),K=a(97),q=a(11),z=n(a(3)),B=n(a(630)),U=n(a(7)),H=n(a(631)),V=(l=(0,I.decorator)({defaultBodyState:(0,q.$editorStateFromJSON)((0,N.state)(h)),solutionPlan:(0,N.state)(_),showSolution:(0,N.state)(g),tutorialData:(0,N.state)(v),recordMap:(0,N.state)(y),addSolutionPlan:(0,N.signal)(b),removeSolutionPlan:(0,N.signal)(w),toggleSolutionRequiredComplete:(0,N.signal)(E),showSuggestSolution:(0,N.signal)(k),hideSuggestSolution:(0,N.signal)(S),changeSolutionMaterials:(0,N.signal)(O),deleteSolutionMaterial:(0,N.signal)(T)}),u=(0,z.default)(B.default),c=(0,U.default)(H.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChangeMaterials=function(e){var t=n.props,a=t.changeSolutionMaterials,r=t.deleteSolutionMaterial;0===(0,M.get)(e,"length")?r():a({contents:e})},n.getCanRevealSolutionByProps=function(){var e=n.props,t=e.solutionPlan,a=e.tutorialData,r=e.recordMap,o=(0,M.get)(r,""+(0,M.get)(a,"id")),i=(0,M.get)(o,"completed"),s=!0===(0,M.get)(t,"requiredComplete");return!s||s&&i},i=a,o(n,i)}return i(t,C.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.hideSuggestSolution,a=e.showSolution,n=this.getCanRevealSolutionByProps();a&&!n&&t()}},{key:"renderSuggestSolutionCover",value:function(){var e=this.props,t=e.solutionPlan,a=e.tutorialData,n=e.showSuggestSolution,r=this.getCanRevealSolutionByProps(),o=(0,M.get)(a,"contentMap")||{},i=(0,M.get)(t,"contentIds")||[],s=void 0,l=i.length;if(l>0)for(var u=0;u<l&&!(s=(0,M.get)(o,i[u]+".thumbnail"));u++);return j.default.createElement("div",{className:this.ss("reveal-solution")},s&&j.default.createElement("div",{className:this.ss("background-img")},j.default.createElement("div",{className:this.ss("background-mask")}),j.default.createElement(x.default,{src:s.url,sizes:"100vw"})),j.default.createElement("div",{className:this.ss("section-title")},this.__("solution_section_title")),j.default.createElement("div",{className:this.ss("reveal-solution-description")},this.__("reveal_solution_description")),j.default.createElement("div",{className:this.ss("reveal-solution-btn")},j.default.createElement(D.default,{theme:"primary",disabled:!r,label:this.__("reveal_solution_button"),onClick:function(){return n()}})))}},{key:"renderPlanEditor",value:function(){var e=this.props,t=e.solutionPlan,a=e.defaultBodyState,n=e.removeSolutionPlan,r=e.toggleSolutionRequiredComplete,o=e.showSolution,i=e.renderOnly;if(i&&!o)return this.renderSuggestSolutionCover();var s=(0,M.get)(t,"materials")||[];return j.default.createElement("div",{className:this.ss("plan-content")},j.default.createElement("div",{className:this.ss("section-title")},this.__("solution_section_title")),!i&&j.default.createElement("div",{className:this.ss("section-description")},this.__("solution_section_description")),i&&j.default.createElement("div",{className:this.ss("section-downloads")},j.default.createElement(K.Downloads,{theme:"solution",data:t})),j.default.createElement("div",{className:this.ss("content-editor")},j.default.createElement(L.default,{renderOnly:i,placeholder:this.__("solution_placeholder"),editorKey:"editorTutorialSolution",defaultEditorState:a})),!i&&j.default.createElement("div",{className:this.ss("form-field-materials")},j.default.createElement("div",{className:this.ss("form-field-title")},this.__("solution_materials_title")),j.default.createElement("div",{className:this.ss("form-field-des")},this.__("solution_materials_des")),j.default.createElement("div",{className:this.ss("form-field-content")},j.default.createElement(F.default,{singleFile:!0,fileOnly:!0,theme:"primary",field:{value:s},onChangeField:this.onChangeMaterials}))),!i&&j.default.createElement("div",{className:this.ss("required-complete")},j.default.createElement(A.default,{checked:!0===(0,M.get)(t,"requiredComplete"),label:this.__("required_complete_description"),onCheck:function(){return r()}})),!i&&j.default.createElement("button",{className:this.ss("remove-educator-plan"),onClick:function(){return n()}},j.default.createElement("div",{className:this.ss("remove-icon","ifont","ifont-icons-trash")}),this.__("remove_solution_plan")))}},{key:"render",value:function(){var e=this.props,t=e.solutionPlan,a=e.addSolutionPlan,n=e.renderOnly,r=e.theme,o=!!t;return n&&!o?null:j.default.createElement("div",{className:this.ss("plan-wrap",n&&"render-only",r)},o?this.renderPlanEditor():j.default.createElement("div",{className:this.ss("create-plan")},j.default.createElement(D.default,{widthStyle:"full",theme:"blue-border",label:j.default.createElement(R.AddSuggestedSolutionLabel,null),onClick:function(){return a()}})))}}]),t}(),f.propTypes={defaultBodyState:P.default.object,solutionPlan:P.default.object,showSolution:P.default.bool,renderOnly:P.default.bool,tutorialData:P.default.object,recordMap:P.default.object,theme:P.default.oneOf(["default","architecture"]),addSolutionPlan:P.default.func,removeSolutionPlan:P.default.func,toggleSolutionRequiredComplete:P.default.func,showSuggestSolution:P.default.func,hideSuggestSolution:P.default.func,changeSolutionMaterials:P.default.func,deleteSolutionMaterial:P.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=V},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["search"],["search"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=a(4),w=n(a(598)),E=n(a(272)),k=n(a(3)),S=n(a(670)),O=n(a(7)),T=n(a(671)),P=(s=(0,v.decorator)({search:(0,y.state)(m)}),l=(0,k.default)(S.default),u=(0,O.default)(T.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.search,a=e.versionId,n=e.defaultItemId,r=e.showSearchBar,o=e.author;if(!r&&0===((0,b.get)(t,"results")||[]).length)return null;var i=null;return a&&(i={k:JSON.stringify(["uv:"+a])}),_.default.createElement("div",{className:this.ss("content-wrapper")},_.default.createElement("div",{className:this.ss("content-container","architecture")},_.default.createElement("div",{className:this.ss("submission-gallery-title")},this.__("submission_gallery")),r&&_.default.createElement(E.default,{defaultItemId:n,optionType:"submission"}),_.default.createElement("div",{className:this.ss("results-wrapper")},_.default.createElement(w.default,{type:"submission",author:o,defaultItemId:n,defaultCriteria:i}))))}}]),t}(),d.propTypes={search:h.default.object,defaultItemId:h.default.string,versionId:h.default.string,showSearchBar:h.default.bool,author:h.default.bool},d.defaultProps={showSearchBar:!0},c=f))||c)||c)||c);t.default=P},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["common.backTop.showBackTop"],["common.backTop.showBackTop"]),h=s(["common.backTop.isFootInView"],["common.backTop.isFootInView"]),_=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),g=s(["common.setBackTopStatus"],["common.setBackTopStatus"]),v=s(["common.setFootIsInView"],["common.setFootIsInView"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(3)),T=n(a(672)),P=(l=(0,E.decorator)({showBackTop:(0,k.state)(m),isFootInView:(0,k.state)(h),windowHeight:(0,k.state)(_),setBackTopStatus:(0,k.signal)(g),setFootIsInView:(0,k.signal)(v)}),u=(0,O.default)(T.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onHandleScroll=function(){var e=n.props,t=e.windowHeight,a=e.setBackTopStatus,r=(0,S.get)(n.scroller,"scrollTop")||0;a(r>t?{show:!0}:{show:!1}),n.syncButtonPosition({scrollTop:r})},n.syncButtonPosition=function(e){var t=e.scrollTop,a=n.props,r=a.windowHeight,o=a.footHeight,i=a.setFootIsInView,s=(0,S.get)(n.scroller,"scrollHeight");i(Math.max(0,s-t-r)<o?{inView:!0}:{inView:!1})},n.scroller=null,n.handleBackTop=function(){n.scroller&&(n.scroller.scrollTop=0)},i=a,o(n,i)}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){this.scroller=document.getElementById("pageBody").parentNode,this.scroller&&this.scroller.addEventListener("scroll",this.onHandleScroll)}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.removeEventListener("scroll",this.onHandleScroll)}},{key:"render",value:function(){var e=this.props,t=e.showBackTop,a=e.isFootInView;return t?b.default.createElement("div",{className:this.ss("back-to-top",a&&"position-absolute")},b.default.createElement("button",{className:this.ss("to-top-button"),onClick:this.handleBackTop},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-jump-to-top")}))):null}}]),t}(),d.propTypes={showBackTop:y.default.bool,isFootInView:y.default.bool,windowHeight:y.default.number,setBackTopStatus:y.default.func,setFootIsInView:y.default.func,footHeight:y.default.number},d.defaultProps={footHeight:160},c=f))||c)||c);t.default=P},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.NextLearnContentCard=t.NextPanel=t.CompleteIcon=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),M=s(["loginUser"],["loginUser"]),D=s(["paymentRequired"],["paymentRequired"]),x=s(["tutorialData"],["tutorialData"]),R=s(["option.unityVersionId"],["option.unityVersionId"]),L=s(["learner.recordMap"],["learner.recordMap"]),A=s(["httpAPI.",""],["httpAPI.",""]),F=s(["search"],["search"]),K=s(["common.loadingUVData"],["common.loadingUVData"]),q=s(["header.setWindowSize"],["header.setWindowSize"]),z=s(["tutorial.getTutorialExtends"],["tutorial.getTutorialExtends"]),B=s(["learner.postStepScrollRecord"],["learner.postStepScrollRecord"]),U=s(["learner.postScrollRecord"],["learner.postScrollRecord"]),H=s(["learner.syncRecordNextData"],["learner.syncRecordNextData"]),V=s(["learner.recordMap.",""],["learner.recordMap.",""]),G=s(["id"],["id"]),W=s(["common.uv"],["common.uv"]),Q=s(["learner.parentIds"],["learner.parentIds"]),J=s(["breadcrumb"],["breadcrumb"]),Y=s(["common.navigateToDetailPage"],["common.navigateToDetailPage"]),X=n(a(2)),Z=n(a(0)),$=n(a(20)),ee=n(a(1)),te=a(6),ae=a(5),ne=a(4),re=a(108),oe=n(a(600)),ie=n(a(144)),se=n(a(437)),le=n(a(633)),ue=n(a(634)),ce=n(a(627)),de=n(a(60)),fe=n(a(106)),pe=n(a(16)),me=n(a(541)),he=n(a(452)),_e=n(a(533)),ge=n(a(564)),ve=n(a(635)),ye=n(a(506)),be=n(a(465)),we=n(a(514)),Ee=a(75),ke=n(Ee),Se=n(a(601)),Oe=n(a(602)),Te=n(a(546)),Pe=n(a(603)),je=n(a(496)),Ce=n(a(532)),Ie=a(8),Ne=a(17),Me=n(a(3)),De=n(a(673)),xe=n(a(7)),Re=n(a(674)),Le=(l=(0,te.decorator)({loginUser:(0,ae.state)(M),paymentRequired:(0,ae.state)(D),tutorialData:(0,ae.state)(x),versionId:(0,ae.state)(R),recordMap:(0,ae.state)(L),getTutorialData:(0,ae.state)(A,Ie.GET_TUTORIAL_EXTENDS),search:(0,ae.state)(F),loadingUVData:(0,ae.state)(K),setWindowSize:(0,ae.signal)(q),getTutorialExtends:(0,ae.signal)(z),postStepScrollRecord:(0,ae.signal)(B),postScrollRecord:(0,ae.signal)(U),syncRecordNextData:(0,ae.signal)(H)}),u=(0,Me.default)(De.default),c=(0,xe.default)(Re.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={stepId:""},n.onScroll=function(e){var t=e.scrollTop,a=n.state,r=a.stepId,o=a.positions,i=void 0===o?[]:o,s=a.stepIndexs,l=void 0===s?{}:s;if(0!==i.length){var u=n.getStepIdByPosition(t);if(u!==r){var c=l[r],d=l[u];n.tryStartTutorial(),void 0!==c&&d>c&&n.tryAutoCompleteStep(r),n.setState({stepId:u});var f=(0,ne.get)(window,"location",{}),p=""+f.origin+f.pathname+f.search+("#"+u);(0,je.default)(p)}}},n.isSubmission=function(e){return"submission"===(0,ne.get)(e,"type")},i=a,o(n,i)}return i(t,ee.default),N(t,[{key:"componentDidMount",value:function(){!0===(0,ne.get)(this.props.tutorialData,"premium")&&(this.removeDisableCopyCutPaste=(0,Ce.default)(this.refs.content)),this.props.getTutorialExtends&&this.props.getTutorialExtends()}},{key:"componentDidUpdate",value:function(){this.initialStepPositions();var e=this.props,t=e.tutorialData;(0,e.syncRecordNextData)({data:t})}},{key:"componentWillUnmount",value:function(){this.removeDisableCopyCutPaste&&this.removeDisableCopyCutPaste()}},{key:"onScrollEnd",value:function(){this.tryStartTutorial();var e=(0,ne.get)(this.props.tutorialData,"sections")||[];if(e.length>0){var t=(0,ne.get)(e[e.length-1],"id");this.tryAutoCompleteStep(t)}}},{key:"getStepIdByPosition",value:function(e){var t=this.state.positions,a=void 0===t?[]:t,n=this.props.tutorialData,r=(0,ne.get)(n,"sections",[]);if(a.length>0){var o=a.length-1;if(e<a[0])return"";if(e>=a[o])return r[o].id;for(var i=0;i<o;i++)if(e>=a[i]&&e<a[i+1])return r[i].id}return""}},{key:"initialStepPositions",value:function(){var e=this,t=(0,ne.get)(this.props.tutorialData,"sections")||[];if(!this.state.positions&&t.length>0){var a=this.state,n=a.positions,r=void 0===n?[]:n,o=a.stepIndexs,i=void 0===o?{}:o;t.forEach(function(t,a){var n=t.id,o=$.default.findDOMNode(e.refs["step_"+n]);if(o){var s=o.offsetTop;r.push(Math.max(0,s-128)),i[n]=a}}),this.setState({positions:r,stepIndexs:i},function(){var t=(0,ne.get)(window,"location.hash","").substring(1);t&&(e.setState({stepId:t}),e.scrollToStep({itemId:t}))})}}},{key:"scrollToStep",value:function(e){var t=e.itemId;if(this.refs.page)if(-1===t)this.refs.page.scrollTo(0);else{var a=$.default.findDOMNode(this.refs["step_"+t]);if(a){var n=a.offsetTop;this.refs.page.scrollTo(Math.max(0,n-128))}}}},{key:"scrollToFirst",value:function(){var e=this;setTimeout(function(){var t=(0,ne.get)(e.props.tutorialData,"sections")||[];if(t.length>0){var a=(0,ne.get)(t[0],"id");e.scrollToStep({itemId:a})}})}},{key:"scrollToNext",value:function(){var e=this.props.tutorialData,t=(0,ne.get)(e,"editable"),a=$.default.findDOMNode(this.refs.next),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"scrollToGallery",value:function(){var e=this.props.tutorialData,t=(0,ne.get)(e,"editable"),a=$.default.findDOMNode(this.refs.gallery),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"tryAutoCompleteStep",value:function(e){if(e&&""!==e){var t=this.props,a=t.tutorialData;(0,t.postStepScrollRecord)({id:(0,ne.get)(a,"id"),stepId:e,type:a.type})}}},{key:"tryStartTutorial",value:function(){var e=this.props,t=e.tutorialData;(0,e.postScrollRecord)({id:(0,ne.get)(t,"id"),type:(0,ne.get)(t,"type")})}},{key:"renderSubmissionForm",value:function(e){var t=this.props,a=t.loginUser,n=t.tutorialData,r=t.recordMap;if(!a)return null;var o=(0,ne.get)(n,"id"),i=(0,ne.get)(r,o)||{},s=this.isSubmission(e),l=(0,ne.get)(e,"id"),u=(0,ne.get)(e,"submissionType"),c=(0,ne.get)(i,"steps."+l+".completed");return s?u===Ie.SubmissionTypes.media?Z.default.createElement(ke.default,{disabled:c,submissionType:u}):u===Ie.SubmissionTypes.webgl?Z.default.createElement(Ee.SubmissionWebGLForm,{disabled:c,submissionType:u}):null:null}},{key:"renderTutorialSteps",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.versionId,r=a.id,o=a.type,i=a.sections,s=a.isExercise,l=!i||0===i.length;if(l)return null;var u=-1,c=!l&&i.map(function(t,a){var l=e.isSubmission(t),c=(0,ne.get)(t,"id"),d=(0,ne.get)(t,"submissionType"),f=a===i.length-1,p=s&&f?null:Z.default.createElement("div",{className:e.ss("step-sep")}),m="";return t.optionType===Ie.StepOptionTypes.required&&(m=""+(++u+1)),Z.default.createElement("div",{key:"step_"+c,ref:"step_"+c,className:e.ss("step-wrap")},Z.default.createElement("div",{className:e.ss("step")},Z.default.createElement(oe.default,{index:a,showStepNo:m,renderOnly:!0}),e.renderSubmissionForm(t),Z.default.createElement("div",{className:e.ss("button-complete")},l?Z.default.createElement(ue.default,{id:r,type:o,stepId:c,versionId:n,submissionType:d}):Z.default.createElement(le.default,{id:r,type:o,stepId:c,versionId:n}))),Z.default.createElement(Ae,{id:r,step:t}),p)}),d=s?null:Z.default.createElement("div",{className:this.ss("button-complete-all")},Z.default.createElement(ce.default,{id:r,type:o,versionId:n}));return Z.default.createElement("div",{className:this.ss("tutorial-steps")},c,d)}},{key:"renderLoading",value:function(){return Z.default.createElement("div",{className:this.ss("loading-wrap")},Z.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderNextPanel",value:function(e,t){var a=this;if(e||t)return null;var n=this.props,r=n.tutorialData,o=n.recordMap,i=(0,ne.get)(r,"id"),s=(0,ne.get)(r,"isExercise")||!1,l=(0,ne.get)(o,i+".completed")||!1,u=(0,ne.get)(r,"thumbnail.url"),c=(0,ne.get)(r,"sections")||[],d=(0,ne.get)(r,"submissionStepId"),f=(0,ne.get)(o,i+".steps."+d+".completed"),p=c.find(function(e){return e.id===d})||{},m=(0,ne.get)(p,"optionType")===Ie.StepOptionTypes.required;return s&&d?Z.default.createElement(Ee.SubmitSection,{ref:"next",statsPath:"tutorialData",defaultThumbnailUrl:u,submissionRequire:m,completed:l,submissionCompleted:f,scrollToNext:function(){return a.scrollToNext()},scrollToStep:function(){return a.scrollToStep({itemId:d})}}):Z.default.createElement(Fe,{ref:"next",statsPath:"tutorialData",completed:l,scrollToNext:function(){return a.scrollToNext()}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.setWindowSize,r=t.paymentRequired,o=t.getTutorialData,i=t.loadingUVData,s=t.versionId,l=(0,ne.get)(a,"id"),u=(0,ne.get)(a,"type"),c=(0,ne.get)(a,"editable"),d=r,f=(0,ne.get)(a,"withLab"),p=!0===i||!(0,Ne.isFailedOrSucceeded)((0,ne.get)(o,"updateStatus")),m=(0,ne.get)(a,"paymentItem.slug"),h=(0,ne.get)(a,"isExercise");return Z.default.createElement(re.DefaultLearnerLayoutOnly,{ref:"page",setWindowSize:n,onScroll:(0,ne.debounce)(this.onScroll,200),onScrollEnd:function(){e.onScrollEnd()}},Z.default.createElement("div",{className:this.ss("body-wrap")},Z.default.createElement(se.default,{data:a,statsPath:"tutorialData",disabled:d,versionId:s,scrollToStep:function(t){return e.scrollToStep(t)},scrollToFirst:function(){return e.scrollToFirst()},autoStart:this.state.autoStart}),Z.default.createElement("div",{className:this.ss("content-wrap",d&&"withCover"),ref:"content"},Z.default.createElement("div",{className:this.ss("content")},Z.default.createElement("div",{className:this.ss("center")},Z.default.createElement(Ee.SubmissionFeatured,{statsPath:"search",scrollToGallery:function(){return e.scrollToGallery()}}),f&&Z.default.createElement("div",{className:this.ss("path-stream")},Z.default.createElement(he.default,{labUrl:(0,ne.get)(a,"labUrl")})),this.renderTutorialSteps(),Z.default.createElement("div",{className:this.ss("suggest-solution")},Z.default.createElement(Se.default,{renderOnly:!0}))),r&&Z.default.createElement(me.default,{slug:m,type:u}))),this.renderNextPanel(d,p),h&&Z.default.createElement(Oe.default,{ref:"gallery",author:c,showSearchBar:!1}),Z.default.createElement(be.default,null),Z.default.createElement(Pe.default,null)),Z.default.createElement(_e.default,null),Z.default.createElement(ve.default,{id:l,type:"tutorial",scrollToStep:function(t){return e.scrollToStep(t)}}),Z.default.createElement(we.default,{editable:c}),Z.default.createElement(ye.default,null),Z.default.createElement(Te.default,{id:l,type:u}),p&&this.renderLoading())}}]),t}(),f.propTypes={loginUser:X.default.object,paymentRequired:X.default.bool,tutorialData:X.default.object,versionId:X.default.string,search:X.default.object,loadingUVData:X.default.bool,recordMap:X.default.object,getTutorialData:X.default.object,setWindowSize:X.default.func,getTutorialExtends:X.default.func,postStepScrollRecord:X.default.func,postScrollRecord:X.default.func,syncRecordNextData:X.default.func},d=p))||d)||d)||d);t.default=Le;var Ae=t.CompleteIcon=(m=(0,te.decorator)({record:(0,ae.state)(V,(0,ae.props)(G))}),h=(0,Me.default)(De.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ee.default),N(t,[{key:"render",value:function(){var e=this.props,t=e.step,a=e.record,n=(0,ne.get)(t,"id"),r=(0,ne.get)(a,"steps."+n+".completed"),o="ifont-lrn_icon_finish";return(0,ne.get)(t,"optionType")===Ie.StepOptionTypes.optional&&r&&(o="ifont-icon-like"),Z.default.createElement("div",{className:this.ss("complete-icon",r&&"completed","ifont",o)})}}]),t}(),g.propTypes={id:X.default.string.isRequired,record:X.default.object,step:X.default.object},_=v))||_)||_),Fe=t.NextPanel=(y=(0,te.decorator)({uv:(0,ae.state)(W),parentIds:(0,ae.state)(Q),breadcrumb:(0,ae.state)(J),navigateToDetailPage:(0,ae.signal)(Y)}),b=(0,Me.default)(De.default),w=(0,xe.default)(Re.default),y(E=b(E=w((S=k=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,ee.default),N(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,ne.get)(e,"completed");!0!==(0,ne.get)(this.props,"completed")&&!0===t&&this.props.scrollToNext()}},{key:"render",value:function(){var e=this.props,t=e.statsPath,a=e.breadcrumb,n=e.navigateToDetailPage,r=e.completed,o=e.parentIds;if(!a||!r)return Z.default.createElement("div",{className:this.ss("next-panel")});var i=(0,ne.get)(a,"nextNode"),s=(0,ne.get)(a,"root")||{},l=(0,ne.get)(a,"current")||{};if(!i)return Z.default.createElement("div",{className:this.ss("next-panel")});var u=(0,ne.get)(i,"navIds")||[],c=a.nextProject,d=a.nextTutorial,f=a.nextQuiz,p=d||c||f,m=(0,ne.get)(p,"thumbnail.url"),h=(0,ne.get)(p,"parentMap."+o.projectId+".unityVersionRange.recommendIds")||[];0===h.length&&(h=(0,ne.get)(p,"parentMap."+o.courseId+".unityVersionRange.recommendIds")||[]);var _=h.length>0?this.props.uv:"";return Z.default.createElement("div",{className:this.ss("next-panel")},Z.default.createElement(ie.default,{url:m}),Z.default.createElement("div",{className:this.ss("panel-body")},Z.default.createElement("div",{className:this.ss("left")},Z.default.createElement("div",{className:this.ss("info-title")},this.__("next_title_"+l.type)),Z.default.createElement("div",{className:this.ss("info-description")},this.__("next_description_"+s.type,{title:s.title})),Z.default.createElement("div",{className:this.ss("button-next")},Z.default.createElement(pe.default,{widthStyle:"full",label:this.__("button_next"),onClick:function(){return n({data:p,navIds:u,uv:_})}}))),Z.default.createElement("div",{className:this.ss("right")},Z.default.createElement("div",{className:this.ss("card-title")},this.__("card_title")),Z.default.createElement("div",{className:this.ss("card")},Z.default.createElement(Ke,{statsPath:t})))))}}]),t}(),k.propTypes={uv:X.default.string,parentIds:X.default.object,breadcrumb:X.default.object,completed:X.default.bool,scrollToNext:X.default.func,navigateToDetailPage:X.default.func,statsPath:X.default.string.isRequired},E=S))||E)||E)||E),Ke=t.NextLearnContentCard=(O=(0,te.decorator)({uv:(0,ae.state)(W),parentIds:(0,ae.state)(Q),breadcrumb:(0,ae.state)(J)}),T=(0,Me.default)(De.default),P=(0,xe.default)(Re.default),O(j=T(j=P((I=C=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getNextLearnContentUV=function(){var e=n.props,t=e.breadcrumb,a=e.parentIds,r=t.nextProject,o=t.nextTutorial,i=t.nextQuiz,s=o||r||i,l=(0,ne.get)(s,"parentMap."+a.projectId+".unityVersionRange.recommendIds")||[];return 0===l.length&&(l=(0,ne.get)(s,"parentMap."+a.courseId+".unityVersionRange.recommendIds")||[]),l.length>0?n.props.uv:""},i=a,o(n,i)}return i(t,ee.default),N(t,[{key:"render",value:function(){var e=this.props,t=e.size,a=e.statsPath,n=e.breadcrumb,r=(0,ne.get)(n,"nextNode");if(!r)return null;var o=(0,ne.get)(r,"navIds")||[],i=(0,ne.get)(r,"type"),s=n.nextProject,l=n.nextTutorial,u=n.nextQuiz,c=this.getNextLearnContentUV(),d=null;return i===Ie.DataTypeKeys.project&&s&&(d=Z.default.createElement(de.default,{project:s,statsPath:a,navIds:o,uv:c})),i===Ie.DataTypeKeys.tutorial&&l&&(d=Z.default.createElement(fe.default,{size:t,tutorial:l,statsPath:a,navIds:o,uv:c})),i===Ie.DataTypeKeys.quiz&&u&&(d=Z.default.createElement(ge.default,{size:t,quiz:u,statsPath:a,navIds:o,uv:c})),d}}]),t}(),C.propTypes={uv:X.default.string,parentIds:X.default.object,breadcrumb:X.default.object,size:X.default.oneOf(["normal","medium"]),statsPath:X.default.string.isRequired},C.defaultProps={size:"normal"},j=I))||j)||j)||j)},function(e,t){e.exports={"path-stream-wrap":"path-stream-wrap_cdYafqO_",content:"content_PXyojvAx",info:"info_1VhwGEtn",title:"title_iyt1fzml",description:"description_3gz29Oum",hint:"hint_nre3GlNr",loading:"loading_17t8zbvB","button-group":"button-group_3N53xTHs",card:"card_2yYmkq6W",inProgress:"inProgress_3fsf3O10",succeeded:"succeeded_3y_SoD1v",banner:"banner_2Twuq6W1","lab-loading-wrap":"lab-loading-wrap_eLDCtfxP","lab-loading":"lab-loading_uVTIce3C"}},function(e,t){e.exports={launch_lab_btn:"launch_lab_btn_vfdQ",launch_lab_title_card:"launch_lab_title_card_K9FC",launch_lab_description_card:"launch_lab_description_card_34cR",launching_lab_title_card:"launching_lab_title_card_3Bh4",launching_lab_description_card:"launching_lab_description_card_35po",launch_lab_title_banner:"launch_lab_title_banner_3gmN",launch_lab_description_banner:"launch_lab_description_banner_3sEX",launching_lab_title_banner:"launching_lab_title_banner_pYPB",launching_lab_description_banner:"launching_lab_description_banner_1lMD",beta_hint:"beta_hint_2cHR"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["draft.editorStates.",""],["draft.editorStates.",""]),_=s(["editorKey"],["editorKey"]),g=s(["draft.setEditorState"],["draft.setEditorState"]),v=n(a(0)),y=n(a(2)),b=n(a(1)),w=n(a(20)),E=a(6),k=a(5),S=a(11),O=n(a(3)),T=n(a(609)),P=n(a(113)),j=n(a(610)),C=(l=(0,E.decorator)({editorState:(0,k.state)(h,(0,k.props)(_)),setEditorState:(0,k.signal)(g)}),u=(0,O.default)(T.default),l(c=u((f=d=function(e){function t(e,a){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));p.call(n);var i={editorKey:e.editorKey,renderOnly:e.renderOnly,nextEditorKey:e.nextEditorKey,returnToNextEditor:!0};return n.titleNormalizePlugin=(0,j.default)(i),n.navigationPlugin=(0,P.default)(i),n.draftPlugins=[n.titleNormalizePlugin,n.navigationPlugin],n}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.placeholder,n=e.defaultEditorState,r=e.renderOnly,o=e.theme;return v.default.createElement("div",{className:this.ss("title-wrap",r&&"render-only",o),onClick:r?void 0:this.focus},v.default.createElement(S.Editor,{editorKey:t,placeholder:a,defaultEditorState:n,renderOnly:r,plugins:this.draftPlugins}))}}]),t}(),d.propTypes={editorKey:y.default.string.isRequired,nextEditorKey:y.default.string,placeholder:y.default.string,defaultEditorState:y.default.object,renderOnly:y.default.bool,editorState:y.default.object,setEditorState:y.default.func,theme:y.default.oneOf(["default","learn-edit"])},d.defaultProps={renderOnly:!1},p=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;w.default.findDOMNode(e)===t.target&&o({editorKey:n,editorState:(0,S.moveToLastBlock)(r)})}},c=f))||c)||c);t.default=C},function(e,t){e.exports={"title-wrap":"title-wrap_9GSKh64y","learn-edit":"learn-edit_3ZfO7dVG"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");return{onChange:a?void 0:function(e,t){var a=t.getEditorState,o=t.getProps;return e.getCurrentContent().getFirstBlock().getLength()>r?(o().controller.getSignal("header.showMessage")({message:"tutorial_title_maxLength_"+r}),n.EditorState.forceSelection(a(),a().getSelection())):e}}};var n=a(11),r=135},function(e,t){e.exports={"body-wrap":"body-wrap_32MuPt5j","render-only":"render-only_1KGmfnpg"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===c},t)}function o(e){var t=e.html,a=e.editorKey,n=e.editorState,r=e.setEditorState,o=n.getSelection().getFocusKey();r({editorKey:a,editorState:(0,u.addAtomicBlockBefore)(n,o,c,{innerHtml:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],UploadHtmlDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(36)),s=n(a(613)),l=n(a(616)),u=a(11),c="HTML"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.uploadHtml.parentEditorKey"],["editor.uploadHtml.parentEditorKey"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["editor.uploadHtml.open"],["editor.uploadHtml.open"]),y=s(["editor.uploadHtml.pendingHtml"],["editor.uploadHtml.pendingHtml"]),b=s(["editor.changeHtmlValue"],["editor.changeHtmlValue"]),w=s(["editor.closeUploadHtml"],["editor.closeUploadHtml"]),E=s(["draft.setEditorState"],["draft.setEditorState"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(6),P=a(5),j=n(a(81)),C=n(a(57)),I=n(a(109)),N=n(a(3)),M=n(a(614)),D=n(a(7)),x=n(a(615)),R=(l=(0,T.decorator)({parentEditorKey:(0,P.state)(h),editorState:(0,P.state)(_,(0,P.props)(g)),open:(0,P.state)(v),html:(0,P.state)(y),changeHtmlValue:(0,P.signal)(b),closeUploadHtml:(0,P.signal)(w),setEditorState:(0,P.signal)(E)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e,t){n.props.changeHtmlValue({html:t})},n.onClose=function(){n.props.closeUploadHtml()},n.onOK=function(){if(n.isActive()){var e=n.props.onOK;if(e){var t=n.props;e({editorKey:t.editorKey,editorState:t.editorState,html:t.html,setEditorState:t.setEditorState})}n.onClose()}},i=a,o(n,i)}return i(t,O.default),m(t,[{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.html,n=!a;return S.default.createElement(j.default,{open:this.isActive()&&t,noScroller:!0,position:"center",onCloseModal:this.onClose},S.default.createElement("div",{className:this.ss("content")},S.default.createElement("div",{className:this.ss("head")},S.default.createElement("div",{className:this.ss("title")},this.__("title_add_embed")),S.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},S.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),S.default.createElement("div",{className:this.ss("input-wrap")},S.default.createElement("div",{className:this.ss("input")},S.default.createElement(I.default,{ref:"input",placeholder:this.__("input_placeholder"),value:a,autoFocus:!0,onChange:this.onChange})),S.default.createElement("div",{className:this.ss("supported-hint")},this.__("supported_hint"))),S.default.createElement("div",{className:this.ss("foot")},S.default.createElement("div",{className:this.ss("button")},S.default.createElement(C.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),S.default.createElement("div",{className:this.ss("button")},S.default.createElement(C.default,{theme:"blue",size:"xlarge",widthType:"full",disabled:n,label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),f.propTypes={parentEditorKey:k.default.string,editorKey:k.default.string,editorState:k.default.object,open:k.default.bool,html:k.default.string,changeHtmlValue:k.default.func,closeUploadHtml:k.default.func,setEditorState:k.default.func,onOK:k.default.func},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={content:"content_3hS4q0Z8",head:"head_30pNPPYq","button-close":"button-close_3YHamxKP","input-wrap":"input-wrap_ap-HhUs9",input:"input_3u06cEWX","supported-hint":"supported-hint_2psXVVfz",foot:"foot_wQcw_OYL",button:"button_1RTxlnAp"}},function(e,t){e.exports={title_add_embed:"title_add_embed_2ZET",input_placeholder:"input_placeholder_1v6G",supported_hint:"supported_hint_3d_x",button_cancel:"button_cancel_3OJr",button_ok:"button_ok_2_5z"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["draft.editorStates.",""],["draft.editorStates.",""]),h=s(["editorKey"],["editorKey"]),_=n(a(0)),g=n(a(2)),v=n(a(1)),y=a(6),b=a(5),w=n(a(794)),E=n(a(3)),k=n(a(617)),S=(l=(0,y.decorator)({editorState:(0,b.state)(m,(0,b.props)(h))}),u=(0,E.default)(k.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,v.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.editorState,o=e.entityKey,i=e.renderOnly,s=r.getCurrentContent().getEntity(o).getData().innerHtml;return _.default.createElement("div",{className:this.ss("html-wrapper",i&&"render-only")},_.default.createElement("div",{className:this.ss("html",t&&"focus"),onClick:a,draggable:!!n,onDragStart:n},_.default.createElement("div",{dangerouslySetInnerHTML:{__html:JSON.parse((0,w.default)(s))}})))}}]),t}(),d.propTypes={isFocused:g.default.bool,entityKey:g.default.string,renderOnly:g.default.bool,editorKey:g.default.string.isRequired,editorState:g.default.object,focus:g.default.func,onDragStart:g.default.func},c=f))||c)||c);t.default=S},function(e,t){e.exports={"html-wrapper":"html-wrapper_ZQ1LNcZV",html:"html_15lFe79W",focus:"focus_6bDUocUy","render-only":"render-only_2RjGKl1I"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){"atomic"===e.getType()&&e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getType()===c},t)}function o(e){var t=e.tipId,a=e.editorKey,n=e.editorState,r=e.setEditorState,o=n.getSelection().getFocusKey();r({editorKey:a,editorState:(0,u.addAtomicBlockBefore)(n,o,c,{tipId:t})})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editorKey,a=e.renderOnly;if(!t)throw new Error("editorKey is empty");var n=l.default;e.decorator&&(n=e.decorator(n));var u=o;return{decorators:[{strategy:r,component:n=(0,i.default)(n,{editorKey:t,renderOnly:a})}],TipDialog:a?function(){return null}:(0,i.default)(s.default,{editorKey:t,onOK:u})}};var i=n(a(36)),s=n(a(619)),l=n(a(622)),u=a(11),c="TIP"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.tipDialog.parentEditorKey"],["editor.tipDialog.parentEditorKey"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["editor.tipDialog.open"],["editor.tipDialog.open"]),y=s(["editor.tipDialog.tipDialogForm"],["editor.tipDialog.tipDialogForm"]),b=s(["editor.tipDialog.tipId"],["editor.tipDialog.tipId"]),w=s(["httpAPI.",""],["httpAPI.",""]),E=s(["editor.changeTipDialogFormField"],["editor.changeTipDialogFormField"]),k=s(["editor.closeTipDialog"],["editor.closeTipDialog"]),S=s(["editor.addTip"],["editor.addTip"]),O=s(["draft.setEditorState"],["draft.setEditorState"]),T=n(a(2)),P=n(a(0)),j=n(a(1)),C=a(6),I=a(5),N=a(4),M=n(a(81)),D=n(a(57)),x=n(a(47)),R=n(a(52)),L=a(17),A=a(8),F=n(a(3)),K=n(a(620)),q=n(a(7)),z=n(a(621)),B=(l=(0,C.decorator)({parentEditorKey:(0,I.state)(h),editorState:(0,I.state)(_,(0,I.props)(g)),open:(0,I.state)(v),tipDialogForm:(0,I.state)(y),tipId:(0,I.state)(b),tipData:(0,I.state)(w,A.POST_TIP),changeTipDialogFormField:(0,I.signal)(E),closeTipDialog:(0,I.signal)(k),addTip:(0,I.signal)(S),setEditorState:(0,I.signal)(O)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChangeTipType=function(e,t,a){n.props.changeTipDialogFormField({value:a,fieldName:"tipType"})},n.onClose=function(){n.props.closeTipDialog()},n.onOK=function(){if(n.isActive()){var e=n.props,t=e.addTip,a=e.tipDialogForm.tipType;t({type:(0,N.get)(a,"value")})}},i=a,o(n,i)}return i(t,j.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.open,a=(0,N.get)(this.props,"tipId"),n=(0,N.get)(e,"tipId");t&&n&&a!==n&&this.onSuccess(n)}},{key:"onSuccess",value:function(e){if(this.isActive()){var t=this.props.onOK;if(t){var a=this.props;t({editorKey:a.editorKey,editorState:a.editorState,setEditorState:a.setEditorState,tipId:e})}this.onClose()}}},{key:"isActive",value:function(){var e=this.props,t=e.editorKey;return e.parentEditorKey===t}},{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.tipDialogForm,r=t.tipData,o=n.tipValue,i=n.tipType,s=A.TipTypes.map(function(t){return{text:e.__("tip_"+t),value:t}});s.unshift({text:this.__("tip_select_label"),value:""});var l=(0,L.isLoading)((0,N.get)(r,"updateStatus")),u=o.isTouched&&o.errorMessage,c=i.isTouched&&i.errorMessage;return P.default.createElement(M.default,{open:this.isActive()&&a,noScroller:!0,position:"center",onCloseModal:this.onClose},P.default.createElement("div",{className:this.ss("tip-wrapper")},P.default.createElement("div",{className:this.ss("head")},P.default.createElement("div",{className:this.ss("title")},this.__("title_add_tip")),P.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},P.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")}))),P.default.createElement("div",{className:this.ss("content-wrapper")},P.default.createElement("div",{className:this.ss("tip-types",c&&"error")},P.default.createElement(x.default,{theme:"gray",value:(0,N.get)(i,"value"),selects:s,onChange:this.onChangeTipType})),P.default.createElement("div",{className:this.ss("tip-content",u&&"error")},P.default.createElement(R.default,{editorKey:"editorTipBody",value:"",registerActionPath:"editor.changeTipValue",placeholder:this.__("input_placeholder"),theme:"transparent",renderOnly:!1}))),P.default.createElement("div",{className:this.ss("foot")},P.default.createElement("div",{className:this.ss("button")},P.default.createElement(D.default,{theme:"white",size:"xlarge",widthType:"full",label:this.__("button_cancel"),onClick:this.onClose})),P.default.createElement("div",{className:this.ss("button")},P.default.createElement(D.default,{theme:"blue",loading:l,size:"xlarge",widthType:"full",label:this.__("button_ok"),onClick:this.onOK})))))}}]),t}(),f.propTypes={parentEditorKey:T.default.string,editorKey:T.default.string,editorState:T.default.object,open:T.default.bool,tipDialogForm:T.default.object,tipId:T.default.string,tipData:T.default.object,changeTipDialogFormField:T.default.func,closeTipDialog:T.default.func,addTip:T.default.func,setEditorState:T.default.func,onOK:T.default.func},d=p))||d)||d)||d);t.default=B},function(e,t){e.exports={"tip-wrapper":"tip-wrapper_3x_NDtqd",head:"head_2hmICfYO","button-close":"button-close_1zxlnwdY","content-wrapper":"content-wrapper_Qn0ws2A1","tip-types":"tip-types_1stIkd9m",error:"error_3bhzXZED","tip-content":"tip-content_3GTykn9P",foot:"foot_1Uorp9j7",button:"button_30-Wprbl"}},function(e,t){e.exports={title_add_tip:"title_add_tip_wZHZ",button_cancel:"button_cancel_1rm-",button_ok:"button_ok_2DrJ",input_placeholder:"input_placeholder_2t-1",tip_select_label:"tip_select_label_2-We",tip_demo:"tip_demo_1pSt",tip_explain:"tip_explain_3OHS",tip_ask:"tip_ask_1zBJ",tip_warn:"tip_warn_3dFm",tip_review:"tip_review_s4Gk",tip_recap:"tip_recap_3bdf",tip_assess:"tip_assess_57xY"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["editor.tipDialog.tipMap"],["editor.tipDialog.tipMap"]),_=s(["draft.editorStates.",""],["draft.editorStates.",""]),g=s(["editorKey"],["editorKey"]),v=s(["learner.toggleLike"],["learner.toggleLike"]),y=n(a(0)),b=n(a(2)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(52)),T=a(12),P=n(a(3)),j=n(a(623)),C=n(a(7)),I=n(a(624)),N=(l=(0,E.decorator)({tipMap:(0,k.state)(h),editorState:(0,k.state)(_,(0,k.props)(g)),toggleLike:(0,k.signal)(v)}),u=(0,P.default)(j.default),c=(0,C.default)(I.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={show:!1,onDrag:!1},n.onShowTip=function(){n.state.onDrag||n.setState({show:!0})},n.onHiddenTip=function(){n.setState({show:!1})},n.onToggleLike=function(e,t){e&&(0,T.pauseEvent)(e);var a="editor.tipDialog.tipMap."+t+".stats";n.props.toggleLike({id:t,type:"tip",statsPath:a})},n.onDragStart=function(e){n.setState({onDrag:!0}),n.props.onDragStart(e)},n.onDragEnd=function(){n.setState({onDrag:!1})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"renderContent",value:function(){var e=this;if(!this.state.show)return null;var t=this.props,a=t.editorState,n=t.entityKey,r=t.offsetKey,o=t.tipMap,i=t.renderOnly,s=a.getCurrentContent().getEntity(n).getData().tipId,l=(0,S.get)(o,s),u=(0,S.get)(l,"stats.likeCount");return y.default.createElement("div",{className:this.ss("content-wrapper")},y.default.createElement("div",{className:this.ss("content-container")},y.default.createElement("div",{className:this.ss("label")},this.__("type_"+(0,S.get)(l,"type"))),y.default.createElement("div",{className:this.ss("text")},y.default.createElement(O.default,{editorKey:"editorTipBody",offsetKey:r,value:(0,S.get)(l,"body"),renderOnly:!0,theme:"transparent"})),i&&y.default.createElement("a",{onClick:function(t){return e.onToggleLike(t,s)}},y.default.createElement("div",{className:this.ss("like")},y.default.createElement("div",{className:this.ss("like-icon","ifont","ifont-material-outline-thumb_up")}),u))))}},{key:"render",value:function(){var e=this.props,t=e.isFocused,a=e.focus,n=e.onDragStart,r=e.renderOnly,o=this.state.onDrag;return y.default.createElement("div",{className:this.ss("tip-wrapper",o&&"on-drag",r&&"render-only")},y.default.createElement("div",{className:this.ss("tip-container"),draggable:!!n,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onMouseEnter:this.onShowTip,onMouseLeave:this.onHiddenTip},y.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_school",t&&"focus"),onClick:a}),this.renderContent()))}}]),t}(),f.propTypes={tipMap:b.default.object,isFocused:b.default.bool,entityKey:b.default.string,offsetKey:b.default.string,renderOnly:b.default.bool,editorKey:b.default.string.isRequired,editorState:b.default.object,focus:b.default.func,onDragStart:b.default.func,toggleLike:b.default.func},d=p))||d)||d)||d);t.default=N},function(e,t){e.exports={"tip-wrapper":"tip-wrapper_3_ZxIEgG","on-drag":"on-drag_2023us39",icon:"icon_vtFjy2lE",focus:"focus_X84OQr5j","content-wrapper":"content-wrapper_3TQJXrEt","render-only":"render-only_3IfPyNEt","tip-container":"tip-container_1ViYu7XT","content-container":"content-container_3Eo6qblW",label:"label_IqC2kebK",text:"text_1ij75yKA",like:"like_hhireHlu","like-icon":"like-icon_2XfywtW5"}},function(e,t){e.exports={type_demo:"type_demo_3rM0",type_explain:"type_explain_1scP",type_ask:"type_ask_1_qB",type_warn:"type_warn_3LqZ",type_review:"type_review_6T21",type_recap:"type_recap_3-ou",type_assess:"type_assess_2K2T"}},function(e,t){e.exports={"editor-container":"editor-container_bCHle8dU","render-only":"render-only_3sY_iwv5","learn-edit":"learn-edit_SAHoxe3p","title-wrap":"title-wrap_Mvv7jlH5","step-top":"step-top_3Qlu4P-y","step-title":"step-title_2djGgyOU","step-option":"step-option_3XabZKL9","step-type":"step-type_2uapUNEf","body-wrap":"body-wrap_3DT3vXiH","title-wrap-inner":"title-wrap-inner_vGOszy9R","article-title":"article-title_12Dzd1JV","step-index":"step-index_3pnc7n2S","operate-wrap":"operate-wrap_354JFxeP","operate-item":"operate-item_3uNVhOzv",icon:"icon_3m2vv52T",num:"num_JE_GyJuc","fold-wrap":"fold-wrap_1F5VhCWi",collapsed:"collapsed_ABtL0EHa","path-stream-wrap":"path-stream-wrap_1QznhIIZ","path-stream":"path-stream_3qQiTt34","buttons-wrapper":"buttons-wrapper_1naNN5OA",collapse:"collapse_3cGzq1Id",expand:"expand_254d_njO",delete:"delete_3JZUvqDW","form-field":"form-field_2lqygEPf",submission:"submission_3q--jcgS","submission-type-note":"submission-type-note_VT2oq2Hh","form-field-title":"form-field-title_1SgZB4XB","form-field-content":"form-field-content_1G9CXOmp","input-wrapper":"input-wrapper_1PX9JIV3",error:"error_2AadntVi","step-option-type":"step-option-type_2tMa52ke"}},function(e,t){e.exports={tutorial_step_title_placeholder:"tutorial_step_title_placeholder_2YQD",tutorial_step_body_placeholder:"tutorial_step_body_placeholder_3wBI",step_index:"step_index_Ospi",step_title_index:"step_title_index_Bt_C",step_title_lab:"step_title_lab_2QiY",field_labUrl_title:"field_labUrl_title_1xja",labUrl_placeholder:"labUrl_placeholder_3kO7",tutorial_lab_title_placeholder:"tutorial_lab_title_placeholder_2awa",tutorial_lab_body_placeholder:"tutorial_lab_body_placeholder_3oM6",submission_none:"submission_none_2f99",submission_type_media:"submission_type_media_19cp",submission_type_webgl:"submission_type_webgl_2-Zn",step_title_submission:"step_title_submission_1aPN",submission_placeholder:"submission_placeholder_3BqM",tutorial_submission_body_placeholder:"tutorial_submission_body_placeholder_1O2G",step_type_tutorial:"step_type_tutorial__XqQ",step_type_lab:"step_type_lab_2-0S",step_type_submission:"step_type_submission_1aLl",step_option_required:"step_option_required_a1fd",step_option_optional:"step_option_optional_RjvK",note_submission_type_media:"note_submission_type_media_3sjJ",note_submission_type_webgl:"note_submission_type_webgl_25R-",step_option_type_optional:"step_option_type_optional_1B2a"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["id"],["id"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["learner.toggleTutorialRecord"],["learner.toggleTutorialRecord"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(16)),T=a(8),P=a(17),j=n(a(3)),C=n(a(663)),I=n(a(7)),N=n(a(664)),M=(l=(0,E.decorator)({record:(0,k.state)(h,(0,k.props)(_)),toggleRecordData:(0,k.state)(g,T.TOGGLE_TUTORIAL_RECORD),toggleTutorialRecord:(0,k.signal)(v)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.toggleTutorialRecord,o=e.versionId;r&&r({id:t,type:a,versionId:o})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.record,a=e.toggleRecordData,n=e.theme,r=(0,S.get)(t,"completed"),o=(0,P.isLoading)((0,S.get)(a,"updateStatus")),i=r?"button_restart":"button_mark_completed",s="architecture"===n?"architecture_":"";return b.default.createElement("div",{className:this.ss("record-button")},b.default.createElement(O.default,{key:"btn_start",widthStyle:"full",loading:o,label:this.__(""+s+i),onClick:this.onToggleRecord}))}}]),t}(),f.propTypes={id:y.default.string.isRequired,type:y.default.string,record:y.default.object,toggleRecordData:y.default.object,versionId:y.default.string,theme:y.default.oneOf(["default","architecture"]),toggleTutorialRecord:y.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=M},function(e,t){e.exports={"payment-cover":"payment-cover_EKLEnNEo","cover-banner":"cover-banner_FjTLZosE","login-banner":"login-banner_1yX7MuJm","login-banner-link":"login-banner-link_28P-_0Ch","banner-word":"banner-word_31RHpWRA",button:"button_2cYo3PJm","button-free":"button-free_7pQ17iFw","button-more":"button-more_ynguJtvu"}},function(e,t){e.exports={login_banner_left:"login_banner_left_2IU1",login_banner_right:"login_banner_right_lR6O",banner_word_first_line:"banner_word_first_line_3p7i",banner_word_second_line:"banner_word_second_line_1Dk2"}},function(e,t){e.exports={"plan-wrap":"plan-wrap_3kDwtq3r",architecture:"architecture_II-DNmS3","render-only":"render-only_2lGQmov5","section-title":"section-title_DuRdBlv7","content-editor":"content-editor_31mXFHZx","create-plan":"create-plan_3ers8glt","section-description":"section-description_i5uZ6HwP","section-downloads":"section-downloads_13e6QZss","required-complete":"required-complete_13zzTbIV","remove-educator-plan":"remove-educator-plan_1x_i2u_D","remove-icon":"remove-icon_3rwheQoz","background-img":"background-img_2UxKLEIu","background-mask":"background-mask_3kKKp3Im","reveal-solution-description":"reveal-solution-description_4AUD7LN-","reveal-solution-btn":"reveal-solution-btn_10gXNww6","form-field-materials":"form-field-materials_2AivYRfZ","form-field-content":"form-field-content_3LuzHTn8","form-field-title":"form-field-title_2zxXrY1e","form-field-des":"form-field-des_3wZGwxO5"}},function(e,t){e.exports={solution_section_title:"solution_section_title_WSXs",solution_section_description:"solution_section_description_2nHq",solution_placeholder:"solution_placeholder_3C_s",required_complete_description:"required_complete_description_21NC",remove_solution_plan:"remove_solution_plan_1Ac8",reveal_solution_description:"reveal_solution_description_3iKY",reveal_solution_button:"reveal_solution_button_qm6M",solution_materials_title:"solution_materials_title_JEwv",solution_materials_des:"solution_materials_des_9N7B"}},,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["learner.recordMap.",""],["learner.recordMap.",""]),_=s(["id"],["id"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["learner.toggleStepRecord"],["learner.toggleStepRecord"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(16)),T=a(8),P=a(17),j=n(a(3)),C=n(a(659)),I=n(a(7)),N=n(a(660)),M=(l=(0,E.decorator)({record:(0,k.state)(h,(0,k.props)(_)),toggleRecordData:(0,k.state)(g,T.TOGGLE_STEP_RECORD),toggleStepRecord:(0,k.signal)(v)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.stepId,o=e.toggleStepRecord,i=e.versionId;o&&o({id:t,type:a,stepId:r,versionId:i})},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.stepId,a=e.record,n=e.toggleRecordData,r=(0,S.get)(a,"steps."+t+".completed"),o=(0,P.isLoading)((0,S.get)(n,"updateStatus"));return b.default.createElement("div",{className:this.ss("record-button")},b.default.createElement(O.default,{key:"btn_start",widthStyle:"full",loading:o,theme:r?"blue-border":"primary",label:this.__(r?"button_mark_incompleted":"button_mark_completed"),onClick:this.onToggleRecord}))}}]),t}(),f.propTypes={id:y.default.string.isRequired,type:y.default.string,record:y.default.object,stepId:y.default.string,toggleRecordData:y.default.object,versionId:y.default.string,toggleStepRecord:y.default.func},d=p))||d)||d)||d);t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["loginUser"],["loginUser"]),g=s(["learner.recordMap.",""],["learner.recordMap.",""]),v=s(["id"],["id"]),y=s(["httpAPI.",""],["httpAPI.",""]),b=s(["submission.isValidSubmissionForm"],["submission.isValidSubmissionForm"]),w=s(["learner.toggleStepRecord"],["learner.toggleStepRecord"]),E=s(["submission.saveForm"],["submission.saveForm"]),k=s(["common.loginTo"],["common.loginTo"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(16)),N=a(8),M=a(17),D=n(a(3)),x=n(a(661)),R=n(a(7)),L=n(a(662)),A=(l=(0,P.decorator)({loginUser:(0,j.state)(_),record:(0,j.state)(g,(0,j.props)(v)),toggleRecordData:(0,j.state)(y,N.TOGGLE_STEP_RECORD),isValidSubmissionForm:(0,j.state)(b),toggleStepRecord:(0,j.signal)(w),saveForm:(0,j.signal)(E),loginTo:(0,j.signal)(k)}),u=(0,D.default)(x.default),c=(0,R.default)(L.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onToggleRecord=function(){var e=n.props,t=e.id,a=e.type,r=e.stepId,o=e.toggleStepRecord,i=e.record,s=e.saveForm,l=e.isValidSubmissionForm,u=e.submissionType,c=e.versionId,d=(0,C.get)(i,"steps."+r+".completed");(d||l)&&(o&&o({id:t,type:a,stepId:r,versionId:c}),d||s({submissionType:u}))},i=a,o(n,i)}return i(t,T.default),h(t,[{key:"renderRecordButton",value:function(){var e=this.props,t=e.loginUser,a=e.loginTo,n=e.stepId,r=e.record,o=e.toggleRecordData,i=e.isValidSubmissionForm;if(!t)return O.default.createElement(I.default,{widthStyle:"full",label:this.__("button_submission_sign_in"),onClick:function(){return a()}});var s=(0,C.get)(r,"steps."+n+".completed"),l={key:"btn_toggle_complete",widthStyle:"full",loading:(0,M.isLoading)((0,C.get)(o,"updateStatus")),onClick:this.onToggleRecord};return s?O.default.createElement(I.default,m({},l,{theme:"blue-border",label:this.__("button_submission_mark_incompleted")})):O.default.createElement(I.default,m({},l,{disabled:!i,theme:"primary",label:this.__("button_submission_mark_completed")}))}},{key:"render",value:function(){return O.default.createElement("div",{className:this.ss("record-button")},this.renderRecordButton())}}]),t}(),f.propTypes={loginUser:S.default.object,id:S.default.string.isRequired,type:S.default.string,submissionType:S.default.string,record:S.default.object,stepId:S.default.string,toggleRecordData:S.default.object,isValidSubmissionForm:S.default.bool,versionId:S.default.string,toggleStepRecord:S.default.func,saveForm:S.default.func,loginTo:S.default.func},d=p))||d)||d)||d);t.default=A},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentHead=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=s(["comment.focusComponent"],["comment.focusComponent"]),b=s(["comment.markComponentFocused"],["comment.markComponentFocused"]),w=s(["comment.componentFocused"],["comment.componentFocused"]),E=s(["tutorialData"],["tutorialData"]),k=n(a(2)),S=n(a(0)),O=a(6),T=a(5),P=n(a(1)),j=a(4),C=n(a(30)),I=n(a(15)),N=n(a(665)),M=a(363),D=n(a(3)),x=n(a(667)),R=(l=(0,O.decorator)({focusComponent:(0,T.state)(y),markComponentFocused:(0,T.signal)(b),componentFocused:(0,T.state)(w)}),u=(0,D.default)(x.default),l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),v(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.focusComponent,a=e.markComponentFocused,n=e.componentFocused;t&&!n&&(this.scrollTo(t),a())}},{key:"scrollTo",value:function(e){this.refs.scroller&&this.refs.scroller.scrollTo(e)}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.scrollToStep;return S.default.createElement(N.default,null,S.default.createElement(L,{type:t}),S.default.createElement(C.default,{ref:"scroller"},S.default.createElement(M.LearnComment,{type:t,scrollToStep:a})))}}]),t}(),d.propTypes={id:k.default.string,type:k.default.string,scrollToStep:k.default.func,markComponentFocused:k.default.func,focusComponent:k.default.number,componentFocused:k.default.bool},d.defaultProps={},c=f))||c)||c);t.default=R;var L=t.CommentHead=(p=(0,O.decorator)({tutorialData:(0,T.state)(E)}),m=(0,D.default)(x.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,P.default),v(t,[{key:"render",value:function(){var e=this.props.tutorialData;if(!e)return null;var t=(0,j.get)(e,"title")||"",a=(0,j.get)(e,"thumbnail.url")||"";return S.default.createElement("div",{className:this.ss("comment-head")},S.default.createElement("div",{className:this.ss("thumbnail")},S.default.createElement(I.default,{src:a,sizes:"89px",width:89,height:50})),S.default.createElement("div",{className:this.ss("brief-info")},S.default.createElement("div",{className:this.ss("title")},t)))}}]),t}(),_.propTypes={type:k.default.string,tutorialData:k.default.object},h=g))||h)||h)},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){var a=e.get([].concat(k,["listName"]));a&&e.set([].concat(k,["listMap",a]),t)}function i(e){return{description:e.get(S).description.value}}function s(e,t){var a=e.get("tutorialData"),n=(0,g.get)(a,"id"),r=(0,g.get)(a,"type"),o=(0,g.get)(t,"id");return{id:n,type:r,sectionId:(0,g.get)(t,"stepId"),itemId:(0,y.GetItemIdByType)({id:o,type:E.DataTypeKeys.submission})}}function l(e){var t=e.get(S);return!!((0,g.get)(t,"description.value")||"").trim()&&(0,_.isValidForm)(t)}function u(e,t){var a=f(d(e,(0,g.get)(t,"id"))),n=e.get(S);return Object.keys(n).every(function(e){return a[e].value===n[e].value})}function c(e){return[function(t){var a=t.props;return{field:[].concat(S,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(_.chains.fieldChanged),[_.chains.validate])}function d(e,t){var a=e.get(k)||{},n=(0,g.get)(a,"listName"),r=(0,g.get)(a,["listMap",n])||{};return(0,g.get)(r,"contentMap.listItemMap."+t)}function f(e){return(0,_.Form)({description:{value:(0,g.get)(e,"description",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0}})}function p(e){var t=e.state;t.get([].concat(k,["featuredFormShow"]))||t.set([].concat(k,["featuredFormShow"]),!0)}function m(e){var t=e.controller.getSignal("submission.closeSubmissionDetail");t&&t()}Object.defineProperty(t,"__esModule",{value:!0});var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.submissionFormSaveStatus=u,t.ClearFeatured=function(e){e.set([].concat(k,["featuredFormShow"]),!1),e.set([].concat(k,["featuredForm"]),f({}))};var _=a(13),g=a(4),v=a(10),y=a(9),b=n(a(18)),w=n(a(35)),E=a(8),k=["featured"],S=["featured","featuredForm"],O={schema:E.POST_FEATURED_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props;return{endpoint:"/api/learn/featured/saveLearnList",params:h({},i(t),s(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.controller;200===t&&a&&(o(n,a),m({controller:r}))},onError:(0,y.onError)("featured")},T={schema:E.DELETE_FEATURED_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/featured/saveLearnList/delete",params:s(e.state,e.props)}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&o(n,a)},onError:(0,y.onError)("featured")},P=[function(){return{formPath:S}}].concat(r(_.chains.formValidated),[function(e){var t=e.state,a=e.props,n=e.path;return u(t,a)?n.no():n.yes()},{yes:(0,v.CallHTTP)(O),no:[]}]);t.default={name:e,depends:[],signals:{changeFormField:c(),changeDescription:c("description"),showFeaturedForm:w.default.LoginRequired([p]),checkFormStatus:[function(e){var t=e.state;l(t)?t.set([].concat(k,["isValidFeaturedForm"]),!0):t.set([].concat(k,["isValidFeaturedForm"]),!1)}],saveForm:w.default.LoginRequired(P),openSubmissionWithFeatured:[function(e){var t=e.state,a=e.props,n=(0,g.get)(a,"id"),r=(0,g.get)(a,"showFeaturedForm"),o=d(t,n);if(o){p({state:t});var i=f(o);t.set(S,(0,_.Form)(i))}r&&p({state:t})},function(e){var t=e.props,a=e.controller,n=a.getSignal("submission.openSubmissionDetail"),r=a.getSignal("submission.syncToLocation");n&&n(t),r&&r(t)}],deleteFeaturedSubmissionConfirm:[b.default.DeleteConfirmed("featured.deleteFeaturedSubmission")],deleteFeaturedSubmission:w.default.LoginRequired((0,v.CallHTTP)(T))},getServices:function(){return{}},getState:function(){return{featuredForm:f({}),featuredFormShow:!1}}}}).call(t,"views/learn/modules/submission/SubmissionFeaturedStore.js")},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(e){for(var t=(new Date).getTime(),a=t;a<t+e;)a=(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.RadioButtonGroup=t.SubmissionWebGLForm=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=s(["submission.submissionForm"],["submission.submissionForm"]),j=s(["submissionData"],["submissionData"]),C=s(["submission.changeFormField"],["submission.changeFormField"]),I=s(["submission.saveForm"],["submission.saveForm"]),N=s(["submission.checkFormStatus"],["submission.checkFormStatus"]),M=s(["submission.submissionWebGLForm"],["submission.submissionWebGLForm"]),D=s(["submission.changeWebGLFormField"],["submission.changeWebGLFormField"]),x=s(["submission.checkWebGLFormStatus"],["submission.checkWebGLFormStatus"]),R=s(["submission.uploadWebGL"],["submission.uploadWebGL"]),L=n(a(2)),A=n(a(0)),F=n(a(1)),K=a(6),q=a(5),z=a(4),B=n(a(34)),U=n(a(109)),H=n(a(52)),V=n(a(139)),G=n(a(638)),W=a(75),Q=a(8),J=n(a(3)),Y=n(a(641)),X=n(a(7)),Z=n(a(642)),$=(u=(0,K.decorator)({form:(0,q.state)(P),submissionData:(0,q.state)(j),changeFormField:(0,q.signal)(C),saveForm:(0,q.signal)(I),checkFormStatus:(0,q.signal)(N)}),c=(0,J.default)(Y.default),d=(0,X.default)(Z.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onSave=function(){var e=n.props,t=e.submissionType,a=e.saveForm;a&&a({submissionType:t})},i=a,o(n,i)}return i(t,F.default),T(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkFormStatus(),window.onbeforeunload=function(){return e.onBeforeLeave()}}},{key:"componentDidUpdate",value:function(){this.props.checkFormStatus()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onBeforeLeave",value:function(){return this.onSave(),l(200),null}},{key:"renderTextAreaEditor",value:function(){var e=this.props,t=e.disabled,a=e.submissionData,n=(0,z.get)(a,"description")||"";n||(n='{"blocks":[{"key":"b0000","text":"","type":"unstyled","depth":0,"entityRanges":null,"inlineStyleRanges":null}],"entityMap":{}}');var r={value:n,placeholder:this.__("submission_description_placeholder"),editorKey:"submissionFormEditorKey",registerActionPath:"submission.changeDescriptionField",theme:"transparent-submission"};return t?A.default.createElement(H.default,O({key:"text-area-render-only",renderOnly:!0},r)):A.default.createElement(H.default,O({key:"text-area-edit",renderOnly:!1},r))}},{key:"renderUploadField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=e.submissionData,o=(0,z.get)(r,"type")||Q.DataTypeKeys.submission,i=(0,z.get)(a,"mediaContents");return A.default.createElement("div",{className:this.ss("form-field","field-media")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_upload")),A.default.createElement(G.default,{learnResourceType:o,uploaderKey:"submission_media",disabled:t,value:i.value,onChange:function(e){return n({value:e,fieldName:"mediaContents"})}}))}},{key:"renderTitleField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"title.value")||"";return A.default.createElement("div",{className:this.ss("form-field","field-title")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_title")),A.default.createElement("div",{className:this.ss("input","text-input",t&&"disabled")},A.default.createElement(B.default,{size:"medium",theme:"border-gray",disabled:t,value:r,placeholder:this.__("submission_title_placeholder"),onChange:function(e,t){return n({value:t,fieldName:"title"})}})))}},{key:"renderDescriptionField",value:function(){var e=this.props.disabled;return A.default.createElement("div",{className:this.ss("form-field","field-description")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_description")),A.default.createElement("div",{className:this.ss("input","text-area-input",e&&"render-only")},this.renderTextAreaEditor()))}},{key:"renderPermissionField",value:function(){var e=this,t=this.props,a=t.disabled,n=t.form,r=t.changeFormField,o=(0,z.get)(n,"permission"),i=Q.SubmissionPermissions.map(function(t){return{value:t,label:e.__("permission_"+t),hint:e.__("permission_"+t+"_hint")}});return A.default.createElement("div",{className:this.ss("form-field","field-permission")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_permission")),A.default.createElement("div",{className:this.ss("content")},A.default.createElement(ee,{disabled:a,options:i,value:o.value,onChange:function(e){return r({value:e,fieldName:"permission"})}})))}},{key:"render",value:function(){return A.default.createElement("div",{className:this.ss("submission-container")},A.default.createElement("div",{className:this.ss("submission-form")},A.default.createElement("div",{className:this.ss("your-submission")},this.__("your_submission")),this.renderUploadField(),this.renderTitleField(),this.renderDescriptionField(),this.renderPermissionField()))}}]),t}(),p.propTypes={disabled:L.default.bool,submissionType:L.default.string,actionId:L.default.string,actionType:L.default.string,form:L.default.object,submissionData:L.default.object,changeFormField:L.default.func,saveForm:L.default.func,checkFormStatus:L.default.func},f=m))||f)||f)||f);t.default=$;t.SubmissionWebGLForm=(h=(0,K.decorator)({form:(0,q.state)(M),submissionData:(0,q.state)(j),changeFormField:(0,q.signal)(D),saveForm:(0,q.signal)(I),checkFormStatus:(0,q.signal)(x),uploadWebGL:(0,q.signal)(R)}),_=(0,J.default)(Y.default),g=(0,X.default)(Z.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onSave=function(){var e=n.props,t=e.submissionType,a=e.saveForm;a&&a({submissionType:t})},i=a,o(n,i)}return i(t,F.default),T(t,[{key:"componentDidMount",value:function(){var e=this;this.props.checkFormStatus(),window.onbeforeunload=function(){return e.onBeforeLeave()}}},{key:"componentDidUpdate",value:function(){this.props.checkFormStatus()}},{key:"componentWillUnmount",value:function(){window.onbeforeunload=null}},{key:"onBeforeLeave",value:function(){return this.onSave(),l(200),null}},{key:"renderUploadField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"webGLProject.value");return A.default.createElement("div",{className:this.ss("form-field","field-webgl")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_upload_webgl")),A.default.createElement(W.AddWebGLProject,{disabled:t,value:r,onChange:function(e){n({value:e,fieldName:"webGLProject"})}}))}},{key:"renderAdditionalDescriptionField",value:function(){var e=this.props,t=e.disabled,a=e.form,n=e.changeFormField,r=(0,z.get)(a,"additionalDescription.value")||"";return A.default.createElement("div",{className:this.ss("form-field","field-description")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_additional_description")),A.default.createElement("div",{className:this.ss("input","text-area-input")},A.default.createElement(U.default,{theme:"submission",limit:300,disabled:t,placeholder:this.__("submission_additional_description_placeholder"),value:r,onChange:function(e,t){return n({value:t,fieldName:"additionalDescription"})}})))}},{key:"renderPermissionField",value:function(){var e=this,t=this.props,a=t.disabled,n=t.form,r=t.changeFormField,o=(0,z.get)(n,"permission"),i=Q.SubmissionPermissions.map(function(t){return{value:t,label:e.__("permission_"+t),hint:e.__("permission_"+t+"_hint")}});return A.default.createElement("div",{className:this.ss("form-field","field-permission")},A.default.createElement("div",{className:this.ss("label")},this.__("submission_permission")),A.default.createElement("div",{className:this.ss("content")},A.default.createElement(ee,{disabled:a,options:i,value:o.value,onChange:function(e){return r({value:e,fieldName:"permission"})}})))}},{key:"render",value:function(){return A.default.createElement("div",{className:this.ss("submission-container")},A.default.createElement("div",{className:this.ss("submission-form")},A.default.createElement("div",{className:this.ss("your-submission")},this.__("your_submission")),this.renderUploadField(),this.renderAdditionalDescriptionField(),this.renderPermissionField()))}}]),t}(),y.propTypes={disabled:L.default.bool,submissionType:L.default.string,actionId:L.default.string,actionType:L.default.string,form:L.default.object,submissionData:L.default.object,changeFormField:L.default.func,saveForm:L.default.func,checkFormStatus:L.default.func,uploadWebGL:L.default.func},v=b))||v)||v)||v);var ee=t.RadioButtonGroup=(w=(0,J.default)(Y.default))((S=k=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onChange=function(e){var t=n.props,a=t.onChange,r=t.onSave;a&&a(e),r&&r(e)},n.handleCheck=function(e,t){e.preventDefault(),t!==n.props.value&&n.onChange(t)},i=a,o(n,i)}return i(t,F.default),T(t,[{key:"renderRatioButton",value:function(e){var t=this.props,a=t.disabled,n=t.value,r=(0,z.get)(e,"value"),o=(0,z.get)(e,"label"),i=(0,z.get)(e,"hint");return A.default.createElement(V.default,{disabled:a,key:"radio-button-"+r,onCheck:this.handleCheck,isChecked:n===r,value:r},A.default.createElement("div",{className:this.ss("radioButton-text")},A.default.createElement("div",{className:this.ss("permission-type-text")},o),A.default.createElement("div",{className:this.ss("permission-type-hint")},i)))}},{key:"render",value:function(){var e=this,t=this.props.options;if(0===t.length)return null;var a=t.map(function(t){return e.renderRatioButton(t)});return A.default.createElement("div",{className:this.ss("radio-group")},a)}}]),t}(),k.propTypes={disabled:L.default.bool,value:L.default.string,options:L.default.array,onChange:L.default.func,onSave:L.default.func},k.defaultProps={options:[]},E=S))||E},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c,d,f,p,m,h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},_=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=l(["upload.uploads"],["upload.uploads"]),v=l(["upload.uploadRecord"],["upload.uploadRecord"]),y=l(["upload.retryUploadRecord"],["upload.retryUploadRecord"]),b=l(["header.showMessage"],["header.showMessage"]),w=l(["editor.uploadVideo.url"],["editor.uploadVideo.url"]),E=l(["editor.uploadVideo.",".uploadingId"],["editor.uploadVideo.",".uploadingId"]),k=l(["uploaderKey"],["uploaderKey"]),S=l(["editor.clearUploadVideo"],["editor.clearUploadVideo"]),O=l(["editor.addEmbedAuto"],["editor.addEmbedAuto"]),T=l(["editor.changeVideoUrl"],["editor.changeVideoUrl"]),P=l(["common.openPreviewMediaPopup"],["common.openPreviewMediaPopup"]),j=n(a(0)),C=n(a(2)),I=n(a(1)),N=a(6),M=a(5),D=a(4),x=n(a(44)),R=n(a(15)),L=n(a(34)),A=a(17),F=a(12),K=a(8),q=n(a(3)),z=n(a(639)),B=n(a(7)),U=n(a(640)),H="Files",V=K.MediaCommonSize.width,G=K.MediaCommonSize.height,W=8,Q=(u=(0,N.decorator)({uploads:(0,M.state)(g),uploadRecord:(0,M.signal)(v),retryUploadRecord:(0,M.signal)(y),showMessage:(0,M.signal)(b),url:(0,M.state)(w),uploadingId:(0,M.state)(E,(0,M.props)(k)),clearUploadVideo:(0,M.signal)(S),addEmbedAuto:(0,M.signal)(O),changeVideoUrl:(0,M.signal)(T),openPreviewMediaPopup:(0,M.signal)(P)}),c=(0,q.default)(z.default),d=(0,B.default)(U.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,s;o(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={counter:0,uploadIds:[]},n.onFilesChange=function(e){if(e&&e.target){var t=(0,D.get)(e.target,"files")||[];n.uploadFiles(t),n.refs.filesSelect.value=null}},n.onPaste=function(e){e&&(0,F.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.addEmbedAuto({url:t})},n.onKeyDown=function(e){switch(e.keyCode){case 13:n.addEmbedAuto({url:e.target.value})}},n.onChange=function(e,t){n.props.changeVideoUrl({value:t})},n.onDragOver=function(e){e&&(0,F.pauseEvent)(e)},n.onDragEnter=function(e){e&&(0,F.pauseEvent)(e),n.addCounter(1)},n.onDragLeave=function(e){e&&(0,F.pauseEvent)(e),n.addCounter(-1)},n.onDrop=function(e){e&&(0,F.pauseEvent)(e),n.setState({counter:0}),n.onHandleDrop(e)},n.onHandleDrop=function(e){var t=n.props.uploads[n.state.uploadId];if((!t||!(0,A.isLoading)(t.status))&&e&&e.dataTransfer){var a=e.dataTransfer||{},r=a.files,o=void 0===r?[]:r,i=a.types,s=void 0===i?[]:i,l=s.contains,u=s.indexOf;(l&&l(H)||u&&-1!==s.indexOf(H))&&n.uploadFiles(o)}},n.getFiles=function(e){return[].concat(r(e)).map(function(e){var t=window.URL.createObjectURL(e),a=(0,D.get)(e,"type").indexOf("video/")>-1?"videoattachment":"image";return{id:Date.now()+"_"+Math.random().toString().slice(2,6),file:e,dataUrl:t,uploadType:a}})},n.addEmbedAuto=function(e){var t=n.props,a=t.uploaderKey,r=t.addEmbedAuto,o=t.learnResourceType;n.isOverMax()||r&&r(h({uploaderKey:a,learnResourceType:o},e))},n.isOverMax=function(){var e=n.props,t=e.value,a=e.showMessage;return(t||[]).length>=W&&(a&&a({message:"files_max_length_"+W}),!0)},n.handlePreview=function(e){var t=n.props;(0,t.openPreviewMediaPopup)({mediaContent:e,mediaContents:t.value})},n.openUpload=function(){n.refs.filesSelect&&n.refs.filesSelect.click()},n.internalUploadRecord=function(e){var t=e.upload,a=n.props,r=a.uploadRecord,o=a.uploadMedia,i=a.learnResourceType;o?o({upload:t,learnResourceType:i}):r&&r({upload:t,learnResourceType:i})},n.syncContentToData=function(e){var t=n.props,a=t.onChange,r=t.onSave,o=(0,D.get)(n.props,"value")||[],i=(0,D.get)(e,"id"),s=o.some(function(e){return(0,D.get)(e,"id")===i});if(a){var l=o;s?l=l.filter(function(e){return(0,D.get)(e,"id")!==i}):l.unshift(e),a(l),r&&r(l)}},n.syncStateUploadIds=function(e){var t=n.state.uploadIds,a=(0,D.get)(e,"id"),r=t;t.includes(a)?r=r.filter(function(e){return e!==a}):r.push(a),n.setState({uploadIds:r})},s=a,i(n,s)}return s(t,I.default),_(t,[{key:"componentDidMount",value:function(){this.checkUpload()}},{key:"componentDidUpdate",value:function(){this.checkUpload()}},{key:"addCounter",value:function(e){var t=this.state.counter;this.setState({counter:t+e})}},{key:"uploadFiles",value:function(e){var t=this,a=this.props.showMessage,n=((0,D.get)(this.props,"value")||[]).length;e.length+n>W?a&&a({message:"files_max_length_"+W}):this.getFiles(e).forEach(function(e){t.syncStateUploadIds(e),t.internalUploadRecord({upload:e})})}},{key:"checkUpload",value:function(){var e=this,t=this.props,a=t.uploaderKey,n=t.uploads,r=t.uploadingId,o=t.clearUploadVideo,i=this.state.uploadIds;(0,D.forEach)(i,function(t){var a=(0,D.get)(n,t);a&&a.content&&(e.syncContentToData(a.content),e.syncStateUploadIds(a))});var s=r&&n[r];s&&s.content&&o&&(this.syncContentToData(s.content),o({uploaderKey:a}))}},{key:"clear",value:function(e){var t=e.e,a=e.upload,n=e.mediaContent;t.preventDefault(),this.setState({counter:0}),a&&this.syncStateUploadIds(a),n&&this.syncContentToData(n)}},{key:"retry",value:function(e,t){e.preventDefault(),this.isOverMax()||this.props.retryUploadRecord&&this.props.retryUploadRecord(t)}},{key:"renderLoading",value:function(e){var t=(0,D.get)(e,"loaded")||0,a=(0,D.get)(e,"total")||1,n=(0,D.get)(e,"uploadType")||"",r=100*t/a,o="";return"image"===n?o=this.__("image_uploading"):"videoattachment"===n&&(o=this.__("video_uploading")),j.default.createElement("div",{className:this.ss("loading-wrap")},j.default.createElement("div",{className:this.ss("label")},o),j.default.createElement("div",{className:this.ss("loading-bar")},j.default.createElement("div",{className:this.ss("loading"),style:{width:r+"%"}})))}},{key:"renderInputLoading",value:function(e){return e?j.default.createElement("div",{className:this.ss("input-loading-wrap")},j.default.createElement("div",{className:this.ss("loading")})):null}},{key:"renderFailed",value:function(e){var t=this,a=(0,D.get)(e,"uploadType")||"",n="",r="";return"image"===a?(n=this.__("image_uploading_failed"),r=this.__("image_uploading_retry")):"videoattachment"===a&&(n=this.__("video_uploading_failed"),r=this.__("video_uploading_retry")),j.default.createElement("div",{className:this.ss("failed-wrap")},j.default.createElement("div",{className:this.ss("label")},n),j.default.createElement("button",{className:this.ss("retry-button"),onClick:function(a){return t.retry(a,e)}},j.default.createElement("span",{className:this.ss("retry-button-content")},j.default.createElement("span",{className:this.ss("icon","ifont","ifont-icons_refresh")}),j.default.createElement("span",{className:this.ss("retry-text")},r))))}},{key:"renderAttachmentUploader",value:function(){var e=this.props.disabled,t=this.state.counter,a=e?{}:{onDragOver:this.onDragOver,onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave};return j.default.createElement("div",h({},a,{className:this.ss("uploader-attachment",t>0&&"drag-over",e&&"disabled")}),j.default.createElement("div",{className:this.ss("upload-area")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-upload")}),j.default.createElement("div",{className:this.ss("hint-label")},this.__("hint_drag_drop_label")),j.default.createElement("div",{className:this.ss("hint-text","none")},this.__("hint_drag_drop_text"),j.default.createElement("a",{className:this.ss("alink"),onClick:this.openUpload},this.__("browse")),this.__("period")),j.default.createElement("div",{className:this.ss("hint-upload-link")},j.default.createElement("a",{className:this.ss("alink"),onClick:this.openUpload},this.__("browse_link")))),e&&j.default.createElement("div",{className:this.ss("mask")}))}},{key:"renderLinkUploader",value:function(e,t){var a=this.props,n=a.theme,r=a.disabled;return"videoattachment"===n?null:j.default.createElement("div",{className:this.ss("uploader-video-link")},j.default.createElement("div",{className:this.ss("input")},j.default.createElement(L.default,{ref:"input",theme:"transparent",size:"medium",placeholder:this.__("input_media_url_placeholder"),value:e,disabled:t||r,onKeyDown:this.onKeyDown,onChange:this.onChange,onPaste:this.onPaste}),this.renderInputLoading(t)))}},{key:"renderUploader",value:function(){var e=this,t=this.props,a=t.theme,n=t.uploads,r=t.uploadingId,o=t.url,i=n[r],s=(0,A.isLoading)(i&&i.status);return j.default.createElement("div",{className:this.ss("uploader","uploader-drop-wrapper",a)},this.renderAttachmentUploader(s),j.default.createElement("div",{className:this.ss("uploader-or")},this.__("uploader_or")),this.renderLinkUploader(o,s),j.default.createElement("input",{className:this.ss("hide"),multiple:"multiple",type:"file",ref:"filesSelect",accept:"video/*, image/*",onChange:function(t){return e.onFilesChange(t)}}))}},{key:"renderMediaContent",value:function(e){if(!e)return null;if("img"===(0,D.get)(e,"type")){var t=(0,D.get)(e,"thumbnail.url")||"";return j.default.createElement(R.default,{src:t,sizes:V+"px",width:V,height:G})}return j.default.createElement(x.default,{theme:"media",renderOnly:!1,videoContent:e})}},{key:"renderUploadPreviewItem",value:function(e){var t=this,a=e.upload,n=e.mediaContent;if(!n&&!a)return null;var r=this.props.disabled,o=void 0,i=void 0,s=!1,l=!1;if(n)o=(0,D.get)(n,"id"),i=this.renderMediaContent(n),s=!0,l=!0;else if(a){o=(0,D.get)(a,"id");var u=(0,D.get)(a,"uploadType"),c=null;if("image"===u){var d=(0,D.get)(a,"dataUrl");c=j.default.createElement(R.default,{src:d,sizes:V+"px",width:V,height:G})}else"videoattachment"===u&&(c=j.default.createElement("div",{style:{paddingBottom:100*G/V+"%"}}));var f=(0,A.isLoading)(a.status),p=(0,A.isFailed)(a.status);!f&&p&&(s=!0),i=j.default.createElement("div",{className:this.ss("media-uploaded")},c,j.default.createElement("div",{className:this.ss("loading-content")},f&&this.renderLoading(a),p&&this.renderFailed(a)))}if(!i)return null;var m=j.default.createElement("button",{className:this.ss("button-close"),onClick:function(e){return t.clear({e:e,upload:a,mediaContent:n})}},j.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close2")})),h=j.default.createElement("button",{className:this.ss("button-preview"),onClick:l?function(){return t.handlePreview(n)}:void 0});return j.default.createElement("div",{key:"preview-item-"+o,className:this.ss("upload-preview-item")},j.default.createElement("div",{className:this.ss("content")},j.default.createElement("div",{className:this.ss("content-preview")},i),l&&h,!r&&s&&m))}},{key:"renderUploadPreview",value:function(){var e=this,t=this.props,a=t.uploads,n=t.value,r=this.state.uploadIds,o=[];return(0,D.forEach)(r,function(t){var n=(0,D.get)(a,t);o.push(e.renderUploadPreviewItem({upload:n}))}),(0,D.forEach)(n,function(t,a){o.push(e.renderUploadPreviewItem({mediaContent:t,idx:a}))}),o.filter(function(e){return null!==e}),0===o.length?null:j.default.createElement("div",{className:this.ss("upload-preview")},o)}},{key:"render",value:function(){return j.default.createElement("div",{className:this.ss("upload-media")},this.renderUploader(),this.renderUploadPreview())}}]),t}(),p.propTypes={learnResourceType:C.default.string,uploaderKey:C.default.string,value:C.default.array,onChange:C.default.func,onSave:C.default.func,disabled:C.default.bool,uploads:C.default.object,theme:C.default.oneOf(["default"]),uploadRecord:C.default.func,retryUploadRecord:C.default.func,showMessage:C.default.func,url:C.default.string,uploadingId:C.default.string,clearUploadVideo:C.default.func,addEmbedAuto:C.default.func,changeVideoUrl:C.default.func,uploadMedia:C.default.func,openPreviewMediaPopup:C.default.func},p.defaultProps={theme:"default"},f=m))||f)||f)||f);t.default=Q},function(e,t){e.exports={"upload-media":"upload-media_1bZMcX2M",uploader:"uploader_2ZqlcKFV","uploader-or":"uploader-or_3qBuguRZ","uploader-attachment":"uploader-attachment_306ESdNQ","upload-area":"upload-area_32S4jxm0",icon:"icon_2arXNYfe","hint-label":"hint-label_1MShTdPN","hint-text":"hint-text_e1fmcQgR","hint-upload-link":"hint-upload-link_3BTah4og",mask:"mask_3_zymo4Z","drag-over":"drag-over_1BSXhAwa",disabled:"disabled_mIsn-LOl","upload-preview":"upload-preview_38k5n0QM","upload-preview-item":"upload-preview-item_3xUOtXVn",content:"content_3EvNGlST","button-preview":"button-preview_32Xx3ryL","button-close":"button-close_3FgefDKT","media-uploaded":"media-uploaded_SqfznUcv","loading-content":"loading-content_1XQc48rX","uploader-video-link":"uploader-video-link_1Glr4Yj5",input:"input_2DzW-dYU","input-loading-wrap":"input-loading-wrap_1xOPjj5D",loading:"loading_SvyIGhTw","failed-wrap":"failed-wrap__3AYZ5_i","loading-wrap":"loading-wrap_2SbCUSyO",label:"label_-DzRA8Mo","loading-bar":"loading-bar_3KfC3IO7","retry-button":"retry-button_edEKF0-k","retry-button-content":"retry-button-content_14A9jpmX","retry-text":"retry-text_14CBw2NX",hide:"hide_1uj-DdAe",alink:"alink_3wpsPohr","upload-hint":"upload-hint_10qboKm0"}},function(e,t){e.exports={image_uploading:"image_uploading_3U4I",image_uploading_failed:"image_uploading_failed_3EaJ",image_uploading_retry:"image_uploading_retry_2cW3",video_uploading:"video_uploading_10ie",video_uploading_failed:"video_uploading_failed_1qam",video_uploading_retry:"video_uploading_retry_dk08",hint_drag_drop_label:"hint_drag_drop_label_2rPc",hint_drag_drop_text:"hint_drag_drop_text_3Jff",browse:"browse_39V8",browse_link:"browse_link_Jx2T",period:"period_1j4H",uploader_or:"uploader_or_tyJF",input_media_url_placeholder:"input_media_url_placeholder_31p4"}},function(e,t){e.exports={"submission-container":"submission-container_2Bv1-N7t","submission-form":"submission-form_2pxLvzlh","your-submission":"your-submission_3GNij4Z1","form-field":"form-field_1Ev0S6mI",label:"label_1AUacArJ","field-title":"field-title_2CQZJsw-",input:"input_1T5s-rXg",disabled:"disabled_J7vd8x5Z","field-description":"field-description_1i9x_Af5","text-area-input":"text-area-input_2WZlSMXW","render-only":"render-only_1up1430X","radioButton-text":"radioButton-text_3cLx62eW","permission-type-text":"permission-type-text_2Tg81teg","permission-type-hint":"permission-type-hint_2ADC7iw5"}},function(e,t){e.exports={your_submission:"your_submission_3xSr",submission_upload:"submission_upload_7QlA",submission_title:"submission_title_tRD_",submission_title_placeholder:"submission_title_placeholder_3GAb",submission_description:"submission_description_XPhi",submission_description_placeholder:"submission_description_placeholder_2GZN",submission_permission:"submission_permission_1Xkz",permission_public:"permission_public_1uE2",permission_public_hint:"permission_public_hint_1bUu",permission_group:"permission_group_3Qma",permission_group_hint:"permission_group_hint_1fqI",permission_private:"permission_private_1Lpi",permission_private_hint:"permission_private_hint_2Ov8",submission_upload_webgl:"submission_upload_webgl_2hs4",submission_additional_description:"submission_additional_description_3y4k",submission_additional_description_placeholder:"submission_additional_description_placeholder_2xdq"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["",".statsMap"],["",".statsMap"]),g=s(["statsPath"],["statsPath"]),v=s(["learner.collectMap"],["learner.collectMap"]),y=s(["learner.toggleCollect"],["learner.toggleCollect"]),b=s(["common.openShareSubmissionDialog"],["common.openShareSubmissionDialog"]),w=s(["submission.jumpToMessage"],["submission.jumpToMessage"]),E=s(["learner.reportMap"],["learner.reportMap"]),k=s(["report.openReportDialog"],["report.openReportDialog"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(15)),N=a(275),M=a(41),D=a(644),x=a(363),R=n(a(23)),L=n(a(52)),A=a(12),F=n(a(3)),K=n(a(656)),q=n(a(7)),z=n(a(657)),B=(l=(0,P.decorator)({statsMap:(0,j.state)(_,(0,j.props)(g)),collectMap:(0,j.state)(v),toggleCollect:(0,j.signal)(y),openShareDialog:(0,j.signal)(b),jumpToMessage:(0,j.signal)(w),reportMap:(0,j.state)(E),openReportDialog:(0,j.signal)(k)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.toggleCollect=function(e){e&&(0,A.pauseEvent)(e);var t=n.props,a=t.submissionData,r=t.toggleCollect,o=t.statsPath,i=(0,C.get)(a,"id"),s=(0,C.get)(a,"type");r&&r({id:i,type:s,statsPath:o})},n.handleShare=function(){var e=n.props,t=e.openShareDialog,a=e.submissionData;t&&t({data:a})},n.handleReport=function(e){var t=e.hasReport,a=n.props,r=a.openReportDialog,o=a.submissionData,i=(0,C.get)(o,"id");r&&r({type:"submission",itemId:i,reportStatus:t&&"submitted"})},i=a,o(n,i)}return i(t,T.default),h(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.submissionData,a=e.jumpToMessage,n=(0,C.get)(t,"type");a&&a({dataType:n})}},{key:"renderChannelsNode",value:function(){var e=this.props,t=e.theme,a=e.submissionData,n=(0,C.get)(a,"type");if("moderator"===t)return null;var r=(0,C.get)(a,"channelId");return O.default.createElement(x.SubmissionCommentChannel,{submissionType:n,channelId:r})}},{key:"renderHead",value:function(){var e=this,t=this.props||{},a=t.theme,n=t.submissionData,r=t.collectMap,o=t.statsMap,i=t.reportMap,s=(0,C.get)(n,"id"),l=(0,C.get)(n,"thumbnail.url")||"",u=O.default.createElement("div",{className:this.ss("thumbnail")},O.default.createElement(I.default,{src:l,sizes:"150px",height:85,width:150}));if("moderator"===a)return O.default.createElement("div",{className:this.ss("header")},u);var c=(0,C.get)(o,s+".commentCount"),d=(0,C.get)(r,s),f=(0,C.get)(o,s+".collectCount")||0,p=!!(0,C.get)(i,s);return O.default.createElement("div",{className:this.ss("header")},u,O.default.createElement("div",{className:this.ss("learner-stats")},O.default.createElement("div",{className:this.ss("operate-group")},O.default.createElement("div",{className:this.ss("stats")},O.default.createElement("div",{className:this.ss("stats-item",d&&"collected"),onClick:this.toggleCollect},O.default.createElement("div",{className:this.ss("icon","ifont",d?"ifont-icon-heart":"ifont-icon-heart-o")}),(0,A.formatNumber)(f))),O.default.createElement("div",{className:this.ss("icon-label","comment")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_comment")}),O.default.createElement("div",{className:this.ss("num")},(0,A.formatNumber)(c))),O.default.createElement("div",{className:this.ss("share")},O.default.createElement("button",{className:this.ss("button","button-share"),onClick:this.handleShare},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_share")}))),O.default.createElement("div",{className:this.ss("flag")},O.default.createElement(R.default,{text:this.__("flag_this_submission"),position:"left"},O.default.createElement("button",{className:this.ss("button","button-flag"),onClick:function(){return e.handleReport({hasReport:p})}},O.default.createElement("div",{className:this.ss("icon",p&&"active","ifont","ifont-icons-flag")})))))))}},{key:"renderDescription",value:function(){var e=this.props.submissionData,t=(0,C.get)(e,"description")||"";t||(t='{"blocks":[{"key":"b0000","text":"","type":"unstyled","depth":0,"entityRanges":null,"inlineStyleRanges":null}],"entityMap":{}}');var a={value:t,editorKey:"submissionFormEditorKey",theme:"transparent-submission"};return O.default.createElement("div",{className:this.ss("des")},O.default.createElement(L.default,m({key:"text-area-render-only",renderOnly:!0},a)))}},{key:"render",value:function(){var e=this.props,t=e.submissionData,a=e.statsMap,n=(0,C.get)(t,"id"),r=(0,C.get)(t,"title")||"",o=(0,C.get)(a,n+".viewCount")||0,i=(0,C.get)(t,"mediaContents")||[];return O.default.createElement("div",{className:this.ss("submission-detail")},this.renderHead(),O.default.createElement("div",{className:this.ss("submission-content")},O.default.createElement("div",{className:this.ss("title")},r),O.default.createElement("div",{className:this.ss("views")},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),(0,A.formatNumber)(o),this.__("views")),this.renderDescription(),O.default.createElement("div",{className:this.ss("author")},O.default.createElement(M.SubmissionAuthorLabel,{data:t})),O.default.createElement("div",{className:this.ss("media")},O.default.createElement(D.MediaWidget,{contents:i}))),this.renderChannelsNode(),O.default.createElement(N.ShareSubmissionDialog,null))}}]),t}(),f.propTypes={theme:S.default.oneOf(["default","moderator"]),statsPath:S.default.string,submissionData:S.default.object,statsMap:S.default.object,collectMap:S.default.object,toggleCollect:S.default.func,openShareDialog:S.default.func,jumpToMessage:S.default.func,reportMap:S.default.object,openReportDialog:S.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=B},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaWidget=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["common.openPreviewMediaPopup"],["common.openPreviewMediaPopup"]),b=n(a(0)),w=n(a(2)),E=n(a(1)),k=a(6),S=a(5),O=a(4),T=n(a(44)),P=n(a(15)),j=n(a(510)),C=a(8),I=n(a(3)),N=n(a(645)),M=n(a(7)),D=n(a(646)),x=C.MediaCommonSize.width,R=C.MediaCommonSize.height,L=(s=(0,k.decorator)({openPreviewMediaPopup:(0,S.signal)(y)}),l=(0,I.default)(N.default),u=(0,M.default)(D.default),s(c=l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={itemPos:0},n.handleBack=function(){var e=n.state.itemPos;e>0&&n.setState({itemPos:e-1})},n.handleNext=function(){var e=((0,O.get)(n.props,"contents")||[]).length,t=n.state.itemPos;t<e-1&&n.setState({itemPos:t+1})},n.handlePreview=function(e){var t=n.props;(0,t.openPreviewMediaPopup)({mediaContent:e,mediaContents:t.contents})},n.renderItem=function(e){var t=e.item,a=(0,O.get)(t,"type"),r=b.default.createElement("button",{className:n.ss("button-preview"),onClick:function(){return n.handlePreview(t)}});return b.default.createElement("div",{className:n.ss("media-item")},n.renderMediaContent(t),"img"===a&&r)},i=a,o(n,i)}return i(t,E.default),v(t,[{key:"renderSliderOperator",value:function(){var e=this.state.itemPos,t=((0,O.get)(this.props,"contents")||[]).length;if(0===t)return null;var a=0===e,n=e===t-1;return b.default.createElement("div",{className:this.ss("slider-operator")},b.default.createElement("button",{className:this.ss("button","arrow-left",a&&"hide"),onClick:this.handleBack},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")})),b.default.createElement("button",{className:this.ss("button","arrow-right",n&&"hide"),onClick:this.handleNext},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-back-icon")})))}},{key:"renderHeader",value:function(){var e=(0,O.get)(this.props,"contents")||[],t=this.state.itemPos,a=e.length;return b.default.createElement("div",{className:this.ss("head")},b.default.createElement("div",{className:this.ss("slider-pos")},b.default.createElement("div",{className:this.ss("current-pos")},t+1),b.default.createElement("div",{className:this.ss("line")}),b.default.createElement("div",{className:this.ss("slider-total")},a)),this.renderSliderOperator())}},{key:"renderMediaContent",value:function(e){if(!e)return null;if("img"===(0,O.get)(e,"type")){var t=(0,O.get)(e,"thumbnail.url")||"";return b.default.createElement(P.default,{src:t,sizes:x+"px",width:x,height:R})}return b.default.createElement(T.default,{theme:"media",videoContent:e})}},{key:"render",value:function(){var e=this.props.contents,t=this.state.itemPos;return b.default.createElement("div",{className:this.ss("media-wrapper")},this.renderHeader(),b.default.createElement("div",{className:this.ss("media-container")},b.default.createElement("div",{style:{paddingBottom:100*R/x+"%"}}),b.default.createElement("div",{className:this.ss("media-slider")},b.default.createElement(j.default,{items:e,itemPos:t,pageSize:1,renderItem:this.renderItem}))))}}]),t}(),d.propTypes={contents:w.default.array,openPreviewMediaPopup:w.default.func},d.defaultProps={},c=f))||c)||c)||c);t.default=L;t.MediaWidget=(p=(0,I.default)(N.default),m=(0,M.default)(D.default),p(h=m((g=_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,E.default),v(t,[{key:"render",value:function(){var e=this.props.contents;return 0===(0,O.get)(e,"length")?null:b.default.createElement("div",{className:this.ss("media-widget-wrapper")},b.default.createElement("div",{className:this.ss("label")},this.__("media")),b.default.createElement(L,{contents:e}))}}]),t}(),_.propTypes={contents:w.default.array},_.defaultProps={contents:[]},h=g))||h)||h)},function(e,t){e.exports={"media-container":"media-container_2OedxhL9","media-slider":"media-slider_2FzEnI1Z","media-item":"media-item_2fQT8It-","button-preview":"button-preview_-71JlHvE",head:"head_2qXtPLzL","slider-pos":"slider-pos_3cS0sCL0","current-pos":"current-pos_Bc3qD70c","slider-total":"slider-total_35NNfkT2",line:"line_2xZatUcm","slider-operator":"slider-operator_2gRTB6NS",button:"button_1cAgLGCL",hide:"hide_1-L0Gfpc","arrow-right":"arrow-right_2tcVmgn2",icon:"icon_Y5VzAZwV","media-widget-wrapper":"media-widget-wrapper_1fMoMZC0",label:"label_2NokR0nl"}},function(e,t){e.exports={media:"media_1FeF"}},function(e,t){e.exports={"comment-input":"comment-input_1HGgGW3N","submission-comment":"submission-comment_2rL9dyWC","input-wrap":"input-wrap_1GmDKvL9",avatar:"avatar_1hnrjVEW",input:"input_1w14MMHj",buttons:"buttons_1QwBia9N",button:"button_23pWOZ42",disabled:"disabled_1ZVqV7vA","comment-button":"comment-button_27IhyBzH",reply:"reply_2QYp36ZU","reply-button":"reply-button_1xdR_cGi","comment-sign-in":"comment-sign-in_2GjqM4Ht","hint-content":"hint-content_2ahORJLz","hint-title":"hint-title_Fb46TQX5",edit:"edit_3RCzNL5s","input_save-button":"input_save-button_2Tbva9wW","input_cancel-button":"input_cancel-button_18sZ-8x5"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCard=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["commentData.commentMap.",""],["commentData.commentMap.",""]),E=s(["channelId"],["channelId"]),k=s(["tutorialData.type"],["tutorialData.type"]),S=s(["commentData.authorMap"],["commentData.authorMap"]),O=s(["comment.expandId"],["comment.expandId"]),T=s(["comment.toggleChannelExpanded"],["comment.toggleChannelExpanded"]),P=n(a(2)),j=n(a(0)),C=a(6),I=a(5),N=n(a(1)),M=a(4),D=n(a(504)),x=n(a(363)),R=a(12),L=n(a(3)),A=n(a(649)),F=n(a(7)),K=n(a(364)),q=(l=(0,C.decorator)({channel:(0,I.state)(w,(0,I.props)(E)),tutorialType:(0,I.state)(k),authorMap:(0,I.state)(S)}),u=(0,L.default)(A.default),c=(0,F.default)(K.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,N.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.channel,a=e.contentType,n=e.channelIdx,r=e.channelId,o=e.scrollToStep,i=e.authorMap,s=e.tutorialType,l=Object.assign({},t);return j.default.createElement("div",{className:this.ss("channel")},j.default.createElement(z,{type:a,channelId:r,channelIdx:n,scrollToStep:o},j.default.createElement(D.default,{channel:l,channelId:r,dataType:s}),j.default.createElement(x.default,{channel:l,channelId:r,dataType:s,authorMap:i})))}}]),t}(),f.propTypes={contentType:P.default.string,channelId:P.default.string,tutorialType:P.default.string,channelIdx:P.default.number,channel:P.default.object,authorMap:P.default.object,scrollToStep:P.default.func},f.defaultProps={},d=p))||d)||d)||d);t.default=q;var z=t.ChannelCard=(m=(0,C.decorator)({channel:(0,I.state)(w,(0,I.props)(E)),expandId:(0,I.state)(O),toggleChannelExpanded:(0,I.signal)(T)}),h=(0,L.default)(A.default),_=(0,F.default)(K.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.hasRender=!1,n.handleExpand=function(){var e=n.props,t=e.channelId,a=e.channel,r=e.toggleChannelExpanded,o=e.scrollToStep;r&&r({channelId:t});var i=(0,M.get)(a,"stepId");o&&o(i?{itemId:i}:{itemId:-1})},i=a,o(n,i)}return i(t,N.default),b(t,[{key:"renderCardInfo",value:function(){var e=this,t=this.props,a=t.type,n=t.channelIdx,r=t.channelId,o=t.channel,i=a,s=(0,M.get)(o,"name");if(!r)return null;var l=(0,M.get)(o,"messages.total"),u=(0,M.get)(o,"messages.likeCount"),c=0===n?this.__("general_discuss_"+i):n+". "+s;return j.default.createElement("div",{className:this.ss("channel-card-info"),onClick:function(){return e.handleExpand()}},j.default.createElement("div",{className:this.ss("channel-card-head")},c),j.default.createElement("div",{className:this.ss("channel-card-foot")},j.default.createElement("div",{className:this.ss("icon-label","praise")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-like")}),j.default.createElement("div",{className:this.ss("num")},(0,R.formatNumber)(u))),j.default.createElement("div",{className:this.ss("icon-label","comment")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_comment")}),j.default.createElement("div",{className:this.ss("num")},(0,R.formatNumber)(l)))))}},{key:"renderContainer",value:function(){var e=this.props,t=e.channelId===e.expandId,a=null;return(t||this.hasRender)&&(a=j.default.createElement("div",{className:this.ss("channel-container",!t&&"hidden")},this.props.children),this.hasRender=!0),a}},{key:"render",value:function(){return this.props.channelId?j.default.createElement("div",{className:this.ss("channel-card")},this.renderCardInfo(),this.renderContainer()):null}}]),t}(),v.propTypes={channelIdx:P.default.number,channelId:P.default.string,channel:P.default.object,children:P.default.any,expandId:P.default.string,type:P.default.string,toggleChannelExpanded:P.default.func,scrollToStep:P.default.func},g=y))||g)||g)||g)},function(e,t){e.exports={"comment-wrap":"comment-wrap_3hyca6JC",channel:"channel_1eUyL028","channel-card":"channel-card_2GVH4VVL","channel-container":"channel-container_eywUOV_K",hidden:"hidden_3k6JFN-F","channel-card-info":"channel-card-info_2xnf20wu","channel-card-head":"channel-card-head_3HVZOahe","title-wrap":"title-wrap_3SCz_HQ9","title-content":"title-content_V-LM7Guk","channel-card-foot":"channel-card-foot_261kyas-","icon-label":"icon-label_2lmYwAGT",icon:"icon_1SK_FFEV",num:"num_27qwTFtf"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=n(a(0)),f=n(a(1)),p=n(a(30)),m=n(a(16)),h=a(26),_=n(a(3)),g=n(a(651)),v=n(a(7)),y=n(a(652)),b=(s=(0,_.default)(g.default),l=(0,v.default)(y.default),s(u=l(u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={show:!1,contentHeight:0},n.setGuidelinesRef=function(e){if(e){var t=e.offsetParent.offsetHeight;n.setState({contentHeight:t-40})}},n.toggleShowStatus=function(){n.setState({show:!n.state.show})},n.renderGuidelinesButton=function(){return d.default.createElement("div",{className:n.ss("guidelines-button-label")},d.default.createElement("div",{className:n.ss("ifont","ifont-file-all","icon")}),n.__("comment_guidelines"))},i=a,o(n,i)}return i(t,f.default),c(t,[{key:"renderList",value:function(e,t){for(var a=[],n=1;n<=t;n++)a.push(d.default.createElement("div",{key:e+"_"+n,className:this.ss("list-item")},d.default.createElement("div",{className:this.ss("dot")}),d.default.createElement("div",{className:this.ss("item-text")},this.__(e+"_item_"+n))));return d.default.createElement("div",{className:this.ss("content-desc-list")},d.default.createElement("div",{className:this.ss("list-title")},this.__(""+e)),d.default.createElement("div",{className:this.ss("list-items-wrapper")},a))}},{key:"renderContent",value:function(){var e={maxHeight:this.state.contentHeight};return d.default.createElement("div",{className:this.ss("guidelines-content-wrapper")},d.default.createElement("div",{className:this.ss("guidelines-content-container"),style:e},d.default.createElement(p.default,null,d.default.createElement("div",{className:this.ss("guidelines-content")},d.default.createElement("div",{className:this.ss("content-title")},this.__("comment_guidelines")),d.default.createElement("div",{className:this.ss("content-desc")},d.default.createElement("div",{className:this.ss("content-desc-head")},this.__("content_description_head")),this.renderList("content_description_do",5),this.renderList("content_description_do_not",10),d.default.createElement("div",{className:this.ss("desc-paragraph")},this.__("content_description_admin")),d.default.createElement("div",{className:this.ss("desc-paragraph")},this.__("content_description_report")))))))}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{ref:this.setGuidelinesRef,className:this.ss("guidelines-wrapper")},d.default.createElement(h.ClickOutsideWrap,{onClickOutside:function(){return e.setState({show:!1})}},d.default.createElement("div",{className:this.ss("guidelines-container")},d.default.createElement(m.default,{theme:"transparent",size:"small",label:this.renderGuidelinesButton(),onClick:this.toggleShowStatus}),this.state.show&&this.renderContent())))}}]),t}())||u)||u);t.default=b},function(e,t){e.exports={"guidelines-wrapper":"guidelines-wrapper_3KEA_Xae","guidelines-container":"guidelines-container_3nbLLZar","guidelines-button":"guidelines-button_2xRdlIfD","guidelines-button-label":"guidelines-button-label_2PUGQ0NB",icon:"icon_TvErs90r","guidelines-content-wrapper":"guidelines-content-wrapper_1LUtuvVE","guidelines-content-container":"guidelines-content-container_OgSOmiSw","guidelines-content":"guidelines-content_1aMV59FL","content-title":"content-title_2v1oTAoh","content-desc":"content-desc_3fDQG_v_","content-desc-list":"content-desc-list_2LhIVr2f","list-title":"list-title_3fiwRqLS","list-item":"list-item_1xNWof8J",dot:"dot_3yhy4Mo-","item-text":"item-text_1cAvrDNT","desc-paragraph":"desc-paragraph_3BipcFU3"}},function(e,t){e.exports={comment_guidelines:"comment_guidelines_muEF",content_description_head:"content_description_head_Zdew",content_description_do:"content_description_do_3wPy",content_description_do_item_1:"content_description_do_item_1_3tkR",content_description_do_item_2:"content_description_do_item_2_3a2s",content_description_do_item_3:"content_description_do_item_3_3DTM",content_description_do_item_4:"content_description_do_item_4_OxZ0",content_description_do_item_5:"content_description_do_item_5_27KA",content_description_do_not:"content_description_do_not_WEBZ",content_description_do_not_item_1:"content_description_do_not_item_1_23A4",content_description_do_not_item_2:"content_description_do_not_item_2_3wz6",content_description_do_not_item_3:"content_description_do_not_item_3_IMdw",content_description_do_not_item_4:"content_description_do_not_item_4_edLC",content_description_do_not_item_5:"content_description_do_not_item_5_2Xfa",content_description_do_not_item_6:"content_description_do_not_item_6_1sNx",content_description_do_not_item_7:"content_description_do_not_item_7_1OU3",content_description_do_not_item_8:"content_description_do_not_item_8_1p7-",content_description_do_not_item_9:"content_description_do_not_item_9_34ta",content_description_do_not_item_10:"content_description_do_not_item_10_35xM",content_description_admin:"content_description_admin_1ScM",content_description_report:"content_description_report_2_aO"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(0)),i=a(772),s=n(i),l=n(a(569));a(654);var u={newline:i.defaultRules.newline,paragraph:r({},i.defaultRules.paragraph,{react:function(e,t,a){return o.default.createElement("p",{key:a.key},t(e.content,a))}}),escape:i.defaultRules.escape,link:r({},i.defaultRules.link,{react:function(e,t,a){return o.default.createElement("a",{key:a.key,href:s.default.sanitizeUrl(e.target),title:e.title,target:"_blank",rel:"noopener noreferrer"},t(e.content,a))}}),autolink:i.defaultRules.autolink,mailto:i.defaultRules.mailto,url:i.defaultRules.url,strong:i.defaultRules.strong,em:i.defaultRules.em,u:i.defaultRules.u,s:{order:i.defaultRules.u.order,match:s.default.inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:i.defaultRules.u.parse,react:function(e,t,a){return o.default.createElement("s",{key:a.key},t(e.content,a))}},br:i.defaultRules.br,text:i.defaultRules.text,inlineCode:r({},i.defaultRules.inlineCode,{react:function(e,t,a){return o.default.createElement("code",{key:a.key,className:"inline"},e.content)}}),codeBlock:{order:i.defaultRules.codeBlock.order,match:function(e){return/^```(([A-z0-9-]+?)\n+)?\n*?([^]+?)```/.exec(e)},parse:function(e){return{lang:(e[2]||"").trim(),content:(e[3]||"").trim()}},react:function(e,t,a){if(e.lang&&l.default.getLanguage(e.lang)){var n=l.default.highlight(e.lang,e.content);return o.default.createElement("pre",{key:a.key},o.default.createElement("code",{className:"hljs "+n.language,dangerouslySetInnerHTML:{__html:n.value}}))}var r=l.default.highlightAuto(e.content);return o.default.createElement("pre",{key:a.key},o.default.createElement("code",{className:"hljs "+r.language,dangerouslySetInnerHTML:{__html:r.value}}))}}};t.default={parse:function(e){var t=s.default.parserFor(e),a=s.default.outputFor(s.default.ruleOutput(e,"react"));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n||(e+="\n\n"),a(t(e,r({inline:n},o)),r({},o))}}(u)}},function(e,t){},function(e,t){e.exports={"comment-wrap":"comment-wrap_3fgG3LO3","submission-wrap":"submission-wrap_1shPKeyL","comments-wrapper":"comments-wrapper_2XOH7lZZ",submissionTim:"submissionTim_3ZzBgonu","comment-item":"comment-item_2ErJgMLx","reply-input":"reply-input_qAAiZDGr","submission-input":"submission-input_2diQZ-eT",subitems:"subitems_3ip8bp1T","subitems-operate":"subitems-operate_sxInVL5Y","message-item":"message-item_2XGZIRsC",selected:"selected_3o8SdN8h","message-head":"message-head_1gHAGyhQ",message_content:"message_content_1GM2x-1_",link:"link_1Hn086Yb",avatar:"avatar_2KCqFZ0p","user-name":"user-name_1izLPEns","user-role-group":"user-role-group_E_xBL7y1","user-role":"user-role_gr0MOG2Z","from-now":"from-now_Fm71eH8B","from-update":"from-update_2LSKHAJL","message-level-2":"message-level-2_1kGuU6Q5","message-body":"message-body_6Q6VROFz","message-content":"message-content_1mYWYc6v","operate-group":"operate-group_ixAPH2oH",flag_button:"flag_button_cndeKPOb",archived:"archived_1ytW_aO8","edit-input":"edit-input_3_32AuiH","message-buttons":"message-buttons_3TVAGnkN","like-button-wrap":"like-button-wrap_1ZQ-04Qz","like-num":"like-num_1iEDWrfj","flex-end":"flex-end_28DiS0U2","tool-buttons-wrap":"tool-buttons-wrap__vLdfMHU",button:"button_1XpDK6hJ",delete_button:"delete_button_X0YXcQ8b",text:"text_3D5iNSn5",edit_button:"edit_button_1-kD8aHE",icon:"icon_3ZMmhlHl","toggle-active-button":"toggle-active-button_1mbBrRzo",active:"active_Bm6U88FY","button-message-operate":"button-message-operate_3q-XjLoW","button-view-more":"button-view-more_3BeJa7y6","load-more":"load-more_pnmPkGC_",loading:"loading_23Fr3T7P",more:"more_3ot9i1wg","no-more":"no-more_oDtXyn61","message-level-1":"message-level-1_3sGyTE9h"}},function(e,t){e.exports={"submission-detail":"submission-detail_HdXO0Ta4","submission-content":"submission-content_1HQf20K4",header:"header_35NMdr2q",thumbnail:"thumbnail_3WobVYdq",title:"title_WHsFrWJ_",views:"views_3GYcoCaD",icon:"icon_2kX0JhSs",des:"des_1zlZM6Ym",author:"author_3cCsDCk-",media:"media_3NGk8xrf","learner-stats":"learner-stats_2Coy6Omx","operate-group":"operate-group_1232UbmV",stats:"stats_QESBSiOZ",comment:"comment_1qNqDiUW",num:"num_SZ21L9lb","stats-item":"stats-item_JK1fSN3U",collected:"collected_IOjV43jo",share:"share_EDOhVitt",flag:"flag_1rWMyN1o",button:"button_13qhi_V6","button-share":"button-share_k0sqgeU3","button-flag":"button-flag_y2BrQ1OT",active:"active_2f8YxocI"}},function(e,t){e.exports={flag_this_submission:"flag_this_submission_DyYD"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["loginUser"],["loginUser"]),_=s(["breadcrumb"],["breadcrumb"]),g=s(["tutorialData"],["tutorialData"]),v=s(["submissionData"],["submissionData"]),y=s(["httpAPI.",""],["httpAPI.",""]),b=s(["submission.isValidSubmissionForm"],["submission.isValidSubmissionForm"]),w=s(["header.recaptchaCode"],["header.recaptchaCode"]),E=s(["common.navigateToDetailPage"],["common.navigateToDetailPage"]),k=s(["submission.publishSubmission"],["submission.publishSubmission"]),S=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),O=n(a(2)),T=n(a(0)),P=n(a(1)),j=a(6),C=a(5),I=a(4),N=n(a(16)),M=n(a(144)),D=a(75),x=n(a(417)),R=a(605),L=a(8),A=a(17),F=n(a(3)),K=n(a(675)),q=n(a(7)),z=n(a(676)),B=(l=(0,j.decorator)({loginUser:(0,C.state)(h),breadcrumb:(0,C.state)(_),tutorialData:(0,C.state)(g),submissionData:(0,C.state)(v),publishSubmissionData:(0,C.state)(y,L.PUBLISH_SUBMISSION),isValidSubmissionForm:(0,C.state)(b),recaptchaCode:(0,C.state)(w),navigateToDetailPage:(0,C.signal)(E),publishSubmission:(0,C.signal)(k),openSubmissionDetail:(0,C.signal)(S)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleClick=function(){var e=n.props.scrollToStep;e&&e()},n.handleSubmit=function(){var e=n.props.publishSubmission;e&&e()},n.handleAddFeatured=function(e){var t=e.id,a=n.props.openSubmissionDetail;a&&a({id:t,showFeaturedForm:!0})},i=a,o(n,i)}return i(t,P.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,I.get)(e,"submissionCompleted");!0!==(0,I.get)(this.props,"submissionCompleted")&&!0===t&&this.props.scrollToNext()}},{key:"renderNextLearnCard",value:function(){var e=this.props.statsPath,t=(0,I.get)(this.props,"breadcrumb")||{};return(0,I.get)(t,"nextNode")?T.default.createElement("div",{className:this.ss("next-learn-card")},T.default.createElement("div",{className:this.ss("card-title")},this.__("next_learn_title")),T.default.createElement("div",{className:this.ss("card")},T.default.createElement(R.NextLearnContentCard,{size:"medium",statsPath:e}))):null}},{key:"renderLeft",value:function(){var e=this.props,t=e.tutorialData,a=e.submissionData,n=(0,I.get)(t,"editable");return T.default.createElement("div",{className:this.ss("submission")},T.default.createElement("div",{className:this.ss("card-title")},this.__("my_submission")),T.default.createElement("div",{className:this.ss("card")},T.default.createElement(D.SubmissionCard,{submission:a,preview:!0,onAddFeature:n?this.handleAddFeatured:void 0})))}},{key:"renderMedium",value:function(){var e=this.props,t=e.recaptchaCode,a=e.submissionData,n=e.submissionCompleted,r=e.isValidSubmissionForm,o=e.publishSubmissionData,i=(0,I.get)(a,"published")||!1,s=null;if(n&&r||(s=T.default.createElement("div",{className:this.ss("submission-right","start-submission")},T.default.createElement("div",{className:this.ss("title")},this.__("start_your_submission")),T.default.createElement("div",{className:this.ss("des")},this.__("start_your_submission_des")),T.default.createElement("div",{className:this.ss("button-wrap")},T.default.createElement("a",{className:this.ss("alink"),onClick:this.handleClick},this.__("return_to_submission_form"))))),n&&!i&&r){var l=(0,A.isLoading)((0,I.get)(o,"updateStatus"));s=T.default.createElement("div",{className:this.ss("submission-right","submit-submission")},T.default.createElement("div",{className:this.ss("title")},this.__("submit_your_work")),T.default.createElement("div",{className:this.ss("des")},this.__("submit_your_work_des")),T.default.createElement("div",{className:this.ss("captcha")},T.default.createElement(x.default,null)),T.default.createElement("div",{className:this.ss("button-wrap")},T.default.createElement(N.default,{label:this.__("submit_button"),loading:l,disabled:!t,onClick:this.handleSubmit})))}return s}},{key:"renderRight",value:function(){var e=this.props,t=e.submissionData,a=e.completed,n=e.submissionRequire,r=(0,I.get)(t,"published")||!1,o=null;return(n&&r&&a||!n&&a)&&(o=this.renderNextLearnCard()),o}},{key:"render",value:function(){var e=this.props,t=e.loginUser,a=e.submissionData,n=e.defaultThumbnailUrl;if(!t)return null;var r=(0,I.get)(a,"thumbnail.url")||n;return T.default.createElement("div",{className:this.ss("next-panel")},T.default.createElement(M.default,{url:r}),T.default.createElement("div",{className:this.ss("panel-body")},this.renderLeft(),this.renderMedium(),this.renderRight()))}}]),t}(),f.propTypes={loginUser:O.default.object,tutorialData:O.default.object,submissionData:O.default.object,publishSubmissionData:O.default.object,breadcrumb:O.default.object,isValidSubmissionForm:O.default.bool,defaultThumbnailUrl:O.default.string,submissionRequire:O.default.bool,completed:O.default.bool,submissionCompleted:O.default.bool,recaptchaCode:O.default.string,statsPath:O.default.string,scrollToNext:O.default.func,scrollToStep:O.default.func,navigateToDetailPage:O.default.func,publishSubmission:O.default.func,openSubmissionDetail:O.default.func},d=p))||d)||d)||d);t.default=B},function(e,t){e.exports={"record-button":"record-button_n-fJJ7AP"}},function(e,t){e.exports={button_mark_completed:"button_mark_completed_MQnf",button_mark_incompleted:"button_mark_incompleted_29d6"}},function(e,t){e.exports={"record-button":"record-button_1Rg1dvpP"}},function(e,t){e.exports={button_submission_mark_completed:"button_submission_mark_completed_SxBC",button_submission_mark_incompleted:"button_submission_mark_incompleted_3-7g",button_submission_sign_in:"button_submission_sign_in_3SDM"}},function(e,t){e.exports={"record-button":"record-button_1gB0Wdcu"}},function(e,t){e.exports={button_mark_completed:"button_mark_completed_UTF3",button_restart:"button_restart_3AtP",architecture_button_mark_completed:"architecture_button_mark_completed_YNWS",architecture_button_restart:"architecture_button_restart_uPEU"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=s(["header.setting.windowHeight"],["header.setting.windowHeight"]),h=s(["comment.drawerIsOpen"],["comment.drawerIsOpen"]),_=s(["comment.closeCommentDrawer"],["comment.closeCommentDrawer"]),g=n(a(2)),v=n(a(0)),y=a(6),b=a(5),w=n(a(1)),E=a(46),k=a(4),S=n(a(3)),O=n(a(666)),T=E.presets.stiff,P=(l=(0,y.decorator)({windowHeight:(0,b.state)(m),open:(0,b.state)(h),closeDrawer:(0,b.signal)(_)}),u=(0,S.default)(O.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onKeyDown=function(e){switch(e.keyCode){case 27:n.onClose()}},n.onClose=function(){var e=n.props.closeDrawer;e&&e()},n.getBackDropStyle=function(e){return{opacity:e.backDropOpacity}},n.getDrawerContainerStyle=function(e){return{transform:"translateX("+((0,k.get)(e,"drawerContainerPosition")||0)+"%)"}},i=a,o(n,i)}return i(t,w.default),p(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeyDown,!0)}},{key:"renderBackDrop",value:function(e){var t=this.props.open,a=e.backDropOpacity;return!t&&a<.1?null:v.default.createElement("div",{className:this.ss("backdrop"),onClick:this.onClose,style:this.getBackDropStyle(e)})}},{key:"renderDrawerContainer",value:function(e){var t=this.props.children;return v.default.createElement("div",{className:this.ss("drawer-container"),style:this.getDrawerContainerStyle(e)},t,v.default.createElement("button",{className:this.ss("button-close"),onClick:this.onClose},v.default.createElement("div",{className:this.ss("close","ifont","ifont-icon-close")})))}},{key:"render",value:function(){var e=this,t=this.props.open,a={backDropOpacity:0,drawerContainerPosition:100},n=void 0;return t&&(n={backDropOpacity:(0,E.spring)(.5,T),drawerContainerPosition:(0,E.spring)(0)}),t||(n={backDropOpacity:(0,E.spring)(0,T),drawerContainerPosition:(0,E.spring)(100)}),v.default.createElement(E.Motion,{defaultStyle:a,style:n},function(t){return v.default.createElement("div",{className:e.ss("drawer-wrap")},e.renderBackDrop(t),e.renderDrawerContainer(t))})}}]),t}(),d.propTypes={open:g.default.bool,windowHeight:g.default.number,closeDrawer:g.default.func,children:g.default.any},d.defaultProps={open:!1},c=f))||c)||c);t.default=P},function(e,t){e.exports={"drawer-wrap":"drawer-wrap_SoOmS7Mg",backdrop:"backdrop_ZACupFvu","drawer-container":"drawer-container_3HcXgi5X","button-close":"button-close_3TlmZZrh"}},function(e,t){e.exports={"comment-head":"comment-head_3o_zdhj_",thumbnail:"thumbnail_1db1gkuX","brief-info":"brief-info_qwZt6R-C",title:"title_116E_Ihi"}},function(e,t){e.exports={"search-results":"search-results_1dzLMZto",results:"results_3OmTY-hq","result-body":"result-body_jWtAQ1Ew",hide:"hide_21jOJj_d","card-wrapper":"card-wrapper_2SwyWQhT",center:"center_1q2V0IeX","empty-body":"empty-body_2nFf6lwE","empty-label":"empty-label_3pBH_o0t","button-clear":"button-clear_dqyLMAxw","loading-container":"loading-container_3OMKH9S6"}},function(e,t){e.exports={search_result_hint:"search_result_hint_12nB",search_result_hint_text:"search_result_hint_text_3Hvk",search_result_empty:"search_result_empty_2pgU",search_in_progress:"search_in_progress_11gk",button_clear:"button_clear_3mpz"}},function(e,t){e.exports={"content-wrapper":"content-wrapper_1IVccL-V","content-container":"content-container_3d5TTXzf",architecture:"architecture_2aN2Nf4V","submission-gallery-title":"submission-gallery-title_w9IbryLu","results-wrapper":"results-wrapper_3CnUAoWy"}},function(e,t){e.exports={submission_gallery:"submission_gallery_2tQy"}},function(e,t){e.exports={"back-to-top":"back-to-top_cExyDpqn","position-absolute":"position-absolute_1KIlTHO1","to-top-button":"to-top-button_3nPg3Uxa",icon:"icon__FXrZ-pg"}},function(e,t){e.exports={"body-wrap":"body-wrap_1rUBHZxY","content-wrap":"content-wrap_1MkKP7u4",withCover:"withCover_1KB_9iw4",content:"content_1CG5f7Xo","loading-wrap":"loading-wrap_YQ7KbsYm",loading:"loading_5K0eiJcW",center:"center_3ugZd2v8","path-stream":"path-stream_1RPS-ZdM","tutorial-steps":"tutorial-steps_7vWFaP4b","step-wrap":"step-wrap_25obB1ab",step:"step_Ha8CdD7M","complete-icon":"complete-icon_1J1R19iR",completed:"completed_3YpdvKTf","button-complete":"button-complete_M9ab-Iop","button-complete-all":"button-complete-all_2XO6W8HL","step-sep":"step-sep_1rr4wPpZ","suggest-solution":"suggest-solution_18KYvEEn","next-panel":"next-panel_3nwiKpDC","panel-body":"panel-body_2GzFykH7",left:"left_2THxZHiA",right:"right_260rKEQW","info-title":"info-title_11VK8Kh9","info-description":"info-description_3vcKHg9N","button-next":"button-next_2I4jDGRV","card-title":"card-title_zU_2_GlX",card:"card_1OLtPJIP"}},function(e,t){e.exports={button_complete_a_step:"button_complete_a_step_256h",button_complete_all_steps:"button_complete_all_steps_32Jt",info_title_course:"info_title_course_3fux",info_title_project:"info_title_project_3_QU",info_title_tutorial:"info_title_tutorial_LS6n",info_title_quiz:"info_title_quiz_1a_q",info_description_course:"info_description_course_2Agv",info_description_project:"info_description_project_CMaj",info_description_tutorial:"info_description_tutorial__S0v",info_description_quiz:"info_description_quiz_19PX",button_next:"button_next_NOh8",card_title:"card_title_QpK_",next_title_project:"next_title_project_2wRa",next_title_tutorial:"next_title_tutorial_8Bkc",next_title_quiz:"next_title_quiz_2rKI",next_description_course:"next_description_course_2LDh",next_description_project:"next_description_project__YvX",next_description_mission:"next_description_mission_1WPd",next_description_pathway:"next_description_pathway__DJR"}},function(e,t){e.exports={"next-panel":"next-panel_Km-VfNZl","panel-body":"panel-body_1mAH_JlH",submission:"submission_3w5cHEJ8",card:"card_1wZd570L","card-title":"card-title_3ofNJ3UP","submission-right":"submission-right_33iRFrHQ",title:"title_36xqtGFr",des:"des_3C27sqSF",captcha:"captcha_22cDYut8","button-wrap":"button-wrap_1H2q99Dz",alink:"alink_3dQyJtC-","next-learn-card":"next-learn-card_1JObZFje"}},function(e,t){e.exports={start_your_submission:"start_your_submission_bh_3",start_your_submission_des:"start_your_submission_des_3g1J",return_to_submission_form:"return_to_submission_form_kG7S",submit_your_work:"submit_your_work_5XdY",submit_your_work_des:"submit_your_work_des_1Qz_",submit_button:"submit_button_3U9n",my_submission:"my_submission_1pkT",next_learn_title:"next_learn_title_1LWb"}},function(e,t){e.exports={"submission-wrapper":"submission-wrapper_2CZkvLOi","premium-wrapper":"premium-wrapper_yCX7I10N","complete-icon":"complete-icon_KPunzDGQ",dark:"dark_3Jp1D7Gx","submission-card":"submission-card_3Rn4glZn","card-content":"card-content_3FWxO7KY","content-des":"content-des_2Zvu75MM",title:"title_2WfZWnkf",des:"des_3_OXu23H",small:"small_xlK6OSX2",medium:"medium_1N6zxgyf",showParent:"showParent_2s9WtnRH",xsmall:"xsmall_1n0EM7fd","featured-button":"featured-button_2-5gnIcd","card-link":"card-link_Evr7Ah2G","card-img":"card-img_3TMdqCgb","collect-wrap":"collect-wrap_29Yn9heQ",author:"author_24r6-QTe","stats-wrapper":"stats-wrapper_2t28pADG","stats-item":"stats-item_OB3ZFyf9",collected:"collected_1I8kLCHJ",icon:"icon_1DaREFuQ","stats-item-view":"stats-item-view_2MbBecUY",parent:"parent_3QB6GcKZ",label:"label_1knQw0we","a-link":"a-link_3EWaLNPF","button-add-submission":"button-add-submission_MkMcwwSa","button-delete-submission":"button-delete-submission_mm-5_wQh","featured-description-wrap":"featured-description-wrap_368YTvzJ","featured-description":"featured-description_3d1s4Btl",holder:"holder_3tyRgra6","img-holder":"img-holder_2CLviF5o","title-holder":"title-holder_PDJ2nRPK","description-holder":"description-holder_SHu01p5F",top:"top_c14r9DEf"}},function(e,t){e.exports={tooltip_add_featured_submission:"tooltip_add_featured_submission_kczW",tooltip_delete_featured_submission:"tooltip_delete_featured_submission_yYHQ",made_with:"made_with_-us3"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLProjectCardInternal=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),O=r(["locale"],["locale"]),T=r(["currentHost"],["currentHost"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=n(a(28)),x=n(a(15)),R=n(a(39)),L=n(a(16)),A=n(a(23)),F=a(12),K=a(9),q=n(a(38)),z=n(a(3)),B=n(a(680)),U=n(a(7)),H=n(a(681)),V={normal:{thumbnailWidth:390,thumbnailHeight:220},small:{thumbnailWidth:285,thumbnailHeight:160},xsmall:{thumbnailWidth:265,thumbnailHeight:139},medium:{thumbnailWidth:381,thumbnailHeight:160}},G=(l=(0,z.default)(B.default),u=(0,U.default)(H.default),l(c=u((f=d=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleDetail=function(e){(0,F.pauseEvent)(e);var t=n.props.project,a=(0,M.get)(t,"slug"),r=D.default.PLAY_BASE_URL+"/p/"+a;(0,q.default)(r)},r=a,i(n,r)}return s(t,C.default),S(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.project,n=t.submission;return j.default.createElement("div",{className:this.ss("webgl-project-card-wrapper")},j.default.createElement("div",{className:this.ss("webgl-project-card")},j.default.createElement("a",{className:this.ss("card-link"),onClick:function(t){return e.handleDetail(t)}},j.default.createElement(W,{submission:n,project:a}))))}}]),t}(),d.propTypes={submission:P.default.object,project:P.default.object},c=f))||c)||c);t.default=G;var W=t.WebGLProjectCardInternal=(p=(0,I.decorator)({locale:(0,N.state)(O),currentHost:(0,N.state)(T)}),m=(0,z.default)(B.default),h=(0,U.default)(H.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getPlayIconSizeByCardSize=function(){var e=n.props.size;return"small"===e||"xsmall"===e?"small":"medium"},n.handleParentDetail=function(e,t){(0,K.stopPropagation)(e);var a=n.props,r=a.locale,o=a.currentHost;(0,q.default)((0,K.GetDetailPageURL)(t,r),o)},r=a,i(n,r)}return s(t,C.default),S(t,[{key:"renderCardImg",value:function(){var e=this.props||{},t=e.project,a=e.size,n=(0,M.get)(t,"id"),r=(0,M.get)(t,"thumbnail.url")||"",o=(0,M.get)(V,[a,"thumbnailHeight"]),i=(0,M.get)(V,[a,"thumbnailWidth"]),s=this.getPlayIconSizeByCardSize();return r?j.default.createElement("div",{className:this.ss("card-img")},j.default.createElement(x.default,{src:r,key:n,sizes:i+"px",height:o,width:i}),j.default.createElement("div",{className:this.ss("webgl-play-icon-wrap",s)},j.default.createElement(L.default,{size:s,label:j.default.createElement("div",{className:this.ss("webgl-play-icon")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-socialicons-unity")}),this.__("webgl_play"))}))):j.default.createElement("div",{className:this.ss("img-holder"),style:{paddingBottom:100*o/i+"%"}})}},{key:"renderDescription",value:function(){var e=this.props,t=e.project,a=e.submission,n=(0,M.get)(a,"published"),r=(0,M.get)(a,"additionalDescription")||(0,M.get)(t,"description")||"";return n||r?j.default.createElement(A.default,{type:"dark",delay:1e3,position:"bottom-left",text:r},j.default.createElement("div",{className:this.ss("des")},r)):j.default.createElement("div",{className:this.ss("description-holder")},j.default.createElement("div",{className:this.ss("holder","top")}),j.default.createElement("div",{className:this.ss("holder","bottom")}))}},{key:"renderSubmissionParent",value:function(){var e=this,t=this.props.parent;if(!t)return null;var a=(0,M.get)(t,"title");return j.default.createElement("div",{className:this.ss("parent")},j.default.createElement("div",{className:this.ss("label")},this.__("made_with")),j.default.createElement("a",{className:this.ss("a-link"),onClick:function(a){return e.handleParentDetail(a,t)}},a))}},{key:"renderAuthor",value:function(){var e=this,t=this.props,a=t.size,n=t.project,r=n.userId,o=n.teamId,i=n.ownerType,s=(0,M.get)(n,"userMap")||{},l=(0,M.get)(n,"teamMap")||{},u="team"===i,c="small"===a||"xsmall"===a,d=void 0,f=void 0,p=void 0;if(u){d=(0,M.get)(l,o)||{};var m=(0,M.get)(d,"id")||"",h=(0,M.get)(d,"name")||"";f="/t/"+m,p=h}else{d=(0,M.get)(s,r)||{};var _=(0,M.get)(d,"id")||"",g=(0,M.get)(d,"fullName")||(0,M.get)(d,"name")||"";f="/u/"+_,p=g}return j.default.createElement("div",{className:this.ss("author")},j.default.createElement("button",{className:this.ss("author-button",!f&&"label"),onClick:function(t){return e.onClick(t,f)}},j.default.createElement(R.default,{user:d,size:"xxxsmall"}),!c&&j.default.createElement("div",{className:this.ss("author-name")},p)))}},{key:"render",value:function(){var e=this.props||{},t=e.project,a=e.theme,n=e.size,r=e.parent,o=(0,M.get)(t,"title"),i=(0,M.get)(t,"playCount")||0,s=(0,M.get)(t,"viewCount")||0,l=(0,M.get)(t,"likeCount")||0;return j.default.createElement("div",{className:this.ss("webgl-project-content",a,n,{showParent:!!r})},this.renderCardImg(),j.default.createElement("div",{className:this.ss("card-content")},j.default.createElement("div",{className:this.ss("content-des")},j.default.createElement("div",{className:this.ss("title")},o||j.default.createElement("div",{className:this.ss("holder","title-holder")})),this.renderDescription()),j.default.createElement("div",{className:this.ss("card-footer")},j.default.createElement("div",{className:this.ss("card-author-stats")},this.renderAuthor(),j.default.createElement(Q,{playCount:i,viewCount:s,likeCount:l})),this.renderSubmissionParent())))}}]),t}(),g.propTypes={locale:P.default.string,currentHost:P.default.string,submission:P.default.object,project:P.default.object,parent:P.default.object,size:P.default.oneOf(["xsmall","small","normal","medium"]),theme:P.default.oneOf(["default","dark"])},g.defaultProps={theme:"default",size:"normal"},_=v))||_)||_)||_),Q=(y=(0,z.default)(B.default),b=(0,U.default)(H.default),y(w=b((k=E=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,C.default),S(t,[{key:"render",value:function(){var e=this.props,t=e.playCount,a=e.viewCount,n=e.likeCount;return j.default.createElement("div",{className:this.ss("stats-wrapper"),onClick:this.on},j.default.createElement("div",{className:this.ss("stats-item","stats-item-play")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-socialicons-unity")}),(0,F.formatNumber)(t)),j.default.createElement("div",{className:this.ss("stats-item","stats-item-view")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn-icon-eye")}),(0,F.formatNumber)(a)),j.default.createElement("div",{className:this.ss("stats-item")},j.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-heart-o")}),(0,F.formatNumber)(n)))}}]),t}(),E.propTypes={playCount:P.default.number,viewCount:P.default.number,likeCount:P.default.number},w=k))||w)||w)},function(e,t){e.exports={"webgl-project-card-wrapper":"webgl-project-card-wrapper_1yN276zS","webgl-project-content":"webgl-project-content_2kIY1ocI",dark:"dark_qpEPUZhk","card-content":"card-content_2xTZYdfp","content-des":"content-des_ux0pB3SU",title:"title_30J68dP-",des:"des_3xNrkJDw",small:"small_2b_gsM2a",medium:"medium_1bnxTfVP",showParent:"showParent_3Nf2NMqp",xsmall:"xsmall_35EC5faT","webgl-project-card":"webgl-project-card_3OFvo41b","card-link":"card-link_I-F39_bx","card-img":"card-img_3a4oIeJM","collect-wrap":"collect-wrap_3ZCqcyod","card-author-stats":"card-author-stats_3bEyfj84","stats-wrapper":"stats-wrapper_2kkJOVLA","stats-item":"stats-item_3VgZggdi",collected:"collected_3-2MFGaD",icon:"icon_1_IpZC99","stats-item-play":"stats-item-play_IL7Ja3Sd","stats-item-view":"stats-item-view_1zq9HIrK",parent:"parent_RdJ4_miY",label:"label_3yYSt3qh","a-link":"a-link_3y7hD049",holder:"holder_1avmoUjw","img-holder":"img-holder_bEM7H2OG","title-holder":"title-holder_1SYxRjTm","description-holder":"description-holder_ETXhfXHY",top:"top_1Oi9wtCz",author:"author_293ufahv","author-button":"author-button_2Oe7cLTQ","author-name":"author-name_tDtolv6h","webgl-play-icon-wrap":"webgl-play-icon-wrap_PR6ynn17","webgl-play-icon":"webgl-play-icon_owrS6EBA"}},function(e,t){e.exports={webgl_play:"webgl_play_27jB",made_with:"made_with_3TS-"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),_=s(["locale"],["locale"]),g=s(["currentHost"],["currentHost"]),v=s(["search"],["search"]),y=s(["featured"],["featured"]),b=s(["tutorialData"],["tutorialData"]),w=s(["featured.deleteFeaturedSubmissionConfirm"],["featured.deleteFeaturedSubmissionConfirm"]),E=n(a(2)),k=n(a(0)),S=n(a(1)),O=a(6),T=a(5),P=a(4),j=n(a(16)),C=a(75),I=a(9),N=n(a(3)),M=n(a(683)),D=n(a(7)),x=n(a(684)),R=(l=(0,O.decorator)({locale:(0,T.state)(_),currentHost:(0,T.state)(g),search:(0,T.state)(v),featured:(0,T.state)(y),tutorialData:(0,T.state)(b),deleteFeaturedSubmission:(0,T.signal)(w)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getFeaturedContent=function(){var e=n.props.featured;return(0,P.get)(e,["listMap",(0,P.get)(e,"listName")])||{}},n.handleDeleteFeature=function(e){var t=e.id,a=e.stepId,r=n.props.deleteFeaturedSubmission;r&&r({id:t,stepId:a})},n.handleBrowserGallery=function(){var e=n.props.scrollToGallery;e&&e()},n.checkFeaturedSection=function(){var e=n.props||{},t=e.tutorialData,a=e.search,r=(0,P.get)(t,"editable"),o=(0,P.get)(t,"isExercise"),i=(0,P.get)(t,"submissionStepId"),s=(0,P.get)(a,"results")||[],l=n.getFeaturedContent(),u=(0,P.get)(l,"contentIds")||[];return!(0===u.length&&!r||!o||!i)&&(u.length>0||(!r||0!==s.length))},i=a,o(n,i)}return i(t,S.default),h(t,[{key:"renderFeaturedHint",value:function(){var e=(this.props||{}).tutorialData;return(0,P.get)(e,"editable")?k.default.createElement("div",{className:this.ss("section-hint")},this.__("feature_submission_hint")):null}},{key:"renderContent",value:function(){var e=this,t=this.props||{},a=t.tutorialData,n=t.search,r=t.statsPath,o=(0,P.get)(a,"editable"),i=(0,P.get)(n,"results")||[],s=this.getFeaturedContent(),l=(0,P.get)(s,"contentIds")||[],u=(0,P.get)(s,"contentMap")||{},c=l.slice(0,2).map(function(t){var a=(0,I.GetDataByItemId)(m({itemId:t},u))||{},n=(0,P.get)(a,"id");return k.default.createElement("div",{key:"featured-item-"+n,className:e.ss("card-wrap")},k.default.createElement(C.SubmissionCard,{submission:a,type:"featured",statsPath:r,onDeleteFeature:o?e.handleDeleteFeature:void 0}))});return c.length<2&&o&&i.length>0&&c.push(k.default.createElement("div",{key:"featured-item-new",className:this.ss("card-wrap")},k.default.createElement("div",{className:this.ss("submission-holder")},k.default.createElement("div",{className:this.ss("title")},this.__("additional_submission_title")),k.default.createElement("div",{className:this.ss("des")},this.__("additional_submission_des")),k.default.createElement("div",{className:this.ss("browser-button")},k.default.createElement(j.default,{label:this.__("button_browser_gallery"),onClick:this.handleBrowserGallery}))))),k.default.createElement("div",{className:this.ss("content")},c)}},{key:"renderViewGallery",value:function(){var e=this.props||{},t=e.tutorialData,a=e.search,n=(0,P.get)(a,"results")||[];return(0,P.get)(t,"editable")||0===n.length?null:k.default.createElement("div",{className:this.ss("view-gallery")},k.default.createElement("button",{className:this.ss("button"),onClick:this.handleBrowserGallery},this.__("view_gallery")))}},{key:"render",value:function(){var e=(this.props||{}).theme;return this.checkFeaturedSection()?k.default.createElement("div",{className:this.ss("submission-featured-section",e)},k.default.createElement("div",{className:this.ss("section-title")},this.__("featured_submission_title")),this.renderFeaturedHint(),this.renderContent(),this.renderViewGallery()):null}}]),t}(),f.propTypes={theme:E.default.oneOf(["default","dark"]),currentHost:E.default.string,locale:E.default.string,search:E.default.object,featured:E.default.object,tutorialData:E.default.object,statsPath:E.default.string,scrollToGallery:E.default.func,deleteFeaturedSubmission:E.default.func},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={"submission-featured-section":"submission-featured-section_1VSLyOBx","section-title":"section-title_6RfOSkXX","section-hint":"section-hint_1jr0zZnB",content:"content_1ClGO9YD","card-wrap":"card-wrap_25RIW-ei","submission-holder":"submission-holder_2Lwch8P7",title:"title_1JFaTS8S",des:"des_qbI-Lqgc","browser-button":"browser-button_2MYrF3sZ","view-gallery":"view-gallery_RTevdT2Q",button:"button_1I3yVSj_"}},function(e,t){e.exports={featured_submission_title:"featured_submission_title_1d_I",feature_submission_hint:"feature_submission_hint_IpKz",additional_submission_title:"additional_submission_title_MWyi",additional_submission_des:"additional_submission_des_3H7r",button_browser_gallery:"button_browser_gallery_2YDe",view_gallery:"view_gallery_mEV8"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["submissionData"],["submissionData"]),g=s(["httpAPI.",""],["httpAPI.",""]),v=s(["submission.addWebGLProject.webGLProject"],["submission.addWebGLProject.webGLProject"]),y=s(["submission.addWebGLProject.webGLProjectUrl"],["submission.addWebGLProject.webGLProjectUrl"]),b=s(["submission.changeAddWebGLProjectUrl"],["submission.changeAddWebGLProjectUrl"]),w=s(["submission.getWebGLProject"],["submission.getWebGLProject"]),E=s(["submission.clearWebGLProject"],["submission.clearWebGLProject"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(5),P=a(4),j=a(6),C=n(a(34)),I=a(75),N=a(8),M=a(17),D=a(12),x=n(a(3)),R=n(a(686)),L=n(a(7)),A=n(a(687)),F=(l=(0,j.decorator)({submissionData:(0,T.state)(h),getWebGLProjectData:(0,T.state)(g,N.POST_WEBGL_PROJECT),webGLProject:(0,T.state)(v),webGLProjectUrl:(0,T.state)(y),changeAddWebGLProjectUrl:(0,T.signal)(b),getWebGLProject:(0,T.signal)(w),clearWebGLProject:(0,T.signal)(E)}),u=(0,x.default)(R.default),c=(0,L.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPaste=function(e){e&&(0,D.pauseEvent)(e);var t=(e.clipboardData||window.clipboardData).getData("Text");n.onChange(_,t),n.onGetWebGLProject(t)},n.onKeyDown=function(e){13===e.keyCode&&n.onGetWebGLProject()},n.onGetWebGLProject=function(e){var t=n.props,a=t.disabled,r=t.getWebGLProject;if(!a){var o=n.props.webGLProjectUrl;e&&(o=e),r&&r({webGLProjectUrl:o})}},n.onChange=function(e,t){n.props.changeAddWebGLProjectUrl({webGLProjectUrl:t})},n.removeWebGLProject=function(){var e=n.props,t=e.clearWebGLProject,a=e.onChange,r=e.onSave;t&&t(),a&&a(null),r&&r(null)},i=a,o(n,i)}return i(t,O.default),m(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,P.get)(e,"webGLProject")||{},a=(0,P.get)(this.props,"webGLProject")||{},n=this.props,r=n.onChange,o=n.onSave,i=(0,P.get)(a,"id"),s=(0,P.get)(t,"id");s&&s!==i&&(r&&r(t),o&&o(t))}},{key:"renderLoading",value:function(){return S.default.createElement("div",{className:this.ss("loading-wrap")},S.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderInput",value:function(){var e=this.props,t=e.value,a=e.disabled,n=e.webGLProjectUrl,r=e.getWebGLProjectData,o=(0,M.isLoading)((0,P.get)(r,"updateStatus"));return t||Object.keys(t||{}).length>0?null:S.default.createElement("div",{className:this.ss("input-wrapper")},S.default.createElement(C.default,{theme:"transparent",size:"medium",placeholder:this.__("input_webgl_url_placeholder"),value:n,disabled:a||o,onChange:this.onChange,onPaste:this.onPaste,onKeyDown:this.onKeyDown}),o&&this.renderLoading())}},{key:"renderPreview",value:function(){var e=this.props,t=e.value,a=e.submissionData;return t&&0!==Object.keys(t||{}).length?S.default.createElement("div",{className:this.ss("webgl-project-preview")},S.default.createElement(I.WebGLProjectCard,{submission:a,project:t}),this.renderRemove()):null}},{key:"renderRemove",value:function(){var e=this,t=this.props.disabled;return t?null:S.default.createElement("div",{className:this.ss("remove-button-wrap",t&&"disabled")},S.default.createElement("button",{className:this.ss("remove-button"),onClick:function(){return e.removeWebGLProject()}},S.default.createElement("div",{className:this.ss("remove-icon","ifont","ifont-icons-trash")}),this.__("button_remove_game")))}},{key:"render",value:function(){return S.default.createElement("div",{className:this.ss("add-webgl-project")},this.renderInput(),this.renderPreview())}}]),t}(),f.propTypes={disabled:k.default.bool,value:k.default.object,submissionData:k.default.object,getWebGLProjectData:k.default.object,webGLProject:k.default.object,webGLProjectUrl:k.default.string,onChange:k.default.func,onSave:k.default.func,changeAddWebGLProjectUrl:k.default.func,getWebGLProject:k.default.func,clearWebGLProject:k.default.func},d=p))||d)||d)||d);t.default=F},function(e,t){e.exports={"add-webgl-project":"add-webgl-project_3SRHoov_","input-wrapper":"input-wrapper_145lhc9Y","loading-wrap":"loading-wrap_2MzORI8O",loading:"loading_12Xb85fS",error_message:"error_message_1NuHB28V","remove-button-wrap":"remove-button-wrap_3KWKoaSm","remove-button":"remove-button_3PK-Sack","remove-icon":"remove-icon_3CoG2OEC"}},function(e,t){e.exports={input_webgl_url_placeholder:"input_webgl_url_placeholder_useP",button_remove_game:"button_remove_game_Gih_"}},function(e,t){e.exports={container:"container_1nJHkauV","submission-detail":"submission-detail_3y9CsKPC","loading-wrap":"loading-wrap_3Z3yjD1W",loading:"loading_6BQz0P7-",close:"close_Qq0UiLWV","button-close":"button-close_3VMl7fmC",icon:"icon_dxXbwNgj",featured:"featured_2j-miCj-","button-feature-this":"button-feature-this_2mdVENtz","no-detail":"no-detail_1vv6dBH4","featured-form":"featured-form_1U9makXk",form:"form_16kvp5Vn","field-description":"field-description_RKi7daZQ",label:"label_2pxgBPe9","text-area-input":"text-area-input_zaeAIUc9","render-only":"render-only_1k8ED-yU"}},function(e,t){e.exports={views:"views_1oeS",button_feature_this:"button_feature_this_-JjM",button_save:"button_save_1aL3",field_title_description:"field_title_description_1jpS",field_description_placeholder:"field_description_placeholder_26fu"}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e){var t=e.state,a=e.result;t.set("submissionData",a)}function i(e){var t=e.state,a=e.result,n=(0,h.get)(a,"id"),r=(0,h.get)(a,"type"),o=(0,h.get)(a,"permission"),i=(0,h.get)(a,"statsMap"),s=t.get("search.results")||[],l=t.get("search.total")||0;if(s.length===l){var u={highlightName:"",submission:a,type:r},c=s.filter(function(e){return(0,h.get)(e,r+".id")!==n});o===E.SubmissionPermissionType.public&&c.push(u),t.set("search.results",c),t.set("search.total",c.length),t.merge("search.statsMap",i)}}function s(e,t){var a=(t||{}).submissionType,n=e.get("tutorialData"),r=(0,h.get)(n,"id");return{submissionType:a,id:(0,h.get)(n,"submissionStepId"),type:(0,h.get)(n,"type"),tutorialId:r}}function l(e){var t=e.get(O),a={title:t.title.value,permission:t.permission.value},n=(0,y.parseEditorContent)(e,T).body;if(!n){var r=e.get("submissionData");n=(0,h.get)(r,"description")}n&&(a.description=n);var o=(0,h.get)(t,"mediaContents.value")||[];return o.length>0&&(a.mediaContentIds=o.map(function(e){return e.id})),a}function u(e){return[function(t){var a=t.props;return{field:[].concat(O,[e||a.fieldName]),value:a.value,touched:!0}}].concat(r(m.chains.fieldChanged),[m.chains.validate])}function c(e){var t=e.get(O),a=((0,h.get)(t,"title.value")||"").trim();return!(!((0,h.get)(t,"description.value")||"").trim()||!a)&&(0,m.isValidForm)(t)}function d(e){var t=f(e.get("submissionData")),a=e.get(O);return Object.keys(a).every(function(e){switch(e){case"mediaContents":return(0,v.default)(e,t,a);case"description":return t[e].value.trim()===a[e].value.trim()}return t[e].value===a[e].value})}function f(e){var t=(0,h.get)(e,"description")||"",a=t?(0,b.convertFromRaw)(JSON.parse(t)).getPlainText():"",n={};return n.title={value:(0,h.get)(e,"title",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.description={value:a,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.permission={value:(0,h.get)(e,"permission",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},n.mediaContents={value:(0,h.get)(e,"mediaContents")||[],validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},(0,m.Form)(n)}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ConvertCommonParams=s,t.submissionFormSaveStatus=d,t.UploadRecord=function(e){var t=e.props,a=e.controller,n=t.upload,r=a.getSignal("upload.uploadRecord");r&&r({upload:n})};var m=a(13),h=a(4),_=a(10),g=a(9),v=n(a(24)),y=a(21),b=a(11),w=a(691),E=a(8),k=n(a(349)),S=n(a(35)),O=["submission","submissionForm"],T="submissionFormEditorKey",P={schema:E.POST_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{};return{endpoint:"/api/learn/submission/"+((0,h.get)(n,"id")||0)+"/save",params:p({},l(t),s(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&o({state:n,result:a})},onError:(0,g.onError)("submission")},j={schema:E.PUBLISH_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{},r=(0,h.get)(n,"id")||0,o=(0,h.get)(n,"submissionType"),i="/api/learn/submission/"+r+"/publish",u=s(t,p({},a,{submissionType:o}));return o===E.SubmissionTypes.media&&Object.assign(u,l(t)),o===E.SubmissionTypes.webgl&&Object.assign(u,(0,w.ConvertWebGLFormParams)(t)),{endpoint:i,params:u,headers:k.default.getRequestHeaderOption(t).headers}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&(o({state:n,result:a}),i({state:n,result:a}))},onError:function(e){var t=e.result,a=e.controller,n=(t||{}).errorCode;k.default.recaptchaError(n,a)||(0,g.onError)("submission")}},C=[function(){return{formPath:O}}].concat(r(m.chains.formValidated),[function(e){var t=e.state,a=e.path;return d(t)?a.no():a.yes()},{yes:(0,_.CallHTTP)(P),no:[]}]);t.default={name:e,depends:[],signals:{changeFormField:u(),changeDescriptionField:u("description"),saveForm:S.default.LoginRequired([function(e){var t=e.props,a=e.controller,n=t.submissionType,r=void 0;n===E.SubmissionTypes.media&&(r=a.getSignal("submission.saveMediaForm")),n===E.SubmissionTypes.webgl&&(r=a.getSignal("submission.saveWebGLForm")),r&&r(t)}]),saveMediaForm:C,publishSubmission:S.default.LoginRequired((0,_.CallHTTP)(j)),checkFormStatus:[function(e){var t=e.state;c(t)?t.set("submission.isValidSubmissionForm",!0):t.set("submission.isValidSubmissionForm",!1)}]},getServices:function(){return{}},getState:function(e){return{submissionForm:f(e.submissionData)}}}}).call(t,"views/learn/modules/submission/SubmissionFormStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=e.result;t.set("submissionData",a)}function o(e){var t=e.get(_);return{webGLProjectId:(0,d.get)(t,"webGLProject.value.id")||"",additionalDescription:t.additionalDescription.value,permission:t.permission.value}}function i(e){var t=e.get(_);return(0,c.isValidForm)(t)}function s(e){var t=l(e.get("submissionData")),a=e.get(_);return Object.keys(a).every(function(e){return"webGLProject"===e?((0,d.get)(a,"webGLProject.value.id")||"")===((0,d.get)(t,"webGLProject.value.id")||""):t[e].value===a[e].value})}function l(e){var t={};return t.webGLProject={value:(0,d.get)(e,"webGLProject")||null,validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},t.additionalDescription={value:(0,d.get)(e,"additionalDescription","")},t.permission={value:(0,d.get)(e,"permission",""),validations:["isValue"],errorMessages:["error_isRequired"],isRequired:!0},(0,c.Form)(t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.ConvertWebGLFormParams=o,t.submissionFormSaveStatus=s;var c=a(13),d=a(4),f=a(10),p=a(9),m=a(8),h=a(690),_=["submission","submissionWebGLForm"],g={schema:m.POST_SUBMISSION,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.state,a=e.props,n=t.get("submissionData")||{};return{endpoint:"/api/learn/submission/"+((0,d.get)(n,"id")||0)+"/save",params:u({},o(t),(0,h.ConvertCommonParams)(t,a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&r({state:n,result:a})},onError:(0,p.onError)("submission")},v=[function(){return{formPath:_}}].concat(n(c.chains.formValidated),[function(e){var t=e.state,a=e.path;return s(t)?a.no():a.yes()},{yes:(0,f.CallHTTP)(g),no:[]}]);t.default={name:e,depends:[],signals:{changeWebGLFormField:function(e){return[function(t){var a=t.props;return{field:[].concat(_,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(c.chains.fieldChanged),[c.chains.validate])}(),saveWebGLForm:v,uploadWebGL:[function(e){var t=e.state,a=e.props,n=e.path;return t.get("submissionData")?n.no(a):n.yes(a)},{yes:[].concat(n((0,f.CallHTTP)(u({},g,{onSuccess:function(e){var t=e.state,a=e.result,n=e.props,o=e.controller;r({state:t,result:a}),(0,h.UploadRecord)({props:n,controller:o})}})))),no:[h.UploadRecord]}],checkWebGLFormStatus:[function(e){var t=e.state;i(t)?t.set("submission.isValidSubmissionForm",!0):t.set("submission.isValidSubmissionForm",!1)}]},getServices:function(){return{}},getState:function(e){return{submissionWebGLForm:l(e.submissionData)}}}}).call(t,"views/learn/modules/submission/SubmissionWebGLFormStore.js")},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(0)),m=n(a(2)),h=n(a(1)),_=a(46),g=n(a(3)),v=n(a(999)),y=(s=(0,g.default)(v.default))((c=u=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={sliderWidth:0,rowWidth:0},n.calcRowWidth=function(e){var t=n.props,a=t.items,r=t.pageSize,o=a.length;return Math.max(1,Math.floor(o/r))*e},n.calcScreenIndex=function(e){var t=n.props.pageSize;return Math.max(0,Math.floor(e/t))},i=a,o(n,i)}return i(t,h.default),f(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=e.slider.offsetWidth,a=e.calcRowWidth(t);e.setState({sliderWidth:t,rowWidth:a})},0)}},{key:"renderContainer",value:function(e){var t=this,a=e.x,n=this.state,r=n.sliderWidth,o=n.rowWidth,i=this.props,s=i.items,l=i.pageSize,u=i.renderItem,c={},f=-a*r+"px";c.transform="translateX("+f+")";var m={},h=(1e3*r/l).toFixed(3)/1e3;m.flexBasis=h,m.maxWidth=h;var _=s.map(function(e,a){var n=t.calcScreenIndex(a),r=u({item:e,index:a,screenIndex:n,pageSize:l});return p.default.createElement("div",{key:a,className:t.ss("item-container"),style:d({},m)},r)});return p.default.createElement("div",{className:this.ss("slider-container"),ref:function(e){t.slider=e}},p.default.createElement("div",{className:this.ss("row"),ref:function(e){t.row=e},style:d({width:o},c)},_))}},{key:"render",value:function(){var e=this,t=this.props,a=t.itemPos,n=t.defaultItemPos,r={x:void 0===n?0:n},o={x:(0,_.spring)(a||0)};return p.default.createElement(_.Motion,{defaultStyle:r,style:o},function(t){return e.renderContainer(t)})}}]),t}(),u.propTypes={renderLeftBtn:m.default.func,renderRightBtn:m.default.func,renderItem:m.default.func,items:m.default.array,pageSize:m.default.number,defaultItemPos:m.default.number,itemPos:m.default.number,focusPos:m.default.number},u.defaultProps={items:[],pageSize:1,renderItem:function(){return null}},l=c))||l;t.default=y},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(14)(870)},function(e,t,a){e.exports=a(14)(850)},function(e,t,a){e.exports=a(14)(849)},function(e,t,a){e.exports=a(14)(848)},function(e,t,a){e.exports=a(14)(847)},function(e,t,a){e.exports=a(14)(846)},function(e,t,a){e.exports=a(14)(845)},function(e,t,a){e.exports=a(14)(844)},function(e,t,a){e.exports=a(14)(843)},function(e,t,a){e.exports=a(14)(842)},function(e,t,a){e.exports=a(14)(841)},function(e,t,a){e.exports=a(14)(825)},function(e,t,a){e.exports=a(14)(824)},function(e,t,a){e.exports=a(14)(823)},function(e,t,a){e.exports=a(14)(822)},function(e,t,a){e.exports=a(14)(821)},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(753)).default];t.default={report:n}},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.state,a=e.result,n=e.controller,r={},o=t.get([].concat(m,["itemId"]));if(o){r[o]=a;var i=l({},t.get("adminComment.reportStatsMap")||{}),s=(0,u.get)(i,o)||{},c=r[o].reasons[0].type;if(s.flagCount>0)s.flagCount+=1,s.reasonCount[c]=((0,u.get)(s,"reasonCount."+c)||0)+1,i[o]=s;else{var f={};f[c]=1;var h={flagCount:1,reasonCount:f};i[o]=h}t.merge(["adminComment","reportStatsMap"],i),t.merge(["adminComment","reportMap"],r)}t.merge(["learner","reportMap"],r),t.merge(["submission","submissionDialog","submissionData","comment","reportMap"],r);var _=n.getSignal("header.sendCDPRequest");if(_){var g=t.get([].concat(m,["channelId"])),v=t.get([].concat(m,["parentMessageId"])),y=(0,d.GetSendMessageCDPParams)(t,g,o,v);y.interactionType=p.InteractionTypes.flagged,_({type:p.CDPLearnType.interaction,eventType:p.EventType.learn,data:y})}}function o(e){var t=e.state,a=e.result,n={};n[t.get([].concat(m,["itemId"]))]=a,t.merge(["learner","reportMap"],n)}function i(e){var t=e.state;t.set([].concat(m),l({},h)),t.set("adminComment.inputValues",{})}function s(e){var t=e.get([].concat(m,["reportType"])),a=e.get([].concat(m,["itemId"])),n=e.get([].concat(m,["selects"]))||[],r=e.get([].concat(m,["inputValue"]))||"";return{type:t,itemId:a,reasons:n.map(function(e){var t="";return e===p.CommentReportType.other&&(t=r.trim()),{type:e,content:t}})}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=a(4),c=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),d=a(9),f=a(10),p=a(8),m=["report","reportDialog"],h={reportStatus:"",open:!1,reportType:"",itemId:"",itemData:{},selects:[],inputValue:""},_={schema:p.POST_REPORT,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/report",params:s(e.state)}},onSuccess:function(e){var t=e.status,a=e.state,n=e.result,i=e.controller;if(200===t&&n){var s=a.get([].concat(m,["reportType"]));switch(a.set([].concat(m,["reportStatus"]),"submitted"),s){case p.ReportTypes.message:r({state:a,result:n,controller:i});break;case p.ReportTypes.submission:o({state:a,result:n,controller:i})}}},onError:(0,d.onError)("report")};t.default={name:e,depends:[],signals:{openReportDialog:c.default.LoginRequired([function(e){var t=e.state,a=e.props,n=(0,u.get)(a,"reportStatus")||"initial",r=(0,u.get)(a,"admin")||!1,o=(0,u.get)(a,"channelId")||"",i=(0,u.get)(a,"itemId")||"",s=(0,u.get)(a,"parentMessageId")||"",l=(0,u.get)(a,"itemData")||{},c=(0,u.get)(a,"type")||"message",d=(0,u.get)(a,"dataType")||"";t.merge(m,{open:!0,reportStatus:n,admin:r,reportType:c,channelId:o,itemId:i,parentMessageId:s,itemData:l,dataType:d})}]),closeReportDialog:[i],changeReportValue:[function(e){var t=e.state,a=e.props,r=a.type,o=a.value;if("radio"===r&&((t.get([].concat(m,["selects"]))||[]).includes(o)?t.set([].concat(m,["selects"]),[]):t.set([].concat(m,["selects"]),[o])),"checkbox"===r){var i=t.get([].concat(m,["selects"]))||[];i.includes(o)?t.set([].concat(m,["selects"]),i.filter(function(e){return e!==o})):t.set([].concat(m,["selects"]),[].concat(n(i),[o]))}"input"===r&&t.set([].concat(m,["inputValue"]),o)}],createReport:c.default.LoginRequired((0,f.CallHTTP)(_)),closeReportByAdmin:[function(e){var t=e.state,a=e.controller,n=s(t),r=a.getSignal("adminReportStats.closeReportStats");if(r){var o=(0,u.get)(n,"itemId"),i=(0,u.get)(n,"reasons")||[];r({id:o,action:p.ModeratorActionType.ban,reason:i[0]})}},i],undoReportByAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminReportStats.undoReportStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],undoCommentAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminComment.undoCommentStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],undoSubmissionAdmin:[function(e){var t=e.state,a=e.controller.getSignal("adminSubmission.undoSubmissionStats");a&&a({id:t.get([].concat(m,["itemData","id"])),action:p.ModeratorActionType.undo})},i],deleteCommentAction:[function(e){var t=e.state,a=e.controller,n=s(t),r=t.get([].concat(m,["admin"])),o=t.get([].concat(m,["dataType"])),i="comment.deleteCommentInternal";r&&(i="adminComment.deleteComment");var l=a.getSignal(i);l&&l({dataType:o,messageId:t.get([].concat(m,["itemId"])),succeedSignal:"report.closeReportDialog",reason:((0,u.get)(n,"reasons")||[])[0]})}],deleteSubmissionAction:[function(e){var t=e.state,a=e.controller,n=s(t),r="comment.deleteCommentInternal";t.get([].concat(m,["admin"]))&&(r="adminSubmission.deleteSubmission");var o=a.getSignal(r);o&&o({submissionId:t.get([].concat(m,["itemId"])),succeedSignal:"report.closeReportDialog",reason:((0,u.get)(n,"reasons")||[])[0]})}]},getState:function(){return{reportDialog:l({},h)}}}}).call(t,"views/learn/modules/report/ReportDialogStore.js")},function(e,t,a){"use strict";(function(e){function n(e){var t=e.getSignal("common.closeShareSubmissionDialog");t&&t()}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=a(10),i=a(8),s=a(9),l=a(636),u=["submission","submissionDialog"],c={schema:i.GET_SUBMISSION_DETAIL,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props,a="/api/learn/submission/"+(0,r.get)(t,"id"),n={};return!0===((0,r.get)(t,"preview")||!1)&&(n.preview=!0),{endpoint:a,params:n}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var o=(0,r.get)(a,"submissionData");n.set([].concat(u,["submissionData"]),o);var i=(0,r.get)(o,"statsMap"),s=(0,r.get)(o,"reportMap");n.merge("search.statsMap",i),n.merge("learner.reportMap",s);var l=(0,r.get)(a,"submissionCommentData")||{};n.set(["submissionCommentData"],l);var c=(0,r.get)(o,"channelId")||"",d=(0,r.get)(l,"commentMap."+c+".likeMap")||{},f=(0,r.get)(l,"commentMap."+c+".reportMap")||{};n.merge("learner.likeMap",d),n.merge("learner.reportMap",f)}},onError:function(e){var t=e.result,a=e.controller,n=a.getSignal("submission.closeSubmissionDetail");n&&n(),(0,s.onError)("submission_detail")({result:t,controller:a})}},d=[function(e){var t=e.state,a=e.props,n=e.path,o=(0,r.get)(a,"id"),i=t.get([].concat(u,["currentSubmissionId"]));return o&&o!==i?(t.set([].concat(u,["currentSubmissionId"]),o),n.yes()):n.no()},{yes:[function(e){e.state.set([].concat(u,["show"]),!0)}].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}((0,o.CallHTTP)(c))),no:(0,s.onError)("submission")}];t.default={name:e,depends:[],signals:{openSubmissionDetail:d,closeSubmissionDetail:[function(e){var t=e.state,a=e.controller,r=e.submission;t.set(u,{show:!1}),(0,l.ClearFeatured)(t),n(a),r.backToHistory&&r.backToHistory()}],jumpToMessage:[function(e){var t=e.controller,a=e.props.dataType;t.getSignal("comment.jumpToMessage")({dataType:a})}]},getServices:function(){},getState:function(){return{submissionDialog:{show:!1,currentSubmissionId:""}}}}}).call(t,"views/learn/modules/submission/SubmissionStore.js")},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(756)).default];t.default={comment:n}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function i(e,t){var a=e.state,n=e.props,r=a.get([].concat(C,["currentEditId"])),i=(0,b.get)(n,"messageId")||"",s=(0,b.get)(n,"channelId")||"",l=n.parentMessageId;if(r!==i&&i){var u=[];l&&(u=a.get([].concat(o(t),[s,"replyMap",l,"items"]))),l||(u=a.get([].concat(o(t),[s,"messages","items"])));var c=u.find(function(e){return e.id===i});a.set([].concat(C,["inputValues",s,i]),(0,b.get)(c,"content")),a.set([].concat(C,["currentEditId"]),i),a.set([].concat(C,["currentReplyId"]),"")}else a.set([].concat(C,["currentEditId"]),"")}function s(e,t){var a=e.state,n=e.http,r=e.path,i=e.props,s=i.channelId,l=i.parentMessageId,u=i.isBefore,c=[].concat(o(t),[s]),d={},f="";if(l||(d=a.get([].concat(o(c),["messages"])),f="/api/learn/channels/"+s+"/messages"),l&&(d=a.get([].concat(o(c),["replyMap",l])),f="/api/learn/messages/"+l+"/reply"),u){var p=(0,b.get)(d,"hasBeforeMore"),m=(0,b.get)(d,"currNewestMessageId");if(p)return n.get(f,{after:m,limit:5}).then(r.success).catch(r.error)}else{var h=(0,b.get)(d,"hasMore"),_=(0,b.get)(d,"currOldestMessageId");if(h)return n.get(f,{before:_,limit:5}).then(r.success).catch(r.error)}return r.dummy()}function l(e,t,a){var n=t.channelId,r=t.parentMessageId,o=t.isBefore;r||e.set([].concat(C,[o?"loadBeforeMoreStatus":"loadMoreStatus",n]),a),r&&e.set([].concat(C,[o?"loadBeforeMoreStatus":"loadMoreStatus",r]),a)}function u(e){var t=e.state,a=e.props,n=e.path,r=a.type,o=a.channelId,i=t.get("comment.currentReplyId")||"",s=t.get("comment.currentEditId")||"",l="";return"reply"===r&&(l=t.get("comment.inputValues."+o+"."+i)||""),"edit"===r&&(l=t.get("comment.inputValues."+o+"."+s)||""),"comment"===r&&(l=t.get("comment.inputValues."+o+".new_comment")||""),l.trim()?n.yes(y({},a,{content:l})):n.no()}function c(e,t){var a=e.props,n=e.state,i=a.type,s=a.content,l=a.channelId,u=n.get("loginUser"),c=n.get("comment.currentReplyId")||"",d=[].concat(o(t),[l]),f=w.default.createNonce(),p={nonce:f,type:"normal",channelId:l,authorId:u.id,content:s,attachments:[],parentMessageId:c};if("comment"===i&&(n.unshift([].concat(o(d),["messages","items"]),p),n.merge("comment.inputValues."+l,{new_comment:""})),"reply"===i){var m=void 0;c&&(m=[].concat(o(d),["replyMap",c,"items"])),c||(m=[].concat(o(d),["messages","items"]));var h=n.get([].concat(o(m)))||[];h.unshift(p),n.merge([].concat(o(m)),h),n.merge("comment.inputValues."+l,r({},c,"")),n.set("comment.currentReplyId","")}return{content:s,parentMessageId:c,nonce:f}}function d(e,t){var a=e.state,n=e.props,r=n.channelId,i=n.parentMessageId,s=n.messageId,l=n.content,u=[].concat(o(t),[r]),c=void 0;i&&(c=[].concat(o(u),["replyMap",i,"items"])),i||(c=[].concat(o(u),["messages","items"]));var d=a.get(c).findIndex(function(e){return e.id===s});a.set([].concat(o(c),[d,"content"]),l),a.set("comment.currentEditId",""),a.set("comment.inputValues",{})}function f(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.dataType;o&&"submission"===o?p(e,t,a,n,r,M):p(e,t,a,n,r,I)}function p(e,t,a,n,r,i){var s=n.authorId,l=n.channelId,u=n.nonce,c=n.deletedTime,d=n.likeCount,f=(0,b.get)(n,"parentMessageId");if(a===l){var p=[].concat(o(i),["commentMap",a]),m=void 0;f||(m=[].concat(o(p),["messages"])),f&&(m=[].concat(o(p),["replyMap",f]));var h=e.get([].concat(o(m),["items"]))||[],v=h.findIndex(function(e){return e.authorId===s&&u===e.nonce});if(v>=0){var y=(0,b.get)(h,v+".id")&&!c;c&&!(0,b.get)(n,"hasReply")?e.splice([].concat(o(m),["items"]),v,1):e.splice([].concat(o(m),["items"]),v,1,n),y||(_(e,m,c,d),f&&_(e,[].concat(o(p),["messages"]),c,d),g({state:e,props:t,deletedTime:c}))}e.merge([].concat(o(i),["authorMap"]),r)}}function m(e,t){var a=e.props,n=e.state,r=a.result,i=a.status,s=a.isBefore,l=(0,b.get)(a,"channelId"),u=(0,b.get)(a,"parentMessageId"),c=[].concat(o(t),["commentMap",l]);if(200===i&&r){if(!u){var d=r.comment,f=r.authorMap,p=r.mentionMap,m=d.id,h=d.messages,_=d.replyMap,g=d.likeMap,v=d.reportMap,y=(0,b.get)(h,"items")||[];s?(delete h.hasMore,delete h.currOldestMessageId):(delete h.hasBeforeMore,delete h.currNewestMessageId);var w=n.get([].concat(o(c),["messages"])),E=(0,b.get)(w,"items")||[],k=E.map(function(e){return e.id}),S=y.filter(function(e){return k.lastIndexOf(e.id)<0});l===m&&(n.merge([].concat(o(c),["messages"]),h),n.set([].concat(o(c),["messages","items"]),s?[].concat(o(S),o(E)):[].concat(o(E),o(S))),n.merge([].concat(o(c),["replyMap"]),_),n.merge([].concat(o(t),["authorMap"]),f),n.merge([].concat(o(t),["mentionMap"]),p),n.merge(["learner","likeMap"],g),n.merge(["learner","reportMap"],v))}if(u){var O=[].concat(o(c),["replyMap",u]),T=r.channelId,P=r.messageId,j=r.messages,C=r.authorMap,I=r.mentionMap,N=r.likeMap,M=r.reportMap,D=(0,b.get)(j,"items")||[];s?(delete j.hasMore,delete j.currOldestMessageId):(delete j.hasBeforeMore,delete j.currNewestMessageId);var x=n.get(O),R=(0,b.get)(x,"items")||[],L=R.map(function(e){return e.id}),A=D.filter(function(e){return L.lastIndexOf(e.id)<0});l===T&&u===P&&(n.merge(O,j),n.set([].concat(o(O),["items"]),s?[].concat(o(A),o(R)):[].concat(o(R),o(A))),n.merge([].concat(o(t),["authorMap"]),C),n.merge([].concat(o(t),["mentionMap"]),I),n.merge(["learner","likeMap"],N),n.merge(["learner","reportMap"],M))}}}function h(e,t){var a=e.props,n=e.state,r=a.result,i=a.status,s=a.messageId,l=a.data.dataType;if(200===i&&r){var u=r.comment,c=r.authorMap,d=r.mentionMap,f=u.id,p=u.likeMap,m=u.reportMap;l&&"tutorial"===l&&(n.set([].concat(C,["expandId"]),f),n.set([].concat(C,["drawerIsOpen"]),!0)),n.set([].concat(o(t),["commentMap",f]),u),n.merge([].concat(o(t),["authorMap"]),c),n.merge([].concat(o(t),["mentionMap"]),d),n.merge(["learner","likeMap"],p),n.merge(["learner","reportMap"],m),n.set([].concat(C,["focusMsgId"]),s)}}function _(e,t,a,n){var r=e.get([].concat(o(t),["total"]))||0,i=e.get([].concat(o(t),["likeCount"]))||0;a?(r--,i-=n):(r++,i+=n),e.set([].concat(o(t),["total"]),r),e.set([].concat(o(t),["likeCount"]),i)}function g(e){var t=e.state,a=e.props,n=e.deletedTime?-1:1,r=a.dataType,o=a.tutorialId,i=a.submissionId;r&&"submission"===r?v(t,"submissionData",n,i,!0):v(t,"tutorialData",n,o)}function v(e,t,a,n,r){if(e.get([t,"id"])===n){var o=[t,"statsMap",n,"commentCount"],i=e.get(o)+a;e.set(o,i)}r&&(0,P.SyncSearchStatsCommentCount)(e,n,a)}Object.defineProperty(t,"__esModule",{value:!0});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},b=a(4),w=n(a(132)),E=n(a(17)),k=n(a(35)),S=a(9),O=a(10),T=n(a(18)),P=a(347),j=a(8),C=["comment"],I=["commentData"],N=[].concat(I,["commentMap"]),M=["submissionCommentData"],D=[].concat(M,["commentMap"]),x={schema:j.POST_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.content;return{endpoint:"/api/learn/channels/"+t.channelId+"/messages",params:{content:a,parentMessageId:t.parentMessageId,nonce:t.nonce}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(200===t&&a){var i=r.channelId,s=r.parentMessageId;f(n,r,i,(0,b.get)(a,"message"),(0,b.get)(a,"authorMap"));var l=(0,b.get)(a,"message.id"),u=o.getSignal("header.sendCDPRequest");if(u){var c=(0,S.GetSendMessageCDPParams)(n,i,l,s);c.interactionType=j.InteractionTypes.comment,u({type:j.CDPLearnType.interaction,eventType:j.EventType.learn,data:c})}}},onError:(0,S.onError)("comment")},R={schema:j.EDIT_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.content,n=t.nonce;return{endpoint:"/api/learn/messages/"+t.messageId,params:{content:a,nonce:n}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props;200===t&&a&&f(n,r,r.channelId,(0,b.get)(a,"message"),(0,b.get)(a,"authorMap")||{})},onError:(0,S.onError)("comment")},L={schema:j.DELETE_MESSAGE,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=t.messageId,n=t.reason,r="/api/learn/messages/"+a+"/delete",o={};return n&&(o.reason=n),{endpoint:r,params:o}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=e.controller;if(200===t&&a){f(n,r,a.channelId,a);var i=o.getSignal(r.succeedSignal);i&&i()}},onError:(0,S.onError)("comment")};t.default={name:e,depends:[],signals:{openCommentDrawer:[function(e){var t=e.state,a=e.props.current,n=t.get([].concat(I,["commentIds"]))||[],r=t.get([].concat(I,["commentMap"]))||{},o=(0,b.get)(window,"location.hash","").substring(1);a&&(o=(0,b.get)(a,"id")||"");var i=(0,b.find)(r,function(e){return(0,b.get)(e,"stepId")===o})||{},s=(0,b.get)(i,"id")||n[0];t.set([].concat(C,["expandId"]),s),t.set([].concat(C,["drawerIsOpen"]),!0)}],closeCommentDrawer:[function(e){e.state.set([].concat(C,["drawerIsOpen"]),!1)}],toggleChannelExpanded:[function(e){var t=e.state,a=e.props,n=(0,b.get)(a,"channelId"),r=t.get([].concat(C,["expandId"]));n&&r!==n?t.set([].concat(C,["expandId"]),n):t.set([].concat(C,["expandId"]),"")}],toggleCurrentReplyId:k.default.LoginRequired([function(e){var t=e.state,a=e.props,n=t.get([].concat(C,["currentReplyId"])),r=(0,b.get)(a,"messageId")||"";n===r?t.set([].concat(C,["currentReplyId"]),""):(t.set([].concat(C,["currentEditId"]),""),t.set("comment.inputValues",{}),t.set([].concat(C,["currentReplyId"]),r))}]),toggleEditId:k.default.LoginRequired([function(e){var t=e.state,a=e.props,n=a.dataType;n&&"submission"===n?i({props:a,state:t},D):i({props:a,state:t},N)}]),createComment:k.default.LoginRequired([u,{yes:[function(e){var t=e.props,a=e.state,n=t.dataType;return n&&"submission"===n?c({props:t,state:a},D):c({props:t,state:a},N)}].concat(o((0,O.CallHTTP)(x))),no:[]}]),editComment:k.default.LoginRequired([u,{yes:[function(e){var t=e.state,a=e.props,n=a.dataType;n&&"submission"===n?d({props:a,state:t},D):d({props:a,state:t},N)}].concat(o((0,O.CallHTTP)(R))),no:[]}]),loadMore:[function(e){return l(e.state,e.props,E.default.inProgress)},[function(e){var t=e.state,a=e.http,n=e.path,r=e.props,o=r.dataType;return o&&"submission"===o?s({state:t,http:a,path:n,props:r},D):s({state:t,http:a,path:n,props:r},N)},{success:[function(e){return l(e.state,e.props,E.default.succeeded)},function(e){var t=e.controller,a=e.props;t.getSignal("comment.syncLoadMoreResult")(a)}],error:[function(e){return l(e.state,e.props,E.default.failed)}],dummy:[]}]],deleteCommentInternal:k.default.LoginRequired((0,O.CallHTTP)(L)),deleteComment:k.default.LoginRequired([T.default.DeleteConfirmed("comment.deleteCommentInternal")]),syncLoadMoreResult:[function(e){var t=e.props,a=e.state,n=t.dataType;n&&"submission"===n?m({props:t,state:a},M):m({props:t,state:a},I)}],loadNearMessages:[[function(e){var t=e.http,a=e.path,n=e.props,r=e.state,o=n.messageId,i=n.dataType,s=void 0;return s=i&&"submission"===i?r.get("submissionData.id"):r.get("tutorialData.id"),t.get("/api/learn/nearMessages/"+s+"/"+o,{beforeLimit:2,afterLimit:2}).then(a.success).catch(a.error)},{success:[function(e){var t=e.controller,a=e.props;t.getSignal("comment.syncLoadNearMessagesResult")(a)}],error:[],dummy:[]}]],syncLoadNearMessagesResult:[function(e){var t=e.props,a=e.state,n=t.dataType;n&&"submission"===n?h({props:t,state:a},M):h({props:t,state:a},I)}],changeInputValue:[function(e){var t=e.props,a=e.state,n=t.channelId,o=t.id,i=t.value;a.merge("comment.inputValues."+n,r({},o,i))}],jumpToMessage:[function(e){var t=e.controller,a=e.props,n=(0,b.get)((0,S.GetUrlQueryObject)(),"messageId");n&&t.getSignal("comment.loadNearMessages")({messageId:n,data:a})}],markComponentFocused:[function(e){e.state.set([].concat(C,["componentFocused"]),!0)}],setFocusComponent:[function(e){var t=e.state,a=e.props;t.set([].concat(C,["focusComponent"]),a.component)}]},getState:function(){return{expandId:"",focusMsgId:"",currentReplyId:"",currentEditId:"",inputValues:{},loadMoreStatus:{},drawerIsOpen:!1,loadBeforeMoreStatus:{},focusComponent:0,componentFocused:!1}}}}).call(t,"views/learn/modules/comment/CommentStore.js")},,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(767)),o=n(a(754)),i=n(a(690)),s=n(a(691)),l=n(a(636)),u=n(a(768)),c=[r.default,o.default,i.default,s.default,u.default],d=[l.default];t.default={submission:c,featured:d}},function(e,t,a){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n(a(62)),i=n(a(63)),s=n(a(64)),l=n(a(19)),u=[];t.default={name:e,depends:[],signals:{syncToLocation:[function(e){var t=e.state,a=e.props,n=e.submission,o=a.id,i=a.options;if(!(void 0===i?{}:i).isPOP){var s=window.location,c=r({},s);o&&(u.push(c),c={pathname:(0,l.default)("/submission/"+o,t.get("currentHost"))}),n.syncToHistory(c)}}]},getServices:function(){function e(e){t.replace(e)}var t=(0,i.default)((0,s.default)(o.default))({basename:"/"});return{syncToHistory:function(e){t.push(e)},replaceToHistory:e,backToHistory:function(){var t=u.pop();t&&e({pathname:t.pathname,search:t.search})}}},getState:function(){return{}}}}).call(t,"views/learn/modules/submission/BrowseStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(["",".webGLProjectUrl"],["",".webGLProjectUrl"]),o=n(["webGLProjectUrl"],["webGLProjectUrl"]),i=a(22),s=a(5),l=a(4),u=a(10),c=a(9),d=["submission","addWebGLProject"],f=/((https?:\/\/)|^)(connect|play)[^/.\n\f\t\r\v]*.(unity|unity3d).(com)(:[0-9]+)?\/(p|mg\/(?:other|fps|2d|lego|karting))\/.+/i,p={schema:a(8).POST_WEBGL_PROJECT,request:{method:"post",params:{}},onPrepareRequest:function(e){return{endpoint:"/api/learn/learner/webgl",params:{url:e.props.webGLProjectUrl}}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state,r=e.props,o=n.get(d).webGLProjectUrl,i=r.webGLProjectUrl;200===t&&o===i&&a&&n.set([].concat(d,["webGLProject"]),a)},onError:(0,c.onError)("getWebGLProject")};t.default={name:e,depends:[],signals:{changeAddWebGLProjectUrl:[(0,i.set)((0,s.state)(r,d.join(".")),(0,s.props)(o))],getWebGLProject:[function(e){var t=e.props,a=e.controller,n=e.path,r=(0,l.get)(t,"webGLProjectUrl")||"";return r?f.test(r)?n.yes(t):(a.getSignal("header.showMessage")({message:"project_unsupported_url"}),n.no()):n.no()},{yes:(0,u.CallHTTP)(p),no:[]}],clearWebGLProject:[function(e){e.state.set(d,{webGLProjectUrl:"",webGLProject:null})}]},getServices:function(){return{}},getState:function(){return{addWebGLProject:{webGLProjectUrl:"",webGLProject:null}}}}}).call(t,"views/learn/modules/submission/AddWebGLProjectStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Competency=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(4),E=n(a(3)),k=n(a(825)),S=n(a(7)),O=n(a(826)),T=(s=(0,E.default)(k.default),l=(0,S.default)(O.default),s(u=l((d=c=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.computedCompetencySkills=function(e){var t=n.props.skillMap,a=[];((0,w.get)(e,"skillIds")||[]).forEach(function(e){var n=(0,w.get)(t,e);n&&a.push(n)}),e.skills=a},i=a,o(n,i)}return i(t,b.default),g(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.competencyIds,n=t.competencyMap,r=t.theme;if(0===a.length)return null;var o=1===a.length,i=a.map(function(t){var a=(0,w.get)(n,t)||{},i=(0,w.get)(a,"id");return e.computedCompetencySkills(a),y.default.createElement(P,{theme:r,key:"competency-item-"+i,single:o,competency:a})});return y.default.createElement("div",{className:this.ss("competencies")},i)}}]),t}(),c.propTypes={competencyIds:v.default.array,competencyMap:v.default.object,skillMap:v.default.object,theme:v.default.oneOf(["default","dialog"])},c.defaultProps={competencyIds:[],theme:"default"},u=d))||u)||u);t.default=T;var P=t.Competency=(f=(0,E.default)(k.default),p=(0,S.default)(O.default),f(m=p((_=h=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleActive=function(){a.setState(function(e){return{active:!e.active}})},a.state={active:e.single},a}return i(t,b.default),g(t,[{key:"renderSkills",value:function(){var e=this,t=this.props.competency,a=(0,w.get)(t,"skills")||[];if(0===a.length)return null;var n=a.map(function(t){var a=(0,w.get)(t,"id"),n=(0,w.get)(t,"title")||"";return y.default.createElement("div",{className:e.ss("skill-item"),key:"skill-item-"+a},y.default.createElement("span",null,n))});return y.default.createElement("div",{className:this.ss("skills")},n)}},{key:"render",value:function(){var e=this.state.active,t=this.props,a=t.single,n=t.competency,r=t.theme,o=(0,w.get)(n,"title")||"",i=!(0===((0,w.get)(n,"skillIds")||[]).length)&&!a;return y.default.createElement("div",{className:this.ss("competency","theme-"+r,i&&"button",e&&"active")},y.default.createElement("a",{className:this.ss("content"),onClick:i?this.toggleActive:void 0},y.default.createElement("div",{className:this.ss("competency-title")},o),y.default.createElement("div",{className:this.ss("icon ifont ifont-lrn_icon-arrow-down")})),this.renderSkills())}}]),t}(),h.propTypes={single:v.default.bool,competency:v.default.object,theme:v.default.oneOf(["default","dialog"])},h.defaultProps={single:!1,theme:"default"},m=_))||m)||m)},function(e,t){e.exports={point:"point_2QOI"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.uv"],["common.uv"]),_=s(["breadcrumb"],["breadcrumb"]),g=s(["currentHost"],["currentHost"]),v=s(["locale"],["locale"]),y=s(["learner.recordMap.",""],["learner.recordMap.",""]),b=s(["data.id"],["data.id"]),w=s(["learner.parentIds"],["learner.parentIds"]),E=s(["httpAPI.",""],["httpAPI.",""]),k=s(["breadcrumb.nextMissionContent"],["breadcrumb.nextMissionContent"]),S=s(["learner.postArchitectureRecord"],["learner.postArchitectureRecord"]),O=s(["learner.setMissionContentRecordConfirm"],["learner.setMissionContentRecordConfirm"]),T=s(["learner.resumeMissionRecord"],["learner.resumeMissionRecord"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=n(a(16)),x=a(8),R=a(17),L=a(9),A=a(119),F=n(a(19)),K=n(a(48)),q=n(a(3)),z=n(a(830)),B=n(a(7)),U=n(a(831)),H=(l=(0,I.decorator)({uv:(0,N.state)(h),breadcrumb:(0,N.state)(_),currentHost:(0,N.state)(g),locale:(0,N.state)(v),record:(0,N.state)(y,(0,N.props)(b)),parentIds:(0,N.state)(w),postRecordData:(0,N.state)(E,x.POST_ARCHITECTURE_RECORD),nextContent:(0,N.state)(k),postRecord:(0,N.signal)(S),setMissionContentRecord:(0,N.signal)(O),resumeMissionRecord:(0,N.signal)(T)}),u=(0,q.default)(z.default),c=(0,B.default)(U.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onPostRecord=function(){var e=n.props,t=e.postRecord,a=e.nextContent;t&&t({next:a})},n.onSetMissionContentRecord=function(){var e=n.props,t=e.data,a=e.setMissionContentRecord,r=e.versionId,o=e.contentSet,i=e.record,s=e.breadcrumb,l=t.id,u=t.type,c=(0,M.get)(o,"id"),d=(0,M.get)(i,"currentId"),f=(0,A.GetMissionNextContent)(s,l,c);a&&a({id:l,type:u,versionId:r,selectedId:d,currentId:c,next:f})},n.onResumeRecord=function(){var e=n.props,t=e.nextContent,a=e.currentHost,r=e.locale,o=e.uv,i=e.record,s=e.parentIds,l=e.resumeMissionRecord,u=(0,M.get)(s,"contentId"),c=(0,M.get)(i,"recentVisit");if(u===(0,M.get)(c,"contentId"))l({record:i});else{var d=(0,F.default)((0,L.GetUrlByNavIds)(t.navIds,(0,L.GetDetailPageURL)(t,r,o)),a);(0,K.default)(d)}},i=a,o(n,i)}return i(t,C.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.record,n=e.postRecordData,r=e.setMissionContentRecord,o=e.contentSet,i=[],s=(0,M.get)(o,"id");if(a){var l=(0,M.get)(a,"currentId"),u=(0,M.get)(a,"completed"),c=(0,M.get)(o,"contentIds")||[];if((0,L.GetContentRecordStatus)(a,c).completedNum===c.length&&u)i.push(null);else if(l===s)i.push(j.default.createElement(D.default,{key:s+"_btn_resume",size:"medium",label:this.__("resume_mission"),onClick:this.onResumeRecord}));else{var d=(0,R.isLoading)((0,M.get)(r,"updateStatus"));i.push(j.default.createElement(D.default,{key:s+"_btn_start",loading:d,size:"medium",label:this.__("start_mission"),onClick:this.onSetMissionContentRecord}))}}else{var f=(0,R.isLoading)((0,M.get)(n,"updateStatus"));i.push(j.default.createElement(D.default,{key:s+"_btn_start",loading:f,size:"medium",label:this.__("start_mission"),onClick:this.onPostRecord}))}return j.default.createElement("div",{className:this.ss("record-button",t)},i)}}]),t}(),f.propTypes={data:P.default.object,uv:P.default.string,breadcrumb:P.default.object,currentHost:P.default.string,locale:P.default.string,contentSet:P.default.object,record:P.default.object,parentIds:P.default.object,size:P.default.oneOf(["small","medium","large"]),theme:P.default.oneOf(["default","sticker-head"]),postRecordData:P.default.object,nextContent:P.default.object,versionId:P.default.string,postRecord:P.default.func,setMissionContentRecord:P.default.func,resumeMissionRecord:P.default.func},d=p))||d)||d)||d);t.default=H},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["common.uv"],["common.uv"]),_=s(["currentHost"],["currentHost"]),g=s(["locale"],["locale"]),v=s(["learner.recordMap.",""],["learner.recordMap.",""]),y=s(["data.id"],["data.id"]),b=s(["httpAPI.",""],["httpAPI.",""]),w=s(["breadcrumb.currentMission"],["breadcrumb.currentMission"]),E=s(["pathwayData.missionMap"],["pathwayData.missionMap"]),k=s(["learner.recordMap"],["learner.recordMap"]),S=s(["learner.postArchitectureRecord"],["learner.postArchitectureRecord"]),O=s(["learner.setPathwayRecord"],["learner.setPathwayRecord"]),T=s(["learner.resumeMissionRecord"],["learner.resumeMissionRecord"]),P=s(["learner.resumePathwayRecord"],["learner.resumePathwayRecord"]),j=s(["learner.startPathwayCheckpoint"],["learner.startPathwayCheckpoint"]),C=n(a(2)),I=n(a(0)),N=n(a(1)),M=a(6),D=a(5),x=a(4),R=n(a(16)),L=a(8),A=a(17),F=a(9),K=n(a(19)),q=n(a(25)),z=n(a(3)),B=n(a(832)),U=n(a(7)),H=n(a(833)),V=(l=(0,M.decorator)({uv:(0,D.state)(h),currentHost:(0,D.state)(_),locale:(0,D.state)(g),record:(0,D.state)(v,(0,D.props)(y)),postRecordData:(0,D.state)(b,L.POST_ARCHITECTURE_RECORD),currentMission:(0,D.state)(w),missionMap:(0,D.state)(E),recordMap:(0,D.state)(k),postRecord:(0,D.signal)(S),setPathwayRecord:(0,D.signal)(O),resumeMissionRecord:(0,D.signal)(T),resumePathwayRecord:(0,D.signal)(P),startPathwayCheckpoint:(0,D.signal)(j)}),u=(0,z.default)(B.default),c=(0,U.default)(H.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onPostRecord=function(){var e=n.props,t=e.postRecord,a=e.currentMission;t&&t({next:a})},n.onSetRecord=function(){var e=n.props,t=e.setPathwayRecord,a=e.versionId,r=e.currentMission;t&&t({versionId:a,next:r})},n.onResumeRecord=function(){var e=n.props,t=e.currentMission,a=e.missionMap,r=e.recordMap,o=e.startPathwayCheckpoint,i=e.data,s=e.locale,l=e.uv,u=e.currentHost,c=e.resumeMissionRecord,d=e.resumePathwayRecord,f=(0,x.get)(i,"id"),p=(0,x.get)(r,f),m=(0,x.get)(p,"recentVisit")||{},h=(0,x.get)(m,"missionId"),_=(0,x.get)(r,h),g=(0,x.get)(_,"completed"),v=(0,x.get)(t,"status.completed");if(!g&&_)d({record:p});else if(t&&!v){var y=(0,x.get)(t,"id"),b=(0,x.get)(r,y);if((0,x.get)(b,"currentId"))c({record:b});else{var w=(0,x.get)(a,y),E=(0,K.default)((0,F.GetItemUrlInDetail)({data:i,item:w,locale:s,uv:l}),u);(0,q.default)(E)}}else o&&o()},i=a,o(n,i)}return i(t,N.default),m(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.record,r=e.postRecordData,o=[],i=(0,x.get)(t,"id");if(n)n.currentId?(0,x.get)(n,"completed")||o.push(I.default.createElement(R.default,{key:i+"_btn_resume",size:"medium",label:this.__("resume_pathway"),onClick:this.onResumeRecord})):o.push(I.default.createElement(R.default,{key:i+"_btn_resume",size:"medium",label:this.__("start_pathway"),onClick:this.onSetRecord}));else{var s=(0,A.isLoading)((0,x.get)(r,"updateStatus"));o.push(I.default.createElement(R.default,{key:i+"_btn_start",loading:s,size:"medium",label:this.__("start_pathway"),onClick:this.onPostRecord}))}return I.default.createElement("div",{className:this.ss("record-button",a)},o)}}]),t}(),f.propTypes={data:C.default.object,uv:C.default.string,currentHost:C.default.string,locale:C.default.string,record:C.default.object,size:C.default.oneOf(["small","medium","large"]),theme:C.default.oneOf(["default","sticker-head"]),postRecordData:C.default.object,currentMission:C.default.object,missionMap:C.default.object,recordMap:C.default.object,versionId:C.default.string,postRecord:C.default.func,setPathwayRecord:C.default.func,resumeMissionRecord:C.default.func,resumePathwayRecord:C.default.func,startPathwayCheckpoint:C.default.func},d=p))||d)||d)||d);t.default=V},,,,,,,,,function(e,t){e.exports={center:"center_3fDMN4yw",competencies:"competencies_vyx1sLCM",competency:"competency_2MBM7TZP",content:"content_3_KVwMuj",icon:"icon_WnJ7WqLS",skills:"skills_30VyC1Hw","skill-item":"skill-item_22V8L7cI",button:"button_3d45iq0_",active:"active_TK3RX6AJ","theme-dialog":"theme-dialog_2puyW7sw"}},function(e,t){e.exports={detail_tab_live_title:"detail_tab_live_title_1xh5",detail_tab_live_des:"detail_tab_live_des_RTpi",button_get_help:"button_get_help_3RLJ",upcoming_live_session:"upcoming_live_session_18VY",previous_recorded:"previous_recorded_3HoM"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["currentHost"],["currentHost"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=a(4),w=n(a(15)),E=n(a(16)),k=n(a(19)),S=n(a(3)),O=n(a(828)),T=n(a(7)),P=n(a(829)),j=(s=(0,v.decorator)({currentHost:(0,y.state)(m)}),l=(0,S.default)(O.default),u=(0,T.default)(P.default),s(c=l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.renderGroupType=function(){var e=n.props.data,t=(0,b.get)(e,"privacy");return t?_.default.createElement("div",{className:n.ss("type-label")},n.__("group_privacy_"+t)):null},i=a,o(n,i)}return i(t,g.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.currentHost,n=(0,b.get)(t,"id")||(0,b.get)(t,"groupId"),r=(0,b.get)(t,"name")||"",o=(0,b.get)(t,"avatar"),i=(0,k.default)("/g/"+n,a);return _.default.createElement("div",{className:this.ss("group-card")},_.default.createElement("div",{className:this.ss("main")},_.default.createElement("div",{className:this.ss("thumbnail")},_.default.createElement(w.default,{src:o,sizes:"66px",height:66,width:66})),this.renderGroupType(),_.default.createElement("div",{className:this.ss("name")},r)),_.default.createElement("div",{className:this.ss("footer")},_.default.createElement(E.default,{size:"xsmall",label:this.__("view_group"),target:"_blank",href:i})))}}]),t}(),d.propTypes={data:h.default.object,currentHost:h.default.string},c=f))||c)||c)||c);t.default=j},function(e,t){e.exports={"group-card":"group-card_27Ojq94u",main:"main_1y2YkTRI",thumbnail:"thumbnail_29fs4jcU","type-label":"type-label_1ueK9Frh",name:"name_25qh684j"}},function(e,t){e.exports={view_group:"view_group_2uRE",group_privacy_secret:"group_privacy_secret_1j8W",group_privacy_closed:"group_privacy_closed_28OY",group_privacy_public:"group_privacy_public_yeUJ"}},function(e,t){e.exports={"record-button":"record-button_3BD_1YpU",hint:"hint_2dSZMRX6","progress-info":"progress-info_Yu4cqsbf"}},function(e,t){e.exports={start_mission:"start_mission_197w",resume_mission:"resume_mission_kQvU",restart_mission:"restart_mission_1STH"}},function(e,t){e.exports={"record-button":"record-button_261gaTyy",hint:"hint_5V_VRp76","progress-info":"progress-info_1kF7jEST"}},function(e,t){e.exports={start_pathway:"start_pathway_2kEO",resume_pathway:"resume_pathway_2aNH",restart_pathway:"restart_pathway_jxPN"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ContentItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["common.uv"],["common.uv"]),E=s(["breadcrumb"],["breadcrumb"]),k=s(["currentHost"],["currentHost"]),S=s(["locale"],["locale"]),O=s(["checkpointRequired"],["checkpointRequired"]),T=s(["completion.completions"],["completion.completions"]),P=s(["completion.feedbackCompleted"],["completion.feedbackCompleted"]),j=s(["completion.skipFeedback"],["completion.skipFeedback"]),C=s(["completion.openNextTransition"],["completion.openNextTransition"]),I=s(["completion.closeSummaryDialog"],["completion.closeSummaryDialog"]),N=n(a(2)),M=n(a(0)),D=n(a(1)),x=a(6),R=a(5),L=a(4),A=n(a(16)),F=n(a(15)),K=n(a(33)),q=n(a(19)),z=a(9),B=n(a(48)),U=a(8),H=n(a(3)),V=n(a(1015)),G=n(a(7)),W=n(a(1016)),Q=1,J=(l=(0,x.decorator)({uv:(0,R.state)(w),breadcrumb:(0,R.state)(E),currentHost:(0,R.state)(k),locale:(0,R.state)(S),checkpointRequired:(0,R.state)(O),completions:(0,R.state)(T),feedbackCompleted:(0,R.state)(P),skipFeedback:(0,R.signal)(j),openNextDialog:(0,R.signal)(C),closeDialog:(0,R.signal)(I)}),u=(0,H.default)(V.default),c=(0,G.default)(W.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={count:5,start:!1},n.timerId=null,n.handleCountDown=function(e){var t=n.props,a=t.breadcrumb;if(!(t.completions.length>0)){var r=(0,L.get)(a,"nextUncompleted");if(null===n.timerId&&e&&r){n.setState({start:!0});var o=n.state.count;n.timerId=setInterval(function(){o-=1,n.setState({count:o}),0===o&&n.handleNavigate()},1e3*Q)}}},n.handleNavigate=function(){var e=n.props,t=e.breadcrumb,a=e.currentHost,r=e.locale,o=e.uv,i=e.checkpointRequired;clearInterval(n.timerId),n.timerId=null;var s=(0,L.get)(t,"nextUncompleted"),l=(0,q.default)((0,z.GetUrlByNavIds)(s.navIds,(0,z.GetDetailPageURL)(s,r,o,i)),a);(0,B.default)(l)},n.handleSkip=function(){var e=n.props.skipFeedback;e&&e()},n.handleNextSummary=function(){var e=n.props,t=e.openNextDialog,a=e.closeDialog;a&&a(),t&&t()},i=a,o(n,i)}return i(t,D.default),b(t,[{key:"componentDidMount",value:function(){var e=this.props.feedbackCompleted;this.handleCountDown(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.feedbackCompleted;this.handleCountDown(t)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerId),this.timerId=null}},{key:"renderClose",value:function(){var e=this;return M.default.createElement("div",{className:this.ss("button-wrap","continue-button")},M.default.createElement(A.default,{label:this.__("continue"),size:"medium",onClick:function(){return e.handleNextSummary()}}))}},{key:"renderNextContent",value:function(){var e=this,t=this.props,a=t.breadcrumb,n=t.hasFeedback,r=t.completions,o=this.state,i=o.start,s=o.count;if(!i){if(r.length>0){var l=r[r.length-1];return M.default.createElement("div",{className:this.ss("button-wrap","continue-button")},M.default.createElement(A.default,{label:this.__("continue_summary_"+l.type),size:"medium",onClick:function(){return e.handleNextSummary()}}))}return this.renderClose()}var u=(0,L.get)(a,"nextUncompleted");if(!u)return this.renderClose();var c=u.type;return M.default.createElement("div",{className:this.ss("next-content")},n&&M.default.createElement("div",{className:this.ss("continue-title")},this.__("thanks_for_feedback")),M.default.createElement("div",{className:this.ss("next")},this.__("next_"+c)),M.default.createElement("div",{className:this.ss("content-wrap")},M.default.createElement(Y,{data:u,onClick:this.handleNavigate})),M.default.createElement("div",{className:this.ss("count-down")},this.__("count_down_secons",{count:s})))}},{key:"renderContinue",value:function(){var e=this,t=this.props,a=t.data,n=t.breadcrumb,r=t.completions,o=(0,L.get)(a,"type"),i=(0,L.get)(n,"nextUncompleted");return o===U.DataTypeKeys.quiz&&!i&&r.length<=0?this.renderClose():M.default.createElement("div",{className:this.ss("button-wrap","continue-button")},M.default.createElement(A.default,{label:this.__("continue"),size:"medium",onClick:function(){return e.handleSkip()}}))}},{key:"render",value:function(){var e=this.props.feedbackCompleted;return M.default.createElement("div",{className:this.ss("summary-continue")},e?this.renderNextContent():this.renderContinue())}}]),t}(),f.propTypes={data:N.default.object,uv:N.default.string,currentHost:N.default.string,locale:N.default.string,breadcrumb:N.default.object,completions:N.default.array,feedbackCompleted:N.default.bool,hasFeedback:N.default.bool,checkpointRequired:N.default.bool,skipFeedback:N.default.func,openNextDialog:N.default.func,closeDialog:N.default.func},d=p))||d)||d)||d);t.default=J;var Y=t.ContentItem=(m=(0,x.decorator)({}),h=(0,H.default)(V.default),_=(0,G.default)(W.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(){var e=n.props,t=e.onClick,a=e.data;t&&t({data:a})},i=a,o(n,i)}return i(t,D.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=t.title,r=(0,L.get)(t,"thumbnail.url",""),o="simple"===a;return M.default.createElement("div",{className:this.ss("item-row-wrap"),onClick:this.handleClick},M.default.createElement("div",{className:this.ss("item-row")},M.default.createElement("div",{className:this.ss("row-img"),style:{width:153}},M.default.createElement(F.default,{src:r,sizes:"153px",width:153,height:90}))),M.default.createElement("div",{className:this.ss("row-content")},M.default.createElement("div",{className:this.ss("item-info")},M.default.createElement("div",{className:this.ss("item-title")},n),M.default.createElement("div",{className:this.ss("sub-title-wrap")},!o&&M.default.createElement(K.default,{data:t})))))}}]),t}(),v.propTypes={data:N.default.object,onClick:N.default.func,theme:N.default.oneOfType(["default","simple"])},v.defaultProps={theme:"default"},g=y))||g)||g)||g)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["pathwayData.missionMap"],["pathwayData.missionMap"]),_=s(["pathway.pathwayMap.missionPosition"],["pathway.pathwayMap.missionPosition"]),g=s(["pathway.pathwayMap.maxHeight"],["pathway.pathwayMap.maxHeight"]),v=s(["pathway.pathwayMap.maxWidth"],["pathway.pathwayMap.maxWidth"]),y=s(["learner.recordMap"],["learner.recordMap"]),b=s(["pathway.addPathwayMapGrid"],["pathway.addPathwayMapGrid"]),w=s(["pathway.moveMissionPosition"],["pathway.moveMissionPosition"]),E=n(a(2)),k=n(a(0)),S=n(a(20)),O=n(a(1)),T=a(6),P=a(5),j=a(4),C=n(a(16)),I=a(12),N=n(a(3)),M=n(a(866)),D=n(a(7)),x=n(a(867)),R=(l=(0,T.decorator)({missionMap:(0,P.state)(h),missionPosition:(0,P.state)(_),maxHeight:(0,P.state)(g),maxWidth:(0,P.state)(v),recordMap:(0,P.state)(y),addPathwayMapGrid:(0,P.signal)(b),moveMissionPosition:(0,P.signal)(w)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onDragOver=function(e){(0,I.pauseEvent)(e)},a.onDropItem=function(e,t){(0,I.pauseEvent)(e),a.setItemClick(!1);var n=a.props,r=n.moveMissionPosition,o=n.missionPosition,i=o[t],s=e.dataTransfer.getData("MissionId"),l=o[s];r({missionId:t,position:{top:l.top,left:l.left}}),r({missionId:s,position:{top:i.top,left:i.left}})},a.onDropGrid=function(e,t,n){(0,I.pauseEvent)(e),a.setItemClick(!1);var r=e.dataTransfer.getData("MissionId");a.props.moveMissionPosition({missionId:r,position:{top:t,left:n}})},a.onMouseMove=function(e){!0===a.startMove&&a.refs.learningMap&&(S.default.findDOMNode(a.refs.learningMap).style.transform="translateX("+(a.moveRangeX+e.clientX-a.beginX)+"px)")},a.onMouseDown=function(e){!0!==a.itemClick&&(a.startMove=!0,a.beginX=e.clientX)},a.onEndMove=function(e){!1!==a.startMove&&(a.startMove=!1,a.moveRangeX+=e.clientX-a.beginX)},a.setItemClick=function(e){a.itemClick=e},a.moveRangeX=0,a.startMove=!1,a.itemClick=!1,a}return i(t,O.default),m(t,[{key:"componentDidMount",value:function(){this.updateCanvas()}},{key:"componentDidUpdate",value:function(){this.updateCanvas()}},{key:"onDragStart",value:function(e,t){e.dataTransfer.setData("MissionId",t)}},{key:"updateCanvas",value:function(){var e=this.refs.canvas;if(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.lineWidth=2.5,t.lineCap="round",t.setLineDash([0,4]);var a=this.props,n=a.missionMap,r=a.missionPosition,o=a.itemWidth,i=a.itemHeight,s=a.itemRight,l=a.recordMap;Object.keys(r).forEach(function(e){var a=r[e],u=n[e];if(u){t.beginPath(),t.strokeStyle="#4d4d4d",!0===(0,j.get)(l,e+".completed")&&(t.strokeStyle="#ffffff");var c=a.left*o+o-s,d=a.top*i+.5*i,f=u.dependentIds||[];f.length>0&&f.forEach(function(e){var a=r[e];if(a){var n=a.left*o,l=a.top*i+.5*i;t.moveTo(c,d),t.bezierCurveTo(c+.5*s,d,n-.5*s,l,n,l)}})}t.stroke()})}}},{key:"addRound",value:function(e,t){var a=this.props,n=a.maxHeight,r=a.maxWidth;this.setState({maxHeight:n+e,maxWidth:r+t})}},{key:"renderItem",value:function(e){var t=this,a=this.props,n=a.missionPosition,r=a.renderItem,o=a.itemWidth,i=a.itemHeight,s=a.itemRight,l=a.renderOnly,u=n[e];if(!u)return null;var c={top:u.top*i,left:u.left*o,height:i,width:o,paddingRight:s};return k.default.createElement("div",{key:e,className:this.ss("item-wrapper"),style:c,onDragOver:this.onDragOver,onDrop:function(a){return t.onDropItem(a,e)}},k.default.createElement("div",{className:this.ss("item"),draggable:!l,onMouseDown:function(){return t.setItemClick(!0)},onMouseUp:function(){return t.setItemClick(!1)},onDragStart:function(a){return t.onDragStart(a,e)}},r&&r(e)))}},{key:"renderGrid",value:function(){var e=this,t=this.props,a=t.maxHeight,n=t.maxWidth,r=t.itemWidth,o=t.itemHeight;if(!a||!n)return null;for(var i=[],s=0;s<a;s++)!function(t){for(var a=0;a<n;a++)!function(a){var n={top:t*o,left:a*r,width:r,height:o};i.push(k.default.createElement("div",{key:t+"-"+a,className:e.ss("grid-wrapper"),style:n,onDragOver:e.onDragOver,onDrop:function(n){return e.onDropGrid(n,t,a)}}))}(a)}(s);return k.default.createElement("div",{className:this.ss("grids-container"),style:{width:n*r,height:a*o}},i)}},{key:"render",value:function(){var e=this,t=this.props,a=t.missionPosition,n=t.maxWidth,r=t.maxHeight,o=t.itemWidth,i=t.itemHeight,s=t.addPathwayMapGrid,l=t.renderOnly,u=[];if(Object.keys(a).forEach(function(t){var a=e.renderItem(t);a&&u.push(a)}),0===u.length)return null;var c={minHeight:l?r*i:"auto",minWidth:l?n*o:"auto"};return l&&(c.height="100%"),k.default.createElement("div",{style:c,className:this.ss("learning-wrap-box")},k.default.createElement("div",{ref:"learningMap",className:this.ss("learning-map"),onMouseDown:this.onMouseDown,onMouseUp:this.onEndMove,onMouseMove:this.onMouseMove,onMouseOut:this.onEndMove},k.default.createElement("div",{className:this.ss("relation-container")},k.default.createElement("canvas",{ref:"canvas",width:n*o,height:r*i})),!l&&this.renderGrid(),u),!l&&k.default.createElement("div",{className:this.ss("grid-buttons")},k.default.createElement(C.default,{label:this.__("add_line"),theme:"primary",onClick:function(){return s({line:1})}}),k.default.createElement(C.default,{label:this.__("add_column"),theme:"primary",onClick:function(){return s({column:1})}})))}}]),t}(),f.propTypes={missionMap:E.default.object,missionPosition:E.default.object,maxHeight:E.default.number,maxWidth:E.default.number,itemWidth:E.default.number,recordMap:E.default.object,itemHeight:E.default.number,itemRight:E.default.number,renderOnly:E.default.bool,addPathwayMapGrid:E.default.func,moveMissionPosition:E.default.func,renderItem:E.default.func},f.defaultProps={itemRight:30},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={"learning-wrap-box":"learning-wrap-box_6pkT2PPP","learning-map":"learning-map_AOZHFiEP","grid-wrapper":"grid-wrapper_Ra3Dn_fv","grids-container":"grids-container_xUKlZN1e","grid-buttons":"grid-buttons_prMghjvr","item-wrapper":"item-wrapper_2QWOfckA",item:"item_NuEQe3vJ","relation-container":"relation-container_1WIFdFeJ"}},function(e,t){e.exports={add_line:"add_line_1lMC",add_column:"add_column_2yBy"}},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.QuizEditor=void 0;var u,c,d,f,p,m,h,_,g,v,y,b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=l(["value"],["value"]),k=l(["draft.editorStates.",""],["draft.editorStates.",""]),S=l(["editorKey"],["editorKey"]),O=l(["draft.setEditorState"],["draft.setEditorState"]),T=n(a(0)),P=n(a(2)),j=n(a(1)),C=n(a(20)),I=a(6),N=a(5),M=a(11),D=n(a(534)),x=n(a(154)),R=n(a(155)),L=n(a(157)),A=n(a(156)),F=n(a(535)),K=n(a(158)),q=n(a(159)),z=n(a(536)),B=n(a(537)),U=n(a(102)),H=n(a(538)),V=n(a(539)),G=n(a(113)),W=n(a(3)),Q=n(a(1025)),J=(t.QuizEditor=(u=(0,I.decorator)({defaultEditorState:(0,M.$editorStateFromJSON)((0,N.props)(E))}),c=(0,W.default)(Q.default),u(d=c((p=f=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,j.default),w(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.renderOnly,o=e.placeholder,i=r(e,["editorKey","defaultEditorState","renderOnly","placeholder"]);return T.default.createElement(J,b({},i,{renderOnly:n,editorKey:t,placeholder:o,defaultEditorState:a}))}}]),t}(),f.propTypes={editorKey:P.default.string.isRequired,defaultEditorState:P.default.object,renderOnly:P.default.bool,placeholder:P.default.string},f.defaultProps={renderOnly:!1,editorKey:"editor_quiz"},d=p))||d)||d),m=(0,I.decorator)({editorState:(0,N.state)(k,(0,N.props)(S)),setEditorState:(0,N.signal)(O)}),h=(0,W.default)(Q.default),m(_=h((v=g=function(e){function t(e,a){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));y.call(n);var r={editorKey:e.editorKey,renderOnly:e.renderOnly,placeholder:e.placeholder,prevEditorKey:e.prevEditorKey,theme:e.theme};n.codeBlockPlugin=(0,D.default)(r),n.blockBreakoutPlugin=(0,R.default)(r),n.richTextPlugin=(0,x.default)(r),n.navigationPlugin=(0,G.default)(r),n.sideToolbarPlugin=(0,L.default)(b({},r,{allowTip:!1,allowHtml:!1})),n.inlineToolbarPlugin=(0,A.default)(r),n.mentionToolbarPlugin=(0,K.default)(r),n.mentionLearnToolbarPlugin=(0,q.default)(r),n.alignmentToolbarPlugin=(0,F.default)(r),n.dragDropPlugin=(0,z.default)(r),n.atomicPlugin=(0,V.default)(r);var s=(0,M.composeDecorators)(n.alignmentToolbarPlugin.decorator,n.dragDropPlugin.decorator,n.atomicPlugin.decorator),l=b({},r,{decorator:s});return n.imagePlugin=(0,H.default)(l),n.videoPlugin=(0,B.default)(l),n.videoAttachmentPlugin=(0,U.default)(l),n.draftPlugins=[n.sideToolbarPlugin,n.inlineToolbarPlugin,n.mentionToolbarPlugin,n.mentionLearnToolbarPlugin,n.alignmentToolbarPlugin,n.imagePlugin,n.videoPlugin,n.videoAttachmentPlugin,n.atomicPlugin,n.dragDropPlugin,n.codeBlockPlugin,n.blockBreakoutPlugin,n.richTextPlugin,n.navigationPlugin],n}return s(t,j.default),w(t,[{key:"render",value:function(){var e=this.props,t=e.editorKey,a=e.defaultEditorState,n=e.defaultEditable,r=e.renderOnly,o=e.theme,i=this.sideToolbarPlugin,s=this.dragDropPlugin,l=this.inlineToolbarPlugin,u=this.mentionToolbarPlugin,c=this.mentionLearnToolbarPlugin,d=this.alignmentToolbarPlugin,f=this.videoPlugin;return T.default.createElement("div",{className:this.ss("body-wrap",r&&"render-only",o),onClick:r?void 0:this.focus},T.default.createElement(s.EditorWrapper,null,T.default.createElement(M.Editor,{editorKey:t,defaultEditorState:a,defaultEditable:n,renderOnly:r,stripPastedStyles:!1,plugins:this.draftPlugins}),T.default.createElement(l.InlineToolbar,null),T.default.createElement(i.SideToolbar,null),T.default.createElement(u.MentionToolbar,null),T.default.createElement(c.MentionLearnToolbar,null),T.default.createElement(d.AlignmentToolbar,null),T.default.createElement(f.UploadVideoDialog,null)))}}]),t}(),g.propTypes={editorKey:P.default.string.isRequired,prevEditorKey:P.default.string,placeholder:P.default.string,defaultEditorState:P.default.object,defaultEditable:P.default.bool,renderOnly:P.default.bool,theme:P.default.oneOf(["normal","quiz-option"]),editorState:P.default.object,setEditorState:P.default.func},g.defaultProps={renderOnly:!1,defaultEditable:!0,theme:"normal"},y=function(){var e=this;this.focus=function(t){var a=e.props,n=a.editorKey,r=a.editorState,o=a.setEditorState;if(C.default.findDOMNode(e)===t.target){var i=r.getSelection();o({editorKey:n,editorState:M.EditorState.forceSelection(r,i)})}}},_=v))||_)||_);t.default=J},,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailHeadForPathway=t.DetailHeadForMission=t.default=void 0;var s,l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["loginUser"],["loginUser"]),P=n(a(2)),j=n(a(0)),C=n(a(1)),I=a(6),N=a(5),M=a(4),D=n(a(348)),x=a(991),R=n(x),L=n(a(144)),A=a(1008),F=n(A),K=a(8),q=a(1012),z=n(q),B=n(a(3)),U=n(a(1014)),H=n(a(7)),V=n(a(547)),G=(s=(0,I.decorator)({loginUser:(0,N.state)(T)}),l=(0,B.default)(U.default),u=(0,H.default)(V.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=e.disabled,o=(0,M.get)(t,"thumbnail.url"),i=[{key:"share"}];return(0,M.get)(t,"type")===K.DataTypeKeys.tutorial&&i.push({key:"comment"}),i.push({key:"close"}),j.default.createElement("div",{className:this.ss("head",a)},j.default.createElement(L.default,{url:o}),j.default.createElement(F.default,{data:t,options:i}),j.default.createElement(z.default,{data:t,disabled:r,statsPath:n,theme:a}),j.default.createElement(q.BriefLiveSession,{data:t,theme:a}),j.default.createElement(R.default,{data:t,disabled:r,statsPath:n}),j.default.createElement(D.default,null))}}]),t}(),d.propTypes={loginUser:P.default.object,data:P.default.object.isRequired,disabled:P.default.bool,statsPath:P.default.string.isRequired,theme:P.default.string},c=f))||c)||c)||c);t.default=G;t.DetailHeadForMission=(p=(0,I.decorator)({loginUser:(0,N.state)(T)}),m=(0,B.default)(U.default),h=(0,H.default)(V.default),p(_=m(_=h((v=g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=e.disabled,o=e.onSkipCheckpoint;return j.default.createElement("div",{className:this.ss("head",a)},j.default.createElement(A.TopBarForMission,{data:t}),j.default.createElement(q.BriefInfoForMission,{data:t,disabled:r,statsPath:n}),j.default.createElement(x.DetailInfoForArchitecture,{theme:"mission",data:t,disabled:r,statsPath:n,onSkipCheckpoint:o}),j.default.createElement(D.default,null))}}]),t}(),g.propTypes={loginUser:P.default.object,data:P.default.object.isRequired,disabled:P.default.bool,theme:P.default.string,statsPath:P.default.string.isRequired,onSkipCheckpoint:P.default.func},_=v))||_)||_)||_),t.DetailHeadForPathway=(y=(0,I.decorator)({loginUser:(0,N.state)(T)}),b=(0,B.default)(U.default),w=(0,H.default)(V.default),y(E=b(E=w((S=k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C.default),O(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.statsPath,r=e.disabled,o=e.onSkipCheckpoint;return j.default.createElement("div",{className:this.ss("head","head-pathway",a)},j.default.createElement(A.TopBarForPathway,{data:t}),j.default.createElement(q.BriefInfoForPathway,{data:t,disabled:r,statsPath:n}),j.default.createElement(x.DetailInfoForArchitecture,{theme:"pathway",data:t,disabled:r,statsPath:n,onSkipCheckpoint:o}),j.default.createElement(D.default,null))}}]),t}(),k.propTypes={loginUser:P.default.object,data:P.default.object.isRequired,disabled:P.default.bool,theme:P.default.string,statsPath:P.default.string.isRequired,onSkipCheckpoint:P.default.func},E=S))||E)||E)||E)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.AssestItem=t.CompletionItem=t.default=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),P=l(["common.checkpointDialog.open"],["common.checkpointDialog.open"]),j=l(["common.checkpointDialog.data"],["common.checkpointDialog.data"]),C=l(["common.checkpointDialog.completion"],["common.checkpointDialog.completion"]),I=l(["common.checkpointDialog.groupMap"],["common.checkpointDialog.groupMap"]),N=l(["common.checkpointDialog.completed"],["common.checkpointDialog.completed"]),M=l(["common.checkpointDialog.isSummary"],["common.checkpointDialog.isSummary"]),D=l(["common.checkpointDialog.isMode"],["common.checkpointDialog.isMode"]),x=l(["common.checkpointDialog.unlockBadges"],["common.checkpointDialog.unlockBadges"]),R=l(["common.checkpointDialog.lockBadges"],["common.checkpointDialog.lockBadges"]),L=l(["common.checkpointDialog.unlockAssets"],["common.checkpointDialog.unlockAssets"]),A=l(["common.checkpointDialog.lockAssets"],["common.checkpointDialog.lockAssets"]),F=l(["common.checkpointDialog.status"],["common.checkpointDialog.status"]),K=l(["completion.current.missions"],["completion.current.missions"]),q=l(["completion.current.transitions"],["completion.current.transitions"]),z=l(["learner.rewards"],["learner.rewards"]),B=l(["learner.recordMap"],["learner.recordMap"]),U=l(["common.closeCheckpointDialog"],["common.closeCheckpointDialog"]),H=l(["completion.openNextTransition"],["completion.openNextTransition"]),V=l(["learner.startRecord"],["learner.startRecord"]),G=l(["common.uv"],["common.uv"]),W=l(["currentHost"],["currentHost"]),Q=l(["locale"],["locale"]),J=l(["learner.retakeQuizRecord"],["learner.retakeQuizRecord"]),Y=l(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),X=n(a(2)),Z=n(a(0)),$=n(a(1)),ee=a(6),te=a(5),ae=a(4),ne=n(a(28)),re=n(a(32)),oe=n(a(16)),ie=n(a(15)),se=a(834),le=a(8),ue=a(12),ce=n(a(38)),de=a(9),fe=n(a(19)),pe=n(a(48)),me=n(a(507)),he=n(a(3)),_e=n(a(1017)),ge=n(a(7)),ve=n(a(1018)),ye=(u=(0,ee.decorator)({open:(0,te.state)(P),data:(0,te.state)(j),completion:(0,te.state)(C),groupMap:(0,te.state)(I),completed:(0,te.state)(N),isSummary:(0,te.state)(M),isMode:(0,te.state)(D),unlockBadges:(0,te.state)(x),lockBadges:(0,te.state)(R),unlockAssets:(0,te.state)(L),lockAssets:(0,te.state)(A),status:(0,te.state)(F),missions:(0,te.state)(K),transitions:(0,te.state)(q),rewards:(0,te.state)(z),recordMap:(0,te.state)(B),onClose:(0,te.signal)(U),openNextDialog:(0,te.signal)(H),startRecord:(0,te.signal)(V)}),c=(0,he.default)(_e.default),d=(0,ge.default)(ve.default),u(f=c(f=d((m=p=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleStart=function(){var e=n.props,t=e.completion,a=e.data,r=e.startRecord,o=a.id,i=a.type,s=a.nodes,l=void 0===s?[]:s,u=l.filter(function(e){return(0,ae.get)(e,"status.completed")}),c=u.length>0&&u.length<l.length||!1;r&&r({id:o,type:i,completion:t,isStart:!c})},n.handleClose=function(){var e=n.props,t=e.onClose,a=e.openNextDialog,r=e.isSummary,o=e.isMode;t&&t(),r&&a&&o&&a()},r=a,i(n,r)}return s(t,$.default),T(t,[{key:"getTimeStr",value:function(e){e=parseInt(e,10);var t=(0,de.ParseMinute)(e),a=t.hour,n=t.minute;return(a<10?"0":"")+a+":"+((n<10?"0":"")+n)+":00"}},{key:"getTotalDays",value:function(e,t){var a=new Date(e),n=new Date(t).getTime()-a.getTime(),r=Math.floor(n/864e5);return n%864e5>0&&(r+=1),r}},{key:"renderTitle",value:function(){var e=this.props,t=e.data,a=e.isSummary,n=e.recordMap,r=(0,ae.get)(t,"title"),o=(0,ae.get)(t,"type"),i=(0,ae.get)(t,"id"),s=!1;n[i]&&(s=!!n[i].lastCompletedTime);var l=a;o===le.DataTypeKeys.mission&&(l=a||s);var u=l?"summary":"checkpoint";return Z.default.createElement("div",{className:this.ss("title-wrap")},Z.default.createElement("div",{className:this.ss("title","dialog-title")},this.__(o+"_"+u+"_title")),Z.default.createElement("div",{className:this.ss("title","checkpoint-title")},r))}},{key:"renderProgress",value:function(){var e=this,t=this.props,a=t.data,n=t.completion,r=(0,ae.get)(a,"completedPercent")||0,o=Math.round(100*r),i=680*r,s=a.nodes||[],l=s.filter(function(e){return(0,ae.get)(e,"status.completed")}),u=l.length>0&&l.length<s.length||!1?"checkpoint_start_continue_button":"checkpoint_start_button";return Z.default.createElement("div",{className:this.ss("progress-wrap","content-block")},Z.default.createElement("div",{className:this.ss("progress-tip")},Z.default.createElement("div",{className:this.ss("unity-version")}),Z.default.createElement("div",{className:this.ss("complete-tip",r&&"percent")},this.__("checkpoint_complete_percent",{percent:o}))),Z.default.createElement("div",{className:this.ss("progress")},Z.default.createElement("div",{className:this.ss("progress-complete"),style:{width:i}})),n.length>0&&Z.default.createElement("div",{className:this.ss("button-wrap")},Z.default.createElement(oe.default,{label:this.__(u),size:"medium",widthStyle:"full",onClick:function(){return e.handleStart()}})))}},{key:"renderStatus",value:function(){var e=this.props,t=e.isSummary,a=e.status,n=e.data;if(!t||!a)return null;var r=(0,ae.get)(n,"type"),o=[];return a.totalTutorial>0&&o.push(Z.default.createElement("div",{key:"tutorial_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_tutorial_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalTutorial))),a.totalExercise>0&&o.push(Z.default.createElement("div",{key:"exercise_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_exercise_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalExercise))),a.totalQuiz>0&&o.push(Z.default.createElement("div",{key:"quiz_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_quiz_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalQuiz))),a.totalProject>0&&o.push(Z.default.createElement("div",{key:"project_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_project_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalProject))),a.totalCourse>0&&o.push(Z.default.createElement("div",{key:"course_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_course_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalCourse))),r===le.DataTypeKeys.pathway&&(a.totalMission>0&&o.push(Z.default.createElement("div",{key:"mission_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_mission_completed")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalMission))),a.totalBadge>0&&o.push(Z.default.createElement("div",{key:"badge_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_badge_earned")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalBadge))),a.totalXP>0&&o.push(Z.default.createElement("div",{key:"xp_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_xp_earned")),Z.default.createElement("div",{className:this.ss("line-total")},a.totalXP))),a.startTime&&a.completedTime&&o.push(Z.default.createElement("div",{key:"complete_total",className:this.ss("status-line")},Z.default.createElement("div",{className:this.ss("line-name")},this.__("total_days")),Z.default.createElement("div",{className:this.ss("line-total")},this.getTotalDays(a.startTime,a.completedTime))))),Z.default.createElement("div",{className:this.ss("status-wrap","content-block")},Z.default.createElement("div",{className:this.ss("title")},this.__("checkpoint_states_title")),Z.default.createElement("div",{className:this.ss("status-list")},o))}},{key:"renderCompletion",value:function(){var e=this,t=this.props,a=t.completion,n=t.completed,r=t.groupMap,o=t.data,i=a.map(function(t){var a=(0,ae.get)(t,"id"),n=(0,ae.get)(t,"type"),i=(0,de.GetItemIdByType)({id:a,type:n}),s=(0,ae.get)(r,i+".submitted"),l=(0,ae.get)(r,i+".completed");return Z.default.createElement("div",{key:"completion_"+a,className:e.ss("completion-row")},Z.default.createElement(be,{data:t,groupSubmitted:s,groupCompleted:l,contentData:o}))}),s=n.map(function(t){var a=(0,ae.get)(t,"id");return Z.default.createElement("div",{key:"completion_"+a,className:e.ss("completion-row")},Z.default.createElement(be,{data:t,contentData:o}))}),l=i&&i.length>0,u=s&&s.length>0;return l||u?Z.default.createElement("div",{className:this.ss("completion-wrap","content-block")},l&&Z.default.createElement("div",{className:this.ss("completion-block")},Z.default.createElement("div",{className:this.ss("title")},this.__("checkpoint_completion_title")),i),u&&Z.default.createElement("div",{className:this.ss("completion-block")},Z.default.createElement("div",{className:this.ss("title")},this.__("checkpoint_completed_title")),s)):null}},{key:"renderReward",value:function(e,t,a){var n=this,r=this.props,o=r.data,i=r.isSummary,s=r.recordMap,l=(0,ae.get)(o,"id"),u=!1;s[l]&&(u=!!s[l].lastCompletedTime);var c=e.map(function(e){var t=(0,ae.get)(e,"id");return Z.default.createElement("div",{key:"badge_"+t,className:n.ss("badge-wrap")},Z.default.createElement(se.ContentItem,{data:e,theme:"simple"}))}),d=t.map(function(e){var t=(0,ae.get)(e,"note"),a=(0,ae.get)(e,"packageId");return Z.default.createElement("div",{key:"asset_"+a,className:n.ss("asset-wrap")},Z.default.createElement(we,{data:e}),Z.default.createElement("div",{className:n.ss("asset-note")},t))}),f=c.length>0,p=d.length>0;if(!f&&!p)return null;var m=a?"reward_unlock_title":"reward_title",h=a?"reward_unlock_badge_title":"reward_badge_title",_=a?"reward_unlock_asset_title":"reward_asset_title",g=a&&(i||u);return Z.default.createElement("div",{className:this.ss("reward-wrap","content-block")},Z.default.createElement("div",{className:this.ss("title")},!g&&Z.default.createElement("div",{className:this.ss("icon ifont ifont-icons_lockon")}),g&&Z.default.createElement("div",{className:this.ss("icon ifont ifont-icons_lockoff","unlock")}),Z.default.createElement("div",{className:this.ss("label")},this.__(m))),Z.default.createElement("div",{className:this.ss("description","reward-description")},this.__("reward_description")),f&&Z.default.createElement("div",{className:this.ss("reward-block")},Z.default.createElement("div",{className:this.ss("reward-title")},this.__(h)),Z.default.createElement("div",{className:this.ss("reward-description")},this.__("reward_badge_description")),c),p&&Z.default.createElement("div",{className:this.ss("reward-block")},Z.default.createElement("div",{className:this.ss("reward-title")},this.__(_)),Z.default.createElement("div",{className:this.ss("reward-description")},this.__("reward_asset_description")),d))}},{key:"renderButton",value:function(){var e=this,t=this.props,a=t.isSummary,n=t.missions,r=t.transitions,o="checkpoint_done_button";return a&&(n&&n.length>0?1===n.length?o="checkpoint_see_button":n.length>1&&(o="checkpoint_choose_button"):r&&r.length>0&&(o="checkpoint_continue_button","completion.openOverlayDialog"===r[0]&&(o="checkpoint_next_button"))),Z.default.createElement("div",{className:this.ss("button-wrap")},Z.default.createElement(oe.default,{label:this.__(o),size:"medium",onClick:function(){return e.handleClose()}}))}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.data,n=e.unlockBadges,o=void 0===n?[]:n,i=e.lockBadges,s=void 0===i?[]:i,l=e.unlockAssets,u=e.lockAssets,c=e.rewards;if(!a)return null;var d=[].concat(r(o),r(s)),f=[],p=[],m=a.type;return(c||[]).forEach(function(e){d.forEach(function(t){e.itemId===t.id&&(t.earned=e.earned,t.earned?f.push(t):p.push(t))})}),Z.default.createElement(re.default,{open:t,position:"center",onCloseModal:this.handleClose,noScroller:!1},Z.default.createElement("div",{className:this.ss("container")},Z.default.createElement("div",{className:this.ss("close")},Z.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},Z.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),this.renderTitle(),this.renderProgress(),this.renderStatus(),this.renderCompletion(),"mission"===m&&this.renderReward(p,u,!1,c),"mission"===m&&this.renderReward(f,l,!0,c),this.renderButton()))}}]),t}(),p.propTypes={open:X.default.bool,data:X.default.object,groupMap:X.default.object,completion:X.default.array,completed:X.default.array,unlockBadges:X.default.array,lockBadges:X.default.array,unlockAssets:X.default.array,lockAssets:X.default.array,isSummary:X.default.bool,isMode:X.default.bool,status:X.default.object,missions:X.default.array,transitions:X.default.array,rewards:X.default.array,recordMap:X.default.object,onClose:X.default.func,openNextDialog:X.default.func,startRecord:X.default.func},f=m))||f)||f)||f);t.default=ye;var be=t.CompletionItem=(h=(0,ee.decorator)({uv:(0,te.state)(G),currentHost:(0,te.state)(W),locale:(0,te.state)(Q),retakeQuizRecord:(0,te.signal)(J),openSubmissionDetail:(0,te.signal)(Y),onClose:(0,te.signal)(U),startRecord:(0,te.signal)(V)}),_=(0,he.default)(_e.default),g=(0,ge.default)(ve.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={freeTime:0,launchTimer:null},n.onTiming=function(e){var t=n.state.launchTimer;n.clearLaunchTimer(),e>0&&(t=new me.default(function(){e-=n.getIncrement(e),n.setState({freeTime:e}),n.onTiming(e)},1e3*n.getIncrement(e))),n.setState({launchTimer:t,freeTime:e})},n.onClick=function(){var e=n.props,t=e.data,a=e.currentHost,r=e.locale,o=e.uv,i=e.startCheckPointed,s=e.startRecord,l=e.contentData;if(t){var u=(0,fe.default)((0,de.GetUrlByNavIds)(t.navIds,(0,de.GetDetailPageURL)(t,r,o,!0)),a);(0,pe.default)(u)}if(!i){var c=l.id,d=l.type;s&&s({id:c,type:d,isStart:!0})}},n.onRetakeRecord=function(){var e=n.props,t=e.data,a=e.retakeQuizRecord,r=e.currentHost,o=e.locale,i=e.uv;t&&a&&a({data:t,currentHost:r,locale:o,uv:i})},n.getIncrement=function(e){return e<120?1:60},n.handleDetail=function(e,t){(0,ue.pauseEvent)(e);var a=n.props,r=a.openSubmissionDetail,o=a.onClose,i=(0,ae.get)(t,"submissionType");if(i===le.SubmissionTypes.media){var s=(0,ae.get)(t,"id");r&&r({id:s,preview:!1}),o&&o()}if(i===le.SubmissionTypes.webgl){var l=(0,ae.get)(t,"webGLProject")||{},u=(0,ae.get)(l,"slug"),c=ne.default.DEFAULT_URL+"/p/"+u;(0,ce.default)(c)}},n.clearLaunchTimer=function(){var e=n.state.launchTimer;e&&e.clear()},r=a,i(n,r)}return s(t,$.default),T(t,[{key:"componentDidMount",value:function(){var e=this.props.data;if((0,ae.get)(e,"type")===le.DataTypeKeys.quiz){var t=(0,ae.get)(e,"freeTime"),a=(new Date(t).getTime()-(new Date).getTime())/1e3;(a=Math.round(Math.max(0,a||0)))>0&&this.onTiming(a)}}},{key:"componentWillUnmount",value:function(){this.clearLaunchTimer()}},{key:"renderStatus",value:function(){var e=this.props,t=e.data,a=e.groupCompleted,n=e.groupSubmitted,r=(0,ae.get)(t,"relation"),o=(0,ae.get)(t,"status.completed"),i=(0,ae.get)(t,"submittedTime"),s=!o&&r===le.LevelSelectsType.Or,l=!a&&n,u=l?"ifont-icon-close":"ifont-lrn_icon_finish",c=(0,ae.get)(t,"type"),d=(0,ae.get)(t,"answerScore"),f=(0,ae.get)(t,"questionsCount"),p=!o&&i;return Z.default.createElement("div",{className:this.ss("completion-status")},Z.default.createElement("div",{className:this.ss("completion-info")},s?Z.default.createElement("div",{className:this.ss("completion-optional")},this.__("completion_optional")):Z.default.createElement("div",{className:this.ss("completion-detail")},Z.default.createElement("div",{className:this.ss("completion-icon ifont",u,o&&"completed",l&&"failed")}),Z.default.createElement("div",{className:this.ss("completion-title")},this.__("checkpoint_require_"+c))),p&&Z.default.createElement("div",{className:this.ss("quiz-attempted","dot")},this.__("quiz_attempt")),p&&Z.default.createElement("div",{className:this.ss("quiz-answer","dot")},d+"/"+f)),Z.default.createElement("div",{className:this.ss("completion-retake")},this.renderRetake()))}},{key:"renderRetake",value:function(){var e=this.state.freeTime,t=(0,de.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second,o=a>0,i=n>0,s=r>0;if(!o&&!i&&!s)return null;var l="min";return o||i||(l="sec"),Z.default.createElement("div",{className:this.ss("")},this.__("retake_"+l,{hour:a,minute:n,second:r}))}},{key:"renderContentItem",value:function(){var e=this.props.data;return Z.default.createElement("div",{className:this.ss("item-wrap")},Z.default.createElement(se.ContentItem,{data:e,onClick:this.onClick}))}},{key:"renderContentLink",value:function(){var e=this,t=this.props.data,a=this.state.freeTime,n=t.id,r=t.title,o=t.type,i=t.answerScore,s=t.questionsCount,l=t.submissionData,u=[];switch(o){case le.DataTypeKeys.quiz:u.push(Z.default.createElement("div",{key:"quiz-status-"+n,className:this.ss("link-quiz-status","dot")},i+"/"+s)),a<=0&&u.push(Z.default.createElement("div",{key:"quiz-retake-"+n,className:this.ss("link-retake","dot"),onClick:this.onRetakeRecord},this.__("retake_quiz")));break;case le.DataTypeKeys.tutorial:if(l){var c=(0,ae.get)(l,"title");u.push(Z.default.createElement("div",{key:"tutorial-submission-"+n,className:this.ss("link-submission","dot"),onClick:function(t){return e.handleDetail(t,l)}},c))}}return Z.default.createElement("div",{className:this.ss("link-wrap")},Z.default.createElement("div",{className:this.ss("link-title"),onClick:this.onClick},r),Z.default.createElement("div",{className:this.ss("link-status","dot")},this.__(o+"_completed")),u)}},{key:"renderReview",value:function(){var e=this.props.data;if((0,ae.get)(e,"type")===le.DataTypeKeys.quiz){var t=(0,ae.get)(e,"status.completed"),a=(0,ae.get)(e,"submittedTime");return!t&&a?Z.default.createElement("div",{className:this.ss("quiz-review"),onClick:this.onClick},this.__("quiz_review")):null}return null}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=(0,ae.get)(e,"status.completed");return Z.default.createElement("div",{className:this.ss("completion-item")},this.renderStatus(),t?this.renderContentLink():this.renderContentItem(),this.renderReview())}}]),t}(),y.propTypes={uv:X.default.string,currentHost:X.default.string,locale:X.default.string,data:X.default.object.isRequired,contentData:X.default.object,groupSubmitted:X.default.string,groupCompleted:X.default.bool,startCheckPointed:X.default.bool,retakeQuizRecord:X.default.func,openSubmissionDetail:X.default.func,onClose:X.default.func,startRecord:X.default.func},y.defaultProps={groupCompleted:!1,groupSubmitted:null},v=b))||v)||v)||v),we=t.AssestItem=(w=(0,ee.decorator)({}),E=(0,he.default)(_e.default),w(k=E((O=S=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(){var e=ne.default.ASSETSTORE_PAGE_BASEURL+"/account/assets";e&&(0,ce.default)(""+e)},r=a,i(n,r)}return s(t,$.default),T(t,[{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=(0,ae.get)(e,"mainImage.url"),a=(0,ae.get)(e,"name");return Z.default.createElement("div",{className:this.ss("item-row-wrap"),onClick:this.handleClick},Z.default.createElement("div",{className:this.ss("item-row")},Z.default.createElement("div",{className:this.ss("row-img"),style:{width:153}},Z.default.createElement(ie.default,{src:t,sizes:"153px",width:153,height:90}))),Z.default.createElement("div",{className:this.ss("row-content")},Z.default.createElement("div",{className:this.ss("item-info")},Z.default.createElement("div",{className:this.ss("item-title")},a))))}}]),t}(),S.propTypes={data:X.default.object.isRequired},k=O))||k)||k)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["tutorialData"],["tutorialData"]),_=s(["projectData"],["projectData"]),g=s(["courseData"],["courseData"]),v=s(["quizData"],["quizData"]),y=s(["missionData"],["missionData"]),b=s(["pathwayData"],["pathwayData"]),w=s(["currentHost"],["currentHost"]),E=n(a(2)),k=n(a(0)),S=n(a(1)),O=a(6),T=a(5),P=a(4),j=n(a(19)),C=n(a(3)),I=n(a(989)),N=n(a(7)),M=n(a(990)),D=(l=(0,O.decorator)({tutorialData:(0,T.state)(h),projectData:(0,T.state)(_),courseData:(0,T.state)(g),quizData:(0,T.state)(v),missionData:(0,T.state)(y),pathwayData:(0,T.state)(b),currentHost:(0,T.state)(w)}),u=(0,C.default)(I.default),c=(0,N.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,S.default),m(t,[{key:"getCurrentLearnData",value:function(){var e=this.props;return(0,P.get)(e,"tutorialData")||(0,P.get)(e,"projectData")||(0,P.get)(e,"courseData")||(0,P.get)(e,"quizData")||(0,P.get)(e,"missionData")||(0,P.get)(e,"pathwayData")}},{key:"render",value:function(){var e=this.getCurrentLearnData(),t=(0,P.get)(e,"editable"),a=(0,P.get)(e,"published");if(!t||!e||!a)return null;var n=(0,P.get)(e,"id"),r=(0,P.get)(e,"type"),o=(0,j.default)("/"+r+"/"+n+"/edit",this.props.currentHost);return k.default.createElement("div",{className:this.ss("author-bar-wrap")},k.default.createElement("div",{className:this.ss("author-bar-body")},k.default.createElement("div",{className:this.ss("author-label")},this.__("author_description_"+r)),k.default.createElement("div",{className:this.ss("author-button")},k.default.createElement("a",{className:this.ss("link"),href:o},this.__("button_edit_"+r)))))}}]),t}(),f.propTypes={tutorialData:E.default.object,projectData:E.default.object,courseData:E.default.object,quizData:E.default.object,missionData:E.default.object,pathwayData:E.default.object,currentHost:E.default.string},d=p))||d)||d)||d);t.default=D},function(e,t){e.exports={"author-bar-wrap":"author-bar-wrap_3WtEjTSz","author-bar-body":"author-bar-body_1GbQ-isQ","author-label":"author-label_3Ljxvhwb","author-button":"author-button_20iBVIRL",link:"link_2l4aG-DM"}},function(e,t){e.exports={author_description_tutorial:"author_description_tutorial_3WOx",author_description_project:"author_description_project_1dso",author_description_course:"author_description_course_2dPQ",author_description_quiz:"author_description_quiz_1sh3",author_description_mission:"author_description_mission_3VpB",author_description_pathway:"author_description_pathway_1meo",button_edit_tutorial:"button_edit_tutorial_1yLK",button_edit_project:"button_edit_project_28U3",button_edit_course:"button_edit_course_2rz2",button_edit_quiz:"button_edit_quiz_1U-H",button_edit_mission:"button_edit_mission_23hu",button_edit_pathway:"button_edit_pathway_ujpt"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.DetailInfoForArchitecture=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Q=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),J=s(["common.tab"],["common.tab"]),Y=s(["common.changeLearnDetailTab"],["common.changeLearnDetailTab"]),X=s(["learner.recordMap.",""],["learner.recordMap.",""]),Z=s(["data.id"],["data.id"]),$=s(["learner.recordMap"],["learner.recordMap"]),ee=s(["learner.rewards"],["learner.rewards"]),te=s(["breadcrumb.currentMission"],["breadcrumb.currentMission"]),ae=s(["loginUser"],["loginUser"]),ne=s(["breadcrumb"],["breadcrumb"]),re=s(["mission.id"],["mission.id"]),oe=s(["pathwayData"],["pathwayData"]),ie=s(["learner.parentIds"],["learner.parentIds"]),se=s(["common.uv"],["common.uv"]),le=s(["locale"],["locale"]),ue=s(["currentHost"],["currentHost"]),ce=s(["learner.setVisitRecord"],["learner.setVisitRecord"]),de=s(["learner.resumeMissionRecord"],["learner.resumeMissionRecord"]),fe=n(a(2)),pe=n(a(0)),me=n(a(1)),he=a(6),_e=a(5),ge=a(4),ve=n(a(992)),ye=n(a(389)),be=a(995),we=n(a(827)),Ee=n(a(998)),ke=n(a(1003)),Se=n(a(865)),Oe=n(a(15)),Te=n(a(30)),Pe=n(a(39)),je=a(8),Ce=a(9),Ie=a(119),Ne=n(a(19)),Me=n(a(25)),De=n(a(3)),xe=n(a(1006)),Re=n(a(7)),Le=n(a(547)),Ae={avatar:a(1007),groupId:"5ac51c9c090915001d753a3d",membersCount:1,name:"Unity Learners",onlineMembers:0,privacy:"public",url:"https://learn.unity.com/g/unity-learners"},Fe=(l=(0,he.decorator)({tab:(0,_e.state)(J),changeLearnDetailTab:(0,_e.signal)(Y)}),u=(0,De.default)(xe.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleTabChange=function(e){var t=e.tab,a=n.props.changeLearnDetailTab;a&&a({tab:t})},i=a,o(n,i)}return i(t,me.default),Q(t,[{key:"renderOverview",value:function(){var e=this.props,t=e.data,a=e.disabled;return pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement("div",{className:this.ss("left-column","middle-column-overview")},pe.default.createElement(be.Summary,{data:t}),pe.default.createElement(be.ProjectObjective,{data:t,theme:"architecture"}),pe.default.createElement(be.Downloads,{data:t,disabled:a}),pe.default.createElement(be.Resources,{data:t,disabled:a}),pe.default.createElement(be.Assets,{data:t,disabled:a})),pe.default.createElement("div",{className:this.ss("right-column","right-column-overview")},pe.default.createElement(be.UnityVersionDropDown,{data:t}),pe.default.createElement(be.Language,{data:t}),pe.default.createElement(be.ParentList,{data:t}),pe.default.createElement(be.UnityPro,{data:t})))}},{key:"renderSkills",value:function(){var e=this.props,t=e.data,a=e.disabled;return pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement("div",{className:this.ss("left-column","middle-column-overview")},pe.default.createElement(be.AlignedSubSkills,{data:t})),pe.default.createElement("div",{className:this.ss("right-column","right-column-overview")},pe.default.createElement(be.Tags,{type:"topic",data:t,disabled:a}),pe.default.createElement(be.Tags,{type:"industry",data:t,disabled:a})))}},{key:"renderEducate",value:function(){var e=this.props,t=e.data,a=e.disabled;return pe.default.createElement("div",{className:this.ss("forEducators")},pe.default.createElement(ye.default,{data:t,disabled:a,theme:"architecture"}))}},{key:"renderLearnLives",value:function(){return pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement(ke.default,null))}},{key:"renderContent",value:function(){var e=this.props,t=e.tab,a=e.data,n=this.renderOverview();switch(t){case je.DetailHeadTabsV2.skills:n=this.renderSkills();break;case je.DetailHeadTabsV2.live:n=this.renderLearnLives();break;case je.DetailHeadTabsV2.educator:n=this.renderEducate();break;case je.DetailHeadTabsV2.groups:n=pe.default.createElement(Ue,{data:a})}return n}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=(0,ge.get)(t,"type"),r=(0,ge.get)(t,"group")||{privacy:"public"},o=(0,ge.get)(t,"competencyMap");return pe.default.createElement("div",{ref:"detail",className:this.ss("detail")},pe.default.createElement("div",{className:this.ss("center")},pe.default.createElement(ve.default,{disabled:a,type:n,group:r,competencyMap:o,onChange:this.handleTabChange}),this.renderContent()))}}]),t}(),d.propTypes={tab:fe.default.string,changeLearnDetailTab:fe.default.func,data:fe.default.object.isRequired,disabled:fe.default.bool},d.defaultProps={},c=f))||c)||c);t.default=Fe;t.DetailInfoForArchitecture=(p=(0,he.decorator)({tab:(0,_e.state)(J),record:(0,_e.state)(X,(0,_e.props)(Z)),changeLearnDetailTab:(0,_e.signal)(Y)}),m=(0,De.default)(xe.default),p(h=m((g=_=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleTabChange=function(e){var t=e.tab,a=n.props.changeLearnDetailTab;a&&a({tab:t})},i=a,o(n,i)}return i(t,me.default),Q(t,[{key:"renderContentSets",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.record,r=(0,ge.get)(t,"tutorialMap")||{},o=(0,ge.get)(t,"projectMap")||{},i=(0,ge.get)(t,"courseMap")||{},s=(0,ge.get)(t,"customContents")||[],l=(0,ge.get)(t,"defaultSet")||"",u=(0,ge.get)(n,"currentId")||l,c=s.map(function(e){var t=((0,ge.get)(e,"contentIds")||[]).map(function(e){return(0,Ce.GetDataByItemId)({itemId:e,tutorialMap:r,projectMap:o,courseMap:i})}).filter(function(e){return!!e});return W({},e,{contents:t})});return pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement(Ee.default,{data:t,defaultSet:u,contentSets:c,statsPath:a}))}},{key:"renderSkills",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.disabled,r=e.onSkipCheckpoint;return pe.default.createElement("div",{className:this.ss("tab-container","skills")},pe.default.createElement("div",{className:this.ss("left-column","middle-column-overview")},pe.default.createElement(be.AlignedSkillsForArchitecture,{theme:t,data:a,onSkipCheckpoint:r})),pe.default.createElement("div",{className:this.ss("right-column","right-column-overview")},pe.default.createElement(be.Tags,{type:"topic",data:a,disabled:n}),pe.default.createElement(be.Tags,{type:"industry",data:a,disabled:n})))}},{key:"renderLearnLives",value:function(){var e=this.props.theme,t="small",a=3;return e===je.DataTypeKeys.pathway&&(t="default",a=4),pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement(ke.default,{size:t,pageSize:a,theme:e}))}},{key:"renderContent",value:function(){var e=this.props,t=e.tab,a=e.data,n=this.renderContentSets();switch(t){case je.DetailHeadTabsV2.content:n=this.renderContentSets();break;case je.DetailHeadTabsV2.pathway_map:return pe.default.createElement(Ke,{data:a});case je.DetailHeadTabsV2.skills:n=this.renderSkills();break;case je.DetailHeadTabsV2.live:n=this.renderLearnLives();break;case je.DetailHeadTabsV2.groups:n=pe.default.createElement(Ue,{data:a})}return pe.default.createElement("div",{className:this.ss("center")},n)}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.disabled,r=(0,ge.get)(a,"type"),o=(0,ge.get)(a,"group")||{privacy:"public"},i=(0,ge.get)(a,"competencyMap");return pe.default.createElement("div",{ref:"detail",className:this.ss("detail",t)},pe.default.createElement("div",{className:this.ss("center")},pe.default.createElement(ve.default,{disabled:n,type:r,group:o,competencyMap:i,onChange:this.handleTabChange})),this.renderContent())}}]),t}(),_.propTypes={tab:fe.default.string,record:fe.default.object,changeLearnDetailTab:fe.default.func,theme:fe.default.oneOf(["default","mission","pathway"]),statsPath:fe.default.string.isRequired,data:fe.default.object.isRequired,disabled:fe.default.bool,onSkipCheckpoint:fe.default.func},_.defaultProps={theme:"default"},h=g))||h)||h);var Ke=(v=(0,he.decorator)({recordMap:(0,_e.state)($)}),y=(0,De.default)(xe.default),b=(0,Re.default)(Le.default),v(w=y(w=b((k=E=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.state={selectedId:"",zoomOut:!0},a.changeSelected=function(e){a.setState({selectedId:e})},a.toggleZoom=function(){var e=a.state.zoomOut;a.setState({zoomOut:!e})};var n=a.props.data;return a.activeMission={},n&&(a.activeMission={},(n.missionIds||[]).forEach(function(e){a.activeMission[e]=!0})),a}return i(t,me.default),Q(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.recordMap;if(!a)return null;var r=this.state,o=r.selectedId,i=r.zoomOut,s=a.missionMap,l=a.learnSkillMap,u=a.id,c=a.missionIds,d=i?330:110,f=i?110:118,p=c.length||0,m=0,h=(0,ge.get)(n,u+".subItems");return h&&Object.keys(h).forEach(function(t){var a=h[t];!0===e.activeMission[(0,Ce.GetIdByItemId)(t)]&&!0===a.completed&&m++}),pe.default.createElement("div",{className:this.ss("pathway-map")},o&&pe.default.createElement("div",{className:this.ss("selected-mission")},pe.default.createElement(ze,{mission:s[o],skillMap:l,onCloseCard:function(){return e.changeSelected("")}})),pe.default.createElement("div",{className:this.ss("learning-map-container")},pe.default.createElement("div",{className:this.ss("pathway-record-info")},this.__("mission_completed_count",{count:p,completed:m}),pe.default.createElement("button",{className:this.ss("zoom"),onClick:this.toggleZoom},this.__(!0===i?"zoom_out":"zoom_in"))),pe.default.createElement(Se.default,{itemWidth:d,itemHeight:f,renderOnly:!0,renderItem:function(t){return pe.default.createElement(qe,{mini:!i,mission:s[t],selectedMissionId:o,onSelected:e.changeSelected})}})))}}]),t}(),E.propTypes={recordMap:fe.default.object,data:fe.default.object.isRequired},w=k))||w)||w)||w),qe=(S=(0,he.decorator)({recordMap:(0,_e.state)($),rewards:(0,_e.state)(ee),currentMission:(0,_e.state)(te),loginUser:(0,_e.state)(ae)}),O=(0,De.default)(xe.default),T=(0,Re.default)(Le.default),S(P=O(P=T((C=j=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=a.props.mission;return a.activeAssessment={},n&&(a.activeAssessment={},(n.assessmentItem||[]).forEach(function(e){var t=e.value;a.activeAssessment[t]=!0})),a}return i(t,me.default),Q(t,[{key:"renderRecordStatus",value:function(){var e=this.props,t=e.mission,a=e.recordMap,n=e.loginUser,r=(0,ge.get)(a,t.id),o=(0,ge.get)(r,"completed");return pe.default.createElement("div",{className:this.ss("user-progress",o&&"completed")},pe.default.createElement("div",{className:this.ss("user-info")},pe.default.createElement(Pe.default,{className:this.ss("avatar"),nameClassName:this.ss("avatar-name"),user:n})),pe.default.createElement("div",{className:this.ss("arrow-icon")},pe.default.createElement("div",{className:this.ss("ifont","ifont-lrn_icon-fill-arrow")})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.mini,n=t.mission,r=t.selectedMissionId,o=t.onSelected,i=t.recordMap,s=t.currentMission,l=t.rewards;if(!n)return null;var u=n.id,c=(0,ge.get)(n,"assessmentItem")||[],d=r===u,f=0,p=(0,ge.get)(s,"id"),m=(0,ge.get)(i,u),h=(0,ge.get)(m,"completed"),_=(0,ge.get)(m,"subItems");_&&Object.keys(_).forEach(function(t){var a=_[t];!0===e.activeAssessment[t]&&!0===a.completed&&f++});var g=(0,ge.get)(n,"badgeIds.0"),v=(l||[]).some(function(e){return e.type===je.RewardTypes.badge&&(e.itemId===g&&!0===e.earned)});return pe.default.createElement("div",{className:this.ss("learning-map-item",h&&"completed",v&&"earned",d&&"selected",a&&"mini"),onClick:function(){return o(u)}},p===u&&this.renderRecordStatus(),pe.default.createElement("div",{className:this.ss("item-img")},pe.default.createElement(Oe.default,{src:(0,ge.get)(n,"badgeThumbnail.url")||"",sizes:"100vw"})),!a&&pe.default.createElement("div",{className:this.ss("item-right")},pe.default.createElement("div",{className:"item-type"},this.__("mission")),pe.default.createElement("div",{className:this.ss("item-title")},n.title),this.__("assessment_completed",{count:c.length,completed:f})))}}]),t}(),j.propTypes={recordMap:fe.default.object,rewards:fe.default.array,mission:fe.default.object.isRequired,currentMission:fe.default.object,loginUser:fe.default.object,selectedMissionId:fe.default.string,mini:fe.default.bool,onSelected:fe.default.func},P=C))||P)||P)||P),ze=(I=(0,he.decorator)({breadcrumb:(0,_e.state)(ne),record:(0,_e.state)(X,(0,_e.props)(re)),pathwayData:(0,_e.state)(oe),parentIds:(0,_e.state)(ie),uv:(0,_e.state)(se),locale:(0,_e.state)(le),currentHost:(0,_e.state)(ue),setVisitRecord:(0,_e.signal)(ce),resumeMissionRecord:(0,_e.signal)(de)}),N=(0,De.default)(xe.default),M=(0,Re.default)(Le.default),I(D=N(D=M((R=x=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onStartMission=function(){var e=n.props,t=e.setVisitRecord,a=e.breadcrumb,r=e.mission,o=e.record,i=e.resumeMissionRecord,s=e.parentIds,l=e.locale,u=e.uv,c=e.currentHost,d=e.pathwayData,f=(0,ge.get)(o,"completed"),p=(0,ge.get)(o,"recentVisit");if(f){var m=(0,Ne.default)((0,Ce.GetItemUrlInDetail)({parentIds:s,data:d,item:r,locale:l,uv:u}),c);(0,Me.default)(m)}else if(p)i({record:o});else{var h=(0,ge.get)(r,"id"),_=(0,Ie.GetNodeByItemId)(a,(0,Ce.GetItemIdByType)({id:h,type:je.DataTypeKeys.mission}));_&&t({next:_})}},n.renderMissionCardButton=function(){var e=n.props,t=e.record,a=e.mission,r=e.breadcrumb,o=(0,ge.get)(t,"completed")||!1,i=(0,ge.get)(t,"recentVisit")||!1,s=(0,ge.get)(a,"id"),l=(0,ge.get)(t,"currentId"),u=(0,ge.get)(r,"root.subNodes")||[],c=(0,Ce.GetMissionContentSetStatus)(u,s,l),d=void 0;return d=i?c&&o?"view_mission":"resume_mission":"start_mission",n.__(d)},i=a,o(n,i)}return i(t,me.default),Q(t,[{key:"renderCompetencies",value:function(){var e=this,t=this.props,a=t.mission,n=t.skillMap,r=a.competencyIds,o=a.competencyMap,i=[];return r.forEach(function(t){var a=o[t];a&&i.push(pe.default.createElement("div",{key:t,className:e.ss("competency-wrapper")},pe.default.createElement(Be,{competency:a,skillMap:n})))}),pe.default.createElement(Te.default,null,pe.default.createElement("div",{className:this.ss("competencies-wrapper")},i,pe.default.createElement("div",{className:this.ss("other")})))}},{key:"render",value:function(){var e=this.props,t=e.mission,a=e.onCloseCard,n=e.parentIds,r=e.locale,o=e.uv,i=e.currentHost,s=e.pathwayData;if(!t)return null;var l=(0,Ne.default)((0,Ce.GetItemUrlInDetail)({parentIds:n,data:s,item:t,locale:r,uv:o}),i);return pe.default.createElement("div",{className:this.ss("mission-card")},pe.default.createElement("div",{className:this.ss("card-head")},pe.default.createElement("div",{className:this.ss("head-img")},pe.default.createElement(Oe.default,{src:(0,ge.get)(t,"thumbnail.url")||"",sizes:"100vw"})),pe.default.createElement("a",{className:this.ss("head-right"),href:l},this.__("mission"),pe.default.createElement("div",{className:this.ss("mission-title")},t.title))),pe.default.createElement("div",{className:this.ss("card-content")},pe.default.createElement("div",{className:this.ss("what-will-learn")},this.__("what_you_will_learn")),this.renderCompetencies(),pe.default.createElement("div",{className:this.ss("content-mask")})),pe.default.createElement("button",{className:this.ss("start-mission"),onClick:this.onStartMission},this.renderMissionCardButton()),pe.default.createElement("div",{className:this.ss("close-button","ifont","ifont-lrn_icon-close"),onClick:a}))}}]),t}(),x.propTypes={breadcrumb:fe.default.object,mission:fe.default.object.isRequired,skillMap:fe.default.object.isRequired,record:fe.default.object,parentIds:fe.default.object,uv:fe.default.string,currentHost:fe.default.string,locale:fe.default.string,pathwayData:fe.default.object,onCloseCard:fe.default.func,setVisitRecord:fe.default.func,resumeMissionRecord:fe.default.func},D=R))||D)||D)||D),Be=(L=(0,De.default)(xe.default),A=(0,Re.default)(Le.default),L(F=A((q=K=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={extend:!1},n.onToggleExtend=function(){var e=n.state.extend;n.setState({extend:!e})},i=a,o(n,i)}return i(t,me.default),Q(t,[{key:"renderExtend",value:function(){var e=this,t=this.props,a=t.competency,n=t.skillMap,r=[];return a.skillIds.forEach(function(t){var a=n[t];a&&r.push(pe.default.createElement("div",{key:t,className:e.ss("skill-wrapper")},pe.default.createElement("div",{className:e.ss("dot")}),a.title))}),pe.default.createElement("div",{className:this.ss("extend-container")},r)}},{key:"render",value:function(){var e=this.props.competency;return e?pe.default.createElement("div",{className:this.ss("competency-container")},pe.default.createElement("div",{className:this.ss("competency-title"),onClick:this.onToggleExtend},pe.default.createElement("div",{className:this.ss("title-text")},e.title),pe.default.createElement("div",{className:this.ss("fold-icon","ifont","ifont-lrn_icon_unfold")})),!0===this.state.extend&&this.renderExtend()):null}}]),t}(),K.propTypes={competency:fe.default.object.isRequired,skillMap:fe.default.object.isRequired},F=q))||F)||F),Ue=(z=(0,he.decorator)({breadcrumb:(0,_e.state)(ne)}),B=(0,De.default)(xe.default),U=(0,Re.default)(Le.default),z(H=B(H=U((G=V=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,me.default),Q(t,[{key:"renderGroupList",value:function(){var e=this,t=this.props,a=t.data,n=t.breadcrumb,r=[],o=(0,ge.get)(a,"group"),i=(0,ge.get)(n,"root");if(!i)return null;var s=(0,ge.get)(i,"type"),l=(0,ge.get)(i,"group"),u="";if(o&&"{}"!==o&&(u=(0,ge.get)(o,"groupId"),r.push(o)),l&&s===je.DataTypeKeys.pathway){var c=(0,ge.get)(l,"groupId");c&&c!==(u||Ae.groupId)&&r.push(l)}return u!==Ae.groupId&&r.push(Ae),0===r.length?null:r.map(function(t){var a=t.groupId;return pe.default.createElement("div",{key:a,className:e.ss("item")},pe.default.createElement(we.default,{data:t}))})}},{key:"render",value:function(){return pe.default.createElement("div",{className:this.ss("tab-container")},pe.default.createElement("div",{className:this.ss("list")},this.renderGroupList()))}}]),t}(),V.propTypes={data:fe.default.object,breadcrumb:fe.default.object},H=G))||H)||H)||H)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["supportedTabs"],["supportedTabs"]),_=s(["common.tab"],["common.tab"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(5),E=a(4),k=a(8),S=n(a(3)),O=n(a(993)),T=n(a(7)),P=n(a(994)),j=(l=(0,b.decorator)({tabs:(0,w.state)(h),tab:(0,w.state)(_)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(e){var t=n.props,a=t.tab,r=t.onChange;e!==a&&r&&r({tab:e})},i=a,o(n,i)}return i(t,y.default),m(t,[{key:"renderTabs",value:function(){var e=this,t=this.props,a=t.tabs,n=t.competencyMap,r=t.group,o=this.props.tab||(0,E.get)(a,"0");return a.map(function(t){return(!n||"{}"===JSON.stringify(n))&&t===k.DetailHeadTabsV2.skills||!r&&t===k.DetailHeadTabsV2.groups?null:v.default.createElement("div",{className:e.ss("tab-item",t===o?"active":"inactive"),onClick:function(){return e.handleClick(t)},key:"tab_"+t},v.default.createElement("div",{className:e.ss("tab-item-label")},e.__("tab_"+t)),t===o&&v.default.createElement("div",{className:e.ss("tab-item-line")}))})}},{key:"render",value:function(){return v.default.createElement("div",{className:this.ss("tabs-wrap")},v.default.createElement("div",{className:this.ss("tabs-content")},v.default.createElement("div",{className:this.ss("tabs")},this.renderTabs())))}}]),t}(),f.propTypes={tabs:g.default.array,tab:g.default.string,type:g.default.string,disabled:g.default.bool,onChange:g.default.func,group:g.default.object,competencyMap:g.default.object},d=p))||d)||d)||d);t.default=j},function(e,t){e.exports={"tabs-wrap":"tabs-wrap_2wh_xCKh","tabs-content":"tabs-content_3tLpDtY-","button-group":"button-group_3xz1pmMB","button-comment":"button-comment_2rEyuGCO","comment-icon":"comment-icon_30sgTGZQ","button-share":"button-share_2uPsgmNq","share-icon":"share-icon_HVwFNvpr",tabs:"tabs_14uyk6fL","tab-item":"tab-item_2Ru-_0N1",active:"active_2TLHZQ_R","tab-item-line":"tab-item-line_1DTvIQgi","tabs-challenge-wrap":"tabs-challenge-wrap_1MaVf9xw",collapse:"collapse_E_ULxNDT","tab-item-content":"tab-item-content_3MlQIkMJ",icon:"icon_3fgp6re2","toggle-expand":"toggle-expand_2VqqiOcm"}},function(e,t){e.exports={tab_content:"tab_content_2DCC",tab_pathway_map:"tab_pathway_map_2FNe",tab_overview:"tab_overview_2dYV",tab_skills:"tab_skills_24B0",tab_live:"tab_live_2rOp",tab_groups:"tab_groups_2lCC",tab_educator:"tab_educator_2lX-"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CompetencySkill=t.AlignedSubSkills=t.AlignedSkillsForArchitecture=t.ParentList=t.UnityPro=t.Language=t.Assets=t.Resources=t.Downloads=t.UnityVersionDropDown=t.UnityVersion=t.ProjectObjective=t.CareerGoal=t.Tags=t.Summary=t.ConnectGroup=void 0;var u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W,Q,J,Y,X,Z,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,ke,Se,Oe,Te,Pe,je,Ce,Ie,Ne,Me,De,xe,Re,Le,Ae,Fe,Ke,qe,ze,Be,Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},He=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Ve=o(["currentHost"],["currentHost"]),Ge=o(["unityVersions.versionMap"],["unityVersions.versionMap"]),We=o(["common.uv"],["common.uv"]),Qe=o(["option.supportUnityVersions"],["option.supportUnityVersions"]),Je=o(["common.changeContentUnityVersion"],["common.changeContentUnityVersion"]),Ye=o(["userPremium"],["userPremium"]),Xe=o(["learner.parentIds"],["learner.parentIds"]),Ze=o(["header.sendCDPRequest"],["header.sendCDPRequest"]),$e=o(["breadcrumb"],["breadcrumb"]),et=o(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),tt=o(["learner.recordMap.",""],["learner.recordMap.",""]),at=o(["data.id"],["data.id"]),nt=n(a(2)),rt=n(a(0)),ot=n(a(1)),it=a(6),st=a(5),lt=a(4),ut=n(a(15)),ct=n(a(23)),dt=n(a(52)),ft=n(a(19)),pt=n(a(47)),mt=a(365),ht=n(a(813)),_t=a(12),gt=a(17),vt=a(9),yt=a(8),bt=n(a(3)),wt=n(a(996)),Et=n(a(7)),kt=n(a(547)),St=function(){},Ot=a(997),Tt=(t.ConnectGroup=(u=(0,bt.default)(wt.default),c=(0,Et.default)(kt.default),u(d=c((p=f=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.disabled,n=t.id,r=t.group;return n&&r?rt.default.createElement("div",{className:this.ss("section-wrap","connect-group-wrap")},rt.default.createElement(mt.ConnectGroupCard,{data:r,disabled:a})):null}}]),t}(),f.propTypes={disabled:nt.default.bool,data:nt.default.object},d=p))||d)||d),t.Summary=(m=(0,bt.default)(wt.default),h=(0,Et.default)(kt.default),m(_=h((v=g=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props.data,t=e.description,a=e.descPlain;return a&&a.trim()?rt.default.createElement("div",{className:this.ss("section-wrap","summary-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_summary")),rt.default.createElement("div",{className:this.ss("summary")},rt.default.createElement(dt.default,{theme:"architecture",editorKey:"editorDescription",value:t,renderOnly:!0}))):null}}]),t}(),g.propTypes={data:nt.default.object},_=v))||_)||_),t.Tags=(y=(0,it.decorator)({currentHost:(0,st.state)(Ve)}),b=(0,bt.default)(wt.default),w=(0,Et.default)(kt.default),y(E=b(E=w((S=k=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.type,o=t.theme,i=t.currentHost,s=[],l={},u="";switch(r){case"topic":s=(0,lt.get)(a,"topicIds"),l=(0,lt.get)(a,"topicMap"),u=yt.CriteriaKeys.tag;break;case"tag":s=(0,lt.get)(a,"tagIds"),l=(0,lt.get)(a,"skillMap");break;case"package":s=(0,lt.get)(a,"packageIds"),l=(0,lt.get)(a,"packageMap");break;case"industry":s=(0,lt.get)(a,"industryIds"),l=(0,lt.get)(a,"industryMap"),u=yt.CriteriaKeys.industry}if(!s||0===s.length)return null;var c=s.map(function(t,a){var r=void 0;return r=(0,lt.get)(l,t+".name")===yt.TopicName.forEducators?"/educators":"/search?k="+encodeURIComponent(JSON.stringify([u+":"+t])),rt.default.createElement("a",{key:"tpc_"+a,className:e.ss("tag-item",!n&&"active"),href:n?"#":(0,ft.default)(r,i)},rt.default.createElement("div",{className:e.ss("tag")},l&&l[t].name))});return rt.default.createElement("div",{className:this.ss("section-wrap","tags-wrap",o)},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_tag_"+r)),rt.default.createElement("div",{className:this.ss("tags")},c))}}]),t}(),k.propTypes={data:nt.default.object,disabled:nt.default.bool,type:nt.default.oneOf(["topic","tag","package","industry"]),theme:nt.default.oneOf(["default","keep-learn"]),currentHost:nt.default.string},k.defaultProps={theme:"default",type:"topic"},E=S))||E)||E)||E),t.CareerGoal=(O=(0,bt.default)(wt.default),T=(0,Et.default)(kt.default),O(P=T((C=j=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props.data,t=(0,lt.get)(e,"properties.careerGoals"),a=e.goalPlain;return a&&a.trim()?rt.default.createElement("div",{className:this.ss("section-wrap","careerGoal-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_career_goal")),rt.default.createElement("div",{className:this.ss("careerGoal")},rt.default.createElement(dt.default,{value:t,editorKey:"editorCourseCareerGoals",renderOnly:!0}))):null}}]),t}(),j.propTypes={data:nt.default.object},P=C))||P)||P),t.ProjectObjective=(I=(0,bt.default)(wt.default),N=(0,Et.default)(kt.default),I(M=N((x=D=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,lt.get)(t,"properties.objective"),r=(0,lt.get)(t,"type"),o=t.objPlain;return o&&o.trim()?rt.default.createElement("div",{className:this.ss("section-wrap","projectObjective-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_"+r+"_objective")),rt.default.createElement("div",{className:this.ss("projectObjective")},rt.default.createElement(dt.default,{value:n,editorKey:"editorProjectObjective",renderOnly:!0,theme:a}))):null}}]),t}(),D.propTypes={data:nt.default.object,theme:nt.default.string},M=x))||M)||M),t.UnityVersion=(R=(0,it.decorator)({versionMap:(0,st.state)(Ge)}),L=(0,bt.default)(wt.default),A=(0,Et.default)(kt.default),R(F=L(F=A((q=K=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"renderRangeTitle",value:function(){var e=this.props,t=e.data,a=e.versionMap,n=(0,lt.get)(t,"unityVersionRange"),r=(0,lt.get)(n,"minVersionId"),o=(0,lt.get)(n,"maxVersionId"),i=(0,lt.get)(n,"minVersion")||(0,lt.get)(a,[r]),s=(0,lt.get)(n,"maxVersion")||(0,lt.get)(a,[o]),l=(0,lt.get)(i,"name"),u=(0,lt.get)(s,"name");if(!l&&!u)return null;var c="";return c=l?u?u===l?l:this.__("unity_version_range",{min:l,max:u}):this.__("unity_version_range_above",{value:l}):this.__("unity_version_range_below",{value:u}),rt.default.createElement("div",{className:this.ss("tag")},c)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=(0,lt.get)(t,"unityVersionRange"),r=(0,lt.get)(n,"withAll");return rt.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap",a)},rt.default.createElement("div",{className:this.ss("section-title","unityVersion-title")},this.__("title_unity_version_range")),rt.default.createElement("div",{className:this.ss("unityVersion")},r&&"preview"===a&&rt.default.createElement("div",{className:this.ss("with-all")},this.__("support_all_unity_version")),this.renderRangeTitle()))}}]),t}(),K.propTypes={data:nt.default.object,versionMap:nt.default.object,theme:nt.default.string},F=q))||F)||F)||F)),Pt=(z={},r(z,yt.DataTypeKeys.project,!0),r(z,yt.DataTypeKeys.course,!0),r(z,yt.DataTypeKeys.tutorial,!0),r(z,yt.DataTypeKeys.quiz,!0),z),jt=(t.UnityVersionDropDown=(B=(0,it.decorator)({uv:(0,st.state)(We),supportUnityVersions:(0,st.state)(Qe),changeContentUnityVersion:(0,st.signal)(Je)}),U=(0,bt.default)(wt.default),H=(0,Et.default)(kt.default),B(V=U(V=H((W=G=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"onChangedVersion",value:function(e){this.props.changeContentUnityVersion({uv:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.uv,n=t.data,r=t.supportUnityVersions;if(!(0,lt.get)(n,"published"))return(0,lt.get)(n,"unityVersionRange")?rt.default.createElement(Tt,{data:n}):null;if(!r||!(0,lt.get)(r,"length"))return null;var o=(0,lt.get)(n,"type"),i=(r||[]).map(function(e){return{text:e.name,value:e.value}});return Pt[o]?rt.default.createElement("div",{className:this.ss("section-wrap","unityVersion-wrap")},rt.default.createElement("div",{className:this.ss("section-title","detailVersion-title")},this.__("title_detail_version_range"),rt.default.createElement("div",{className:this.ss("version_tooltip")},rt.default.createElement(ct.default,{position:"top-width",type:"blue",text:this.__("notification_action_"+o)},rt.default.createElement("div",{className:this.ss("help-icon","ifont","ifont-lrn_icon_help_outline")})))),rt.default.createElement("div",{className:this.ss("title")},this.__("last_updated",{time:(0,lt.get)(n,"lastPublishedTime")})),rt.default.createElement("div",{className:this.ss("select")},rt.default.createElement(pt.default,{selects:i,value:a,size:"medium",theme:"grizzly",onChange:function(t,a,n){return e.onChangedVersion(n)}}))):null}}]),t}(),G.propTypes={uv:nt.default.string,data:nt.default.object,supportUnityVersions:nt.default.array,changeContentUnityVersion:nt.default.func},V=W))||V)||V)||V),function(e){var t=(0,lt.get)(e,"name","");if(!t){var a=(t=(0,lt.get)(e,"url","")).lastIndexOf("/");-1!==a&&(t=t.substring(a+1))}return t}),Ct=(t.Downloads=(Q=(0,it.decorator)({userPremium:(0,st.state)(Ye),parentIds:(0,st.state)(Xe),currentHost:(0,st.state)(Ve),sendCDPRequest:(0,st.signal)(Ze)}),J=(0,bt.default)(wt.default),Y=(0,Et.default)(kt.default),Q(X=J(X=Y(($=Z=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"onMenuClick",value:function(e){var t=this.props,a=t.userPremium,n=t.parentIds,r=void 0===n?{}:n,o=(0,lt.get)(this.props.data,"id"),i=(0,lt.get)(this.props.data,"type"),s=Ue({},r,{id:o,type:i,fileName:e,userPremium:a});this.props.sendCDPRequest({type:yt.CDPLearnType.download,eventType:yt.EventType.learn,data:s})}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.theme,o=t.statsPath,i=t.currentHost,s=(0,lt.get)(a,o),l=!s||0===s.length;if(l)return null;var u=!l&&s.map(function(t,a){return rt.default.createElement("a",{key:"ma_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,ft.default)((0,_t.securedURL)(t.url),i),onClick:n?St():function(){return e.onMenuClick(jt(t))}},rt.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-"+yt.MaterialTypeIconMap[t.type])}),t.name)});return rt.default.createElement("div",{className:this.ss("section-wrap","download-wrap",r)},rt.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_"+o)),rt.default.createElement("div",{className:this.ss("links-wrap","downloads")},u))}}]),t}(),Z.propTypes={parentIds:nt.default.object,userPremium:nt.default.bool,data:nt.default.object,disabled:nt.default.bool,currentHost:nt.default.string,sendCDPRequest:nt.default.func,theme:nt.default.oneOf(["default","educator","quiz","solution"]),statsPath:nt.default.oneOf(["materials","prerequisites"])},Z.defaultProps={theme:"default",statsPath:"materials"},X=$))||X)||X)||X),t.Resources=(ee=(0,it.decorator)({currentHost:(0,st.state)(Ve)}),te=(0,bt.default)(wt.default),ae=(0,Et.default)(kt.default),ee(ne=te(ne=ae((oe=re=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.disabled,r=t.currentHost,o=(0,lt.get)(a,"documents"),i=!o||0===o.length;if(i)return null;var s=!i&&o.map(function(t,a){return rt.default.createElement("a",{key:"res_"+a,className:e.ss("material"),target:"_blank",href:n?"#":(0,ft.default)((0,_t.securedURL)(t.url),r)},rt.default.createElement("div",{className:e.ss("material-icon","ifont","ifont-icons_link")}),t.name)});return rt.default.createElement("div",{className:this.ss("section-wrap","resource-wrap")},rt.default.createElement("div",{className:this.ss("section-title","resource-title")},this.__("title_document")),rt.default.createElement("div",{className:this.ss("links-wrap","resources")},s))}}]),t}(),re.propTypes={data:nt.default.object,disabled:nt.default.bool,currentHost:nt.default.string},ne=oe))||ne)||ne)||ne),t.Assets=(ie=(0,bt.default)(wt.default),se=(0,Et.default)(kt.default),ie(le=se((ce=ue=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props.data,t=(0,lt.get)(e,"asset"),a=(0,lt.get)(t,"url");if(!a)return null;var n=rt.default.createElement("a",{className:this.ss("material"),href:a,target:"_blank"},rt.default.createElement("div",{className:this.ss("material-icon","ifont","ifont-icons_link")}),t.name);return rt.default.createElement("div",{className:this.ss("section-wrap","asset-wrap")},rt.default.createElement("div",{className:this.ss("section-title","download-title")},this.__("title_assets")),rt.default.createElement("div",{className:this.ss("links-wrap","assets")},n))}}]),t}(),ue.propTypes={data:nt.default.object,disabled:nt.default.bool},le=ce))||le)||le),t.Language=(de=(0,bt.default)(wt.default),fe=(0,Et.default)(kt.default),de(pe=fe((he=me=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props.data,t=(0,lt.get)(e,"language","en");return"und"===t&&(t="en"),rt.default.createElement("div",{className:this.ss("section-wrap","language-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_language")),rt.default.createElement("div",{className:this.ss("language","text")},(0,vt.GetLanguageText)(this.context,t)))}}]),t}(),me.propTypes={data:nt.default.object},pe=he))||pe)||pe),t.UnityPro=(_e=(0,bt.default)(wt.default),ge=(0,Et.default)(kt.default),_e(ve=ge((be=ye=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props.data,t=(0,lt.get)(e,"skillLevel")||"";return t===yt.SkillLevelKeys.advanced||t===yt.SkillLevelKeys.intermediate?rt.default.createElement("div",{className:this.ss("section-wrap","unity-pro-wrap")},rt.default.createElement("div",{className:this.ss("unity-pro-img")},rt.default.createElement(ut.default,{src:Ot,height:66,sizes:"100vw"})),rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_unity_pro")),rt.default.createElement("div",{className:this.ss("content")},this.__("content_unity_pro")),rt.default.createElement("div",{key:"learn_more",className:this.ss("link-item-wrap")},rt.default.createElement("a",{className:this.ss("link"),href:"https://store.unity.com/products/unity-pro"},this.__("button_learn_more")))):null}}]),t}(),ye.propTypes={data:nt.default.object},ve=be))||ve)||ve),t.ParentList=(we=(0,it.decorator)({breadcrumb:(0,st.state)($e),currentHost:(0,st.state)(Ve),tutorialExtendsDataStatus:(0,st.state)(et,yt.GET_TUTORIAL_EXTENDS),quizExtendsDataStatus:(0,st.state)(et,yt.GET_QUIZ_EXTENDS),projectExtendsDataStatus:(0,st.state)(et,yt.GET_PROJECT_EXTENDS)}),Ee=(0,bt.default)(wt.default),ke=(0,Et.default)(kt.default),we(Se=Ee(Se=ke((Te=Oe=function(e){function t(){var e,a,n,r;i(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.computedGetExtendsDataLoading=function(){var e=n.props,t=e.data,a=e.tutorialExtendsDataStatus,r=e.quizExtendsDataStatus,o=e.projectExtendsDataStatus,i="";switch((0,lt.get)(t,"type")){case yt.DataTypeKeys.tutorial:i=a;break;case yt.DataTypeKeys.quiz:i=r;break;case yt.DataTypeKeys.project:i=o}return(0,gt.isLoading)(i)},r=a,s(n,r)}return l(t,ot.default),He(t,[{key:"getCleanParentIds",value:function(e){var t=((0,lt.get)(this.props,"breadcrumb.selectedIds")||[]).reduce(function(e,t){var a=(0,vt.GetTypeIdByItemId)(t),n=a.id,r=a.type;return r===yt.DataTypeKeys.project&&(e.projectId=n),r===yt.DataTypeKeys.course&&(e.courseId=n),e},{});return 0===Object.keys(t||{}).length?e:e.filter(function(e){var a=(0,vt.GetTypeIdByItemId)(e),n=a.id,r=a.type;if(n&&r){if(r===yt.DataTypeKeys.project&&n===t.projectId)return!1;if(r===yt.DataTypeKeys.course&&n===t.courseId)return!1}return!0})}},{key:"renderItem",value:function(e){var t=this.props,a=t.data,n=t.currentHost,r=(0,lt.get)(a,"parentMap"),o=(0,vt.GetDataByItemId)({itemId:e,courseMap:r,projectMap:r});if(!o)return null;if((0,lt.get)(o,"hidden")||!1)return null;var i=o.id,s=o.type,l=o.title;return rt.default.createElement("div",{key:"parent-list-"+i,className:this.ss("parent-list-item")},rt.default.createElement("div",{className:this.ss("type")},this.__("type_"+s)),rt.default.createElement("div",{className:this.ss("dot")}),rt.default.createElement("a",{className:this.ss("title"),href:(0,ft.default)("/"+s+"/"+i,n)},l))}},{key:"render",value:function(){var e=this;if(this.computedGetExtendsDataLoading())return null;var t=this.props.data,a=(0,lt.get)(t,"parentIds")||[];if(0===a.length)return null;var n=(this.getCleanParentIds(a)||[]).map(function(t){return e.renderItem(t)}).filter(function(e){return!!e});return 0===n.length?null:rt.default.createElement("div",{className:this.ss("section-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_included_in")),rt.default.createElement("div",{className:this.ss("parent-wrap")},n))}}]),t}(),Oe.propTypes={data:nt.default.object,breadcrumb:nt.default.object,currentHost:nt.default.string,tutorialExtendsDataStatus:nt.default.string,quizExtendsDataStatus:nt.default.string,projectExtendsDataStatus:nt.default.string},Se=Te))||Se)||Se)||Se),t.AlignedSkillsForArchitecture=(Pe=(0,it.decorator)({record:(0,st.state)(tt,(0,st.props)(at))}),je=(0,bt.default)(wt.default),Ce=(0,Et.default)(kt.default),Pe(Ie=je(Ie=Ce((Me=Ne=function(e){function t(){var e,a,n,r;i(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleSkipCheckpoint=function(){var e=n.props.onSkipCheckpoint;e&&e()},r=a,s(n,r)}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=e.record,r=(0,lt.get)(a,"competencyIds"),o=(0,lt.get)(a,"competencyMap")||{},i=(0,lt.get)(a,"learnSkillMap")||{},s=(0,lt.get)(a,"assessmentItem")||(0,lt.get)(a,"assessmentItems"),l=s&&s.length>0,u=(0,lt.get)(n,"completed")?t+"_view_summary":t+"_skip_to_checkpoint";return rt.default.createElement("div",{className:this.ss("section-wrap","aligned-skill-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__("title_what_you_will_learn")),rt.default.createElement("div",{className:this.ss("section-content")},rt.default.createElement(ht.default,{competencyIds:r,competencyMap:o,skillMap:i})),l&&rt.default.createElement("div",{className:this.ss("hint")},rt.default.createElement("span",{className:this.ss("label")},this.__("already_know")),rt.default.createElement("a",{className:this.ss("a-link"),onClick:this.handleSkipCheckpoint},this.__(u))))}}]),t}(),Ne.propTypes={data:nt.default.object,record:nt.default.object,theme:nt.default.oneOf(["default","mission","pathway"]),onSkipCheckpoint:nt.default.func},Ne.defaultProps={theme:"default"},Ie=Me))||Ie)||Ie)||Ie),t.AlignedSubSkills=(De=(0,bt.default)(wt.default),xe=(0,Et.default)(kt.default),De(Re=xe((Ae=Le=function(e){function t(){var e,a,n,r;i(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.computedCompetencySkills=function(e,t){var a=(0,lt.get)(e,"skillIds")||[];e.skills=a.map(function(e){return(0,lt.get)(t,e)||{}})},r=a,s(n,r)}return l(t,ot.default),He(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=(0,lt.get)(t,"type"),n=(0,lt.get)(t,"isExercise")||!1,r=!1;(a===yt.DataTypeKeys.tutorial&&n||a===yt.DataTypeKeys.quiz)&&(r=!0);var o=(0,lt.get)(t,"competencyIds")||[],i=(0,lt.get)(t,"competencyMap")||{},s=(0,lt.get)(t,"learnSkillMap")||{},l=o.map(function(t){var a=(0,lt.get)(i,t)||{},n=(0,lt.get)(a,"id");return e.computedCompetencySkills(a,s),rt.default.createElement(Ct,{key:"competency-item-"+n,competency:a})});return rt.default.createElement("div",{className:this.ss("section-wrap")},rt.default.createElement("div",{className:this.ss("section-title")},this.__(r?"title_skill_you_use":"title_what_you_will_learn")),rt.default.createElement("div",{className:this.ss("section-content","competency-skill")},l))}}]),t}(),Le.propTypes={data:nt.default.object},Re=Ae))||Re)||Re),t.CompetencySkill=(Fe=(0,bt.default)(wt.default),Ke=(0,Et.default)(kt.default),Fe(qe=Ke((Be=ze=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,ot.default),He(t,[{key:"renderSkills",value:function(){var e=this,t=this.props.competency,a=(0,lt.get)(t,"skills")||[];return 0===a.length?null:a.map(function(t){if("{}"===JSON.stringify(t))return null;var a=(0,lt.get)(t,"id"),n=(0,lt.get)(t,"title")||"";return rt.default.createElement("div",{className:e.ss("skill-item-title"),key:"skill-item-"+a},n)})}},{key:"render",value:function(){var e=this.props.competency,t=(0,lt.get)(e,"title")||"";return rt.default.createElement("div",{className:this.ss("skills-wrap")},t,this.renderSkills())}}]),t}(),ze.propTypes={competency:nt.default.object},qe=Be))||qe)||qe));t.default=null},function(e,t){e.exports={center:"center_7TkpD2mC","section-wrap":"section-wrap_33eSsj8g","summary-wrap":"summary-wrap_2K9D41EG","projectObjective-wrap":"projectObjective-wrap_1IwM4FsW","parent-wrap":"parent-wrap_2S0W7Fl4","parent-list-item":"parent-list-item_2_7I6Ewt",type:"type_3D7GF7b9",title:"title_2LZvJQGj",dot:"dot_1rselgtF","unity-pro-wrap":"unity-pro-wrap_2riA-xGe","unity-pro-img":"unity-pro-img_34xlS7Km",content:"content_1WnMZbw0","link-item-wrap":"link-item-wrap_2Yt9e7KX",link:"link_1N7MbZQU","section-title":"section-title_sAxfYbvs","tags-wrap":"tags-wrap_3gjG_JgF",tags:"tags_oyiQC7hw","tag-item":"tag-item_2Rbn3i23",active:"active_3_Y1LeBm",tag:"tag_o5BCyIYL","keep-learn":"keep-learn_1uzaaXOM",language:"language_2v4epuui","unityVersion-wrap":"unityVersion-wrap_2OD1juzj",select:"select_1wiXqJcO",unityVersion:"unityVersion_1ASPX_BH","detailVersion-title":"detailVersion-title_1NVmssp6","help-icon":"help-icon_YFhBCUPA",version_tooltip:"version_tooltip_OkHBdPmh",preview:"preview_31BeCR3M","unityVersion-title":"unityVersion-title_2vN_THLD","with-all":"with-all_3V8ag1b1","download-wrap":"download-wrap_b9v8upbH",educator:"educator_3sCzW7RI",quiz:"quiz_1B4s2mRh",material:"material_1bbz3z5R","material-icon":"material-icon_2Si7HD9p",solution:"solution_1C8L9R0-","aligned-skill-wrap":"aligned-skill-wrap_3n3FIMUz",hint:"hint_3VmB-NgW","a-link":"a-link_2pQgOwGc","links-wrap":"links-wrap_3XeW31iK","competency-skill":"competency-skill_1SuNVXfN","skills-wrap":"skills-wrap_1V41c3Zv","skill-item-title":"skill-item-title_SUKpp1Rf"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/img-unity-pro@3x.9bf29e83c3695bde9d1979d244e381b4.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),E=s(["learner.recordMap"],["learner.recordMap"]),k=s(["learner.syncContentId"],["learner.syncContentId"]),S=s(["common.uv"],["common.uv"]),O=s(["locale"],["locale"]),T=s(["learner.parentIds"],["learner.parentIds"]),P=s(["currentHost"],["currentHost"]),j=n(a(2)),C=n(a(0)),I=n(a(1)),N=a(6),M=a(5),D=a(4),x=n(a(15)),R=n(a(708)),L=n(a(1e3)),A=n(a(37)),F=n(a(815)),K=a(58),q=a(33),z=n(a(346)),B=a(9),U=n(a(19)),H=n(a(3)),V=n(a(1002)),G=n(a(7)),W=n(a(814)),Q=(l=(0,N.decorator)({recordMap:(0,M.state)(E),syncContentId:(0,M.signal)(k)}),u=(0,H.default)(V.default),c=(0,G.default)(W.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));m.call(a);var n=a.computeDefaultItemPos(e);return a.state={itemPos:n,defaultItemPos:n},a.renderContentSet=a.renderContentSet.bind(a),a}return i(t,I.default),w(t,[{key:"renderMaskSwitcher",value:function(e){var t=this,a=this.state.itemPos;return e===a?null:C.default.createElement("div",{className:this.ss("content-set-mask"),onClick:function(a){return t.onClick(a,e)}})}},{key:"renderContentSet",value:function(e){var t=this,a=e.item,n=e.index,r=this.props,o=r.statsPath,i=r.data,s=r.recordMap,l=this.state.itemPos,u=(0,D.get)(a,"title")||"",c=(0,D.get)(a,"id"),d=(0,D.get)(a,"description")||"",f=n===l,p=((0,D.get)(a,"contents")||[]).map(function(e){var a=(0,D.get)(e,"id"),n=(0,D.get)(s,a);return C.default.createElement("div",{key:"content-item-"+a,className:t.ss("content-item")},C.default.createElement(J,{parentData:i,data:e,record:n,statsPath:o,contentId:c}))});return C.default.createElement("div",{className:this.ss("content-set-wrapper",f&&"active")},C.default.createElement("div",{className:this.ss("content-set")},C.default.createElement("div",{className:this.ss("header")},C.default.createElement("div",{className:this.ss("set-title")},C.default.createElement("div",{className:this.ss("title")},u),C.default.createElement(L.default,{data:a})),C.default.createElement("div",{className:this.ss("operate")},C.default.createElement(F.default,{data:i,contentSet:a}))),d&&C.default.createElement("div",{className:this.ss("des")},d),C.default.createElement("div",{className:this.ss("content-list")},p),this.renderMaskSwitcher(n)))}},{key:"render",value:function(){var e=this.state,t=e.itemPos,a=e.defaultItemPos,n=this.props,r=n.contentSets,o=n.theme;return C.default.createElement("div",{className:this.ss("content-sets",o)},C.default.createElement("div",{className:this.ss("slider")},C.default.createElement(R.default,{items:r,itemPos:t,defaultItemPos:a,pageSize:1,renderItem:this.renderContentSet})))}}]),t}(),f.propTypes={data:j.default.object,theme:j.default.oneOf(["default"]),statsPath:j.default.string.isRequired,contentSets:j.default.array,defaultSet:j.default.string,recordMap:j.default.object,syncContentId:j.default.func},f.defaultProps={theme:"default"},m=function(){var e=this;this.onClick=function(t,a){t.preventDefault();var n=e.props,r=n.syncContentId,o=n.contentSets;e.setState({itemPos:a}),r&&r({contentId:(0,D.get)(o,a+".id")})},this.computeDefaultItemPos=function(e){var t=e.defaultSet,a=e.contentSets,n=void 0===a?[]:a,r=0;return t&&(r=Math.max(0,n.findIndex(function(e){return(0,D.get)(e,"id")===t}))),r}},d=p))||d)||d)||d);t.default=Q;var J=(h=(0,N.decorator)({uv:(0,M.state)(S),locale:(0,M.state)(O),parentIds:(0,M.state)(T),currentHost:(0,M.state)(P)}),_=(0,H.default)(V.default),g=(0,G.default)(W.default),h(v=_(v=g((b=y=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getUrl=function(){var e=n.props,t=e.parentIds,a=e.parentData,r=e.data,o=e.locale,i=e.currentHost,s=e.uv,l=e.contentId;return(0,U.default)((0,B.GetItemUrlInArchitectureDetail)({parentIds:t,data:a,item:r,locale:o,uv:s,contentId:l}),i)},i=a,o(n,i)}return i(t,I.default),w(t,[{key:"renderProgressBar",value:function(){var e=this.props,t=e.data,a=e.record;return a?C.default.createElement(K.ProgressBar,{data:t,record:a}):null}},{key:"render",value:function(){var e=this.props||{},t=e.data,a=e.statsPath;if(!t)return null;var n=(0,D.get)(t,"thumbnail.url"),r=t.id,o=t.title,i=t.type;return C.default.createElement("a",{className:this.ss("item-row"),href:this.getUrl()},C.default.createElement("div",{className:this.ss("item-row-content")},C.default.createElement("div",{className:this.ss("thumbnail")},C.default.createElement(x.default,{src:n,sizes:"233px",width:233,height:141}),C.default.createElement("div",{className:this.ss("collect-wrap")},C.default.createElement(A.default,{id:r,type:i,statsPath:a}))),C.default.createElement("div",{className:this.ss("brief")},C.default.createElement("div",{className:this.ss("brief-info")},C.default.createElement("div",{className:this.ss("title")},o),C.default.createElement("div",{className:this.ss("info-tags")},C.default.createElement(q.SubTitleV2,{data:t,theme:"dark",size:"small"})),C.default.createElement("div",{className:this.ss("rating")},C.default.createElement(z.default,{id:r,statsPath:a,showScore:!0}))))),this.renderProgressBar())}}]),t}(),y.propTypes={data:j.default.object,record:j.default.object,statsPath:j.default.string.isRequired,parentData:j.default.object,contentId:j.default.string,uv:j.default.string,locale:j.default.string,parentIds:j.default.object,currentHost:j.default.string},v=b))||v)||v)||v)},function(e,t){e.exports={"slider-container":"slider-container_38KC2iBw",row:"row_2nnbfJ0U","item-container":"item-container_3-X6zMyH"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=n(a(2)),m=n(a(0)),h=n(a(1)),_=a(4),g=n(a(43)),v=n(a(3)),y=n(a(1001)),b=n(a(7)),w=n(a(814)),E=(s=(0,v.default)(y.default),l=(0,b.default)(w.default),s(u=l((d=c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,h.default),f(t,[{key:"renderDuration",value:function(){var e=this.props.data,t=(0,_.get)(e,"duration")||0;return m.default.createElement("div",{className:this.ss("subtitle-item")},m.default.createElement(g.default,{duration:t}))}},{key:"renderPoints",value:function(){var e=this.props.data,t=(0,_.get)(e,"point")||0;return m.default.createElement("div",{className:this.ss("subtitle-item")},m.default.createElement("div",{className:this.ss("dot")}),m.default.createElement("div",{className:this.ss("tag tag-points")},this.__("point",{point:t})))}},{key:"render",value:function(){var e=this.props,t=e.size,a=e.theme;return m.default.createElement("div",{className:this.ss("content-set-subtitle",t,a)},this.renderDuration(),this.renderPoints())}}]),t}(),c.propTypes={data:p.default.object,theme:p.default.oneOf(["default"]),size:p.default.oneOf(["default"])},c.defaultProps={theme:"default",size:"default"},u=d))||u)||u);t.default=E},function(e,t){e.exports={"content-set-subtitle":"content-set-subtitle_1CwR8IJ3","subtitle-item":"subtitle-item_3k16OKup",dot:"dot_13R3NYmV",tag:"tag_36oSN02T"}},function(e,t){e.exports={"content-sets":"content-sets_2uI-5wOF",slider:"slider_1HsDz31c","content-set-wrapper":"content-set-wrapper_1LI-lzYq","content-set":"content-set_1pe8EH0J",header:"header_3LO1eYhQ","set-title":"set-title_3V_J12G6",title:"title_3ty4tfo6",des:"des_--8O0zJg","content-list":"content-list_2YRRB6dM","content-item":"content-item_18xPW5Rq","content-set-mask":"content-set-mask_3OtffS7K","item-row":"item-row_2WteDjYO","item-row-content":"item-row-content_3C4jOdrT",thumbnail:"thumbnail_fWaaRvbk","collect-wrap":"collect-wrap_2nsNyv9B",brief:"brief_1Ji_C1vP","info-tags":"info-tags_1eZ_RPch"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y=s(["currentHost"],["currentHost"]),b=s(["upcomingLiveSessions"],["upcomingLiveSessions"]),w=s(["previousLiveSessions"],["previousLiveSessions"]),E=n(a(2)),k=n(a(0)),S=n(a(1)),O=a(6),T=a(5),P=a(4),j=n(a(28)),C=n(a(16)),I=n(a(708)),N=n(a(130)),M=n(a(19)),D=n(a(3)),x=n(a(1004)),R=n(a(7)),L=n(a(1005)),A=(l=(0,O.decorator)({currentHost:(0,T.state)(y),upcomingLiveSessions:(0,T.state)(b),previousLiveSessions:(0,T.state)(w)}),u=(0,D.default)(x.default),c=(0,R.default)(L.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getUrl=function(){var e=n.props.currentHost;return(0,M.default)("/live-calendar",e)},i=a,o(n,i)}return i(t,S.default),v(t,[{key:"renderLearnLiveSlider",value:function(e,t){if(!e||0===(0,P.get)(e,"total")||0===(0,P.get)(e,"results.length"))return null;var a=this.props,n=a.size,r=a.pageSize,o=a.theme;return k.default.createElement("div",{className:this.ss("learn-live-section")},k.default.createElement(F,{size:n,pageSize:r,theme:o,title:t,data:e}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.upcomingLiveSessions,n=e.previousLiveSessions;return k.default.createElement("div",{className:this.ss("recent-learn-live",t)},k.default.createElement("div",{className:this.ss("header")},k.default.createElement("div",{className:this.ss("title")},this.__("detail_tab_live_title")),k.default.createElement("div",{className:this.ss("des")},this.__("detail_tab_live_des")),k.default.createElement("div",{className:this.ss("operate")},k.default.createElement(C.default,{size:"xsmall",href:j.default.LIVE_HELP_SITE,target:"_blank",label:this.__("button_get_help")}))),k.default.createElement("div",{className:this.ss("content")},this.renderLearnLiveSlider(a,this.__("upcoming_live_session")),this.renderLearnLiveSlider(n,this.__("previous_recorded"))),k.default.createElement("div",{className:this.ss("hint")},k.default.createElement("a",{className:this.ss("a-link"),href:this.getUrl()},this.__("see_all_live_session"))))}}]),t}(),f.propTypes={theme:E.default.oneOf(["default","pathway","mission"]),size:E.default.string,pageSize:E.default.number,currentHost:E.default.string,upcomingLiveSessions:E.default.object,previousLiveSessions:E.default.object},f.defaultProps={theme:"default",size:"small",pageSize:3},d=p))||d)||d)||d);t.default=A;var F=(m=(0,D.default)(x.default))((g=_=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getLearnLiveItems=function(){var e=a.props.data;return((0,P.get)(e,"results")||[]).map(function(e){return(0,P.get)(e,(0,P.get)(e,"type"))}).filter(function(e){return!!e})},a.state={itemPos:0},a.renderLearnLive=a.renderLearnLive.bind(a),a}return i(t,S.default),v(t,[{key:"renderMaskSwitcher",value:function(e){var t=this,a=this.state.itemPos;return e===a?null:k.default.createElement("div",{className:this.ss("mask"),onClick:function(a){a.preventDefault(),t.setState({itemPos:e})}})}},{key:"renderLearnLive",value:function(e){var t=e.item,a=e.index,n=e.screenIndex,r=this.props,o=r.size,i=r.data,s=r.theme,l=n===this.state.itemPos,u=(0,P.get)(i,"tutorialMap")||{},c=(0,P.get)(i,"projectMap")||{},d=(0,P.get)(i,"courseMap")||{},f=(0,P.get)(i,"industryMap")||{},p=(0,P.get)(i,"topicMap")||{};return k.default.createElement("div",{key:"learn-live-"+a+"-"+n,className:this.ss("learn-live-wrapper",l&&"active")},k.default.createElement("div",{className:this.ss("learn-live")},k.default.createElement(N.default,{size:o,data:t,theme:s,tutorialMap:u,projectMap:c,courseMap:d,industryMap:f,topicMap:p})),this.renderMaskSwitcher(n))}},{key:"render",value:function(){var e=this.state.itemPos,t=this.props,a=t.pageSize,n=t.title,r=this.getLearnLiveItems();return k.default.createElement("div",{className:this.ss("learn-live-slider")},k.default.createElement("div",{className:this.ss("title")},n),k.default.createElement("div",{className:this.ss("slider")},k.default.createElement(I.default,{items:r,itemPos:e,pageSize:a,renderItem:this.renderLearnLive})))}}]),t}(),_.propTypes={title:E.default.string,data:E.default.object,size:E.default.string,theme:E.default.string,pageSize:E.default.number},_.defaultProps={learnLives:[]},h=g))||h},function(e,t){e.exports={"recent-learn-live":"recent-learn-live_3YGIckCy",header:"header_mKhoLLM4",title:"title_9Z_g9UFP",des:"des_azZvdlFM",operate:"operate_2wsu1DZm","learn-live-section":"learn-live-section_3IPuL2md",hint:"hint_2fxE_p33","a-link":"a-link_1qqEfddO","learn-live-slider":"learn-live-slider_3tmhrPbz",slider:"slider_26lUT0xb","learn-live-wrapper":"learn-live-wrapper_1JyjzGsv",mask:"mask_kFY-HTlB"}},function(e,t){e.exports={detail_tab_live_title:"detail_tab_live_title_3yTy",detail_tab_live_des:"detail_tab_live_des_3Pq2",button_get_help:"button_get_help_HQ4f",upcoming_live_session:"upcoming_live_session_2yty",previous_recorded:"previous_recorded_zFai",see_all_live_session:"see_all_live_session_QRNW"}},function(e,t){e.exports={center:"center_2vC8zhN3",detail:"detail_3rBFonKq","tab-container":"tab-container_2ga6ixSd","left-column":"left-column_1GmmpXrG","right-column":"right-column_2GtBEEUa",forEducators:"forEducators_10FjcwDE",pathway:"pathway_38zD7Of4",list:"list_1Xyw9z_3",item:"item_2RRGjCP8","pathway-map":"pathway-map_inSKd2gO","selected-mission":"selected-mission_GlBU7TJE","learning-map-container":"learning-map-container_d1oXASYP","pathway-record-info":"pathway-record-info_2xcjp8bn",zoom:"zoom_1N4b38HD","learning-map-item":"learning-map-item_1_K386Go",mini:"mini_1HKB-lgd","item-img":"item-img_2fQWQjiG",selected:"selected_21GA6Omd","item-title":"item-title_2LFWGPxM",earned:"earned_1el3VMRa",completed:"completed_22HNUuKf","user-progress":"user-progress_20J8X-i1",avatar:"avatar_3Gy8P1bt","avatar-name":"avatar-name_2LYJf8xk","start-here":"start-here_2qXFnzCE","arrow-icon":"arrow-icon_2sLdH0P_","item-right":"item-right_m9ILbPvg","mission-card":"mission-card_1oJwJHP5","card-head":"card-head_3rKhdzmu","head-img":"head-img_1dn46sfn","head-right":"head-right_3jTX6t-k","mission-title":"mission-title_1TUFXGNA","card-content":"card-content_13IUizJ3","what-will-learn":"what-will-learn_2fyt70k7","competencies-wrapper":"competencies-wrapper_X2WMhIPl","competency-wrapper":"competency-wrapper_2cteDmaL",other:"other_2XkxpYJi","content-mask":"content-mask_1X1nby79","start-mission":"start-mission_1wWyrIAY","close-button":"close-button_27MVAvH-","competency-container":"competency-container_3sOJeWTz","competency-title":"competency-title_2s5n2vcj","title-text":"title-text_2SfkBQQQ","fold-icon":"fold-icon__l1ySwDA","extend-container":"extend-container_1JAchKIe","skill-wrapper":"skill-wrapper_3Bg1_UoC",dot:"dot_2oHs9T3o"}},function(e,t,a){e.exports=a.p+"../styles/i/learn/unity-learners-group.4694f67faa58aaed2791eaad503f87f6.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.TopBarForPathway=t.TopBarForMission=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),T=s(["common.openShareDialog"],["common.openShareDialog"]),P=s(["comment.openCommentDrawer"],["comment.openCommentDrawer"]),j=s(["learnMissionVersion"],["learnMissionVersion"]),C=n(a(2)),I=n(a(0)),N=n(a(1)),M=a(6),D=a(5),x=a(4),R=n(a(275)),L=n(a(1009)),A=n(a(25)),F=n(a(3)),K=n(a(1011)),q=n(a(7)),z=n(a(547)),B=(l=(0,M.decorator)({openShareDialog:(0,D.signal)(T),openCommentDrawer:(0,D.signal)(P)}),u=(0,F.default)(K.default),l(c=u((f=d=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleOperate=function(e){var t=(0,x.get)(e,"key"),a=(0,x.get)(e,"onClick");if(a)a();else{if("share"===t){var r=n.props.openShareDialog;r&&r()}if("comment"===t){var o=n.props.openCommentDrawer;o&&o()}"close"===t&&(0,A.default)("/")}},i=a,o(n,i)}return i(t,N.default),O(t,[{key:"renderOperateIcon",value:function(e){var t=e.key,a=e.icon;if(!a)switch(t){case"share":a="lrn_icon_share";break;case"comment":a="lrn_icon_comment";break;case"close":a="icon-close"}return I.default.createElement("div",{className:this.ss("icon ifont ifont-"+a)})}},{key:"renderOperators",value:function(){var e=this,t=this.props,a=t.options,n=t.data;if(0===a.length)return null;var r=a.map(function(t){var a=(0,x.get)(t,"key");return I.default.createElement("a",{key:"operate-item-"+a,className:e.ss("operate-item",a),onClick:function(){return e.handleOperate(t)}},e.renderOperateIcon(t))});return I.default.createElement("div",{className:this.ss("operators")},I.default.createElement(L.default,{data:n}),r)}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.theme,n=e.children;return I.default.createElement("div",{className:this.ss("top-bar-wrapper")},I.default.createElement("div",{className:this.ss("top-bar",a)},I.default.createElement("div",{className:this.ss("center","top-bar-body")},I.default.createElement("div",{className:this.ss("main")},n)),this.renderOperators()),I.default.createElement(R.default,{data:t}))}}]),t}(),d.propTypes={theme:C.default.oneOf(["default"]),children:C.default.node,options:C.default.array,data:C.default.object,openShareDialog:C.default.func,openCommentDrawer:C.default.func},d.defaultProps={theme:"default",options:[]},c=f))||c)||c);t.default=B;t.TopBarForMission=(p=(0,M.decorator)({learnMissionVersion:(0,D.state)(j)}),m=(0,F.default)(K.default),h=(0,q.default)(z.default),p(_=m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getMissionVersion=function(){var e=n.props.learnMissionVersion;return(0,x.last)(e)||null},i=a,o(n,i)}return i(t,N.default),O(t,[{key:"renderVersionInfo",value:function(){var e=this.getMissionVersion();return e?I.default.createElement("div",{className:this.ss("version")},I.default.createElement("span",{className:this.ss("label")},"Mission Version ",e.major,".",e.minor||0)):null}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,x.get)(a,"createdTime"),r=[{key:"share"},{key:"close"}];return I.default.createElement(B,{theme:t,data:a,options:r},I.default.createElement("div",{className:this.ss("mission-info")},I.default.createElement("div",{className:this.ss("date")},this.__("mission_created_time",{time:n})),this.renderVersionInfo()))}}]),t}(),g.propTypes={learnMissionVersion:C.default.array,data:C.default.object,theme:C.default.string},_=v))||_)||_)||_),t.TopBarForPathway=(y=(0,M.decorator)({openShareDialog:(0,D.signal)(T)}),b=(0,F.default)(K.default),w=(0,q.default)(z.default),y(E=b(E=w((S=k=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleShare=function(){var e=n.props.openShareDialog;e&&e()},i=a,o(n,i)}return i(t,N.default),O(t,[{key:"renderOperators",value:function(){var e=this.props.data;return I.default.createElement("div",{className:this.ss("operators")},I.default.createElement(L.default,{data:e}),I.default.createElement("a",{className:this.ss("operate-item share"),onClick:this.handleShare},I.default.createElement("div",{className:this.ss("icon ifont ifont-lrn_icon_share")})))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,x.get)(a,"createdTime");return I.default.createElement("div",{className:this.ss("top-bar-wrapper")},I.default.createElement("div",{className:this.ss("top-bar-pathway",t)},I.default.createElement("div",{className:this.ss("center","top-bar-body")},I.default.createElement("div",{className:this.ss("info")},I.default.createElement("div",{className:this.ss("date")},this.__("mission_created_time",{time:n}))),this.renderOperators())),I.default.createElement(R.default,{data:a}))}}]),t}(),k.propTypes={data:C.default.object,theme:C.default.string,openShareDialog:C.default.func},E=S))||E)||E)||E)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["breadcrumb"],["breadcrumb"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(4),y=a(5),b=a(6),w=a(8),E=n(a(3)),k=n(a(1010)),S=n(a(7)),O=n(a(547)),T=(s=(0,b.decorator)({breadcrumb:(0,y.state)(m)}),l=(0,E.default)(k.default),u=(0,S.default)(O.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.target,n=e.breadcrumb,r=(0,v.get)(t,"group"),o=(0,v.get)(n,"root");if(!o)return null;var i=(0,v.get)(t,"type"),s=(0,v.get)(o,"type"),l=(0,v.get)(o,"group"),u=!1,c=r;if(s===w.DataTypeKeys.pathway&&(c=l,u=i!==w.DataTypeKeys.pathway),!c)return null;var d=(0,v.get)(c,"url"),f=(0,v.get)(c,"name")||"";return _.default.createElement("a",{className:this.ss("group-button"),href:d,target:a},_.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon-group")}),u?this.__("Join_pathway_discussion"):this.__("unity_learn_group",{value:f}))}}]),t}(),d.propTypes={data:h.default.object,target:h.default.string,breadcrumb:h.default.object},d.defaultProps={target:"_blank"},c=f))||c)||c)||c);t.default=T},function(e,t){e.exports={"group-button":"group-button_1mEeXvgf",icon:"icon_3kn8Lfgl"}},function(e,t){e.exports={center:"center_rn4Aq5yA","top-bar":"top-bar_FNl69Npc","top-bar-body":"top-bar-body_2a1bHrAK",main:"main_3EUeLk9b",operators:"operators_3OO1naXr","operate-item":"operate-item_2n9Aii70",share:"share_1iLA-fIc",comment:"comment_cJLWS9eS",icon:"icon_1wFRm_sD",close:"close_129f611g","mission-info":"mission-info_16Io8fMk",date:"date_3SF9uuSN",version:"version_pRTiXyIW",link:"link_xqOiOKnL","top-bar-pathway":"top-bar-pathway_2PjvwfFy",info:"info_lmR_1HyJ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BriefLiveSession=t.BriefingVideoPlayer=t.BriefInfoForPathway=t.BriefInfoForMission=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),L=r(["learner.rewards"],["learner.rewards"]),A=r(["common.openBadgeOverlayDialog"],["common.openBadgeOverlayDialog"]),F=r(["common.openPlayerDialog"],["common.openPlayerDialog"]),K=n(a(2)),q=n(a(0)),z=n(a(1)),B=a(4),U=a(6),H=a(5),V=n(a(15)),G=a(44),W=a(130),Q=a(33),J=n(a(52)),Y=n(a(816)),X=n(a(41)),Z=n(a(346)),$=a(8),ee=a(9),te=n(a(3)),ae=n(a(1013)),ne=n(a(7)),re=n(a(547)),oe={default:{thumbnailWidth:168,thumbnailHeight:168},architecture:{thumbnailWidth:124,thumbnailHeight:70}},ie=(l=(0,U.decorator)({}),u=(0,te.default)(ae.default),l(c=u((f=d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,z.default),R(t,[{key:"renderLiveSession",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,W.GetLiveSessionFromContentData)(a);return"architecture"===t&&n?q.default.createElement("div",{className:this.ss("learn-live")},q.default.createElement(W.LiveSessionWidget,{data:n})):null}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=e.theme,o="architecture"===r,i=(0,B.get)(t,"badgeThumbnail.url","");o&&(i=(0,B.get)(t,"thumbnail.url"));var s=t.title,l=t.id,u=oe[r].thumbnailHeight,c=oe[r].thumbnailWidth;return q.default.createElement("div",{className:this.ss("brief","brief-"+r)},q.default.createElement("div",{className:this.ss("center","brief-body")},q.default.createElement("div",{className:this.ss("main-info")},q.default.createElement("div",{className:this.ss("main-head")},q.default.createElement("div",{className:this.ss("head")},q.default.createElement("div",{className:this.ss("thumbnail")},q.default.createElement(V.default,{src:i,sizes:c+"px",width:c,height:u}))),q.default.createElement("div",{className:this.ss("brief-info")},q.default.createElement("h1",{className:this.ss("title")},s),q.default.createElement("div",{className:this.ss("info-tags")},q.default.createElement(Q.SubTitleV2,{data:t,size:"large",showCollect:!0,disabled:n,theme:o?"dark":"gray",statsPath:a})),q.default.createElement("div",{className:this.ss("rating")},q.default.createElement(Z.default,{id:l,statsPath:a,showScore:!0})),q.default.createElement("div",{className:this.ss("author")},q.default.createElement(X.default,{data:t,theme:"dark"})))),o&&this.renderLiveSession())))}}]),t}(),d.propTypes={statsPath:K.default.string.isRequired,data:K.default.object,disabled:K.default.bool,theme:K.default.oneOf(["default","architecture"])},d.defaultProps={theme:"default"},c=f))||c)||c);t.default=ie;t.BriefInfoForMission=(p=(0,U.decorator)({rewards:(0,H.state)(L),openOverlayDialog:(0,H.signal)(A)}),m=(0,te.default)(ae.default),p(h=m((g=_=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(){var e=n.props,t=e.data,a=e.openOverlayDialog;if(t&&a){var r=(0,B.get)(t,"id");a({type:$.BadgeOverlayType.mission,id:r})}},n.getIndividualBadgeId=function(){var e=n.props.data,t=(0,B.get)(e,"badgeMap")||{},a=(0,B.find)(t,function(e){return e.badgeType===$.BadgeTypes.individual})||{};return(0,B.get)(a,"id")},n.isGetIndividualBadge=function(){var e=n.props.rewards,t=n.getIndividualBadgeId();return!!t&&(e&&e.some(function(e){return(0,B.get)(e,"earned")&&(0,B.get)(e,"itemId")===t}))},r=a,i(n,r)}return s(t,z.default),R(t,[{key:"getContentIds",value:function(){var e=[];return((0,B.get)(this.props.data,"customContents")||[]).forEach(function(t){(t.contentIds||[]).forEach(function(t){e.push((0,ee.GetIdByItemId)(t))})}),e}},{key:"renderDescription",value:function(){var e=this.props.data,t=e.description,a=e.descPlain;return a&&a.trim()?q.default.createElement("div",{className:this.ss("summary")},q.default.createElement(J.default,{theme:"normal-content-summary",editorKey:"mission-description",value:t,renderOnly:!0})):null}},{key:"renderBriefingVideo",value:function(){var e=this.props.data,t=(0,B.get)(e,"overviewVideo");return t?q.default.createElement("div",{className:this.ss("briefing-video-wrapper")},q.default.createElement(se,{videoContent:t})):null}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=e.theme,o=(0,B.get)(t,"badgeThumbnail.url",""),i=t.title,s=this.isGetIndividualBadge();return q.default.createElement("div",{className:this.ss("brief","brief-mission","brief-"+r)},q.default.createElement("div",{className:this.ss("center","brief-body")},q.default.createElement("div",{className:this.ss("main-info")},q.default.createElement("div",{className:this.ss("head")},q.default.createElement("div",{className:this.ss("thumbnail","main-thumbnail",{active:s}),onClick:this.onClick},q.default.createElement(V.default,{src:o,sizes:"168px",width:168,height:168}))),q.default.createElement("div",{className:this.ss("brief-info")},q.default.createElement("h1",{className:this.ss("title")},i),q.default.createElement("div",{className:this.ss("info-tags")},q.default.createElement(Q.SubTitleV2,{data:t,size:"large",showCollect:!0,disabled:n,theme:"gray",statsPath:a,hideDuration:!0})),q.default.createElement("div",{className:this.ss("rating")},q.default.createElement(Z.default,{ids:this.getContentIds(),showScore:!0,statsPath:a})),q.default.createElement("div",{className:this.ss("author")},q.default.createElement(X.default,{data:t,theme:"gray"})),this.renderDescription())),this.renderBriefingVideo()))}}]),t}(),_.propTypes={rewards:K.default.array,statsPath:K.default.string.isRequired,data:K.default.object,disabled:K.default.bool,theme:K.default.oneOf(["default"]),openOverlayDialog:K.default.func},_.defaultProps={theme:"default"},h=g))||h)||h),t.BriefInfoForPathway=(v=(0,U.decorator)({rewards:(0,H.state)(L),openOverlayDialog:(0,H.signal)(A)}),y=(0,te.default)(ae.default),b=(0,ne.default)(re.default),v(w=y(w=b((k=E=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.onClick=function(){var e=n.props,t=e.data,a=e.openOverlayDialog;if(t&&a){var r=(0,B.get)(t,"id");a({type:$.BadgeOverlayType.pathway,id:r})}},n.isEarnedBadge=function(){var e=n.props,t=e.rewards,a=e.data,r=(0,B.get)(a,"acclaimBadge.id");return!!r&&(t&&t.some(function(e){return(0,B.get)(e,"earned")&&(0,B.get)(e,"itemId")===r}))},r=a,i(n,r)}return s(t,z.default),R(t,[{key:"renderDescription",value:function(){var e=this.props.data.descPlain;return e&&e.trim()?q.default.createElement("div",{className:this.ss("summary")},q.default.createElement("p",null,e)):null}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.disabled,r=e.theme,o=(0,B.get)(t,"acclaimBadge.thumbnail.url",""),i=t.title,s=this.isEarnedBadge();return q.default.createElement("div",{className:this.ss("brief-pathway","brief-pathway-"+r)},q.default.createElement("div",{className:this.ss("center","brief-body")},q.default.createElement("div",{className:this.ss("brief-info")},q.default.createElement("div",{className:this.ss("thumbnail","main-thumbnail",{active:s}),onClick:this.onClick},q.default.createElement(V.default,{src:o,sizes:"165px",width:165,height:165})),q.default.createElement("div",{className:this.ss("title")},q.default.createElement("h1",null,i)),q.default.createElement("div",{className:this.ss("info-tags")},q.default.createElement(Q.SubTitleV2,{data:t,size:"large",showCollect:!0,disabled:n,theme:"gray",statsPath:a,durationTheme:"week"})),q.default.createElement("div",{className:this.ss("author")},q.default.createElement(X.default,{data:t,theme:"gray"})),this.renderDescription(),q.default.createElement("div",{className:this.ss("operate")},q.default.createElement(Y.default,{data:t})))))}}]),t}(),E.propTypes={rewards:K.default.array,statsPath:K.default.string.isRequired,data:K.default.object,disabled:K.default.bool,theme:K.default.oneOf(["default"]),openOverlayDialog:K.default.func},E.defaultProps={theme:"default"},w=k))||w)||w)||w);var se=t.BriefingVideoPlayer=(S=(0,U.decorator)({openPlayerDialog:(0,H.signal)(F)}),O=(0,te.default)(ae.default),T=(0,ne.default)(re.default),S(P=O(P=T((C=j=function(e){function t(){var e,a,n,r;o(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handlePlayer=function(){var e=n.props,t=e.videoContent,a=e.openPlayerDialog,r=e.loginRequired;t&&a&&a({videoContent:t,loginRequired:r})},r=a,i(n,r)}return s(t,z.default),R(t,[{key:"render",value:function(){var e=this,t=this.props.videoContent,a=(0,B.get)(t,"thumbnail.url");return a?q.default.createElement("div",{className:this.ss("briefing-video")},q.default.createElement("div",{className:this.ss("learn-video-preview"),onClick:function(){return e.handlePlayer()}},q.default.createElement(V.default,{src:a,width:250,height:435,sizes:"250px"}),q.default.createElement("div",{className:this.ss("play-content")},q.default.createElement("div",{className:this.ss("video-info")},q.default.createElement(G.LearnVideoPlayIcon,{size:"medium"}),q.default.createElement("span",{className:this.ss("label")},this.__("mission_briefing")))))):null}}]),t}(),j.propTypes={videoContent:K.default.object,openPlayerDialog:K.default.func,loginRequired:K.default.bool},j.defaultProps={loginRequired:!0},P=C))||P)||P)||P);t.BriefLiveSession=(I=(0,te.default)(ae.default),N=(0,ne.default)(re.default),I(M=N((x=D=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,z.default),R(t,[{key:"render",value:function(){var e=this.props,t=e.theme,a=e.data,n=(0,W.GetLiveSessionFromContentData)(a);return"architecture"===t&&n?q.default.createElement("div",{className:this.ss("brief-learn-live")},q.default.createElement(W.LiveSessionWidget,{data:n})):null}}]),t}(),D.propTypes={data:K.default.object,theme:K.default.oneOf(["default","architecture"])},D.defaultProps={},M=x))||M)||M)},function(e,t){e.exports={center:"center_2XSsGiFU",brief:"brief_3w6p9xgo","brief-body":"brief-body_1bIQx7GC","main-info":"main-info_3Vp7uxqH",thumbnail:"thumbnail_26n8z49W","main-thumbnail":"main-thumbnail_2Ii04clg","brief-info":"brief-info_3-6ciZIB",title:"title_1-ELah66","info-tags":"info-tags_2yvmDHmS",dot:"dot_3etIb2jt","collect-icon":"collect-icon_3rAVusYk",rating:"rating_2Hs1ckLV",summary:"summary_3epeXjKw",architecture:"architecture_1N2PtgGl","briefing-video-wrapper":"briefing-video-wrapper_1I3_1Pnk","briefing-video":"briefing-video_1vS66mIs","brief-architecture":"brief-architecture_31vtXR6h","learn-live":"learn-live_3ZS-PLuR","brief-mission":"brief-mission_DpSLeTei",active:"active_1P7NdtMD","brief-pathway":"brief-pathway_2hhkJZ28",operate:"operate_2eX_zBHO","learn-video-preview":"learn-video-preview_2L8rv457","play-content":"play-content_2nJAQSLh","video-info":"video-info__cuNUdnY",label:"label_2RxNK3Rc","brief-learn-live":"brief-learn-live_zsal951N"}},function(e,t){e.exports={text:"text_3ETnP5tr",head:"head_310s8KPE",architecture:"architecture_1N4cXN3M",dialog:"dialog_3iP992W6",brief:"brief_32xpOf5O",detail:"detail_g6-0oKTS","head-pathway":"head-pathway_2uJGuwnQ"}},function(e,t){e.exports={"summary-continue":"summary-continue_LNoxHV3R","continue-title":"continue-title_1Svj1Jaf",next:"next_2hpWbZbn","count-down":"count-down_3kvMCmuC","content-wrap":"content-wrap_r-t48Fe6","item-row-wrap":"item-row-wrap_1BnrqLUB","item-row":"item-row_3wZI7-6U","row-img":"row-img_3hhoBNmx","row-content":"row-content_2sWrgfYv","item-title":"item-title___MYEZaT","button-wrap":"button-wrap_eh6pK8yX",alink:"alink_1lVldpAo"}},function(e,t){e.exports={continue:"continue_3Q2K",continue_summary_project:"continue_summary_project_14by",continue_summary_course:"continue_summary_course_1rcc",continue_summary_mission:"continue_summary_mission_2iqm",continue_summary_pathway:"continue_summary_pathway_zpGl",thanks_for_feedback:"thanks_for_feedback_9laT",count_down_secons:"count_down_secons_3dPF",next_tutorial:"next_tutorial_248B",next_quiz:"next_quiz_24dA"}},function(e,t){e.exports={container:"container_1AyBzlLJ",close:"close_3stA6Yw5","button-close":"button-close_2R394vlg",icon:"icon_2UZSeHWU","content-block":"content-block_28VEnSHB","title-wrap":"title-wrap_2YlM9of6",title:"title_2rDhcdrM","dialog-title":"dialog-title_1mxP3ok3","checkpoint-title":"checkpoint-title_3HHrio6W","progress-wrap":"progress-wrap_2X47E9Ze","progress-tip":"progress-tip_3KrZD379","complete-tip":"complete-tip_wVoyLbo5",percent:"percent_Yy3FEyIR",progress:"progress_1SnVzSlp","progress-complete":"progress-complete_11qdmGA5","button-wrap":"button-wrap_3fnS76zz","status-wrap":"status-wrap_1z4LZ0l1","status-list":"status-list_3xAWZhND","status-line":"status-line_2aCXDFdd","line-total":"line-total_h6EJ7cof","completion-wrap":"completion-wrap_3dKJ4wtJ","reward-wrap":"reward-wrap_A0KA0Anj",label:"label_2vtKcMXF",unlock:"unlock_kLSeKigG",description:"description_2QUa7NQS","reward-title":"reward-title_3OCE6Dtx","reward-description":"reward-description_2lAqTOTT","badge-wrap":"badge-wrap_2XEtH7Wf","asset-wrap":"asset-wrap_2aq8oJ7c","asset-note":"asset-note_-yLsrMeA","completion-item":"completion-item_3JeXHe8s","item-wrap":"item-wrap_cJxTXFnn","link-wrap":"link-wrap_UBxWUf7f","link-title":"link-title_bAt0J8mZ","link-retake":"link-retake_2fVhdAaW","link-submission":"link-submission_3eCafOLi","link-status":"link-status_3WMCNbn9",dot:"dot_p9jZ-gLx","completion-status":"completion-status_3MXmvLXQ","completion-info":"completion-info_1xHhUcYq","completion-detail":"completion-detail_6S-iW63X","completion-icon":"completion-icon_1Tt-R-7d",completed:"completed_NNNx_ZIP",failed:"failed_YwgTeMux","completion-title":"completion-title_PPAjFD3I","completion-optional":"completion-optional_2PMOzjQf","quiz-attempted":"quiz-attempted_3FAiVo9i","quiz-answer":"quiz-answer_3kAh4YSJ","completion-retake":"completion-retake_1dqOmjk9","quiz-review":"quiz-review_33JzUcXW","item-row-wrap":"item-row-wrap_2HmzX33F","item-row":"item-row_1bBcoP4N","row-img":"row-img_2ksZCg4a","row-content":"row-content_1YsxUyjO","item-title":"item-title_2l61KF1m",alink:"alink_3QJkIFkR"}},function(e,t){e.exports={mission_checkpoint_title:"mission_checkpoint_title_3ZE9",mission_summary_title:"mission_summary_title_2dLO",pathway_checkpoint_title:"pathway_checkpoint_title_aoap",pathway_summary_title:"pathway_summary_title_9lmQ",checkpoint_completion_title:"checkpoint_completion_title_o-U2",checkpoint_completed_title:"checkpoint_completed_title_1D3U",checkpoint_states_title:"checkpoint_states_title_PnXF",total_tutorial_completed:"total_tutorial_completed_qLcx",total_exercise_completed:"total_exercise_completed_25kv",total_quiz_completed:"total_quiz_completed_2Ix5",total_project_completed:"total_project_completed_3gmV",total_course_completed:"total_course_completed_m2tW",total_mission_completed:"total_mission_completed_lGwf",total_mission_duration:"total_mission_duration_e684",total_badge_earned:"total_badge_earned_CM8M",total_xp_earned:"total_xp_earned_2MxL",total_days:"total_days_1fBA",reward_title:"reward_title_2sXP",reward_unlock_title:"reward_unlock_title_3Ee-",reward_description:"reward_description_YBSz",reward_badge_title:"reward_badge_title_1oyQ",reward_unlock_badge_title:"reward_unlock_badge_title_22Sn",reward_badge_description:"reward_badge_description_2OXn",reward_asset_title:"reward_asset_title_2wuB",reward_unlock_asset_title:"reward_unlock_asset_title_34A6",reward_asset_description:"reward_asset_description_1LqZ",checkpoint_start_button:"checkpoint_start_button_Hi8H",checkpoint_start_continue_button:"checkpoint_start_continue_button_3le9",checkpoint_done_button:"checkpoint_done_button_2EtZ",checkpoint_continue_button:"checkpoint_continue_button_2MyA",checkpoint_choose_button:"checkpoint_choose_button_2YMB",checkpoint_see_button:"checkpoint_see_button_3dzj",checkpoint_next_button:"checkpoint_next_button_3r2A",checkpoint_require_quiz:"checkpoint_require_quiz_1fvI",checkpoint_require_tutorial:"checkpoint_require_tutorial_g6LS",checkpoint_complete_percent:"checkpoint_complete_percent_309i",completion_optional:"completion_optional_2eil",quiz_completed:"quiz_completed_15Fk",quiz_attempt:"quiz_attempt_1dTg",quiz_review:"quiz_review_1Ogt",retake_quiz:"retake_quiz_1jfw",tutorial_completed:"tutorial_completed_1ZWS",retake_min:"retake_min_3cat",retake_sec:"retake_sec_3vF9"}},,,,,,,function(e,t){e.exports={"body-wrap":"body-wrap_EVe_uHfH","quiz-option":"quiz-option_3vqjzjYt","render-only":"render-only_1Ju2DYiU"}},,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DefaultLearnerDetailLayoutOnly=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["header.setWindowSize"],["header.setWindowSize"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=n(a(126)),w=n(a(188)),E=n(a(30)),k=n(a(988)),S=n(a(189)),O=n(a(219)),T=n(a(76)),P=n(a(3)),j=n(a(167)),C=t.DefaultLearnerDetailLayoutOnly=(s=(0,P.default)(j.default))((c=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"componentDidMount",value:function(){this.props.setWindowSize()}},{key:"scrollTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refs.scroller&&this.refs.scroller.scrollTo(e,t)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.onScroll,n=e.onScrollEnd,r=(0,T.default)(this.props,"children","setWindowSize");return _.default.createElement("div",{id:"pageContent"},_.default.createElement(E.default,{ref:"scroller",onScroll:a,onScrollEnd:n},_.default.createElement("div",{className:this.ss("top-bar-layout")},_.default.createElement(k.default,null)),_.default.createElement(w.default,null),_.default.createElement("div",{id:"pageBody",className:this.ss("default-layout")},_.default.createElement(b.default,r),t)),_.default.createElement(S.default,null),_.default.createElement(O.default,null))}}]),t}(),u.propTypes={children:h.default.node,setWindowSize:h.default.func,onScroll:h.default.func,onScrollEnd:h.default.func},l=c))||l,I=(d=(0,v.decorator)({setWindowSize:(0,y.signal)(m)}))(f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,C),t}())||f;t.default=I},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.JumpSubmission=t.QuizRetakeTime=t.StatusDot=t.OutlineSide=t.SideBar=t.ExpandedStepsChild=t.ExpandedStep=t.ItemBald=t.ContentList=t.PathwayContent=t.BreadcrumbCheckpoint=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b,w,E,k,S,O,T,P,j,C,I,N,M,D,x,R,L,A,F,K,q,z,B,U,H,V,G,W,Q,J,Y,X,Z,$,ee,te,ae,ne,re,oe,ie,se,le,ue,ce,de,fe,pe,me,he,_e,ge,ve,ye,be,we,Ee,ke,Se,Oe=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),Te=s(["common.uv"],["common.uv"]),Pe=s(["breadcrumb"],["breadcrumb"]),je=s(["learner.recordMap"],["learner.recordMap"]),Ce=s(["learner.parentIds"],["learner.parentIds"]),Ie=s(["checkpointRequired"],["checkpointRequired"]),Ne=s(["checkpoint.missionCheckpoint"],["checkpoint.missionCheckpoint"]),Me=s(["common.openCheckpointDialog"],["common.openCheckpointDialog"]),De=s(["common.openCheckpointSummary"],["common.openCheckpointSummary"]),xe=s(["checkpoint.pathwayCheckpoint"],["checkpoint.pathwayCheckpoint"]),Re=s(["breadcrumb.nextMissions"],["breadcrumb.nextMissions"]),Le=s(["quizData"],["quizData"]),Ae=s(["learner.quizMap"],["learner.quizMap"]),Fe=s(["learner.parentIds.contentId"],["learner.parentIds.contentId"]),Ke=s(["breadcrumb.root"],["breadcrumb.root"]),qe=s(["breadcrumb.current"],["breadcrumb.current"]),ze=s(["locale"],["locale"]),Be=s(["currentHost"],["currentHost"]),Ue=s(["breadcrumb.selectedIds"],["breadcrumb.selectedIds"]),He=s(["learner.recordMap.",""],["learner.recordMap.",""]),Ve=s(["data.id"],["data.id"]),Ge=s(["option.unityVersionId"],["option.unityVersionId"]),We=s(["learner.setQuizRecord"],["learner.setQuizRecord"]),Qe=n(a(2)),Je=n(a(0)),Ye=n(a(20)),Xe=n(a(1)),Ze=a(6),$e=a(5),et=a(4),tt=n(a(15)),at=n(a(19)),nt=a(9),rt=a(8),ot=n(a(25)),it=n(a(38)),st=n(a(3)),lt=n(a(1043)),ut=n(a(7)),ct=n(a(1044)),dt=(l=(0,Ze.decorator)({uv:(0,$e.state)(Te),breadcrumb:(0,$e.state)(Pe),record:(0,$e.state)(je),parentIds:(0,$e.state)(Ce),checkpointRequired:(0,$e.state)(Ie),missionCheckpoint:(0,$e.state)(Ne),openCheckpointDialog:(0,$e.signal)(Me),openCheckpointSummary:(0,$e.signal)(De)}),u=(0,st.default)(lt.default),c=(0,ut.default)(ct.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onOpenCheckpointDialog=function(e,t){var a=n.props,r=a.openCheckpointDialog,o=a.openCheckpointSummary,i=a.missionCheckpoint,s=a.record,l=(0,et.get)(s,""+e.id);t?o&&o({record:l,isMode:!0}):r&&r({data:i})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"renderSection",value:function(e,t){var a=this.props,n=a.scrollToStep,r=a.uv,o=a.contentData,i=a.scrollToGallery,s=(0,et.get)(e,"type"),l=(0,et.get)(e,"subNodes")||[];switch(s){case rt.DataTypeKeys.pathway:return Je.default.createElement(pt,{data:l,scrollToStep:n,uv:r,expanded:t,contentData:o,scrollToGallery:i,root:e});case rt.DataTypeKeys.mission:return Je.default.createElement("div",{className:this.ss("special-content")},Je.default.createElement("div",{id:this.ss("mission-checkpoint-specify")},Je.default.createElement(mt,{data:l,scrollToStep:n,uv:r,expanded:t,contentData:o,scrollToGallery:i})),this.renderMissionCheckPoint(t,e));case rt.DataTypeKeys.project:case rt.DataTypeKeys.course:return Je.default.createElement(mt,{data:l,scrollToStep:n,uv:r,expanded:t,contentData:o,scrollToGallery:i});case rt.DataTypeKeys.tutorial:return t&&Je.default.createElement("div",{className:this.ss("content-steps")},Je.default.createElement("span",null,this.__("steps")),Je.default.createElement(bt,{data:e,scrollToStep:n,uv:r,expanded:t,contentData:o,scrollToGallery:i}));case rt.DataTypeKeys.quiz:return t&&Je.default.createElement("div",{className:this.ss("content-steps")},Je.default.createElement("span",null,this.__("questions")),Je.default.createElement(bt,{data:e,uv:r,expanded:t,contentData:o,scrollToStep:n}));default:return null}}},{key:"renderMissionCheckPoint",value:function(e,t){var a=this,n=this.props.record,r=(0,et.get)(t,"status.completed"),o=(0,et.get)(t,"id"),i=!1;return n[o]&&(i=!!n[o].lastCompletedTime),Je.default.createElement("div",{className:this.ss("checkpoint-mission"),onClick:function(){return a.onOpenCheckpointDialog(t,r)}},Je.default.createElement("div",{className:this.ss("check-points")},Je.default.createElement("div",{className:this.ss("icon checkpoint ifont ifont-icon-location")})),e&&Je.default.createElement("div",{className:this.ss("point")},this.__("mission_"+(i?"summary":"checkpoint"))))}},{key:"render",value:function(){var e=this.props,t=e.breadcrumb,a=e.uv,n=e.contentData,r=e.expanded,o=e.checkpointRequired,i=e.parentIds,s=e.active,l=e.scrollToStep,u=e.scrollToGallery,c=(0,et.get)(t,"root");if(!c)return null;if(o){var d=(0,et.get)(i,"missionId");d&&((0,et.get)(c,"subNodes")||[]).forEach(function(e){e.id===d&&(c=e)})}return Je.default.createElement("div",{className:this.ss("learn-side-wrapper",s&&"show")},Je.default.createElement("div",{className:this.ss("side-wrap")},Je.default.createElement(vt,{data:c,expanded:!r,uv:a,contentData:n}),Je.default.createElement("div",{className:this.ss("scroller-learn-side")},o?Je.default.createElement(ft,{data:c,expanded:!r,contentData:n,scrollToStep:l,scrollToGallery:u}):this.renderSection(c,!r))))}}]),t}(),f.propTypes={uv:Qe.default.string,record:Qe.default.object,active:Qe.default.bool,expanded:Qe.default.bool,parentIds:Qe.default.object,breadcrumb:Qe.default.object,contentData:Qe.default.object,checkpointRequired:Qe.default.bool,missionCheckpoint:Qe.default.object,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func,openCheckpointDialog:Qe.default.func,openCheckpointSummary:Qe.default.func},d=p))||d)||d)||d);t.default=dt;var ft=t.BreadcrumbCheckpoint=(m=(0,Ze.decorator)({parentIds:(0,$e.state)(Ce),missionCheckpoint:(0,$e.state)(Ne),pathwayCheckpoint:(0,$e.state)(xe),openCheckpointDialog:(0,$e.signal)(Me)}),h=(0,st.default)(lt.default),_=(0,ut.default)(ct.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleSkipCheckpoint=function(e){var t=n.props,a=t.openCheckpointDialog,r=t.pathwayCheckpoint,o=t.missionCheckpoint,i=(0,et.get)(e,"type")===rt.DataTypeKeys.mission?o:r;a&&a({data:i})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"renderCheckPoint",value:function(e){var t=this,a=this.props.data,n=(0,et.get)(a,"type");return Je.default.createElement("div",{className:this.ss("flutter-checkpoint","flutter-checkpoint-child"),onClick:function(){return t.handleSkipCheckpoint(a)}},Je.default.createElement("div",{className:this.ss("check-point")},Je.default.createElement("div",{className:this.ss("icon checkpoint ifont ifont-icon-location")}),Je.default.createElement("span",{className:this.ss("title-line-dot")})),e&&Je.default.createElement("div",{className:this.ss("point")},this.__(n+"_checkpoint")))}},{key:"renderCheckPointNode",value:function(e){var t=this.props,a=t.data,n=t.uv,r=t.contentData,o=t.scrollToStep,i=t.scrollToGallery,s=(0,et.get)(a,"checkpointMap")||{},l=[];return((0,et.get)(a,"checkpointIds")||[]).forEach(function(e){var t=s[e];t&&t.groupNodes&&(l=l.concat(t.groupNodes))}),Je.default.createElement("div",{className:this.ss("flutter-point-node")},Je.default.createElement(mt,{data:l,scrollToStep:o,uv:n,expanded:e,contentData:r,labelRequired:!0,scrollToGallery:i}))}},{key:"render",value:function(){var e=this.props.expanded;return Je.default.createElement("div",{className:this.ss("flutter-content-wrapper")},this.renderCheckPoint(e),this.renderCheckPointNode(e))}}]),t}(),v.propTypes={uv:Qe.default.string,data:Qe.default.object,expanded:Qe.default.bool,parentIds:Qe.default.object,contentData:Qe.default.object,missionCheckpoint:Qe.default.object,pathwayCheckpoint:Qe.default.object,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func,openCheckpointDialog:Qe.default.func},g=y))||g)||g)||g),pt=t.PathwayContent=(b=(0,Ze.decorator)({record:(0,$e.state)(je),parentIds:(0,$e.state)(Ce),nextMissions:(0,$e.state)(Re),missionCheckpoint:(0,$e.state)(Ne),pathwayCheckpoint:(0,$e.state)(xe),openCheckpointDialog:(0,$e.signal)(Me),openCheckpointSummary:(0,$e.signal)(De)}),w=(0,st.default)(lt.default),E=(0,ut.default)(ct.default),b(k=w(k=E((O=S=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleSkipCheckpoint=function(e,t){var a=n.props,r=a.openCheckpointDialog,o=a.openCheckpointSummary,i=a.missionCheckpoint,s=a.pathwayCheckpoint,l=a.record,u=(0,et.get)(e,"type"),c=(0,et.get)(l,""+e.id),d=void 0;u===rt.DataTypeKeys.mission&&(d=i),u===rt.DataTypeKeys.pathway&&(d=s),t?o&&o({record:c,isMode:!0}):r&&r({data:d})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){var t=Ye.default.findDOMNode(e.refs.subCanvasWrapper),a=t.getBoundingClientRect(),n=a.width,r=a.height;e.canvas=document.createElement("canvas"),e.canvas.width=n,e.canvas.height=r,t.appendChild(e.canvas),e.updateCanvas()},0)}},{key:"updateCanvas",value:function(){var e=this;if(this.canvas){var t=this.props.data||[],a=Ye.default.findDOMNode(this.refs.subLastLine),n={x:a.offsetLeft+.5*a.clientWidth,y:a.clientHeight},r=[];t.forEach(function(t){var a=Ye.default.findDOMNode(e.refs[t.id]);if(a){var n=a.offsetTop,o=a.offsetLeft,i=a.clientHeight;r.push({x:o+37,y:n+.5*i})}});var o=this.canvas.getContext("2d");o.clearRect(0,0,this.canvas.width,this.canvas.height),o.lineWidth=2.5,o.lineCap="round",o.strokeStyle="#cccccc",o.setLineDash([0,4]),o.beginPath(),r.forEach(function(e){var t=e.x-n.x;o.moveTo(n.x,n.y),o.bezierCurveTo(n.x+.5*t,n.y,e.x-.5*t,e.y,e.x,e.y)}),o.stroke()}}},{key:"renderSubNodesBefore",value:function(e){var t=this.props,a=t.data,n=t.uv,r=t.contentData,o=t.scrollToStep,i=t.parentIds,s=t.scrollToGallery,l=(0,et.get)(i,"missionId")||(0,et.get)(r,"id"),u=[];return(a||[]).forEach(function(t,a){t.id===l&&u.push(Je.default.createElement(mt,{key:a,data:[t],scrollToStep:o,uv:n,expanded:e,contentData:r,scrollToGallery:s}))}),Je.default.createElement("div",{className:this.ss("sub-nodes-before")},u)}},{key:"renderMissionCheckPoint",value:function(e){var t=this,a=this.props,n=a.data,r=a.parentIds,o=a.contentData,i=(0,et.get)(r,"missionId")||(0,et.get)(o,"id"),s=void 0,l=void 0;return(n||[]).forEach(function(e){e.id===i&&(s=(0,et.get)(e,"status.lastCompleted"),l=e)}),Je.default.createElement("div",{className:this.ss("checkpoint-item"),onClick:function(){return t.handleSkipCheckpoint(l,s)}},Je.default.createElement("div",{className:this.ss("check-point")},Je.default.createElement("div",{className:this.ss("icon checkpoint ifont ifont-icon-location")})),e&&Je.default.createElement("div",{className:this.ss("point")},this.__("mission_"+(s?"summary":"checkpoint"))))}},{key:"renderPathwayCheckPoint",value:function(e){var t=this,a=this.props.root,n=(0,et.get)(a,"checkpointMap")||{},r=((0,et.get)(a,"subNodes")||[]).every(function(e){return(0,et.get)(e,"status.lastCompleted")});return Object.keys(n).length>0||r?Je.default.createElement("div",{className:this.ss("checkpoint-item","pathway-checkpoint"),onClick:function(){return t.handleSkipCheckpoint(a,r)}},Je.default.createElement("div",{className:this.ss("pathway-checkpoint-line")}),Je.default.createElement("div",{className:this.ss("check-point")},Je.default.createElement("div",{className:this.ss("icon checkpoint ifont ifont-icon-location")})),e&&Je.default.createElement("div",{className:this.ss("point")},this.__("pathway_"+(r?"summary":"checkpoint")))):null}},{key:"renderSubNodesAfter",value:function(e){var t=this,a=this.props,n=a.data,r=a.uv,o=a.contentData,i=a.nextMissions;if(!i)return this.renderPathwayCheckPoint(e);var s=[];(n||[]).forEach(function(a,n){i.some(function(e){return e.id===a.id})&&s.push(Je.default.createElement("div",{key:n,ref:a.id,className:t.ss("sub-learn-side")},Je.default.createElement("div",{className:t.ss("sub-curves")}),Je.default.createElement(vt,{data:a,expanded:e,theme:"transparent",uv:r,contentData:o})))});var l=!e||1===s.length;return Je.default.createElement("div",{className:this.ss("sub-nodes-after",l&&"sub-collapse")},Je.default.createElement("div",{ref:"subCanvasWrapper",className:this.ss("sub-canvas",!e&&"sub-collapse-canvas")}),Je.default.createElement("div",{ref:"subLastLine",className:this.ss("sub-last-line",l&&"sub-no-line")}),Je.default.createElement("div",{className:this.ss("sub-content")},s))}},{key:"render",value:function(){var e=this.props.expanded;return Je.default.createElement("div",{className:this.ss("pathway-content-wrapper")},this.renderSubNodesBefore(e),this.renderMissionCheckPoint(e),this.renderSubNodesAfter(e))}}]),t}(),S.propTypes={uv:Qe.default.string,data:Qe.default.array,root:Qe.default.object,expanded:Qe.default.bool,record:Qe.default.object,parentIds:Qe.default.object,nextMissions:Qe.default.array,contentData:Qe.default.object,missionCheckpoint:Qe.default.object,pathwayCheckpoint:Qe.default.object,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func,openCheckpointDialog:Qe.default.func,openCheckpointSummary:Qe.default.func},k=O))||k)||k)||k),mt=t.ContentList=(T=(0,Ze.decorator)({quizData:(0,$e.state)(Le),quizMap:(0,$e.state)(Ae),record:(0,$e.state)(je),contentId:(0,$e.state)(Fe)}),P=(0,st.default)(lt.default),j=(0,ut.default)(ct.default),T(C=P(C=j((N=I=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Xe.default),Oe(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.expanded,n=e.scrollToStep,r=e.record,o=e.uv,i=e.contentData,s=e.scrollToGallery,l=e.contentId,u=e.labelRequired,c=[];return t.forEach(function(e,t){var d=(0,et.get)(e,"type");!e||e.groupId!==l&&e.groupId||c.push(Je.default.createElement(ht,{key:t,item:e,index:t,data:c,expanded:a,scrollToStep:n,uv:o,record:r,contentData:i,labelRequired:u,scrollToGallery:s,itemType:d}))}),Je.default.createElement("div",{className:this.ss("content-list")},c)}}]),t}(),I.propTypes={data:Qe.default.array,contentData:Qe.default.object,uv:Qe.default.string,expanded:Qe.default.bool,record:Qe.default.object,contentId:Qe.default.string,labelRequired:Qe.default.bool,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},C=N))||C)||C)||C),ht=t.ItemBald=(M=(0,Ze.decorator)({root:(0,$e.state)(Ke),current:(0,$e.state)(qe),parentIds:(0,$e.state)(Ce)}),D=(0,st.default)(lt.default),x=(0,ut.default)(ct.default),M(R=D(R=x((A=L=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={active:n.props.item.active},n.handleToggleActive=function(e){n.setState({active:e})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.item,a=e.current,n=e.contentData,r=e.root;if(!a)return null;var o=(0,et.get)(a,"navIds")||[],i=(0,et.get)(t,"navIds")||[],s=(0,et.get)(t,"type"),l=(0,et.get)(r,"id")===(0,et.get)(n,"id"),u=void 0;return i.length===o.length&&(u=(0,et.isEqual)(i,o)),s!==rt.DataTypeKeys.project&&s!==rt.DataTypeKeys.course||(u=!!(0,et.get)(t,"active")&&!l),s===rt.DataTypeKeys.mission&&(u=!0),this.handleToggleActive(u)}},{key:"renderToggleExpand",value:function(e,t){var a=this.props,n=a.scrollToStep,r=a.expanded,o=a.uv,i=a.contentData,s=a.scrollToGallery,l=a.itemType,u=e.map(function(a,u){var c=(0,et.get)(a,"status.completed");return Je.default.createElement(_t,{key:u,index:u,item:a,completed:c,scrollToStep:n,expanded:r,uv:o,contentData:i,scrollToGallery:s,data:e,isLineDot:t,itemType:l})});return Je.default.createElement("div",{className:this.ss("toggle-wrap")},u)}},{key:"renderContent",value:function(e,t){var a=this.props,n=a.scrollToStep,r=a.expanded,o=a.uv,i=a.contentData,s=a.scrollToGallery,l=(0,et.get)(e,"type"),u=(0,et.get)(e,"subNodes")||[];switch(l){case rt.DataTypeKeys.mission:return Je.default.createElement("div",{id:this.ss("next-content-list")},Je.default.createElement(mt,{data:u,scrollToStep:n,uv:o,expanded:r,contentData:i,scrollToGallery:s}));case rt.DataTypeKeys.course:case rt.DataTypeKeys.project:return this.renderToggleExpand(u,t);case rt.DataTypeKeys.tutorial:case rt.DataTypeKeys.quiz:return Je.default.createElement(bt,{data:e,scrollToStep:n,uv:o,expanded:r,isLineDot:t,contentData:i,scrollToGallery:s});default:return null}}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.expanded,n=e.index,r=e.uv,o=e.contentData,i=e.parentIds,s=e.data,l=e.scrollToGallery,u=e.scrollToStep,c=e.labelRequired,d=(0,et.get)(t,"type"),f=d===rt.DataTypeKeys.mission,p=d===rt.DataTypeKeys.tutorial||d===rt.DataTypeKeys.quiz,m=d===rt.DataTypeKeys.project||d===rt.DataTypeKeys.course,h=((0,et.get)(o,"type")===rt.DataTypeKeys.mission||(0,et.get)(i,"pathwayId"))&&!a&&!m,_=this.state.active,g=(s||[]).length-1===n&&!!_,v=(0,et.get)(i,"missionId")===(0,et.get)(o,"id"),y=f&&!v,b=p&&g&&!a;return Je.default.createElement("div",{key:n,className:this.ss("content-item",g&&"content-drawer",p&&!_&&"drawer",m&&!_&&"belong-drawer")},Je.default.createElement("span",{className:this.ss("title-line-dot",(b||y)&&"title-dots",(s||[]).length-1===n&&!v&&"last-line-dots")}),Je.default.createElement("span",{className:this.ss("content-side")},Je.default.createElement(vt,{data:t,expanded:a,theme:"transparent",uv:r,contentData:o,scrollToGallery:l,scrollToStep:u,labelRequired:c})),!!_&&Je.default.createElement("div",{className:this.ss("content-item-list",(h||y)&&"list",p&&"list-draw")},this.renderContent(t,y)))}}]),t}(),L.propTypes={uv:Qe.default.string,data:Qe.default.array,root:Qe.default.object,item:Qe.default.object,index:Qe.default.number,expanded:Qe.default.bool,current:Qe.default.object,itemType:Qe.default.string,parentIds:Qe.default.object,contentData:Qe.default.object,labelRequired:Qe.default.bool,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},R=A))||R)||R)||R),_t=t.ExpandedStep=(F=(0,Ze.decorator)({locale:(0,$e.state)(ze),root:(0,$e.state)(Ke),currentHost:(0,$e.state)(Be),current:(0,$e.state)(qe),selectedIds:(0,$e.state)(Ue)}),K=(0,st.default)(lt.default),q=(0,ut.default)(ct.default),F(z=K(z=q((U=B=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={active:n.props.item.active},n.handleToggleActive=function(e){n.setState({active:e})},n.handleAssignHref=function(e){var t=n.props,a=t.item,r=t.locale,o=t.uv,i=t.currentHost,s=(0,et.get)(a,"navIds"),l=(0,at.default)((0,nt.GetUrlByNavIds)(s,(0,nt.GetDetailPageURL)(a,r,o)),i);e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)?(0,it.default)(l):(0,ot.default)(l)},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.current,a=e.item,n=e.selectedIds;if(!t)return null;var r=(0,et.get)(t,"navIds")||[],o=(0,et.get)(a,"navIds")||[],i=(0,et.get)(a,"type"),s=n.some(function(e){return(0,nt.GetTypeByItemId)(e)===rt.DataTypeKeys.project}),l=void 0;return o.length===r.length&&(l=(0,et.isEqual)(o,r)),i===rt.DataTypeKeys.project&&(l=!!(0,et.get)(a,"active")&&s),this.handleToggleActive(l)}},{key:"renderToggleContents",value:function(){var e=this,t=this.props,a=t.item,n=t.expanded,r=t.scrollToStep,o=t.uv,i=t.contentData,s=t.scrollToGallery,l=this.state.active,u=(0,et.get)(a,"subNodes")||[];return(0,et.get)(a,"type")===rt.DataTypeKeys.project&&l?u.map(function(t,a){var l=(0,et.get)(t,"status.completed");return Je.default.createElement("div",{className:e.ss("toggle-contents"),key:a},Je.default.createElement("div",{className:e.ss("toggle-line-dot")}),Je.default.createElement(gt,{index:a,item:t,completed:l,uv:o,expanded:n,scrollToStep:r,contentData:i,scrollToGallery:s}))}):Je.default.createElement("div",{className:this.ss("toggle-item-cont")},!!l&&Je.default.createElement(bt,{data:a,scrollToStep:r,uv:o,expanded:n,contentData:i}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.expanded,r=t.index,o=t.completed,i=t.contentData,s=t.root,l=t.data,u=t.isLineDot,c=t.itemType,d=(0,et.get)(s,"id")===(0,et.get)(i,"id"),f=(0,et.get)(a,"active")&&!d,p=(0,et.get)(a,"type")===rt.DataTypeKeys.project,m=c===rt.DataTypeKeys.course,h=(l||[]).length-1===r;return Je.default.createElement("div",{key:r,className:this.ss("toggle-item","toggle-item-row")},h&&u&&Je.default.createElement("div",{className:this.ss("toggle-row-line")}),Je.default.createElement("a",{className:this.ss("toggle-item-list")},Je.default.createElement("div",{className:this.ss("toggle-dot",o&&"completed",!n&&"expanded-dot",m&&"info-big")}),n&&Je.default.createElement("div",{className:this.ss("toggle-title",f&&"active"),onClick:function(t){return e.handleAssignHref(t)}},Je.default.createElement("span",null,this.__("type_"+(0,et.get)(a,"type"))),Je.default.createElement("span",{className:this.ss("title-dot")}),Je.default.createElement("span",null,this.__((0,et.get)(a,"title"))),Je.default.createElement(Et,{quizData:a}))),n&&Je.default.createElement("div",{className:this.ss("toggle-info",p&&"toggle-large-content")},this.renderToggleContents()))}}]),t}(),B.propTypes={uv:Qe.default.string,data:Qe.default.array,item:Qe.default.object,root:Qe.default.object,index:Qe.default.number,expanded:Qe.default.bool,locale:Qe.default.string,current:Qe.default.object,completed:Qe.default.bool,isLineDot:Qe.default.bool,itemType:Qe.default.string,selectedIds:Qe.default.array,contentData:Qe.default.object,currentHost:Qe.default.string,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},z=U))||z)||z)||z),gt=t.ExpandedStepsChild=(H=(0,Ze.decorator)({locale:(0,$e.state)(ze),root:(0,$e.state)(Ke),currentHost:(0,$e.state)(Be),current:(0,$e.state)(qe)}),V=(0,st.default)(lt.default),G=(0,ut.default)(ct.default),H(W=V(W=G((J=Q=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={active:n.props.item.active},n.onSpecifyPage=function(e){var t=n.props,a=t.item,r=t.locale,o=t.uv,i=t.currentHost,s=(0,et.get)(a,"navIds"),l=(0,nt.GetDetailPageURL)(a,r,o),u=(0,at.default)((0,nt.GetUrlByNavIds)(s,l),i);e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)?(0,it.default)(u):(0,ot.default)(u)},n.handleToggleActive=function(e){var t=n.props.item,a=(0,et.get)(t,"type");a!==rt.DataTypeKeys.tutorial&&a!==rt.DataTypeKeys.quiz||n.setState({active:e})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.current,a=e.item;if(!t)return null;var n=(0,et.get)(t,"navIds")||[],r=(0,et.get)(a,"navIds")||[],o=void 0;return r.length===n.length&&(o=(0,et.isEqual)(r,n)),this.handleToggleActive(o)}},{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.expanded,r=t.index,o=t.completed,i=t.contentData,s=t.root,l=t.scrollToStep,u=t.uv,c=(0,et.get)(s,"id")===(0,et.get)(i,"id"),d=(0,et.get)(a,"active")&&!c;return Je.default.createElement("div",{key:r,className:this.ss("toggle-item")},Je.default.createElement("a",{className:this.ss("toggle-item-list")},Je.default.createElement("div",{className:this.ss("toggle-dot",o&&"completed",!n&&"expanded-dot")}),n&&Je.default.createElement("div",{className:this.ss("toggle-title",d&&"active"),onClick:function(t){return e.onSpecifyPage(t)}},Je.default.createElement("span",null,this.__("type_"+(0,et.get)(a,"type"))),Je.default.createElement("span",{className:this.ss("title-dot")}),Je.default.createElement("span",null,this.__((0,et.get)(a,"title"))),Je.default.createElement(Et,{quizData:a}))),n&&Je.default.createElement("div",{className:this.ss("toggle-item-cont")},this.state.active&&Je.default.createElement(bt,{data:a,scrollToStep:l,uv:u,expanded:n,contentData:i})))}}]),t}(),Q.propTypes={uv:Qe.default.string,item:Qe.default.object,root:Qe.default.object,index:Qe.default.number,locale:Qe.default.string,expanded:Qe.default.bool,current:Qe.default.object,completed:Qe.default.bool,currentHost:Qe.default.string,contentData:Qe.default.object,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},W=J))||W)||W)||W),vt=t.SideBar=(Y=(0,Ze.decorator)({locale:(0,$e.state)(ze),breadcrumb:(0,$e.state)(Pe),currentHost:(0,$e.state)(Be),parentIds:(0,$e.state)(Ce),checkpointRequired:(0,$e.state)(Ie)}),X=(0,st.default)(lt.default),Z=(0,ut.default)(ct.default),Y($=X($=Z((te=ee=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleAssignHref=function(e){e.stopPropagation();var t=n.props,a=t.data,r=t.currentHost,o=t.locale,i=t.uv,s=t.labelRequired,l=(0,et.get)(a,"navIds"),u=(0,nt.GetDetailPageURL)(a,o,i,s),c=(0,at.default)((0,nt.GetUrlByNavIds)(l,u),r);return e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)?(0,it.default)(c):(0,ot.default)(c)},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.expanded,r=t.theme,o=t.contentData,i=t.breadcrumb,s=t.parentIds,l=t.checkpointRequired,u=(0,et.get)(i,"root");if(!u)return null;var c=(0,et.get)(a,"type"),d=(0,et.get)(a,"thumbnail.url")||"",f="transparent"===r,p=(0,et.get)(a,"status.completed"),m=!0,h=(0,et.get)(a,"status.lastCompleted");h&&l&&(p=!0);var _=c===rt.DataTypeKeys.mission,g=c===rt.DataTypeKeys.pathway;(_||g)&&(d=(0,et.get)(a,"badgeThumbnail.url")||"",m=p||h,p=!1);var v=f&&(0,et.get)(a,"id")===(0,et.get)(s,"missionId"),y=(0,et.get)(s,"contentId"),b=(0,et.get)(a,"contentTitles"),w=(0,et.get)(b,y),E=(0,et.get)(a,"id")===(0,et.get)(o,"id"),k=_&&!E&&v,S=void 0;if(f){var O=(0,et.get)(u,"id")===(0,et.get)(o,"id");S=!!(0,et.get)(a,"active")&&!O,l&&(S=(0,et.get)(a,"id")===(0,et.get)(o,"id"))}return Je.default.createElement("a",{className:this.ss("side-bar",k&&"mission-unique-bar","transparent"===r&&"transparent-bar",k&&!n&&"mission-shrink-bar"),onClick:function(t){return e.handleAssignHref(t)}},Je.default.createElement("div",{className:this.ss("thumbnail",p&&"completed",!m&&"grayscale")},Je.default.createElement(tt.default,{src:d,sizes:"46px",width:46,height:46})),n&&Je.default.createElement("div",{className:this.ss("side-info")},Je.default.createElement("div",{className:this.ss("info-type")},this.__("type_"+(0,et.get)(a,"type"))),Je.default.createElement("div",{className:this.ss("info-title",S&&"active",r)},Je.default.createElement("span",null,this.__((0,et.get)(a,"title")))),v&&Je.default.createElement("div",{className:this.ss("info-set-title")},w)))}}]),t}(),ee.propTypes={data:Qe.default.object,breadcrumb:Qe.default.object,parentIds:Qe.default.object,contentData:Qe.default.object,expanded:Qe.default.bool,currentHost:Qe.default.string,locale:Qe.default.string,uv:Qe.default.string,labelRequired:Qe.default.bool,checkpointRequired:Qe.default.bool,theme:Qe.default.oneOf(["default","transparent"]),scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},ee.defaultProps={theme:"default"},$=te))||$)||$)||$),yt=function(){},bt=t.OutlineSide=(ae=(0,Ze.decorator)({locale:(0,$e.state)(ze),currentHost:(0,$e.state)(Be),parentIds:(0,$e.state)(Ce),checkpointRequired:(0,$e.state)(Ie),record:(0,$e.state)(He,(0,$e.props)(Ve))}),ne=(0,st.default)(lt.default),ae(re=ne((ie=oe=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,Xe.default),Oe(t,[{key:"scrollToStep",value:function(e){this.props.scrollToStep&&this.props.scrollToStep(e)}},{key:"renderOutlineItem",value:function(e){var t=e.item,a=e.index,n=e.lastIndex,r=e.completed,o=e.itemData,i=(0,nt.GetCompletedStatus)(a,r),s=this.props,l=s.expanded,u=s.data,c=s.contentData,d=s.checkpointRequired,f=s.record,p=(0,et.get)(f,"steps"),m=!1,h=u.type===rt.DataTypeKeys.quiz,_=(0,et.get)(o,"id")===(0,et.get)(c,"id"),g=(0,et.get)(o,"active")&&!!_;if(d&&(g=_),t&&p){var v=p[t.id];v&&(m=v.completed)}var y="lab"===(0,et.get)(t,"type")||!0===(0,et.get)(t,"withLab");return Je.default.createElement("div",{key:"item_"+a,className:this.ss("item","text",!!g&&"active")},l&&Je.default.createElement(wt,{isFirst:0===a,isLast:a===n,status:i,record:f,stepStatus:m}),l&&Je.default.createElement("div",{className:this.ss("item-title",i.completed&&"completed",h&&"item-quiz-title")},Je.default.createElement("span",null,a+1,Je.default.createElement("div",{className:this.ss("title-dot")})),Je.default.createElement("span",null,h?(0,et.get)(t,"bodyPlain"):(0,et.get)(t,"title")),y&&Je.default.createElement("div",{className:this.ss("icon","ifont","ifont-lrn_icon_streaming_lab")})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.record,r=t.disabled,o=t.currentHost,i=t.locale,s=t.uv,l=t.contentData,u=t.checkpointRequired,c=t.parentIds,d=a.type,f=(0,et.get)(c,"missionId")===(0,et.get)(l,"id"),p=void 0,m=[];switch(d){case rt.DataTypeKeys.tutorial:p=(0,et.get)(a,"requiredSections");break;case rt.DataTypeKeys.quiz:p=(0,et.get)(a,"questions");break;default:return null}if(!p||0===p.length)return null;var h=p.length-1,_=p.map(function(t,c){var f=(0,et.get)(a,"active"),p=(0,et.get)(l,"id")===(0,et.get)(a,"id");u&&(f=!0),m[c]=(0,et.get)(n,"steps."+t.id+".completed");var _=(0,et.get)(n,"lastCompletedTime");if(_&&(m[c]=!0),(0,et.get)(a,"status.completed")&&(m[c]=!0),"tutorial"===d&&f&&p)return Je.default.createElement("a",{key:"item_"+c,className:e.ss("item-link"),onClick:r?yt():function(){return e.scrollToStep({itemId:t.id})}},e.renderOutlineItem({item:t,index:c,lastIndex:h,completed:m,itemData:a}));if("quiz"===d&&f&&p)return m[c]=(0,et.get)(n,"answers."+t.id+".correct"),_&&(m[c]=!0),(0,et.get)(a,"status.completed")&&(m[c]=!0),Je.default.createElement("a",{key:"item_"+c,className:e.ss("item-link"),onClick:r?yt():function(){return e.scrollToStep({itemId:t.id})}},e.renderOutlineItem({item:t,index:c,lastIndex:h,completed:m,itemData:a}));var g=(0,at.default)((0,nt.GetUrlByNavIds)(a.navIds,(0,nt.GetDetailPageURL)(a,i,s)),o);return Je.default.createElement("a",{key:"item_"+c,className:e.ss("item-link"),href:r?"#":g+"#"+t.id},e.renderOutlineItem({item:t,index:c,lastIndex:h,completed:m,itemData:a}))});return Je.default.createElement("div",{className:this.ss("outline-item")},Je.default.createElement("div",{className:this.ss("item-link-line",!f&&"item-line-dot")}),_)}}]),t}(),oe.propTypes={data:Qe.default.object,contentData:Qe.default.object,record:Qe.default.object,currentHost:Qe.default.string,locale:Qe.default.string,disabled:Qe.default.bool,uv:Qe.default.string,expanded:Qe.default.bool,parentIds:Qe.default.object,checkpointRequired:Qe.default.bool,scrollToStep:Qe.default.func},re=ie))||re)||re),wt=t.StatusDot=(se=(0,Ze.decorator)({checkpointRequired:(0,$e.state)(Ie)}),le=(0,st.default)(lt.default),ue=(0,ut.default)(ct.default),se(ce=le(ce=ue((fe=de=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"render",value:function(){var e=this.props,t=e.isFirst,a=e.isLast,n=e.stepStatus,r=e.checkpointRequired,o=e.status,i=e.record,s=(0,et.get)(i,"type"),l=(0,et.get)(o,"completed");return r||(l=n),s===rt.DataTypeKeys.quiz&&(l=(0,et.get)(i,"completed")||!1),Je.default.createElement("div",{className:this.ss("status-dot-wrap")},!t&&Je.default.createElement("div",{className:this.ss("status-bg-up")},Je.default.createElement("div",{className:this.ss("line")})),!a&&Je.default.createElement("div",{className:this.ss("status-bg-down")},Je.default.createElement("div",{className:this.ss("line")})),Je.default.createElement("div",{className:this.ss("dot",l&&"completed")}))}}]),t}(),de.propTypes={stepStatus:Qe.default.bool,isFirst:Qe.default.bool,isLast:Qe.default.bool,status:Qe.default.object,record:Qe.default.object,checkpointRequired:Qe.default.bool},ce=fe))||ce)||ce)||ce),Et=t.QuizRetakeTime=(pe=(0,Ze.decorator)({quizMap:(0,$e.state)(Ae),versionId:(0,$e.state)(Ge),setQuizRecord:(0,$e.signal)(We)}),me=(0,st.default)(lt.default),he=(0,ut.default)(ct.default),pe(_e=me(_e=he((ve=ge=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onRetakeRecord=function(e){e.stopPropagation();var t=n.props,a=t.quizData,r=t.setQuizRecord,o=t.versionId,i=t.quizMap,s=(0,et.get)(a,"id"),l=(0,et.get)(a,"type"),u=(0,et.get)(i,s+".quizStatus");s&&l&&r&&"submitted"===u&&r({id:s,type:l,versionId:o,completed:!1})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.quizData,n=t.quizMap,r=(0,et.get)(a,"id"),o=(0,et.get)(n,r+".leftFreezingSeconds"),i=(0,et.get)(n,r+".quizStatus"),s=(0,nt.ParseSecond)(o),l=s.hour,u=s.minute,c=s.second,d=l>0,f=u>0;if((0,et.get)(a,"type")!==rt.DataTypeKeys.quiz)return null;var p="min";return d||f||(p="sec"),Je.default.createElement("span",{className:this.ss("label-wrapper",o<=0&&"retake_wrap"),onClick:o<=0?function(t){return e.onRetakeRecord(t)}:void 0},o>0&&this.__("retake_"+p,{hour:l,minute:u,second:c}),o<=0&&"submitted"===i&&this.__("retake_quiz"))}}]),t}(),ge.propTypes={quizMap:Qe.default.object,quizData:Qe.default.object,versionId:Qe.default.string,setQuizRecord:Qe.default.func},_e=ve))||_e)||_e)||_e);t.JumpSubmission=(ye=(0,Ze.decorator)({recordMap:(0,$e.state)(je)}),be=(0,st.default)(lt.default),we=(0,ut.default)(ct.default),ye(Ee=be(Ee=we((Se=ke=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.onJumpSubmission=function(e,t,a){e.stopPropagation();var r=n.props,o=r.submissionData,i=r.uv,s=r.locale,l=r.currentHost,u=r.scrollToGallery,c=r.contentData,d=r.scrollToStep,f=(0,et.get)(o,"id")===(0,et.get)(c,"id");if(a){var p=(0,et.get)(o,"navIds"),m=(0,at.default)((0,nt.GetUrlByNavIds)(p,(0,nt.GetDetailPageURL)(o,s,i)),l);u&&(f||(e&&(e.altKey||e.metaKey||e.ctrlKey||e.shiftKey)?(0,it.default)(m):(0,ot.default)(m)),u())}else d&&d({itemId:t})},i=a,o(n,i)}return i(t,Xe.default),Oe(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.submissionData,n=t.recordMap,r=(0,et.get)(a,"id"),o=(0,et.get)(a,"submissionStepId");if((0,et.get)(a,"type")!==rt.DataTypeKeys.tutorial&&!o)return null;var i=(0,et.get)(n,r)||{},s=(0,et.get)(i,"steps."+o+".completed");return Je.default.createElement("span",{className:this.ss("submission-wrapper"),onClick:function(t){return e.onJumpSubmission(t,o,s)}},this.__((s?"view":"add")+"_submission"))}}]),t}(),ke.propTypes={uv:Qe.default.string,locale:Qe.default.string,recordMap:Qe.default.object,currentHost:Qe.default.string,contentData:Qe.default.object,submissionData:Qe.default.object,scrollToStep:Qe.default.func,scrollToGallery:Qe.default.func},Ee=Se))||Ee)||Ee)||Ee)},,,,function(e,t){e.exports={"learn-side-wrapper":"learn-side-wrapper_2k585-GF","content-steps":"content-steps__YyjUz6i","side-wrap":"side-wrap_2A94fX5N","scroller-learn-side":"scroller-learn-side_3eNpcC5r",show:"show_2_VJPErR","side-bar":"side-bar_3fWa6fV9","transparent-bar":"transparent-bar_1ENQS1Aw",thumbnail:"thumbnail_37ke-zM5",completed:"completed_2tHzO3jb",grayscale:"grayscale_3hwqINqo","side-info":"side-info_3jhiaj1j",active:"active_QAuZh-Zy",default:"default_3MPkdx3V","mission-unique-bar":"mission-unique-bar_HRS1dMYa","mission-shrink-bar":"mission-shrink-bar_132UnGjW","content-drawer":"content-drawer_1FRjkDkk","content-item-list":"content-item-list_2-k3RFV2","toggle-item-row":"toggle-item-row_ELKv4lCd","list-draw":"list-draw_V3hVUvAj","content-list":"content-list_1cJu90Ch","content-item":"content-item_AEsplq1-","title-line-dot":"title-line-dot_2DNKmLxu","title-dots":"title-dots_2IW-52SQ",list:"list_1H1rT6kh","toggle-item":"toggle-item_ivJkHxAr","toggle-item-list":"toggle-item-list_3VOjQM_d","toggle-title":"toggle-title_2QFSTK3w","title-dot":"title-dot_1ApiyS1K","toggle-dot":"toggle-dot_3kXerGT6","expanded-dot":"expanded-dot_3jUyxmjR","info-big":"info-big_3fCIi1nA","toggle-item-cont":"toggle-item-cont_oyXcTbuZ","outline-item":"outline-item_193VHvV1","toggle-contents":"toggle-contents_3KTCWMkP","toggle-line-dot":"toggle-line-dot_3oQKZemV","toggle-large-content":"toggle-large-content_2ykt902F","next-content-list":"next-content-list_1FjsQgH5","mission-checkpoint-specify":"mission-checkpoint-specify_3TsLGXhN","last-line-dots":"last-line-dots_Naii_OU5",drawer:"drawer_17rHNZW4","belong-drawer":"belong-drawer_QRq6rGFV","toggle-row-line":"toggle-row-line_3KHxQFSm","item-link-line":"item-link-line_3YF-CkbX","item-line-dot":"item-line-dot_2e88l-Ub",text:"text_2dxWCvk9","item-link":"item-link_XwliHpJj","item-title":"item-title_fQx1cIrr",item:"item_3xOXW5K3","title-wrap":"title-wrap_2-UFglRN",dot:"dot_2P3zbU1f",icon:"icon_2jULresV","item-quiz-title":"item-quiz-title_1Qkcw5Gz","status-dot-wrap":"status-dot-wrap_2qKyFkQS",line:"line_1skXOMs8","status-bg-up":"status-bg-up_19w0Y9Ny","status-bg-down":"status-bg-down_35RsCWkA","pathway-content-wrapper":"pathway-content-wrapper_2XG3zhG9","checkpoint-item":"checkpoint-item_2fA3IXjg","flutter-checkpoint":"flutter-checkpoint_1zm56q_9","flutter-content-wrapper":"flutter-content-wrapper_160OHPo7","flutter-checkpoint-child":"flutter-checkpoint-child_36qHbVQ0","check-point":"check-point_WQcKSuV8","pathway-checkpoint":"pathway-checkpoint_3oSK2aY3","pathway-checkpoint-line":"pathway-checkpoint-line_3DsRKs4L",checkpoint:"checkpoint_25w04jJT",point:"point_34j5QZ7V","label-wrapper":"label-wrapper_vKUJjmOj",retake_wrap:"retake_wrap_3g-mqNZZ","submission-wrapper":"submission-wrapper_DcOD7fxQ","checkpoint-mission":"checkpoint-mission_1nrF5W2L","check-points":"check-points_uZbOlUc6","sub-nodes-after":"sub-nodes-after_3-9Y8Bx8","sub-last-line":"sub-last-line_2SBiTHFX","sub-no-line":"sub-no-line_zRSk08E3","sub-content":"sub-content_3nSsUV66","sub-learn-side":"sub-learn-side_1Rddr8oR","sub-canvas":"sub-canvas_2n3xesM8","sub-collapse-canvas":"sub-collapse-canvas_FK4FTEFG","sub-collapse":"sub-collapse_1oTES8kh","sub-curves":"sub-curves_1c9aaij2"}},function(e,t){e.exports={steps:"steps_1GG9",questions:"questions_3pxj",type_project:"type_project_MwZG",type_tutorial:"type_tutorial_qkAy",type_course:"type_course_3lUT",type_quiz:"type_quiz_1tpz",type_mission:"type_mission_s2q2",type_pathway:"type_pathway_2mTy",retake_quiz:"retake_quiz_1h1L",add_submission:"add_submission_1ZDH",view_submission:"view_submission_1sGR",retake_min:"retake_min_3FU9",retake_sec:"retake_sec_LYY5",mission_checkpoint:"mission_checkpoint_2geN",pathway_checkpoint:"pathway_checkpoint_2Jod",mission_summary:"mission_summary_qXBp",pathway_summary:"pathway_summary_1TDr"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(8),r=[(0,a(347).GetSearchStore)({apiURL:"/api/learn/submissionSearch",searchSchema:n.LEARNER_SEARCH,loadMoreSchema:n.SEARCH_LOAD_MORE,defaultOptions:{skipSyncToLocation:!0,skipSyncFromLocation:!0}})];t.default={search:r}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(1047)),o=n(a(1048)),i=n(a(1049)),s=n(a(1050)),l=n(a(1051)),u=n(a(1052)),c=n(a(1053)),d=[r.default,o.default,i.default,s.default,l.default,u.default,c.default];t.default={completion:d}},function(e,t,a){"use strict";(function(e){function n(e,t){if(e){var a=(0,c.get)(e,"type"),n=(0,c.get)(e,"submittedTime");if(a===l.DataTypeKeys.quiz&&n)return!0;if(t&&(a!==l.DataTypeKeys.mission||a!==l.DataTypeKeys.pathway))return!1;var r=(0,c.get)(e,"completed"),o=new Date((0,c.get)(e,"completedTime")),i=new Date((0,c.get)(e,"firstCompletedTime"));if(r&&i.getTime()===o.getTime())return!0}return!1}function r(e){var t=e.state,a=e.controller,n=t.get(f)||[];if(n.length<=0)a.getSignal("completion.openNextCheckpoint")();else{var r=void 0,d=[],m=n.pop(),h=t.get("breadcrumb"),_=m.itemId,g=m.type,v=[];switch(g){case l.DataTypeKeys.quiz:r=t.get("quizData"),n.length>0&&a.getSignal("completion.skipFeedback")(),v.push("completion.openSummaryDialog"),o(m)&&v.push("completion.openExperienceDialog");break;case l.DataTypeKeys.tutorial:r=t.get("tutorialData"),(0,c.get)(r,"isExercise")&&a.getSignal("completion.skipFeedback")(),v.push("completion.openSummaryDialog"),o(m)&&v.push("completion.openExperienceDialog");break;case l.DataTypeKeys.project:case l.DataTypeKeys.course:v.push("completion.openSummaryDialog"),o(m)&&v.push("completion.openExperienceDialog"),v.push("completion.openCompletionDialog");break;case l.DataTypeKeys.mission:r=(0,u.GetNodeByItemId)(h,(0,s.GetItemIdByType)({id:_,type:g})),(d=(0,u.GetNextMissions)(h,_)).length>0&&v.push("completion.openMissionDialog"),v.push("common.openCheckpointSummary"),i(t)&&v.push("completion.openAssetEarnedDialog"),o(m)&&v.push("completion.openExperienceDialog"),v.push("completion.openCompletionDialog");break;case l.DataTypeKeys.pathway:v.push("completion.openOverlayDialog"),v.push("common.openCheckpointSummary"),o(m)&&v.push("completion.openExperienceDialog"),v.push("completion.openCompletionDialog")}r||(r=(0,u.GetNodeByItemId)(h,(0,s.GetItemIdByType)({id:_,type:g}))),t.set(f,n),t.set(p,{record:m,node:r,transitions:v,missions:d}),a.getSignal("completion.openNextTransition")()}}function o(e){var t=(0,c.get)(e,"experiencePoints")||[],a=(0,c.get)(e,"experienceTime"),n=(0,c.get)(e,"completedTime");if(!n)return!1;var r=new Date(a),o=new Date(n);return t.length>0&&r.getTime()>=o.getTime()}function i(e){var t=(e.get("learner.rewards")||[]).filter(function(e){return"asset"===e.type});return t&&t.length>0}Object.defineProperty(t,"__esModule",{value:!0});var s=a(9),l=a(8),u=a(119),c=a(4),d=["completion","completionDialog"],f=["completion","completions"],p=["completion","current"];t.default={name:e,depends:[],signals:{startCompletion:[function(e){var t=e.props,a=e.state,r=e.path,o=t.data,i=(0,c.get)(o,"id"),l=(0,c.get)(o,"isStart")||!1,u=a.get("breadcrumb.selectedIds")||[],d=a.get("learner.recordMap",{}),f=(0,c.get)(d,i),p=(0,c.get)(f,"startCheckPointTime")||!1,m=[];return(n(f,l)||p)&&(u.forEach(function(e){var t=(0,s.GetIdByItemId)(e),a=(0,c.get)(d,t);t!==i&&n(a,l)&&m.push(a)}),m.push(f)),m.length>0?(a.set("completion.completions",m),r.yes()):r.no()},{yes:[r],no:[]}],openNextDialog:[r],openCompletionDialog:[function(e){e.state.set(d,{open:!0})}],closeCompletionDialog:[function(e){e.state.set(d,{open:!1})}],openNextTransition:[function(e){var t=e.state,a=e.controller,n=t.get([].concat(p,["record"])),r=t.get([].concat(p,["node"])),o=t.get([].concat(p,["transitions"]));o.length<=0?a.getSignal("completion.openNextDialog")():(a.getSignal(o.pop())({record:n,node:r}),t.set([].concat(p,["transitions"]),o))}],openNextCheckpoint:[function(e){var t=e.state,a=e.controller,n=t.get("learner.parentIds"),r=t.get(["learner","recordMap"]),o=(0,c.get)(n,"missionId"),i=(0,c.get)(n,"pathwayId"),s=(0,c.get)(r,""+o),l=(0,c.get)(r,""+i),d=(0,c.get)(s,"completed"),f=(0,c.get)(l,"completed");if(o&&!d)t.get("breadcrumb.nextUncompleted")||a.getSignal("common.openMissionCheckpoint")();else if(i&&!f){var p=t.get("breadcrumb");(0,u.ValidatePathwayMissionsCompleted)(p)&&a.getSignal("common.openPathwayCheckpoint")()}}]},getServices:function(){return{}},getState:function(){return{itemId:null,current:{record:null,node:null,transitions:[],missions:[]},completions:[],completionDialog:{open:!1}}}}}).call(t,"views/learn/modules/completion/completionStore.js")},function(e,t,a){"use strict";(function(e){function n(e,t,a){var n=e.categoryId,s=e.point,l=(0,r.get)(a,n,{}),u={categoryId:n,level:1,totalPoint:s,increasedPoint:s,levelPoint:0,categoryExperience:0,leftPoint:0,isLevelUp:!1},c=0;t[n]?(c=t[n].point,u.totalPoint=c+s,t[n].point=u.totalPoint):t[n]={point:u.totalPoint};var d=(0,i.default)(l,c);u.levelPoint=(0,r.get)(d,"levelPoint")||0,u.level=(0,r.get)(d,"level")||1;var f=(0,o.GetCategoryLevelExperience)(l,u.level);return f>0&&(u.levelPoint+u.increasedPoint>=f?u.isLevelUp=!0:u.leftPoint=f-s-u.levelPoint),u.categoryExperience=f,u}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=a(125),i=function(e){return e&&e.__esModule?e:{default:e}}(o),s=["completion","experienceDialog"],l=["completion","current","record"];t.default={name:e,depends:[],signals:{closeExperienceDialog:[function(e){e.state.set(s,{open:!1,levels:[]})}],openExperienceDialog:[function(e){var t=e.state,a=t.get("learner.experienceMap",{}),r=t.get("xpCategories.tagMap",{}),o=t.get(l,{});if(o){var i=o.experiencePoints.map(function(e){return n(e,a,r)});t.set("learner.experienceMap",a),t.set(s,{open:!0,levels:i})}}]},getServices:function(){return{}},getState:function(){return{experienceDialog:{open:!1,levels:[]}}}}}).call(t,"views/learn/modules/completion/experienceStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=["completion","summaryDialog"];t.default={name:e,depends:[],signals:{closeSummaryDialog:[function(e){var t=e.state;t.set(r,{open:!1}),t.merge("completion",{feedbackCompleted:!1})}],openSummaryDialog:[function(e){var t=e.state,a=[],r=t.get("breadcrumb.skillMap"),o=t.get("breadcrumb.competencyMap");(t.get("completion.current.node.skillIds")||[]).forEach(function(e){var t=(0,n.get)(r,e);t&&t.competencyId&&a.push(t.competencyId)});var i={},s=(0,n.uniq)(a);s.forEach(function(e){var t=(0,n.get)(o,e);t&&(i[e]=t)}),t.set("completion.current.competencyIds",s),t.set("completion.current.competencyMap",i)},function(e){e.state.set(r,{open:!0})}]},getServices:function(){return{}},getState:function(){return{summaryDialog:{open:!1}}}}}).call(t,"views/learn/modules/completion/summaryStore.js")},function(e,t,a){"use strict";(function(e){function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e){var t=e.get(f);return{score:t.score.value,description:t.description.value,reasons:t.reason.value?[t.reason.value]:[]}}function o(){return(0,l.Form)({score:{value:0},reason:{value:""},description:{value:""}})}function i(e){return[function(t){var a=t.props;return{field:[].concat(f,[e||a.fieldName]),value:a.value,touched:!0}}].concat(n(l.chains.fieldChanged),[l.chains.validate])}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(13),u=function(e){return e&&e.__esModule?e:{default:e}}(a(35)),c=a(9),d=a(10),f=["completion","feedbackForm"],p=["completion"],m=["learner","parentIds"],h={schema:a(8).POST_FEEDBACK,request:{method:"post",params:{}},onPrepareRequest:function(e){var t=e.props,a=e.state,n=t.data,o=n.id,i=n.type,l=a.get(m)||{},u=a.get("userPremium");return{endpoint:"/api/learn/feedback",params:s({id:o,type:i,userPremium:u},l,r(a))}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;200===t&&a&&(n.merge(p,{feedbackCompleted:!0}),n.merge(f,o()))},onError:(0,c.onError)("feedback")};t.default={name:e,depends:[],signals:{changeScore:[function(e){e.state.merge([].concat(f,["reason"]),{value:""})}].concat(n(i("score"))),changeReason:i("reason"),changeDescription:i("description"),skipFeedback:[function(e){e.state.merge(p,{feedbackCompleted:!0})}],createFeedback:u.default.LoginRequired((0,d.CallHTTP)(h))},getServices:function(){return{}},getState:function(){return{feedbackForm:o(),feedbackCompleted:!1}}}}).call(t,"views/learn/modules/completion/feedbackStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["completion","assetEarnedDialog"],n=["learner","rewards"];t.default={name:e,depends:[],signals:{closeAssetEarnedDialog:[function(e){e.state.set(a,{open:!1,assets:[]})}],openAssetEarnedDialog:[function(e){var t=e.state,r=(t.get(n)||[]).filter(function(e){return"asset"===e.type});t.set(a,{open:!0,assets:r})}]},getServices:function(){return{}},getState:function(){return{assetEarnedDialog:{open:!1,assets:[]}}}}}).call(t,"views/learn/modules/completion/assetEarnedStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=["completion","missionDialog"];t.default={name:e,depends:[],signals:{closeMissionDialog:[function(e){e.state.set(a,{open:!1})}],openMissionDialog:[function(e){e.state.set(a,{open:!0})}]},getServices:function(){return{}},getState:function(){return{missionDialog:{open:!1}}}}}).call(t,"views/learn/modules/completion/missionStore.js")},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(10),r=a(8),o=a(4),i=["completion","overlayDialog"],s={schema:r.GET_PATHWAY_OVERLAY,request:{method:"get",params:{}},onPrepareRequest:function(e){var t=e.props.record;return{endpoint:"/api/learn/"+(0,o.get)(t,"type")+"/"+(0,o.get)(t,"itemId")+"/overlay"}},onSuccess:function(e){var t=e.status,a=e.result,n=e.state;if(200===t&&a){var r=(0,o.get)(a,"otherPathway");n.set([].concat(i,["overlay"]),a),n.merge("otherPathway",r)}}};t.default={name:e,depends:[],signals:{closeOverlayDialog:[function(e){e.state.set(i,{open:!1,overlay:null})}],openOverlayDialog:[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}((0,n.CallHTTP)(s)),[function(e){e.state.merge(i,{open:!0})}])},getServices:function(){return{}},getState:function(){return{overlayDialog:{open:!1}}}}}).call(t,"views/learn/modules/completion/overlayStore.js")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e===o.perfect}function r(e){return e===o.pass}Object.defineProperty(t,"__esModule",{value:!0}),t.isPerfect=n,t.isPass=r,t.isNotPass=function(e){return e===o.notPass},t.isPassOrPerfect=function(e){return r(e)||n(e)};var o=(0,function(e){return e&&e.__esModule?e:{default:e}}(a(72)).default)({perfect:null,pass:null,notPass:null});t.default=o},,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData"],["quizData"]),_=s(["learner.recordMap"],["learner.recordMap"]),g=s(["option.unityVersionId"],["option.unityVersionId"]),v=s(["learner.quizMap"],["learner.quizMap"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=a(118),T=a(9),P=a(1130),j=n(a(3)),C=n(a(1222)),I=n(a(7)),N=n(a(1223)),M=(l=(0,E.decorator)({quizData:(0,k.state)(h),recordMap:(0,k.state)(_),versionId:(0,k.state)(g),quizMap:(0,k.state)(v)}),u=(0,j.default)(C.default),c=(0,I.default)(N.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.computedScoreData=function(){var e=n.props,t=e.quizData,a=e.quizMap,r=(0,S.get)(t,"id");return(0,S.get)(a,r)||{}},n.computedScoreStatus=function(){var e=n.computedScoreData();return(0,S.get)(e,"scoreStatus")},i=a,o(n,i)}return i(t,w.default),m(t,[{key:"renderRetake",value:function(e){var t=(0,T.ParseSecond)(e),a=t.hour,n=t.minute,r=t.second,o=a>0,i=n>0,s=r>0;if(!o&&!i&&!s)return null;var l="min";return o||i||(l="sec"),b.default.createElement("div",{className:this.ss("")},this.__("retake_"+l,{hour:a,minute:n,second:r}))}},{key:"renderButton",value:function(e){var t=this.props,a=t.theme,n=t.versionId;return e>0?null:"summary"===a?null:b.default.createElement("div",{className:this.ss("button-wrap")},b.default.createElement(O.QuizRetakeButton,{widthStyle:"full",versionId:n}))}},{key:"renderRetakeMsg",value:function(){if("summary"===this.props.theme)return null;var e=this.computedScoreData(),t=(0,S.get)(e,"scoreStatus");if(!(0,P.isPassOrPerfect)(t))return null;if((0,P.isPerfect)(t))return null;var a=(0,S.get)(e,"bestScoreStatus");return(0,P.isPerfect)(a)?null:b.default.createElement("div",{className:this.ss("score-tip")},this.__("quiz_retake_msg"))}},{key:"render",value:function(){var e=this.props,t=e.quizData,a=e.recordMap,n=e.theme,r=(0,S.get)(t,"id"),o=this.computedScoreData(),i=(0,S.get)(o,"scoreStatus"),s=(0,S.get)(o,"leftFreezingSeconds"),l=(0,P.isPassOrPerfect)(i),u=(0,S.get)(a,r),c=((0,S.get)(t,"questions")||[]).length,d=(0,S.get)(t,"quizSetting.passNumber"),f=0;u&&(f=(0,S.get)(u,"answerScore"));var p=(0,S.get)(u,"bestAnswerScore"),m=(0,S.get)(u,"bestAnswerTime"),h=f/c*("summary"===n?677:610),_=null!=m;return b.default.createElement("div",{className:this.ss("quiz-status")},b.default.createElement("div",{className:this.ss("score-tip")},this.__("quiz_"+n+"_"+i)),this.renderRetakeMsg(),b.default.createElement("div",{className:this.ss("score-result")},b.default.createElement("div",{className:this.ss("score")},b.default.createElement("div",{className:this.ss("score-state",l&&"passed")},this.__(l?"passed":"attempted")),b.default.createElement("div",{className:this.ss("dot")}),b.default.createElement("div",{className:this.ss("score-current")},f+"/"+c)),this.renderRetake(s)),b.default.createElement("div",{className:this.ss("score-percent",n)},b.default.createElement("div",{className:this.ss("score-collect",l&&"passed"),style:{width:h}})),!l&&b.default.createElement("div",{className:this.ss("score-line")},this.__("correctly_to_pass",{percent:d+"/"+c})),!l&&_&&b.default.createElement("div",{className:this.ss("score-best")},this.__("best_answer",{percent:p+"/"+c,time:m})),this.renderButton(s))}}]),t}(),f.propTypes={quizData:y.default.object,quizMap:y.default.object,versionId:y.default.string,recordMap:y.default.object,theme:y.default.oneOf(["default","summary"])},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=M},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["locale"],["locale"]),_=s(["currentHost"],["currentHost"]),g=n(a(2)),v=n(a(0)),y=n(a(1)),b=a(6),w=a(5),E=a(4),k=n(a(15)),S=n(a(37)),O=n(a(41)),T=n(a(33)),P=n(a(19)),j=a(9),C=n(a(3)),I=n(a(1241)),N=n(a(7)),M=n(a(1242)),D=(l=(0,b.decorator)({locale:(0,w.state)(h),currentHost:(0,w.state)(_)}),u=(0,C.default)(I.default),c=(0,N.default)(M.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,y.default),m(t,[{key:"render",value:function(){var e=this,t=this.props||{},a=t.pathway,n=t.statsPath,r=t.theme,o=t.locale,i=t.currentHost,s=a||{},l=s.id,u=s.title,c=s.type,d=(0,P.default)((0,j.GetDetailPageURL)(a,o),i);return v.default.createElement("div",{className:this.ss("pathway-wrapper",r)},v.default.createElement("div",{className:this.ss("pathway-card")},v.default.createElement("a",{className:this.ss("card-link"),href:d},v.default.createElement("div",{className:this.ss("card-img")},v.default.createElement(k.default,{src:(0,E.get)(a,"thumbnail.url"),sizes:"390px",height:220,width:390}),v.default.createElement("div",{className:this.ss("collect-wrap"),ref:function(t){e.collectRef=t}},v.default.createElement(S.default,{id:l,type:c,statsPath:n}))),v.default.createElement("div",{className:this.ss("card-content")},v.default.createElement("div",{className:this.ss("content-des")},v.default.createElement("div",{className:this.ss("title")},u),v.default.createElement("div",{className:this.ss("info")},v.default.createElement(T.default,{data:a,theme:r,durationTheme:"week"}))),v.default.createElement("div",{className:this.ss("author")},v.default.createElement(O.default,{data:a,theme:r}))))))}}]),t}(),f.propTypes={locale:g.default.string,currentHost:g.default.string,statsPath:g.default.string.isRequired,pathway:g.default.object,theme:g.default.oneOf(["default","dark"])},f.defaultProps={theme:"default"},d=p))||d)||d)||d);t.default=D},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=n(a(2)),h=n(a(0)),_=n(a(1)),g=a(6),v=n(a(1203)),y=n(a(1206)),b=n(a(1209)),w=n(a(1234)),E=n(a(879)),k=n(a(1237)),S=n(a(1240)),O=n(a(3)),T=n(a(1245)),P=n(a(7)),j=n(a(1246)),C=(s=(0,g.decorator)({}),l=(0,O.default)(T.default),u=(0,P.default)(j.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,_.default),p(t,[{key:"render",value:function(){var e=this.props.statsPath;return h.default.createElement("div",{className:this.ss("completion")},h.default.createElement(v.default,null),h.default.createElement(y.default,null),h.default.createElement(b.default,{statsPath:e}),h.default.createElement(w.default,null),h.default.createElement(E.default,null),h.default.createElement(k.default,null),h.default.createElement(S.default,null))}}]),t}(),d.propTypes={data:m.default.object,statsPath:m.default.string.isRequired},c=f))||c)||c)||c);t.default=C},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["completion.current.node"],["completion.current.node"]),_=s(["completion.current.record"],["completion.current.record"]),g=s(["completion.completionDialog.open"],["completion.completionDialog.open"]),v=s(["completion.closeCompletionDialog"],["completion.closeCompletionDialog"]),y=s(["completion.openNextTransition"],["completion.openNextTransition"]),b=n(a(2)),w=n(a(0)),E=n(a(1)),k=a(6),S=a(5),O=a(4),T=n(a(32)),P=n(a(16)),j=n(a(15)),C=a(8),I=n(a(3)),N=n(a(1204)),M=n(a(7)),D=n(a(1205)),x=(l=(0,k.decorator)({node:(0,S.state)(h),record:(0,S.state)(_),open:(0,S.state)(g),closeDialog:(0,S.signal)(v),openNextDialog:(0,S.signal)(y)}),u=(0,I.default)(N.default),c=(0,M.default)(D.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClose=function(){var e=n.props.closeDialog;e&&e()},n.handleContinue=function(){var e=n.props.openNextDialog;n.handleClose(),e&&e()},i=a,o(n,i)}return i(t,E.default),m(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.node;if(!n||!a)return null;var r=n.title,o=n.type,i=(0,O.get)(n,"thumbnail.url")||"";return o!==C.DataTypeKeys.mission&&o!==C.DataTypeKeys.pathway||(i=(0,O.get)(n,"badgeThumbnail.url")||""),w.default.createElement(T.default,{open:a,position:"center",onCloseModal:this.handleClose,noScroller:!1},w.default.createElement("div",{className:this.ss("container")},w.default.createElement("div",{className:this.ss("close")},w.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},w.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),w.default.createElement("div",{className:this.ss("thumbnail")},w.default.createElement(j.default,{src:i,sizes:"254px",width:254,height:254})),w.default.createElement("div",{className:this.ss("completion-title")},this.__("completed_"+o)),w.default.createElement("div",{className:this.ss("title")},r),w.default.createElement("div",{className:this.ss("button-wrap")},w.default.createElement(P.default,{label:this.__("continue"),size:"medium",onClick:function(){return e.handleContinue()}}))))}}]),t}(),f.propTypes={node:b.default.object,record:b.default.object,open:b.default.bool,closeDialog:b.default.func,openNextDialog:b.default.func},d=p))||d)||d)||d);t.default=x},function(e,t){e.exports={container:"container_3iwndUYM",close:"close_3jxdkBw-","button-close":"button-close_p9gMumb2",icon:"icon_3U1Rnk2Y",title:"title_2JOzpYpK",thumbnail:"thumbnail_gUZZnU3v","completion-title":"completion-title_3-_3gN5c","button-wrap":"button-wrap_2ifuoSrg"}},function(e,t){e.exports={continue:"continue_3fTk",completed_project:"completed_project_MGAy",completed_course:"completed_course_1dZl",completed_mission:"completed_mission_1sv4",completed_pathway:"completed_pathway_3Tqk"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ExperienceItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["completion.experienceDialog.open"],["completion.experienceDialog.open"]),E=s(["completion.experienceDialog.levels"],["completion.experienceDialog.levels"]),k=s(["completion.closeExperienceDialog"],["completion.closeExperienceDialog"]),S=s(["completion.openNextTransition"],["completion.openNextTransition"]),O=s(["xpCategories.tagMap"],["xpCategories.tagMap"]),T=n(a(2)),P=n(a(0)),j=n(a(1)),C=a(6),I=a(5),N=a(4),M=n(a(32)),D=n(a(16)),x=a(125),R=n(a(3)),L=n(a(1207)),A=n(a(7)),F=n(a(1208)),K=(l=(0,C.decorator)({open:(0,I.state)(w),levels:(0,I.state)(E),closeDialog:(0,I.signal)(k),openNextDialog:(0,I.signal)(S)}),u=(0,R.default)(L.default),c=(0,A.default)(F.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClose=function(){var e=n.props.closeDialog;e&&e()},n.handleContinue=function(){var e=n.props,t=e.closeDialog,a=e.openNextDialog;t&&t(),a&&a()},i=a,o(n,i)}return i(t,j.default),b(t,[{key:"renderLevels",value:function(){var e=this.props.levels,t=e&&e.map(function(e){return P.default.createElement(q,{key:"point_node_"+e.categoryId,data:e})});return P.default.createElement("div",{className:this.ss("levels")},t)}},{key:"render",value:function(){var e=this.props.open;return e?P.default.createElement(M.default,{open:e,position:"center",onCloseModal:this.handleClose,noScroller:!1},P.default.createElement("div",{className:this.ss("container")},P.default.createElement("div",{className:this.ss("close")},P.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),P.default.createElement("div",{className:this.ss("title")},this.__("xp_earned")),this.renderLevels(),P.default.createElement("div",{className:this.ss("button-wrap")},P.default.createElement(D.default,{label:"continue",onClick:this.handleContinue})))):null}}]),t}(),f.propTypes={open:T.default.bool,levels:T.default.array,closeDialog:T.default.func,openNextDialog:T.default.func},d=p))||d)||d)||d);t.default=K;var q=t.ExperienceItem=(m=(0,C.decorator)({categoryMap:(0,I.state)(O)}),h=(0,R.default)(L.default),_=(0,A.default)(F.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={earned:0,increased:0,categoryExperience:0,level:1},i=a,o(n,i)}return i(t,j.default),b(t,[{key:"componentWillMount",value:function(){var e=this.props.data;this.setState({level:e.level,earned:e.levelPoint,categoryExperience:e.categoryExperience})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.data,n=t.categoryMap,r=a.categoryId,o=a.increasedPoint,i=(0,N.get)(n,r),s=o/5e4,l=null,u=0;window.requestAnimationFrame(function t(a){l||(l=a);var n=a-l,r=e.state,c=r.increased,d=r.level,f=r.earned,p=r.categoryExperience,m=Math.max(parseInt(s*n,10),1);u+=m,p<=(c+=m)+f&&p>0&&(d++,c=c+f-p,f=0,p=(0,x.GetCategoryLevelExperience)(i,d)||0),e.setState({increased:c,totalIncreased:u,level:d,earned:f,categoryExperience:p}),u<o&&p>0&&window.requestAnimationFrame(t)})}},{key:"renderLevel",value:function(){var e=this.state.level;return P.default.createElement("div",{className:this.ss("level-wrap")},P.default.createElement("div",{className:this.ss("level")},e),P.default.createElement("div",{className:this.ss("level-icon")},P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-left","left-icon")}),P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons_slash","middle-icon")}),P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-arrow-right","right-icon")})))}},{key:"renderExperience",value:function(){var e=this.props,t=e.data,a=e.categoryMap,n=this.state,r=n.level,o=n.earned,i=n.increased,s=n.categoryExperience,l=t.categoryId,u=t.increasedPoint,c=t.isLevelUp,d=t.leftPoint,f=a[l].name,p=s?o/s*364:0,m=s?i/s*364:0;return P.default.createElement("div",{className:this.ss("experience-wrap")},P.default.createElement("div",{className:this.ss("category-level")},P.default.createElement("div",{className:this.ss("category-title")},this.__("level_category",{category:f,level:r})),P.default.createElement("div",{className:this.ss("icon","ifont","ifont-icons-add","increased-experience")},this.__("level_experience",{experience:u}))),P.default.createElement("div",{className:this.ss("experience")},P.default.createElement("div",{className:this.ss("earned"),style:{width:p}}),P.default.createElement("div",{className:this.ss("increased"),style:{width:m}})),P.default.createElement("div",{className:this.ss("tips")},P.default.createElement("div",{className:this.ss("level-up-tip")},c&&this.__("congratulation_level_up"),!c&&d>0&&this.__("more_level_up",{more:d}))))}},{key:"render",value:function(){return P.default.createElement("div",{className:this.ss("item-wrap")},this.renderLevel(),this.renderExperience())}}]),t}(),v.propTypes={data:T.default.object.isRequired,categoryMap:T.default.object},g=y))||g)||g)||g)},function(e,t){e.exports={container:"container_20pAkEYg",close:"close_2jzvdDtn","button-close":"button-close_3Hza4Pzd",icon:"icon_1se_RdKL",title:"title_1jeH3zOJ","button-wrap":"button-wrap_3qDaCal8","item-wrap":"item-wrap_17mK9E-u","level-wrap":"level-wrap_2WPS4eHL",level:"level_1dIXbkdX","level-icon":"level-icon_33bGlM4e","left-icon":"left-icon_1S4c_BVw","middle-icon":"middle-icon_3RM01szI","right-icon":"right-icon_9wDfCu_Z","experience-wrap":"experience-wrap_2qFojJaj","category-level":"category-level_3d0GAML0","increased-experience":"increased-experience_2uls_peS",experience:"experience_2raiuLFQ",earned:"earned_2wgJnIGu",increased:"increased_39HBFktB",tips:"tips_1ndZXj47"}},function(e,t){e.exports={xp_earned:"xp_earned_3-9x",continue:"continue_36Ff",level_category:"level_category_3Q2h",level_experience:"level_experience_BbJU",more_level_up:"more_level_up_3ddd",congratulation_level_up:"congratulation_level_up_323F"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["completion.current.record"],["completion.current.record"]),_=s(["completion.current.node"],["completion.current.node"]),g=s(["completion.summaryDialog.open"],["completion.summaryDialog.open"]),v=s(["completion.feedbackCompleted"],["completion.feedbackCompleted"]),y=s(["completion.summaryDialog.showFeedback"],["completion.summaryDialog.showFeedback"]),b=s(["learner.quizMap"],["learner.quizMap"]),w=s(["option.unityVersionId"],["option.unityVersionId"]),E=s(["completion.closeSummaryDialog"],["completion.closeSummaryDialog"]),k=n(a(2)),S=n(a(0)),O=n(a(1)),T=a(6),P=a(5),j=a(4),C=n(a(32)),I=a(118),N=n(a(1210)),M=n(a(834)),D=n(a(1213)),x=n(a(1221)),R=n(a(1226)),L=n(a(1229)),A=a(8),F=n(a(3)),K=n(a(1232)),q=n(a(7)),z=n(a(1233)),B=(l=(0,T.decorator)({record:(0,P.state)(h),node:(0,P.state)(_),open:(0,P.state)(g),feedbackCompleted:(0,P.state)(v),showFeedback:(0,P.state)(y),quizMap:(0,P.state)(b),versionId:(0,P.state)(w),closeDialog:(0,P.signal)(E)}),u=(0,F.default)(K.default),c=(0,q.default)(z.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClose=function(){var e=n.props.closeDialog;e&&e()},i=a,o(n,i)}return i(t,O.default),m(t,[{key:"renderQuiz",value:function(){var e=this.props,t=e.node,a=e.statsPath;return(0,j.get)(t,"type")!==A.DataTypeKeys.quiz?null:S.default.createElement(x.default,{statsPath:a})}},{key:"renderNext",value:function(){var e=this.props,t=e.node,a=e.quizMap,n=e.record,r=e.feedbackCompleted,o=e.versionId,i=(0,j.get)(t,"type"),s=(0,j.get)(t,"id"),l=(0,j.get)(t,"isExercise"),u=(0,j.get)(n,"completed"),c=(0,j.get)(a,s+".leftFreezingSeconds");if(!u&&c<=0)return S.default.createElement("div",{className:this.ss("summary-retake")},S.default.createElement(I.QuizRetakeButton,{versionId:o}));var d=!0;switch(i){case A.DataTypeKeys.tutorial:l&&(d=!1);break;case A.DataTypeKeys.quiz:d=!1}return u?d&&!r?S.default.createElement(D.default,{data:t}):S.default.createElement(M.default,{data:t,hasFeedback:d}):null}},{key:"renderSubmission",value:function(){var e=this.props.node;return(0,j.get)(e,"isExercise")?S.default.createElement(L.default,null):null}},{key:"renderCompletedList",value:function(){var e=this.props.node;switch((0,j.get)(e,"type")){case A.DataTypeKeys.project:case A.DataTypeKeys.course:break;default:return null}return S.default.createElement(N.default,null)}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.node;if(!a||!t)return null;var n=a.title;return S.default.createElement(C.default,{open:t,position:"center",onCloseModal:this.handleClose,noScroller:!1},S.default.createElement("div",{className:this.ss("container")},S.default.createElement("div",{className:this.ss("close")},S.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},S.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),S.default.createElement("div",{className:this.ss("summary-wrap")},S.default.createElement("div",{className:this.ss("title")},n),this.renderQuiz(),S.default.createElement(R.default,null),this.renderSubmission(),this.renderCompletedList()),this.renderNext()))}}]),t}(),f.propTypes={record:k.default.object,node:k.default.object,open:k.default.bool,showFeedback:k.default.bool,feedbackCompleted:k.default.bool,quizMap:k.default.object,versionId:k.default.string,statsPath:k.default.string.isRequired,closeDialog:k.default.func},d=p))||d)||d)||d);t.default=B},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeShowDetail=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["completion.current.node"],["completion.current.node"]),w=s(["completion.current.record"],["completion.current.record"]),E=n(a(2)),k=n(a(0)),S=n(a(1)),O=a(6),T=a(5),P=a(4),j=a(31),C=a(9),I=n(a(3)),N=n(a(1211)),M=n(a(7)),D=n(a(1212)),x=(l=(0,O.decorator)({node:(0,T.state)(b),record:(0,T.state)(w)}),u=(0,I.default)(N.default),c=(0,M.default)(D.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={completedStyle:"completed-default"},n.addCompletedClass=function(e){e?n.setState({completedStyle:"completed-list "+e}):n.setState({completedStyle:"completed-list"})},i=a,o(n,i)}return i(t,S.default),y(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.node,n=t.record,r=a.type,o=a.subNodes,i=n.subItems;if(!o||o.length<=0)return null;var s=o.map(function(t){var a=(0,C.GetItemIdByType)(t),n=(0,P.get)(i,a);if(n&&n.completed){var r=t.type,o=t.title,s=t.points,l=(0,j.GetPointTotal)(s);return k.default.createElement("div",{key:"completed_node_"+a,className:e.ss("node-wrap")},k.default.createElement("div",{className:e.ss("completed-sub")},k.default.createElement("div",{className:e.ss("completed-sub-type")},e.__("completed_sub_"+r)),k.default.createElement("div",{className:e.ss("dot")}),k.default.createElement("div",{className:e.ss("completed-sub-title")},o)),k.default.createElement("div",{className:e.ss("completed-sub-point")},k.default.createElement("div",{className:e.ss("icon","ifont","ifont-icons-add")}),k.default.createElement("div",{className:e.ss("point")},e.__("completed_point",{point:l}))))}return null});return k.default.createElement("div",{className:this.ss("summary-completed")},k.default.createElement("div",{className:this.ss("completed-title")},this.__("completed_"+r)),k.default.createElement("div",{className:this.ss(""+this.state.completedStyle)},s),k.default.createElement(R,{subNodes:o,addCompletedClass:this.addCompletedClass}))}}]),t}(),f.propTypes={node:E.default.object,record:E.default.object,addCompletedClass:E.default.func},d=p))||d)||d)||d);t.default=x;var R=t.ChangeShowDetail=(m=(0,I.default)(N.default),h=(0,M.default)(D.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={addActive:"down-arrow",status:!1},n.changeParentClass=function(){n.props.addCompletedClass("completed-active"),n.setState({status:!0})},n.clearParentClass=function(){n.props.addCompletedClass(""),n.setState({status:!1})},i=a,o(n,i)}return i(t,S.default),y(t,[{key:"render",value:function(){var e=this,t=this.props.subNodes;return t&&t.length&&t.length>3?e.state.status?k.default.createElement("div",{className:e.ss("completed-detail")},k.default.createElement("span",{onClick:e.clearParentClass,className:e.ss("completed-text")},"Show less",k.default.createElement("div",{className:e.ss("down-arrow","active")}))):k.default.createElement("div",{className:e.ss("completed-detail")},k.default.createElement("div",{className:e.ss("completed-background")}),k.default.createElement("span",{onClick:e.changeParentClass,className:e.ss("completed-text")},"Show all",k.default.createElement("div",{className:e.ss("down-arrow")}))):null}}]),t}(),g.propTypes={addActive:E.default.string,status:E.default.bool,clearParentClass:E.default.func,changeParentClass:E.default.func,addCompletedClass:E.default.func,subNodes:E.default.array},_=v))||_)||_)},function(e,t){e.exports={"summary-completed":"summary-completed_16C3rGVj","completed-title":"completed-title_26aXriaF","completed-default":"completed-default_1mdbvTJG","completed-list":"completed-list_K0krqqBi","completed-active":"completed-active_30A0ZxV3","completed-detail":"completed-detail_QiIYuSUi","completed-background":"completed-background_Epssjbr-","down-arrow":"down-arrow_2vqo37Ux",active:"active_1qm17cbI","node-wrap":"node-wrap_ZHCfihKM","completed-sub":"completed-sub_xZXxaoWb","completed-sub-title":"completed-sub-title_3IaBEeXW",dot:"dot_mq8zjuO7","completed-sub-point":"completed-sub-point_3-rlXAAl"}},function(e,t){e.exports={completed_point:"completed_point_1DqL",completed_sub_tutorial:"completed_sub_tutorial_AxMh",completed_sub_quiz:"completed_sub_quiz_1jzh",completed_sub_project:"completed_sub_project_yOrQ",completed_project:"completed_project_qlS3",completed_course:"completed_course_2gc6"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["completion.feedbackForm"],["completion.feedbackForm"]),_=s(["httpAPI.",".updateStatus"],["httpAPI.",".updateStatus"]),g=s(["completion.changeScore"],["completion.changeScore"]),v=s(["completion.changeReason"],["completion.changeReason"]),y=s(["completion.changeDescription"],["completion.changeDescription"]),b=s(["completion.createFeedback"],["completion.createFeedback"]),w=s(["completion.skipFeedback"],["completion.skipFeedback"]),E=n(a(2)),k=n(a(0)),S=n(a(1)),O=a(6),T=a(5),P=a(4),j=n(a(139)),C=n(a(109)),I=n(a(16)),N=a(17),M=a(8),D=n(a(3)),x=n(a(1214)),R=n(a(7)),L=n(a(1215)),A=(l=(0,O.decorator)({feedbackForm:(0,T.state)(h),postFeedbackHTTPStatus:(0,T.state)(_,M.POST_FEEDBACK),changeScore:(0,T.signal)(g),changeReason:(0,T.signal)(v),changeDescription:(0,T.signal)(y),createFeedback:(0,T.signal)(b),skipFeedback:(0,T.signal)(w)}),u=(0,D.default)(x.default),c=(0,R.default)(L.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleInput=function(e){var t=e?e.target.value:"",a=n.props.changeDescription;a&&a({value:t})},i=a,o(n,i)}return i(t,S.default),m(t,[{key:"getEmoji",value:function(){return new Map([["angry",{source:a(1216),score:1}],["confused",{source:a(1217),score:2}],["neutral",{source:a(1218),score:3}],["smiling",{source:a(1219),score:4}],["starry",{source:a(1220),score:5}]])}},{key:"renderSelections",value:function(){var e=this,t=this.props,a=t.feedbackForm,n=t.changeScore,r=(0,P.get)(a,"score.value"),o=[];return this.getEmoji().forEach(function(t,a){var i=t.score,s=t.source,l=r===i?"emoji-selected":"";o.push(k.default.createElement("a",{key:a,className:e.ss("botton-"+a,"emoji-button",l),onClick:function(){return n({value:i})}},k.default.createElement("img",{className:e.ss("image"),src:s})))}),k.default.createElement("div",{className:this.ss("feedback-section")},o)}},{key:"renderOption",value:function(e){var t=e.label,a=e.value,n=this.props,r=n.feedbackForm,o=n.changeReason,i=(0,P.get)(r,"reason.value")===a;return k.default.createElement(j.default,{key:t,isChecked:i,size:"small",label:k.default.createElement("div",{className:this.ss("option-label")},this.__("option_"+t)),onCheck:function(){return o({value:a})}})}},{key:"renderForm",value:function(){var e=this,t=this.props,a=t.feedbackForm,n=t.skipFeedback,r=(0,P.get)(a,"score.value");if(!r)return k.default.createElement("div",{className:this.ss("button-wrap")},k.default.createElement("a",{className:this.ss("alink"),onClick:n},this.__("skip_and_continue")));var o=this.props,i=o.data,s=o.createFeedback,l=o.postFeedbackHTTPStatus,u=(0,P.get)(a,"description.value"),c=(((0,P.get)(M.FeedbackTypes,r)||[]).map(function(e){return{label:e,value:e}})||[]).map(function(t){return e.renderOption(t)});return k.default.createElement("div",{className:this.ss("feedback-form")},k.default.createElement("div",{className:this.ss("form-title")},this.__("why_content_good")),c,k.default.createElement("div",{className:this.ss("textarea")},k.default.createElement(C.default,{theme:"transparent",value:u,placeholder:this.__("discription_placeholder"),onChange:this.handleInput})),k.default.createElement("div",{className:this.ss("button-wrap","submit")},k.default.createElement(I.default,{loading:(0,N.isLoading)(l),label:this.__("feedback_submit"),onClick:function(){return s({data:i})}})))}},{key:"render",value:function(){var e=this.props.data.type;return k.default.createElement("div",{className:this.ss("summary-feedback")},k.default.createElement("div",{className:this.ss("feedback-title")},this.__("how_helpful_"+e)),this.renderSelections(),this.renderForm())}}]),t}(),f.propTypes={data:E.default.object,postFeedbackHTTPStatus:E.default.string,feedbackForm:E.default.object,changeScore:E.default.func,changeReason:E.default.func,changeDescription:E.default.func,createFeedback:E.default.func,skipFeedback:E.default.func},d=p))||d)||d)||d);t.default=A},function(e,t){e.exports={"summary-feedback":"summary-feedback_1KtCsTos","feedback-title":"feedback-title_1dGa4XqH","feedback-section":"feedback-section_1ghyh_ln","emoji-button":"emoji-button_23vmtmG1","emoji-selected":"emoji-selected_3lxLLuhv","feedback-form":"feedback-form_3cNYkKcA","form-title":"form-title_1E2TED1G","option-label":"option-label_3u_qlo0V",textarea:"textarea_2hl_4YdB","button-wrap":"button-wrap_1N7NDgv-",alink:"alink_3WyEIxD4"}},function(e,t){e.exports={option_confusing:"option_confusing_31ig",option_incomplete:"option_incomplete_1Hx9",option_boring:"option_boring_15An",option_technical:"option_technical_2P-4",option_advanced:"option_advanced_1MCQ",option_easy:"option_easy_33x2",option_out:"option_out_1Wj3",option_clear:"option_clear_16dH",option_engaging:"option_engaging_3Fqq",option_inspiring:"option_inspiring_2PEd",option_provided:"option_provided_1m58",option_well:"option_well_RLa4",skip_and_continue:"skip_and_continue_3x8i",why_content_good:"why_content_good_11hM",feedback_submit:"feedback_submit_3jR-",discription_placeholder:"discription_placeholder_2p1J",how_helpful_tutorial:"how_helpful_tutorial_3ODD",how_helpful_project:"how_helpful_project_Zx2Y",how_helpful_course:"how_helpful_course_1cqQ"}},function(e,t,a){e.exports=a.p+"../styles/i/emojis/angry.b56f35958730dec53e19b7f79a01b6d1.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/confused.7cab25602cec7f16d2e7045400d416f3.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/neutral.82212bb20585d34c6eea6c9f909cb3f2.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/smiling.84e9a4a4423832a2d101388a94161cff.png"},function(e,t,a){e.exports=a.p+"../styles/i/emojis/starry.da2cb79e5cc83a43dd5b52c9015640a3.png"},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["quizData.questions"],["quizData.questions"]),_=s(["quizData.recommendMap"],["quizData.recommendMap"]),g=s(["completion.current.record"],["completion.current.record"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=a(4),S=n(a(33)),O=n(a(1141)),T=n(a(30)),P=a(872),j=n(a(52)),C=n(a(37)),I=n(a(708)),N=n(a(3)),M=n(a(1224)),D=n(a(7)),x=n(a(1225)),R=(l=(0,w.decorator)({questions:(0,E.state)(h),recommendMap:(0,E.state)(_),record:(0,E.state)(g)}),u=(0,N.default)(M.default),c=(0,D.default)(x.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={itemPos:0},a.onClick=function(e,t){e.preventDefault(),a.setState({itemPos:t})},a.renderItem=function(e){var t=a.props.record,n=e.index,r=e.item,o=r.id,i=r.options,s=r.quizFeedback,l=(0,k.get)(t,"answers."+o+".questionAnswers"),u=(0,k.get)(t,"answers."+o+".correct"),c=[];i.forEach(function(e){var t=(0,k.get)(e,"id"),a=(0,k.get)(e,"body");(0,k.get)(l,t)&&c.push(y.default.createElement(P.QuizEditor,{key:"question_option_"+t,theme:"quiz-option",value:a,renderOnly:!0,editorKey:"summary_quiz_question_option_"+t}))});var d=c.length>0,f=n+1,p=u?"question_correct":"question_incorrect",m=u?"ifont-icon-complete":"ifont-icon-close",h=u?(0,k.get)(s,"correct"):(0,k.get)(s,"wrong");return y.default.createElement(T.default,{className:a.ss("scroller")},y.default.createElement("div",{key:"question-item-"+o,className:a.ss("slider-item")},y.default.createElement("div",{className:a.ss("item-status")},y.default.createElement("div",{className:a.ss("item-icon","icon","ifont",m,u&&"correct-icon")})),y.default.createElement("div",{className:a.ss("item-content")},y.default.createElement("div",{className:a.ss("question-title","item-line")},y.default.createElement("div",null,a.__("question_index",{index:f})),y.default.createElement("div",null,a.renderQuestion(r))),d&&y.default.createElement("div",{className:a.ss("question-answer","item-line")},y.default.createElement("div",{className:a.ss("answer-align")},a.__("question_answer")),y.default.createElement("div",null,c)),!!h&&y.default.createElement("div",{className:a.ss("question-feedback","item-line")},y.default.createElement("div",{className:a.ss("feedback-align",u&&"correct")},a.__(p)),y.default.createElement(j.default,{theme:"question-option",value:h,editorKey:"summaryQuizQuestionFeedback_"+o,renderOnly:!0})),a.renderQuestionRecommend(o,u)),a.renderMaskSwitcher(n)))},a.renderItem=a.renderItem.bind(a),a}return i(t,b.default),m(t,[{key:"renderResults",value:function(){return null}},{key:"renderQuestion",value:function(e){var t=(0,k.get)(e,"id"),a=(0,k.get)(e,"body");return y.default.createElement(P.QuizEditor,{key:"quiz_question_"+t,value:a,renderOnly:!0,editorKey:"summary_quiz_question_"+t})}},{key:"renderSliderDots",value:function(){for(var e=this,t=this.state.itemPos,a=this.props.questions.length,n=new Array(a),r=0;r<a;r++)!function(a){n[a]=y.default.createElement("li",{key:a,className:e.ss(a===t&&"active"),onClick:function(){e.setState({itemPos:a})}},y.default.createElement("div",null))}(r);return y.default.createElement("div",{className:this.ss("slider-dot")},n)}},{key:"renderQuestionRecommend",value:function(e,t){var a=this.props,n=a.recommendMap,r=a.statsPath,o=(0,k.get)(n,e);if(!o||t)return null;var i=o.id,s=o.title,l=o.type;return y.default.createElement("div",{className:this.ss("question-recommend")},y.default.createElement("div",{className:this.ss("recommend-tip")},this.__("question_recommend")),y.default.createElement("div",{className:this.ss("recommend-row")},y.default.createElement(C.default,{id:i,type:l,size:"small",theme:"label",label:s,statsPath:r})),y.default.createElement("div",{className:this.ss("sub-title-wrap")},y.default.createElement(S.default,{data:o,size:"small"})))}},{key:"renderMaskSwitcher",value:function(e){var t=this,a=this.state.itemPos;return e===a?null:y.default.createElement("div",{className:this.ss("content-set-mask"),onClick:function(a){return t.onClick(a,e)}})}},{key:"render",value:function(){var e=this.props.questions;if(!e||e.length<=0)return null;var t=this.state.itemPos;return y.default.createElement("div",{className:this.ss("summary-quiz")},y.default.createElement(O.default,{theme:"summary"}),y.default.createElement("div",{className:this.ss("quiz-title")},this.__("quiz_results")),y.default.createElement(I.default,{items:e,itemPos:t,pageSize:1,renderItem:this.renderItem}),this.renderResults(),this.renderSliderDots())}}]),t}(),f.propTypes={record:v.default.object,questions:v.default.array,recommendMap:v.default.object,statsPath:v.default.string.isRequired},d=p))||d)||d)||d);t.default=R},function(e,t){e.exports={"quiz-status":"quiz-status_2FCWuOXl","score-tip":"score-tip_OZ2e2_OC","score-result":"score-result_1T5iV1CE",score:"score_KxuIds6L","score-state":"score-state_2Q9o7f9F",passed:"passed_1J8NboCS",dot:"dot_2rfNWdjO","score-percent":"score-percent_SLiQbc9m",summary:"summary_2pcsg75z","score-collect":"score-collect_1VuiqoSc","score-best":"score-best_gLSUkayV","button-wrap":"button-wrap_23okMxL-"}},function(e,t){e.exports={quiz_default_notPass:"quiz_default_notPass_2lHd",quiz_default_pass:"quiz_default_pass_39gd",quiz_default_perfect:"quiz_default_perfect_3rUP",quiz_summary_notPass:"quiz_summary_notPass_2aYp",quiz_summary_pass:"quiz_summary_pass_3Y-3",quiz_summary_perfect:"quiz_summary_perfect_3etq",quiz_retake_msg:"quiz_retake_msg_3lJS",attempted:"attempted_c41S",passed:"passed_17to",correctly_to_pass:"correctly_to_pass_3VTl",best_answer:"best_answer_35vK",retake_min:"retake_min_oVl6",retake_sec:"retake_sec_2r6J"}},function(e,t){e.exports={"summary-quiz":"summary-quiz_1mPZ0rvK","quiz-title":"quiz-title_EXeexCVS",scroller:"scroller_r4kc5MZJ","content-set-mask":"content-set-mask_1j7kjiPr","slider-item":"slider-item_19Cq4MmU","item-status":"item-status_3nTWAEpJ","item-icon":"item-icon_3y-bv4Y5","correct-icon":"correct-icon_24-5k_ab","item-content":"item-content_23bNDImH","item-line":"item-line_aq1NvlVm","question-title":"question-title_2vPC-2LC","question-answer":"question-answer_SrKmosDY","answer-align":"answer-align_3RwqL3x6","question-feedback":"question-feedback_1ZfnbzT8","feedback-align":"feedback-align_2ZxjupJS",correct:"correct_cxZJ3_0s","question-recommend":"question-recommend_3dl813x2","recommend-tip":"recommend-tip_3GMAluBp","recommend-row":"recommend-row_2KHlZqRT","sub-title-wrap":"sub-title-wrap_1wmoqp6n","slider-dot":"slider-dot_XUYVZhxj",active:"active_1Iq3VBx_"}},function(e,t){e.exports={quiz_results:"quiz_results_GRIZ",question_index:"question_index_-Abw",question_answer:"question_answer_2sQX",question_correct:"question_correct_3iH_",question_incorrect:"question_incorrect_3kYB",question_recommend:"question_recommend_2JqZ"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["breadcrumb.skillMap"],["breadcrumb.skillMap"]),_=s(["completion.current.competencyIds"],["completion.current.competencyIds"]),g=s(["completion.current.competencyMap"],["completion.current.competencyMap"]),v=n(a(2)),y=n(a(0)),b=n(a(1)),w=a(6),E=a(5),k=a(4),S=n(a(3)),O=n(a(1227)),T=n(a(7)),P=n(a(1228)),j=(l=(0,w.decorator)({skillMap:(0,E.state)(h),competencyIds:(0,E.state)(_),competencyMap:(0,E.state)(g)}),u=(0,S.default)(O.default),c=(0,T.default)(P.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,b.default),m(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.competencyIds,n=t.competencyMap,r=t.skillMap;if(!a||a.length<=0)return null;var o=a.map(function(t,a){var o=(0,k.get)(n,t);if(!o)return null;var i=(0,k.get)(o,"title"),s=((0,k.get)(o,"skillIds")||[]).map(function(t){var a=(0,k.get)(r,t);if(!a)return null;var n=(0,k.get)(a,"title");return y.default.createElement("div",{className:e.ss("sub-skill-wrap"),key:"sub_skill_"+t},n)});return y.default.createElement("div",{className:e.ss("skill-wrap"),key:"skill_"+t+"_"+a},y.default.createElement("div",{className:e.ss("skill-title")},i),y.default.createElement("div",{className:e.ss("sub-skills")},s))});return y.default.createElement("div",{className:this.ss("summary-skill")},y.default.createElement("div",{className:this.ss("summary-title")},this.__("skills_practiced")),y.default.createElement("div",{className:this.ss("skills")},o))}}]),t}(),f.propTypes={skillMap:v.default.object,competencyIds:v.default.array,competencyMap:v.default.object},d=p))||d)||d)||d);t.default=j},function(e,t){e.exports={"summary-skill":"summary-skill_2FzwBQpY","summary-title":"summary-title_rYpNyakI",skills:"skills_1cZhQPOv","skill-wrap":"skill-wrap_3FoiCVdI","skill-title":"skill-title_2DsU0stE","sub-skill-wrap":"sub-skill-wrap_2J3EHoby"}},function(e,t){e.exports={skills_practiced:"skills_practiced_3V86"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["submissionData"],["submissionData"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=a(75),w=n(a(3)),E=n(a(1230)),k=n(a(7)),S=n(a(1231)),O=(s=(0,v.decorator)({submissionData:(0,y.state)(m)}),l=(0,w.default)(E.default),u=(0,k.default)(S.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"render",value:function(){var e=this.props.submissionData;return e?_.default.createElement("div",{className:this.ss("summary-submission")},_.default.createElement("div",{className:this.ss("submission-title")},this.__("thanks_for_submission")),_.default.createElement("div",{className:this.ss("submission-card")},_.default.createElement(b.SubmissionCard,{submission:e,preview:!0}))):null}}]),t}(),d.propTypes={submissionData:h.default.object},c=f))||c)||c)||c);t.default=O},function(e,t){e.exports={"summary-submission":"summary-submission_2TRqYQEz","submission-title":"submission-title_1tIKNp6y"}},function(e,t){e.exports={thanks_for_submission:"thanks_for_submission_1D7f"}},function(e,t){e.exports={container:"container_1RTZ_Kn1",close:"close_D3WtYllm","button-close":"button-close_3Mz1zkoE",icon:"icon_9QXsnzuK","summary-wrap":"summary-wrap_264BSiek",title:"title_Pamsf-Zm","summary-retake":"summary-retake_2tx6nwTS"}},function(e,t){e.exports={}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.RewardItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["completion.assetEarnedDialog.open"],["completion.assetEarnedDialog.open"]),w=s(["completion.assetEarnedDialog.assets"],["completion.assetEarnedDialog.assets"]),E=s(["completion.closeAssetEarnedDialog"],["completion.closeAssetEarnedDialog"]),k=s(["completion.openNextTransition"],["completion.openNextTransition"]),S=n(a(2)),O=n(a(0)),T=n(a(1)),P=a(6),j=a(5),C=a(4),I=n(a(32)),N=n(a(15)),M=n(a(16)),D=n(a(3)),x=n(a(1235)),R=n(a(7)),L=n(a(1236)),A=(l=(0,P.decorator)({open:(0,j.state)(b),assets:(0,j.state)(w),closeDialog:(0,j.signal)(E),openNextDialog:(0,j.signal)(k)}),u=(0,D.default)(x.default),c=(0,R.default)(L.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClose=function(){var e=n.props.closeDialog;e&&e()},n.handleContinue=function(){var e=n.props,t=e.closeDialog,a=e.openNextDialog;t&&t(),a&&a()},i=a,o(n,i)}return i(t,T.default),y(t,[{key:"renderAssets",value:function(){var e=this.props.assets,t=e&&e.map(function(e){return O.default.createElement(F,{key:"asset_reward_"+e.id,data:e})});return O.default.createElement("div",{className:this.ss("rewards")},t)}},{key:"render",value:function(){var e=this.props.open;return e?O.default.createElement(I.default,{open:e,position:"center",onCloseModal:this.handleClose,noScroller:!1},O.default.createElement("div",{className:this.ss("container")},O.default.createElement("div",{className:this.ss("close")},O.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},O.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),O.default.createElement("div",{className:this.ss("title")},this.__("assets_earned")),this.renderAssets(),O.default.createElement("div",{className:this.ss("button-wrap")},O.default.createElement(M.default,{label:"continue",onClick:this.handleContinue})))):null}}]),t}(),f.propTypes={open:S.default.bool,assets:S.default.array,closeDialog:S.default.func,openNextDialog:S.default.func},d=p))||d)||d)||d);t.default=A;var F=t.RewardItem=(m=(0,P.decorator)({}),h=(0,D.default)(x.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(){var e=n.props.data,t=(0,C.get)(e,"url");t&&windowOpen(""+t)},i=a,o(n,i)}return i(t,T.default),y(t,[{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=(0,C.get)(e,"image.url"),a=(0,C.get)(e,"title");return O.default.createElement("div",{className:this.ss("item-row-wrap"),onClick:this.handleClick},O.default.createElement("div",{className:this.ss("item-row")},O.default.createElement("div",{className:this.ss("row-img"),style:{width:153}},O.default.createElement(N.default,{src:t,sizes:"153px",width:153,height:90}))),O.default.createElement("div",{className:this.ss("row-content")},O.default.createElement("div",{className:this.ss("item-info")},O.default.createElement("div",{className:this.ss("item-title")},a))))}}]),t}(),g.propTypes={data:S.default.object.isRequired},_=v))||_)||_)},function(e,t){e.exports={container:"container_84KK2d4J",close:"close_2g0nb75M","button-close":"button-close_18_cmUhF",icon:"icon_3-uHzfwd",title:"title_R_kztL8H","button-wrap":"button-wrap_wXeL46XI",rewards:"rewards_3XM9fF3Z","item-row-wrap":"item-row-wrap_1Nrq_cYF","item-row":"item-row_3kBlY7vU","row-img":"row-img_34AV5pgr","row-content":"row-content_3cVRdLOS","item-title":"item-title_26RYbrq_"}},function(e,t){e.exports={assets_earned:"assets_earned_31vi",continue:"continue_ySjm"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.MissionItem=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["completion.missionDialog.open"],["completion.missionDialog.open"]),w=s(["completion.current.missions"],["completion.current.missions"]),E=s(["completion.closeMissionDialog"],["completion.closeMissionDialog"]),k=s(["completion.openNextTransition"],["completion.openNextTransition"]),S=s(["learner.setVisitRecord"],["learner.setVisitRecord"]),O=n(a(2)),T=n(a(0)),P=n(a(1)),j=a(6),C=a(5),I=a(4),N=n(a(32)),M=n(a(15)),D=n(a(33)),x=n(a(3)),R=n(a(1238)),L=n(a(7)),A=n(a(1239)),F=(l=(0,j.decorator)({open:(0,C.state)(b),missions:(0,C.state)(w),closeDialog:(0,C.signal)(E),openNextDialog:(0,C.signal)(k)}),u=(0,x.default)(R.default),c=(0,L.default)(A.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClose=function(){var e=n.props.closeDialog;e&&e()},n.handleContinue=function(){var e=n.props,t=e.closeDialog,a=e.openNextDialog;t&&t(),a&&a()},i=a,o(n,i)}return i(t,P.default),y(t,[{key:"renderMissions",value:function(){var e=this.props.missions,t=e&&e.map(function(e){return T.default.createElement(K,{key:"mission_"+e.id,data:e})});return T.default.createElement("div",{className:this.ss("missions")},t)}},{key:"render",value:function(){var e=this.props,t=e.open,a=e.missions;if(!t)return null;var n=1===a.length?"mission_start":"mission_select";return T.default.createElement(N.default,{open:t,position:"center",onCloseModal:this.handleClose,noScroller:!1},T.default.createElement("div",{className:this.ss("container")},T.default.createElement("div",{className:this.ss("close")},T.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},T.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),T.default.createElement("div",{className:this.ss("title")},this.__(n)),this.renderMissions()))}}]),t}(),f.propTypes={open:O.default.bool,missions:O.default.array,closeDialog:O.default.func,openNextDialog:O.default.func},d=p))||d)||d)||d);t.default=F;var K=t.MissionItem=(m=(0,j.decorator)({setVisitRecord:(0,C.signal)(S)}),h=(0,x.default)(R.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(){var e=n.props,t=e.data,a=e.setVisitRecord;t&&a&&a({next:t})},i=a,o(n,i)}return i(t,P.default),y(t,[{key:"renderCompetencies",value:function(){var e=this,t=this.props.data,a=(0,I.get)(t,"competencyMap")||{},n=((0,I.get)(t,"competencyIds")||[]).map(function(t){var n=a[t],r=(0,I.get)(n,"title");return T.default.createElement("div",{key:"competency-"+t,className:e.ss("competency-item","dot")},r)});return T.default.createElement("div",{className:this.ss("competency-wrap")},n)}},{key:"render",value:function(){var e=this.props.data;if(!e)return null;var t=(0,I.get)(e,"thumbnail.url"),a=(0,I.get)(e,"title");return T.default.createElement("div",{className:this.ss("item-row-wrap"),onClick:this.handleClick},T.default.createElement("div",{className:this.ss("item-row")},T.default.createElement("div",{className:this.ss("row-img"),style:{width:325}},T.default.createElement(M.default,{src:t,sizes:"325px",width:325,height:161}))),T.default.createElement("div",{className:this.ss("row-content")},T.default.createElement("div",{className:this.ss("item-info")},T.default.createElement("div",{className:this.ss("item-title")},a),T.default.createElement("div",{className:this.ss("subtitle-wrap")},T.default.createElement(D.default,{data:e})),this.renderCompetencies())))}}]),t}(),g.propTypes={data:O.default.object.isRequired,setVisitRecord:O.default.func},_=v))||_)||_)},function(e,t){e.exports={container:"container_3IS9f_aM",close:"close_20xwUVoX","button-close":"button-close_1xuy9Uf-",icon:"icon_2Bp2RuzR",title:"title_AnzkwAOL",missions:"missions_3ltzBQRA","item-row-wrap":"item-row-wrap_2FY_DFFw","item-row":"item-row_gM7yEm5n","row-img":"row-img_zbc6hcNL","row-content":"row-content_3e4H3DjZ","item-title":"item-title_3eS5BpzU","subtitle-wrap":"subtitle-wrap_3j_bOypS","competency-wrap":"competency-wrap_31OM0zBG","competency-item":"competency-item_2LoivIAf",dot:"dot_30vR-dmM"}},function(e,t){e.exports={mission_start:"mission_start_cNhm",mission_select:"mission_select_3Nyl"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,c,d,f,p,m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=s(["completion.overlayDialog.open"],["completion.overlayDialog.open"]),_=s(["completion.overlayDialog.overlay"],["completion.overlayDialog.overlay"]),g=s(["otherPathway"],["otherPathway"]),v=s(["completion.closeOverlayDialog"],["completion.closeOverlayDialog"]),y=n(a(2)),b=n(a(0)),w=n(a(1)),E=a(6),k=a(5),S=a(4),O=n(a(273)),T=n(a(32)),P=n(a(16)),j=n(a(1142)),C=n(a(44)),I=n(a(708)),N=n(a(559)),M=n(a(3)),D=n(a(1243)),x=n(a(7)),R=n(a(1244)),L=2,A=(l=(0,E.decorator)({open:(0,k.state)(h),overlay:(0,k.state)(_),otherPathway:(0,k.state)(g),closeDialog:(0,k.signal)(v)}),u=(0,M.default)(D.default),c=(0,x.default)(R.default),l(d=u(d=c((p=f=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClick=function(e,t){e.preventDefault();var n=Math.floor(t/L);a.setState({itemPos:n})},a.onCopy=function(e){e.preventDefault();var t=a.props.overlay,n=(0,S.get)(t,"competencyIds"),r=(0,S.get)(t,"competencyMap");if(n&&!(n.length<=0)){var o=n.map(function(e){var t=(0,S.get)(r,e),a=(0,S.get)(t,"title"),n=(0,S.get)(t,"skillIds"),o=(0,S.get)(t,"learnSkillMap");return a+"\n"+(n&&n.map(function(e){var t=(0,S.get)(o,e);return"  "+(0,S.get)(t,"title")})).join("\n")});(0,O.default)(o.join("\n"))}},a.handleClose=function(){var e=a.props.closeDialog;e&&e()},a.state={itemPos:0},a.renderSubmissionItem=a.renderSubmissionItem.bind(a),a}return i(t,w.default),m(t,[{key:"renderClaimStep",value:function(){return b.default.createElement("div",{className:this.ss("step-content")},b.default.createElement("div",{className:this.ss("step-title")},this.__("step_title_claim")),b.default.createElement("div",{className:this.ss("step-description")},this.__("step_description_claim")))}},{key:"renderUpdateStep",value:function(){var e=this,t=this.props.overlay,a=(0,S.get)(t,"competencyIds"),n=(0,S.get)(t,"competencyMap"),r=a&&a.map(function(t){var a=(0,S.get)(n,t),r=(0,S.get)(a,"title"),o=(0,S.get)(a,"skillIds"),i=(0,S.get)(a,"learnSkillMap"),s=o&&o.map(function(t){var a=(0,S.get)(i,t),n=(0,S.get)(a,"title");return b.default.createElement("div",{key:"skill_"+t,className:e.ss("skill-title")},n)});return b.default.createElement("div",{key:"competency_"+t,className:e.ss("skill")},b.default.createElement("div",{className:e.ss("competency-title")},r),b.default.createElement("div",{className:e.ss("skill-list")},s))});return b.default.createElement("div",{className:this.ss("step-content")},b.default.createElement("div",{className:this.ss("step-title")},this.__("step_title_update")),b.default.createElement("div",{className:this.ss("step-description")},this.__("step_description_update")),b.default.createElement("div",{className:this.ss("skills-content")},b.default.createElement("div",{className:this.ss("button-wrap")},b.default.createElement(P.default,{label:this.__("skill_copy"),size:"small",onClick:this.onCopy})),b.default.createElement("div",{className:this.ss("skill-block")},r)))}},{key:"renderMaskSwitcher",value:function(e){var t=this,a=this.state.itemPos;return Math.floor(e/L)===a?null:b.default.createElement("div",{className:this.ss("submission-item-mask"),onClick:function(a){return t.onClick(a,e)}})}},{key:"renderSubmissionItem",value:function(e){var t=e.item,a=e.index;return b.default.createElement("div",{className:this.ss("submission-item-wrapper")},b.default.createElement("div",{className:this.ss("submission-item")},b.default.createElement(N.default,{submission:t,size:"small"})),this.renderMaskSwitcher(a))}},{key:"renderShareStep",value:function(){var e=this.props.overlay,t=this.state.itemPos,a=(0,S.get)(e,"submissions")||[];return 0===a.length?null:b.default.createElement("div",{className:this.ss("step-content")},b.default.createElement("div",{className:this.ss("step-title")},this.__("step_title_share")),b.default.createElement("div",{className:this.ss("step-description")},this.__("step_description_share")),b.default.createElement("div",{className:this.ss("submissions")},b.default.createElement(I.default,{items:a,itemPos:t,pageSize:L,renderItem:this.renderSubmissionItem})))}},{key:"renderSkillRecommendations",value:function(){var e=this.props.overlay,t=(0,S.get)(e,"tutorials");return!t||t.length<=0?null:b.default.createElement("div",{className:this.ss("step-content","step-line")},b.default.createElement("div",{className:this.ss("step-title")},this.__("step_title_skill")))}},{key:"renderPathwayRecommendations",value:function(){var e=this,t=this.props.otherPathway,a=(0,S.get)(t,"itemIds"),n=(0,S.get)(t,"pathwayMap");if(!a||a.length<=0)return null;var r=a.map(function(t){var a=(0,S.get)(n,t);return b.default.createElement("div",{key:"pathway_"+t,className:e.ss("slider-content")},b.default.createElement(j.default,{statsPath:"otherPathway",pathway:a}))});return b.default.createElement("div",{className:this.ss("step-content","step-line")},b.default.createElement("div",{className:this.ss("step-title")},this.__("step_title_pathway")),b.default.createElement("div",{className:this.ss("step-slider")},r))}},{key:"renderCompleteVideo",value:function(){var e=this.props.overlay,t=(0,S.get)(e,"completeVideo");return t?b.default.createElement("div",{className:this.ss("complete-video")},b.default.createElement("div",{className:this.ss("player")},b.default.createElement(C.default,{theme:"overview",videoContent:t}))):null}},{key:"render",value:function(){var e=this.props.open;return e?b.default.createElement(T.default,{open:e,position:"center",onCloseModal:this.handleClose,noScroller:!1},b.default.createElement("div",{className:this.ss("container")},b.default.createElement("div",{className:this.ss("close")},b.default.createElement("button",{className:this.ss("button-close"),onClick:this.handleClose},b.default.createElement("div",{className:this.ss("icon","ifont","ifont-icon-close")}))),b.default.createElement("div",{className:this.ss("head-title")},this.__("title_head")),b.default.createElement("div",{className:this.ss("title")},this.__("title_next")),this.renderCompleteVideo(),this.renderClaimStep(),this.renderUpdateStep(),this.renderShareStep(),this.renderSkillRecommendations(),this.renderPathwayRecommendations())):null}}]),t}(),f.propTypes={open:y.default.bool,overlay:y.default.object,otherPathway:y.default.object,closeDialog:y.default.func},d=p))||d)||d)||d);t.default=A},function(e,t){e.exports={"pathway-wrapper":"pathway-wrapper_x6qhAZw_",dark:"dark_1DoO7NzP","pathway-card":"pathway-card_3fX3GtLA","card-content":"card-content_6MWMRQff","content-des":"content-des_1044r1Dw",title:"title_2acvzIq0","card-link":"card-link_3m3o8b8e","card-img":"card-img_2b5hqtAI","collect-wrap":"collect-wrap_1ffQGeKx",info:"info_1xL4yti5"}},function(e,t){e.exports={}},function(e,t){e.exports={container:"container_24na99cb",close:"close_GljXQpqq","button-close":"button-close_qzPq583a",icon:"icon_3YNhXkiD","head-title":"head-title_1_DsnGyP",title:"title_2UeEkVoS","complete-video":"complete-video_2qOpEgOy","completion-title":"completion-title_38IGvVAW","button-wrap":"button-wrap_TjZPi8nH","step-content":"step-content_2ckcZ3Zr","step-line":"step-line_26KoPrhB","step-title":"step-title_qVJYV50L","step-description":"step-description_33Zqau9R","step-slider":"step-slider_3lDwYRhk","slider-content":"slider-content_3Nw-Z2TI","skills-content":"skills-content_YVTnNMIB","skill-block":"skill-block_3lPwA1Fm","competency-title":"competency-title_3_OKjS8b","skill-title":"skill-title_2bT6BXnY",submissions:"submissions_1kqaxYKz","submission-item-wrapper":"submission-item-wrapper_1DlTFBwz","submission-item-mask":"submission-item-mask_gE4G2yVh"}},function(e,t){e.exports={title_head:"title_head_3Iye",title_next:"title_next_JHF_",step_title_claim:"step_title_claim_36qB",step_title_update:"step_title_update_hzbr",step_title_share:"step_title_share_2_qb",step_title_skill:"step_title_skill_3KQm",step_title_pathway:"step_title_pathway_3By4",step_description_claim:"step_description_claim_279H",step_description_update:"step_description_update_1pDS",step_description_share:"step_description_share_88oW",skill_copy:"skill_copy_2TFk"}},function(e,t){},function(e,t){e.exports={}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(220)),o=n(a(221)),i=n(a(87)),s=n(a(88)),l=[r.default,o.default,i.default,s.default];t.default={tutorial:l}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["breadcrumb"],["breadcrumb"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=a(4),w=a(9),E=n(a(3)),k=n(a(1535)),S=n(a(7)),O=n(a(1536)),T=(s=(0,v.decorator)({breadcrumb:(0,y.state)(m)}),l=(0,E.default)(k.default),u=(0,S.default)(O.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"renderParent",value:function(){var e=this.props,t=e.data,a=e.breadcrumb,n=(0,b.get)(t,"parentIds")||[],r=(0,b.get)(a,"selectedIds")||[];if(0===n.length||r.length<=1)return null;var o=r[r.length-2],i=(0,b.get)(t,"parentMap"),s=(0,w.GetDataByItemId)({itemId:o,courseMap:i,projectMap:i});if(!s)return null;var l=s.type,u=s.title;return _.default.createElement("div",{className:this.ss("parent")},_.default.createElement("div",{className:this.ss("type")},this.__("type_"+l)),_.default.createElement("div",{className:this.ss("title")},u))}},{key:"renderTitle",value:function(){var e=this.props.data.title;return _.default.createElement("div",{className:this.ss("content-title")},e)}},{key:"render",value:function(){return _.default.createElement("div",{className:this.ss("content")},this.renderParent(),this.renderTitle())}}]),t}(),d.propTypes={data:h.default.object.isRequired,breadcrumb:h.default.object},c=f))||c)||c)||c);t.default=T},,,,,,,,,,,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.NextLearnContentButton=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["option.unityVersionId"],["option.unityVersionId"]),E=s(["learner.recordMap.",""],["learner.recordMap.",""]),k=s(["data.id"],["data.id"]),S=s(["completion.startCompletion"],["completion.startCompletion"]),O=s(["common.uv"],["common.uv"]),T=s(["breadcrumb.nextUncompleted"],["breadcrumb.nextUncompleted"]),P=s(["checkpointRequired"],["checkpointRequired"]),j=s(["currentHost"],["currentHost"]),C=s(["locale"],["locale"]),I=s(["learner.setVisitRecord"],["learner.setVisitRecord"]),N=n(a(2)),M=n(a(0)),D=n(a(1)),x=a(6),R=a(5),L=a(4),A=n(a(16)),F=n(a(1332)),K=n(a(627)),q=a(12),z=n(a(3)),B=n(a(1537)),U=n(a(7)),H=n(a(1538)),V=(l=(0,x.decorator)({versionId:(0,R.state)(w),record:(0,R.state)(E,(0,R.props)(k)),startCompletion:(0,R.signal)(S)}),u=(0,z.default)(B.default),c=(0,U.default)(H.default),l(d=u(d=c((p=f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,D.default),b(t,[{key:"componentWillReceiveProps",value:function(e){if(e.record!==this.props.record){var t=this.props.startCompletion;t&&t({data:this.props.data})}}},{key:"renderButtons",value:function(){var e=this.props,t=e.data,a=e.record,n=e.versionId,r=(0,L.get)(t,"id"),o=(0,L.get)(t,"type"),i=(0,L.get)(a,"completed")||!1?"continue_without_start_again":"continue_without_complete";return M.default.createElement("div",{className:this.ss("card-buttons")},M.default.createElement("div",{className:this.ss("button-complete-all")},M.default.createElement(K.default,{id:r,type:o,versionId:n,theme:"architecture"})),M.default.createElement(G,{label:this.__(i)}))}},{key:"render",value:function(){var e=this.props.data;return M.default.createElement("div",{className:this.ss("card-wrap")},M.default.createElement("div",{className:this.ss("card")},M.default.createElement(F.default,{data:e}),this.renderButtons()))}}]),t}(),f.propTypes={data:N.default.object.isRequired,versionId:N.default.string,record:N.default.object,startCompletion:N.default.func},d=p))||d)||d)||d);t.default=V;var G=t.NextLearnContentButton=(m=(0,x.decorator)({uv:(0,R.state)(O),nextUncompleted:(0,R.state)(T),checkpointRequired:(0,R.state)(P),currentHost:(0,R.state)(j),locale:(0,R.state)(C),setVisitRecord:(0,R.signal)(I)}),h=(0,z.default)(B.default),_=(0,U.default)(H.default),m(g=h(g=_((y=v=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.handleClick=function(e){e&&(0,q.pauseEvent)(e);var t=n.props,a=t.nextUncompleted,r=t.setVisitRecord,o=t.checkpointRequired;r&&r({next:a,checkpointRequired:o})},i=a,o(n,i)}return i(t,D.default),b(t,[{key:"renderButton",value:function(){var e=this.props,t=e.theme,a=e.label;return"link"===t?M.default.createElement("a",{className:this.ss("alink"),onClick:this.handleClick},a):M.default.createElement(A.default,{widthStyle:"full",theme:"blue-border",label:a,onClick:this.handleClick})}},{key:"render",value:function(){return this.props.nextUncompleted?M.default.createElement("div",{className:this.ss("next-content-button")},this.renderButton()):null}}]),t}(),v.propTypes={uv:N.default.string,nextUncompleted:N.default.object,label:N.default.string,currentHost:N.default.string,checkpointRequired:N.default.bool,locale:N.default.string,theme:N.default.oneOf(["link","button"]),setVisitRecord:N.default.func},v.defaultProps={theme:"link"},g=y))||g)||g)||g)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={content:"content_35GFVG5p","content-title":"content-title_fkbcQqYb",parent:"parent_1uN5Bzs1",type:"type_lBKyOP3a"}},function(e,t){e.exports={type_course:"type_course_3lbP",type_project:"type_project_1bfI"}},function(e,t){e.exports={"card-wrap":"card-wrap_1EBJOggb",card:"card_1ABkdWs2","card-buttons":"card-buttons_NVxxbh57","button-complete-all":"button-complete-all_3MD56Ex1","button-wrap":"button-wrap_1ngeJGCX","next-content-button":"next-content-button_ECHb96VY",alink:"alink_32Y_hGwZ"}},function(e,t){e.exports={continue_without_complete:"continue_without_complete_3BHg",continue_without_start_again:"continue_without_start_again_3dTq"}},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[function(e){return e&&e.__esModule?e:{default:e}}(a(1544)).default];t.default={upload:n}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(0,a(362).GetUploadStore)({attachmentsAPIPath:"/api/learn/learner/upload/attachments",apiPath:{videoattachment:"/api/learn/learner/upload/videoattachment",video:"/api/learn/learner/upload/video",image:"/api/learn/learner/upload/image",audio:"/api/learn/learner/upload/audio",model3d:"/api/learn/learner/upload/sketchfab",assetstore:"/api/learn/learner/upload/asset"},JSONTypes:["video","audio","model3d","assetstore"]});t.default=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){a(483),e.exports=a(2338)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(a(484)),o=n(a(2339)),i=n(a(225)),s=n(a(289)),l=n(a(1277)),u=n(a(466)),c=n(a(1543)),d=n(a(599)),f=n(a(371)),p=n(a(427)),m=n(a(279)),h=n(a(755)),_=n(a(752)),g=n(a(766)),v=n(a(1045)),y=n(a(1046));t.default=(0,r.default)({modules:[i.default,s.default,l.default,u.default,c.default,d.default,f.default,p.default,m.default,h.default,_.default,g.default,v.default,y.default],component:o.default})},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CompleteIcon=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=s(["loginUser"],["loginUser"]),w=s(["paymentRequired"],["paymentRequired"]),E=s(["tutorialData"],["tutorialData"]),k=s(["tutorial.solutionPlan"],["tutorial.solutionPlan"]),S=s(["option.unityVersionId"],["option.unityVersionId"]),O=s(["learner.recordMap"],["learner.recordMap"]),T=s(["httpAPI.",""],["httpAPI.",""]),P=s(["search"],["search"]),j=s(["common.loadingUVData"],["common.loadingUVData"]),C=s(["header.setWindowSize"],["header.setWindowSize"]),I=s(["common.syncNextMissions"],["common.syncNextMissions"]),N=s(["tutorial.getTutorialExtends"],["tutorial.getTutorialExtends"]),M=s(["learner.postStepScrollRecord"],["learner.postStepScrollRecord"]),D=s(["learner.postScrollRecord"],["learner.postScrollRecord"]),x=s(["learner.syncRecordNextData"],["learner.syncRecordNextData"]),R=s(["learner.syncUncompleted"],["learner.syncUncompleted"]),L=s(["learner.recordMap.",""],["learner.recordMap.",""]),A=s(["id"],["id"]),F=n(a(2)),K=n(a(0)),q=n(a(20)),z=n(a(1)),B=a(6),U=a(5),H=a(4),V=a(1038),G=n(a(600)),W=n(a(878)),Q=n(a(633)),J=n(a(634)),Y=n(a(541)),X=n(a(452)),Z=n(a(533)),$=n(a(635)),ee=n(a(506)),te=n(a(465)),ae=n(a(514)),ne=a(75),re=n(ne),oe=a(275),ie=n(a(601)),se=n(a(2340)),le=n(a(1346)),ue=a(2343),ce=n(ue),de=n(a(1202)),fe=n(a(546)),pe=n(a(1039)),me=n(a(160)),he=a(44),_e=n(a(603)),ge=n(a(496)),ve=n(a(532)),ye=a(8),be=a(17),we=n(a(3)),Ee=n(a(2346)),ke=n(a(7)),Se=n(a(2347)),Oe=(l=(0,B.decorator)({loginUser:(0,U.state)(b),paymentRequired:(0,U.state)(w),tutorialData:(0,U.state)(E),solutionPlan:(0,U.state)(k),versionId:(0,U.state)(S),recordMap:(0,U.state)(O),getTutorialData:(0,U.state)(T,ye.GET_TUTORIAL_EXTENDS),search:(0,U.state)(P),loadingUVData:(0,U.state)(j),setWindowSize:(0,U.signal)(C),syncNextMissions:(0,U.signal)(I),getTutorialExtends:(0,U.signal)(N),postStepScrollRecord:(0,U.signal)(M),postScrollRecord:(0,U.signal)(D),syncRecordNextData:(0,U.signal)(x),syncUncompleted:(0,U.signal)(R)}),u=(0,we.default)(Ee.default),c=(0,ke.default)(Se.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={stepId:"",active:!1,expanded:!1},n.onScroll=function(e){var t=e.scrollTop,a=n.state,r=a.stepId,o=a.positions,i=void 0===o?[]:o,s=a.stepIndexs,l=void 0===s?{}:s;if(0!==i.length){var u=n.getStepIdByPosition(t);if(u!==r){var c=l[r],d=l[u];n.tryStartTutorial(),void 0!==c&&d>c&&n.tryAutoCompleteStep(r),n.setState({stepId:u});var f=(0,H.get)(window,"location",{}),p=""+f.origin+f.pathname+f.search+("#"+u);(0,ge.default)(p)}}},n.handleExpanded=function(){var e=n.state.expanded;n.setState({expanded:!e})},n.toggleContentFolded=function(){n.setState({active:!n.state.active})},n.isSubmission=function(e){return"submission"===(0,H.get)(e,"type")},i=a,o(n,i)}return i(t,z.default),y(t,[{key:"componentDidMount",value:function(){!0===(0,H.get)(this.props.tutorialData,"premium")&&(this.removeDisableCopyCutPaste=(0,ve.default)(this.refs.content)),this.props.getTutorialExtends&&this.props.getTutorialExtends()}},{key:"componentDidUpdate",value:function(){this.initialStepPositions();var e=this.props,t=e.tutorialData,a=e.syncRecordNextData,n=e.syncUncompleted,r=e.syncNextMissions;a({data:t}),n(),r()}},{key:"componentWillUnmount",value:function(){this.removeDisableCopyCutPaste&&this.removeDisableCopyCutPaste()}},{key:"onScrollEnd",value:function(){this.tryStartTutorial();var e=(0,H.get)(this.props.tutorialData,"sections")||[];if(e.length>0){var t=(0,H.get)(e[e.length-1],"id");this.tryAutoCompleteStep(t)}}},{key:"getStepIdByPosition",value:function(e){var t=this.state.positions,a=void 0===t?[]:t,n=this.props.tutorialData,r=(0,H.get)(n,"sections",[]);if(a.length>0){var o=a.length-1;if(e<a[0])return"";if(e>=a[o])return r[o].id;for(var i=0;i<o;i++)if(e>=a[i]&&e<a[i+1])return r[i].id}return""}},{key:"initialStepPositions",value:function(){var e=this,t=(0,H.get)(this.props.tutorialData,"sections")||[];if(!this.state.positions&&t.length>0){var a=this.state,n=a.positions,r=void 0===n?[]:n,o=a.stepIndexs,i=void 0===o?{}:o;t.forEach(function(t,a){var n=t.id,o=q.default.findDOMNode(e.refs["step_"+n]);if(o){var s=o.offsetTop;r.push(Math.max(0,s-128)),i[n]=a}}),this.setState({positions:r,stepIndexs:i},function(){var t=(0,H.get)(window,"location.hash","").substring(1);t&&(e.setState({stepId:t}),e.scrollToStep({itemId:t}))})}}},{key:"scrollToStep",value:function(e){var t=e.itemId;if(this.refs.page)if(-1===t)this.refs.page.scrollTo(0);else{var a=q.default.findDOMNode(this.refs["step_"+t]);if(a){var n=a.offsetTop;this.refs.page.scrollTo(Math.max(0,n-128))}}}},{key:"scrollToFirst",value:function(){var e=this;setTimeout(function(){var t=(0,H.get)(e.props.tutorialData,"sections")||[];if(t.length>0){var a=(0,H.get)(t[0],"id");e.scrollToStep({itemId:a})}})}},{key:"scrollToNext",value:function(){var e=this.props.tutorialData,t=(0,H.get)(e,"editable"),a=q.default.findDOMNode(this.refs.next),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"scrollToGallery",value:function(){var e=this.props.tutorialData,t=(0,H.get)(e,"editable"),a=q.default.findDOMNode(this.refs.gallery),n=t?48:88;if(a){var r=a.offsetTop;this.refs.page&&this.refs.page.scrollTo(Math.max(0,r-n),!0)}}},{key:"tryAutoCompleteStep",value:function(e){if(e&&""!==e){var t=this.props,a=t.tutorialData;(0,t.postStepScrollRecord)({id:(0,H.get)(a,"id"),stepId:e,type:a.type})}}},{key:"tryStartTutorial",value:function(){var e=this.props,t=e.tutorialData;(0,e.postScrollRecord)({id:(0,H.get)(t,"id"),type:(0,H.get)(t,"type")})}},{key:"renderSubmissionForm",value:function(e){var t=this.props,a=t.loginUser,n=t.tutorialData,r=t.recordMap;if(!a)return null;var o=(0,H.get)(n,"id"),i=(0,H.get)(r,o)||{},s=this.isSubmission(e),l=(0,H.get)(e,"id"),u=(0,H.get)(e,"submissionType"),c=(0,H.get)(i,"steps."+l+".completed");return s?u===ye.SubmissionTypes.media?K.default.createElement(re.default,{disabled:c,submissionType:u}):u===ye.SubmissionTypes.webgl?K.default.createElement(ne.SubmissionWebGLForm,{disabled:c,submissionType:u}):null:null}},{key:"renderTutorialSteps",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.versionId,r=a.id,o=a.type,i=a.sections,s=!i||0===i.length;if(s)return null;var l=-1,u=!s&&i.map(function(t,a){var s=e.isSubmission(t),u=(0,H.get)(t,"id"),c=(0,H.get)(t,"submissionType"),d=a===i.length-1?null:K.default.createElement("div",{className:e.ss("step-sep")}),f=s,p="";return t.optionType===ye.StepOptionTypes.required&&(p=""+(++l+1)),K.default.createElement("div",{key:"step_"+u,ref:"step_"+u,className:e.ss("step-wrap")},K.default.createElement("div",{className:e.ss("step")},K.default.createElement(G.default,{index:a,showStepNo:p,renderOnly:!0}),e.renderSubmissionForm(t),K.default.createElement("div",{className:e.ss("button-complete")},s?K.default.createElement(J.default,{id:r,type:o,stepId:u,versionId:n,submissionType:c}):K.default.createElement(Q.default,{id:r,type:o,stepId:u,versionId:n}),f?K.default.createElement(ue.CollectSubmission,{id:r,type:o,statsPath:"tutorialData"}):null)),K.default.createElement(Te,{id:r,step:t}),d)});return K.default.createElement("div",{className:this.ss("tutorial-steps")},u,this.renderSolutionPlan(),this.renderEndCard())}},{key:"renderSolutionPlan",value:function(){return this.props.solutionPlan?K.default.createElement("div",{className:this.ss("step-wrap")},K.default.createElement("div",{className:this.ss("step-sep")}),K.default.createElement("div",{className:this.ss("step")},K.default.createElement("div",{className:this.ss("suggest-solution")},K.default.createElement(ie.default,{renderOnly:!0,theme:"architecture"})))):null}},{key:"renderEndCard",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.recordMap,r=t.loginUser,o=null;if((0,H.get)(a,"isExercise")||!1){if(r){var i=(0,H.get)(a,"id"),s=(0,H.get)(n,i+".completed")||!1,l=(0,H.get)(a,"sections")||[],u=(0,H.get)(a,"submissionStepId"),c=(0,H.get)(n,i+".steps."+u+".completed"),d=l.find(function(e){return e.id===u})||{},f=(0,H.get)(d,"optionType")===ye.StepOptionTypes.required;o=K.default.createElement("div",{className:this.ss("end-card")},u&&K.default.createElement("div",{className:this.ss("step-sep")}),K.default.createElement(ce.default,{ref:"next",data:a,statsPath:"tutorialData",submissionStepId:u,submissionRequire:f,completed:s,submissionCompleted:c,scrollToNext:function(){return e.scrollToNext()},scrollToStep:function(){return e.scrollToStep({itemId:u})}}))}}else o=K.default.createElement("div",{className:this.ss("end-card")},K.default.createElement("div",{className:this.ss("step-sep")}),K.default.createElement(le.default,{data:a}));return o}},{key:"renderLoading",value:function(){return K.default.createElement("div",{className:this.ss("loading-wrap")},K.default.createElement("div",{className:this.ss("loading")}))}},{key:"renderContent",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.paymentRequired,r=(0,H.get)(a,"type"),o=(0,H.get)(a,"editable"),i=n,s=(0,H.get)(a,"withLab"),l=(0,H.get)(a,"paymentItem.slug"),u=(0,H.get)(a,"isExercise");return K.default.createElement("div",{className:this.ss("body-wrap")},K.default.createElement(W.default,{data:a,statsPath:"tutorialData",disabled:i,theme:"architecture"}),K.default.createElement("div",{className:this.ss("content-wrap",i&&"withCover"),ref:"content"},K.default.createElement("div",{className:this.ss("content")},K.default.createElement("div",{className:this.ss("center")},K.default.createElement(ne.SubmissionFeatured,{statsPath:"search",scrollToGallery:function(){return e.scrollToGallery()}}),s&&K.default.createElement("div",{className:this.ss("path-stream")},K.default.createElement(X.default,{labUrl:(0,H.get)(a,"labUrl")})),K.default.createElement(he.LearnOverviewVideoPlayer,{data:a,disabled:i,show:!0}),this.renderTutorialSteps()),n&&K.default.createElement(Y.default,{slug:l,type:r}))),u&&K.default.createElement(se.default,{ref:"gallery",author:o,showSearchBar:!1,theme:"architecture"}),K.default.createElement(me.default,null),K.default.createElement(te.default,null),K.default.createElement(_e.default,null))}},{key:"render",value:function(){var e=this,t=this.props,a=t.tutorialData,n=t.setWindowSize,r=t.paymentRequired,o=t.versionId,i=t.getTutorialData,s=t.loadingUVData,l=this.state,u=l.expanded,c=l.active,d=(0,H.get)(a,"id"),f=(0,H.get)(a,"type"),p=(0,H.get)(a,"editable"),m=(0,H.get)(a,"published"),h=!p||!m,_=r,g=!0===s||!(0,be.isFailedOrSucceeded)((0,H.get)(i,"updateStatus"));return K.default.createElement(V.DefaultLearnerDetailLayoutOnly,{ref:"page",setWindowSize:n,onScroll:(0,H.debounce)(this.onScroll,200),theme:"hidden",onScrollEnd:function(){e.onScrollEnd()}},K.default.createElement("div",{className:this.ss("architecture-wrap")},K.default.createElement("div",{className:this.ss("left-side",u&&"static-learn-side",c&&"show",!h&&"show-edit"),onClick:u?function(){return e.handleExpanded()}:void 0},K.default.createElement("div",{className:this.ss("learn-view-content")},this.__("view_"+f+"_content"),K.default.createElement("div",{className:this.ss("icon-content ifont ifont-lrn_icon-arrow-down",c&&"show-content"),onClick:function(){return e.toggleContentFolded()}})),K.default.createElement(pe.default,{disabled:_,versionId:o,scrollToStep:function(t){return e.scrollToStep(t)},contentData:a,expanded:u,active:c,scrollToGallery:function(){return e.scrollToGallery()}}),K.default.createElement("div",{className:this.ss("icon-arrow","ifont",u?"ifont-icon-arrow-right-bold":"ifont-icon-arrow-left-bold"),onClick:function(){return e.handleExpanded()}})),K.default.createElement("div",{className:this.ss("right-detail",!u&&"static-detail",!h&&"show-edit")},this.renderContent())),K.default.createElement(Z.default,null),K.default.createElement($.default,{id:d,type:"tutorial",scrollToStep:function(t){return e.scrollToStep(t)}}),K.default.createElement(ae.default,{editable:p}),K.default.createElement(ee.default,null),K.default.createElement(oe.ShareTutorialStepDialog,{data:a}),K.default.createElement(fe.default,{id:d,type:f}),K.default.createElement(de.default,{data:a,statsPath:"tutorialData"}),g&&this.renderLoading())}}]),t}(),f.propTypes={loginUser:F.default.object,paymentRequired:F.default.bool,tutorialData:F.default.object,solutionPlan:F.default.object,versionId:F.default.string,search:F.default.object,loadingUVData:F.default.bool,recordMap:F.default.object,getTutorialData:F.default.object,setWindowSize:F.default.func,syncNextMissions:F.default.func,getTutorialExtends:F.default.func,postStepScrollRecord:F.default.func,postScrollRecord:F.default.func,syncRecordNextData:F.default.func,syncUncompleted:F.default.func},d=p))||d)||d)||d);t.default=Oe;var Te=t.CompleteIcon=(m=(0,B.decorator)({record:(0,U.state)(L,(0,U.props)(A))}),h=(0,we.default)(Ee.default),m(_=h((v=g=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},i=a,o(n,i)}return i(t,z.default),y(t,[{key:"render",value:function(){var e=this.props,t=e.step,a=e.record,n=(0,H.get)(t,"id"),r=(0,H.get)(a,"steps."+n+".completed"),o="ifont-lrn_icon_finish";return(0,H.get)(t,"optionType")===ye.StepOptionTypes.optional&&r&&(o="ifont-icon-like"),K.default.createElement("div",{className:this.ss("complete-icon",r&&"completed","ifont",o)})}}]),t}(),g.propTypes={id:F.default.string.isRequired,record:F.default.object,step:F.default.object},_=v))||_)||_)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,l,u,c,d,f,p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),m=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["search"],["search"]),h=n(a(2)),_=n(a(0)),g=n(a(1)),v=a(6),y=a(5),b=a(4),w=n(a(598)),E=n(a(272)),k=n(a(3)),S=n(a(2341)),O=n(a(7)),T=n(a(2342)),P=(s=(0,v.decorator)({search:(0,y.state)(m)}),l=(0,k.default)(S.default),u=(0,O.default)(T.default),s(c=l(c=u((f=d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,g.default),p(t,[{key:"render",value:function(){var e=this.props,t=e.search,a=e.versionId,n=e.defaultItemId,r=e.showSearchBar,o=e.author;if(!r&&0===((0,b.get)(t,"results")||[]).length)return null;var i=null;return a&&(i={k:JSON.stringify(["uv:"+a])}),_.default.createElement("div",{className:this.ss("content-wrapper")},_.default.createElement("div",{className:this.ss("content-container")},_.default.createElement("div",{className:this.ss("submission-gallery-title")},this.__("submission_gallery")),r&&_.default.createElement(E.default,{defaultItemId:n,optionType:"submission"}),_.default.createElement("div",{className:this.ss("results-wrapper")},_.default.createElement(w.default,{type:"submission",size:"medium",author:o,defaultItemId:n,defaultCriteria:i}))))}}]),t}(),d.propTypes={search:h.default.object,defaultItemId:h.default.string,versionId:h.default.string,showSearchBar:h.default.bool,author:h.default.bool},d.defaultProps={showSearchBar:!0},c=f))||c)||c)||c);t.default=P},function(e,t){e.exports={"content-wrapper":"content-wrapper_1mizf9-R","content-container":"content-container_2P0qemtQ","submission-gallery-title":"submission-gallery-title_1T9bG21C","results-wrapper":"results-wrapper_QCiXIlsg"}},function(e,t){e.exports={submission_gallery:"submission_gallery_1A2P"}},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectSubmission=t.default=void 0;var l,u,c,d,f,p,m,h,_,g,v,y,b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),w=s(["loginUser"],["loginUser"]),E=s(["breadcrumb"],["breadcrumb"]),k=s(["submissionData"],["submissionData"]),S=s(["httpAPI.",""],["httpAPI.",""]),O=s(["learner.recordMap.",""],["learner.recordMap.",""]),T=s(["data.id"],["data.id"]),P=s(["submission.isValidSubmissionForm"],["submission.isValidSubmissionForm"]),j=s(["header.recaptchaCode"],["header.recaptchaCode"]),C=s(["common.navigateToDetailPage"],["common.navigateToDetailPage"]),I=s(["submission.publishSubmission"],["submission.publishSubmission"]),N=s(["featured.openSubmissionWithFeatured"],["featured.openSubmissionWithFeatured"]),M=s(["learner.toggleStepRecord"],["learner.toggleStepRecord"]),D=s(["completion.startCompletion"],["completion.startCompletion"]),x=s(["learner.collectMap.",""],["learner.collectMap.",""]),R=s(["id"],["id"]),L=n(a(2)),A=n(a(0)),F=n(a(1)),K=a(6),q=a(5),z=a(4),B=n(a(16)),U=n(a(1332)),H=a(75),V=n(a(417)),G=a(1346),W=n(a(37)),Q=a(8),J=a(17),Y=n(a(3)),X=n(a(2344)),Z=n(a(7)),$=n(a(2345)),ee=(l=(0,K.decorator)({loginUser:(0,q.state)(w),breadcrumb:(0,q.state)(E),submissionData:(0,q.state)(k),publishSubmissionData:(0,q.state)(S,Q.PUBLISH_SUBMISSION),record:(0,q.state)(O,(0,q.props)(T)),isValidSubmissionForm:(0,q.state)(P),recaptchaCode:(0,q.state)(j),navigateToDetailPage:(0,q.signal)(C),publishSubmission:(0,q.signal)(I),openSubmissionDetail:(0,q.signal)(N),toggleStepRecord:(0,q.signal)(M),startCompletion:(0,q.signal)(D)}),u=(0,Y.default)(X.default),c=(0,Z.default)($.default),l(d=u(d=c((p=f=function(e){function t(){var e,a,n,i;r(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return a=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={},n.handleClick=function(){var e=n.props.scrollToStep;e&&e()},n.handleSubmit=function(){var e=n.props,t=e.publishSubmission,a=e.submissionRequire;t&&t({hideCompletion:!a})},n.handleEdit=function(){var e=n.props,t=e.submissionData,a=e.versionId,r=e.data,o=e.toggleStepRecord;o&&o({id:(0,z.get)(r,"id"),type:(0,z.get)(r,"type"),stepId:(0,z.get)(t,"stepId"),versionId:a,hideCompletion:!0}),n.handleClick()},n.handleAddFeatured=function(e){var t=e.id,a=n.props.openSubmissionDetail;a&&a({id:t,showFeaturedForm:!0})},i=a,o(n,i)}return i(t,F.default),b(t,[{key:"componentWillReceiveProps",value:function(e){var t=(0,z.get)(e,"submissionCompleted");!0!==(0,z.get)(this.props,"submissionCompleted")&&!0===t&&this.props.scrollToNext();var a=(0,z.get)(e,"startCompletion"),n=(0,z.get)(e,"record"),r=(0,z.get)(e,"submissionData"),o=(0,z.get)(e,"submissionRequire"),i=(0,z.get)(r,"published")||!o,s=(0,z.get)(this.props,"record.completed");n!==this.props.record&&i&&!s&&a&&a({data:this.props.data}),r!==this.props.submissionData&&i&&o&&a&&a({data:this.props.data})}},{key:"renderSubmission",value:function(){var e=this.props,t=e.data,a=e.submissionData,n=(0,z.get)(t,"editable");return A.default.createElement("div",{className:this.ss("submission")},A.default.createElement("div",{className:this.ss("submission-card")},A.default.createElement(H.SubmissionCard,{submission:a,preview:!0,onAddFeature:n?this.handleAddFeatured:void 0})))}},{key:"renderReCaptcha",value:function(){var e=this.props,t=e.submissionData,a=e.submissionCompleted,n=e.isValidSubmissionForm,r=(0,z.get)(t,"published")||!1;return a&&n&&!r?A.default.createElement("div",{className:this.ss("button-wrap")},A.default.createElement("div",{className:this.ss("captcha")},A.default.createElement(V.default,null))):null}},{key:"renderSubmit",value:function(){var e=this.props,t=e.recaptchaCode,a=e.submissionData,n=e.submissionCompleted,r=e.isValidSubmissionForm,o=e.publishSubmissionData,i=(0,z.get)(a,"published")||!1,s=(0,J.isLoading)((0,z.get)(o,"updateStatus"));if(i&&n&&r)return A.default.createElement("div",{className:this.ss("button-wrap")},A.default.createElement(B.default,{theme:"blue-border",widthStyle:"full",label:this.__("submission_edit_button"),loading:s,onClick:this.handleEdit}));var l=!n||!t||!r;return A.default.createElement("div",{className:this.ss("button-wrap")},A.default.createElement(B.default,{widthStyle:"full",label:this.__("submit_button"),loading:s,disabled:l,onClick:this.handleSubmit}))}},{key:"renderSkipSubmit",value:function(){var e=this.props,t=e.submissionRequire,a=e.submissionCompleted;return t||a?null:A.default.createElement(G.NextLearnContentButton,{theme:"button",label:this.__("submit_skip_button")})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.statsPath,n=e.loginUser,r=e.completed,o=e.submissionStepId;if(!n||!o)return null;var i=(0,z.get)(t,"id"),s=(0,z.get)(t,"type"),l=r?"continue":"continue_without_submit_or_complete";return A.default.createElement("div",{className:this.ss("card-wrap")},A.default.createElement("div",{className:this.ss("card")},A.default.createElement(U.default,{data:t}),A.default.createElement("div",{className:this.ss("section")},A.default.createElement("div",{className:this.ss("section-body")},A.default.createElement("div",{className:this.ss("title")},this.__("your_submission_preview")),A.default.createElement("div",{className:this.ss("button-wrap")},A.default.createElement("a",{className:this.ss("alink"),onClick:this.handleClick},this.__("return_to_submission_form"))),this.renderSubmission()),A.default.createElement("div",{className:this.ss("section-recaptcha")},this.renderReCaptcha()),A.default.createElement("div",{className:this.ss("section-submit")},A.default.createElement(te,{id:i,type:s,statsPath:a}),this.renderSubmit(),this.renderSkipSubmit(),A.default.createElement(G.NextLearnContentButton,{label:this.__(l)})))))}}]),t}(),f.propTypes={data:L.default.object.isRequired,loginUser:L.default.object,submissionData:L.default.object,submissionStepId:L.default.string,publishSubmissionData:L.default.object,record:L.default.object,breadcrumb:L.default.object,isValidSubmissionForm:L.default.bool,submissionRequire:L.default.bool,completed:L.default.bool,submissionCompleted:L.default.bool,recaptchaCode:L.default.string,statsPath:L.default.string,versionId:L.default.string,scrollToNext:L.default.func,scrollToStep:L.default.func,navigateToDetailPage:L.default.func,publishSubmission:L.default.func,openSubmissionDetail:L.default.func,toggleStepRecord:L.default.func,startCompletion:L.default.func},d=p))||d)||d)||d);t.default=ee;var te=t.CollectSubmission=(m=(0,K.decorator)({collected:(0,q.state)(x,(0,q.props)(R))}),h=(0,Y.default)(X.default),_=(0,Z.default)($.default),m(g=h(g=_((y=v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,F.default),b(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.type,n=e.collected,r=e.statsPath,o=n?"button_exercise_collected":"button_exercise_collect";return A.default.createElement("div",{className:this.ss("collect-wrap")},A.default.createElement(W.default,{id:t,type:a,theme:"label",statsPath:r,label:this.__(o)}))}}]),t}(),v.propTypes={id:L.default.string.isRequired,type:L.default.string,collected:L.default.bool,statsPath:L.default.string},g=y))||g)||g)||g)},function(e,t){e.exports={"card-wrap":"card-wrap_21m8ontz",card:"card_2QlcyTUp",section:"section_1aj5Yf05","section-body":"section-body_2DSzn6Kj",title:"title_3F9fI0Fc",submission:"submission_7gCuCaI-","submission-card":"submission-card_1XhJCIll","section-submit":"section-submit_1eoESWdG","button-wrap":"button-wrap_28cQ0Ugv",alink:"alink_WVctGDy-","collect-wrap":"collect-wrap_3U0212kC"}},function(e,t){e.exports={submission_edit_button:"submission_edit_button_1EPh",submit_button:"submit_button_3A7H",submit_skip_button:"submit_skip_button_1CvC",your_submission_preview:"your_submission_preview_1QyG",return_to_submission_form:"return_to_submission_form_1G3l",continue:"continue_28jD",continue_without_submit_or_complete:"continue_without_submit_or_complete_2Dgu",button_exercise_collect:"button_exercise_collect_39WG",button_exercise_collected:"button_exercise_collected_23Vc"}},function(e,t){e.exports={"body-wrap":"body-wrap_bVg6_4Vh","architecture-wrap":"architecture-wrap_vfAI94s1","left-side":"left-side_397l9uho","show-edit":"show-edit_-zzpJSKg",show:"show_3-a8KMjE","static-learn-side":"static-learn-side_29P3dp-7","icon-arrow":"icon-arrow_Oo6O9AsI","learn-view-content":"learn-view-content_3enj_w_8","icon-content":"icon-content_1pARVhbt","show-content":"show-content_3_d6HZ01","right-detail":"right-detail_1s_ACS8z","static-detail":"static-detail_37ezM1Vx","content-wrap":"content-wrap_20RAlglX",withCover:"withCover_2In127gB",content:"content_3FGy1MLz","loading-wrap":"loading-wrap_2x6tQLhB",loading:"loading_23-1tvS4",center:"center_1kEZ1yvN","path-stream":"path-stream_3O2mwoCp","tutorial-steps":"tutorial-steps_bryeFO7-","step-wrap":"step-wrap_3t8a4rWq",step:"step_3JoIiyZu","complete-icon":"complete-icon_1RHGh3hP",completed:"completed_24qnvfMv","button-complete":"button-complete_3kQVKkAc","button-complete-all":"button-complete-all_2LOcivb4","step-sep":"step-sep_2Deo-PCc","suggest-solution":"suggest-solution_1BzlZSof","next-panel":"next-panel_39rISw2W","panel-body":"panel-body_1ehlJ6u9",left:"left_2JBs3z1y",right:"right_291HQYYt","info-title":"info-title_-nJF4PFu","info-description":"info-description_3TWC6kfm","button-next":"button-next_3b4ExcYm","card-title":"card-title_h4auOwDP",card:"card_3wWI2_bo"}},function(e,t){e.exports={button_complete_a_step:"button_complete_a_step_cfIX",button_complete_all_steps:"button_complete_all_steps_235k",info_title_course:"info_title_course_3s5J",info_title_project:"info_title_project_VSio",info_title_tutorial:"info_title_tutorial_2KaM",info_title_quiz:"info_title_quiz_3mNP",info_description_course:"info_description_course_3XG_",info_description_project:"info_description_project_2KEG",info_description_tutorial:"info_description_tutorial_3u44",info_description_quiz:"info_description_quiz_1dMf",button_next:"button_next_3YAk",card_title:"card_title_3yeI",next_title_project:"next_title_project_gCnP",next_title_tutorial:"next_title_tutorial_1LV4",next_title_quiz:"next_title_quiz_3_me",next_description_course:"next_description_course_1MCU",next_description_project:"next_description_project_xmdI",next_description_mission:"next_description_mission_2vk6",next_description_pathway:"next_description_pathway_21As",continue_without_submit_or_complete:"continue_without_submit_or_complete_1lzc",your_submission_preview:"your_submission_preview_TY1A",return_to_submission_form:"return_to_submission_form_vGr7",view_tutorial_content:"view_tutorial_content_31IL"}}],[2337]);